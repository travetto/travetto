(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(r,e,n){r.exports=n("zUnb")},"0EUg":function(r,e,n){"use strict";n.d(e,"a",(function(){return c}));var t=n("bHdf");function c(){return Object(t.a)(1)}},"1OyB":function(r,e,n){"use strict";function t(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return t}))},"25BE":function(r,e,n){"use strict";function t(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}n.d(e,"a",(function(){return t}))},"2QA8":function(r,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"2WcH":function(r,e,n){"use strict";function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}n.d(e,"a",(function(){return t}))},"2fFW":function(r,e,n){"use strict";n.d(e,"a",(function(){return c}));var t=!1,c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else t&&console.log("RxJS: Back to a better error behavior. Thank you. <3");t=r},get useDeprecatedSynchronousErrorHandling(){return t}}},"4I5i":function(r,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}()},"5+tZ":function(r,e,n){"use strict";n.d(e,"a",(function(){return u}));var t=n("Ji7U"),c=n("LK+K"),a=n("1OyB"),s=n("vuIU"),b=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),p=n("lJxs"),l=n("Cfvw");function u(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(t){return t.pipe(u((function(n,t){return Object(l.a)(r(n,t)).pipe(Object(p.a)((function(r,c){return e(n,r,t,c)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new O(r,n))})}var O=function(){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;Object(a.a)(this,r),this.project=e,this.concurrent=n}return Object(s.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new N(r,this.project,this.concurrent))}}]),r}(),N=function(r){Object(t.a)(n,r);var e=Object(c.a)(n);function n(r,t){var c,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return Object(a.a)(this,n),(c=e.call(this,r)).project=t,c.concurrent=s,c.hasCompleted=!1,c.buffer=[],c.active=0,c.index=0,c}return Object(s.a)(n,[{key:"_next",value:function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)}},{key:"_tryNext",value:function(r){var e,n=this.index++;try{e=this.project(r,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,r,n)}},{key:"_innerSub",value:function(r,e,n){var t=new o.a(this,e,n),c=this.destination;c.add(t);var a=Object(b.a)(this,r,void 0,void 0,t);a!==t&&c.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(r,e,n,t,c){this.destination.next(e)}},{key:"notifyComplete",value:function(r){var e=this.buffer;this.remove(r),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(r,e,n){"use strict";n.d(e,"a",(function(){return b}));var t=n("1OyB"),c=n("vuIU"),a=n("Ji7U"),s=n("LK+K"),b=function(r){Object(a.a)(n,r);var e=Object(s.a)(n);function n(r,c,a){var s;return Object(t.a)(this,n),(s=e.call(this)).parent=r,s.outerValue=c,s.outerIndex=a,s.index=0,s}return Object(c.a)(n,[{key:"_next",value:function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}},{key:"_error",value:function(r){this.parent.notifyError(r,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7o/Q":function(r,e,n){"use strict";n.d(e,"a",(function(){return d}));var t=n("1OyB"),c=n("vuIU"),a=n("JX7q"),s=n("ReuC"),b=n("foSv"),i=n("Ji7U"),o=n("LK+K"),p=n("n6bG"),l=n("gRHU"),u=n("quSY"),O=n("2QA8"),N=n("2fFW"),h=n("NJ4a"),d=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,c,s){var b;switch(Object(t.a)(this,n),(b=e.call(this)).syncErrorValue=null,b.syncErrorThrown=!1,b.syncErrorThrowable=!1,b.isStopped=!1,arguments.length){case 0:b.destination=l.a;break;case 1:if(!r){b.destination=l.a;break}if("object"==typeof r){r instanceof n?(b.syncErrorThrowable=r.syncErrorThrowable,b.destination=r,r.add(Object(a.a)(b))):(b.syncErrorThrowable=!0,b.destination=new f(Object(a.a)(b),r));break}default:b.syncErrorThrowable=!0,b.destination=new f(Object(a.a)(b),r,c,s)}return b}return Object(c.a)(n,[{key:O.a,value:function(){return this}},{key:"next",value:function(r){this.isStopped||this._next(r)}},{key:"error",value:function(r){this.isStopped||(this.isStopped=!0,this._error(r))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Object(s.a)(Object(b.a)(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(r){this.destination.next(r)}},{key:"_error",value:function(r){this.destination.error(r),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this}}],[{key:"create",value:function(r,e,t){var c=new n(r,e,t);return c.syncErrorThrowable=!1,c}}]),n}(u.a),f=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,c,s,b){var i,o;Object(t.a)(this,n),(i=e.call(this))._parentSubscriber=r;var u=Object(a.a)(i);return Object(p.a)(c)?o=c:c&&(o=c.next,s=c.error,b=c.complete,c!==l.a&&(u=Object.create(c),Object(p.a)(u.unsubscribe)&&i.add(u.unsubscribe.bind(u)),u.unsubscribe=i.unsubscribe.bind(Object(a.a)(i)))),i._context=u,i._next=o,i._error=s,i._complete=b,i}return Object(c.a)(n,[{key:"next",value:function(r){if(!this.isStopped&&this._next){var e=this._parentSubscriber;N.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}}},{key:"error",value:function(r){if(!this.isStopped){var e=this._parentSubscriber,n=N.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=r,e.syncErrorThrown=!0):Object(h.a)(r),this.unsubscribe();else{if(this.unsubscribe(),n)throw r;Object(h.a)(r)}}}},{key:"complete",value:function(){var r=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return r._complete.call(r._context)};N.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(r,e){try{r.call(this._context,e)}catch(n){if(this.unsubscribe(),N.a.useDeprecatedSynchronousErrorHandling)throw n;Object(h.a)(n)}}},{key:"__tryOrSetError",value:function(r,e,n){if(!N.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(t){return N.a.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=t,r.syncErrorThrown=!0,!0):(Object(h.a)(t),!0)}return!1}},{key:"_unsubscribe",value:function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()}}]),n}(d)},"9ppp":function(r,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}()},BsWD:function(r,e,n){"use strict";n.d(e,"a",(function(){return c}));var t=n("a3WO");function c(r,e){if(r){if("string"==typeof r)return Object(t.a)(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(t.a)(r,e):void 0}}},Cfvw:function(r,e,n){"use strict";n.d(e,"a",(function(){return l}));var t=n("HDdC"),c=n("SeVD"),a=n("quSY"),s=n("kJWO"),b=n("jZKg"),i=n("Lhse"),o=n("c2HN"),p=n("I55L");function l(r,e){return e?function(r,e){if(null!=r){if(function(r){return r&&"function"==typeof r[s.a]}(r))return function(r,e){return new t.a((function(n){var t=new a.a;return t.add(e.schedule((function(){var c=r[s.a]();t.add(c.subscribe({next:function(r){t.add(e.schedule((function(){return n.next(r)})))},error:function(r){t.add(e.schedule((function(){return n.error(r)})))},complete:function(){t.add(e.schedule((function(){return n.complete()})))}}))}))),t}))}(r,e);if(Object(o.a)(r))return function(r,e){return new t.a((function(n){var t=new a.a;return t.add(e.schedule((function(){return r.then((function(r){t.add(e.schedule((function(){n.next(r),t.add(e.schedule((function(){return n.complete()})))})))}),(function(r){t.add(e.schedule((function(){return n.error(r)})))}))}))),t}))}(r,e);if(Object(p.a)(r))return Object(b.a)(r,e);if(function(r){return r&&"function"==typeof r[i.a]}(r)||"string"==typeof r)return function(r,e){if(!r)throw new Error("Iterable cannot be null");return new t.a((function(n){var t,c=new a.a;return c.add((function(){t&&"function"==typeof t.return&&t.return()})),c.add(e.schedule((function(){t=r[i.a](),c.add(e.schedule((function(){if(!n.closed){var r,e;try{var c=t.next();r=c.value,e=c.done}catch(a){return void n.error(a)}e?n.complete():(n.next(r),this.schedule())}})))}))),c}))}(r,e)}throw new TypeError((null!==r&&typeof r||r)+" is not observable")}(r,e):r instanceof t.a?r:new t.a(Object(c.a)(r))}},DH7j:function(r,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=function(){return Array.isArray||function(r){return r&&"number"==typeof r.length}}()},DSFK:function(r,e,n){"use strict";function t(r){if(Array.isArray(r))return r}n.d(e,"a",(function(){return t}))},EY2u:function(r,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a}));var t=n("HDdC"),c=new t.a((function(r){return r.complete()}));function a(r){return r?function(r){return new t.a((function(e){return r.schedule((function(){return e.complete()}))}))}(r):c}},GyhO:function(r,e,n){"use strict";n.d(e,"a",(function(){return a}));var t=n("LRne"),c=n("0EUg");function a(){return Object(c.a)()(t.a.apply(void 0,arguments))}},HDdC:function(r,e,n){"use strict";n.d(e,"a",(function(){return u}));var t=n("1OyB"),c=n("vuIU"),a=n("7o/Q"),s=n("2QA8"),b=n("gRHU"),i=n("kJWO"),o=n("SpAZ");function p(r){return 0===r.length?o.a:1===r.length?r[0]:function(e){return r.reduce((function(r,e){return e(r)}),e)}}var l=n("2fFW"),u=function(){var r=function(){function r(e){Object(t.a)(this,r),this._isScalar=!1,e&&(this._subscribe=e)}return Object(c.a)(r,[{key:"lift",value:function(e){var n=new r;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(r,e,n){var t=this.operator,c=function(r,e,n){if(r){if(r instanceof a.a)return r;if(r[s.a])return r[s.a]()}return r||e||n?new a.a(r,e,n):new a.a(b.a)}(r,e,n);if(c.add(t?t.call(c,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!c.syncErrorThrowable?this._subscribe(c):this._trySubscribe(c)),l.a.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable&&(c.syncErrorThrowable=!1,c.syncErrorThrown))throw c.syncErrorValue;return c}},{key:"_trySubscribe",value:function(r){try{return this._subscribe(r)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),function(r){for(;r;){var e=r.destination;if(r.closed||r.isStopped)return!1;r=e&&e instanceof a.a?e:null}return!0}(r)?r.error(e):console.warn(e)}}},{key:"forEach",value:function(r,e){var n=this;return new(e=O(e))((function(e,t){var c;c=n.subscribe((function(e){try{r(e)}catch(n){t(n),c&&c.unsubscribe()}}),t,e)}))}},{key:"_subscribe",value:function(r){var e=this.source;return e&&e.subscribe(r)}},{key:i.a,value:function(){return this}},{key:"pipe",value:function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return 0===e.length?this:p(e)(this)}},{key:"toPromise",value:function(r){var e=this;return new(r=O(r))((function(r,n){var t;e.subscribe((function(r){return t=r}),(function(r){return n(r)}),(function(){return r(t)}))}))}}]),r}();return r.create=function(e){return new r(e)},r}();function O(r){if(r||(r=l.a.Promise||Promise),!r)throw new Error("no Promise impl found");return r}},I55L:function(r,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r}},IzEk:function(r,e,n){"use strict";n.d(e,"a",(function(){return p}));var t=n("Ji7U"),c=n("LK+K"),a=n("1OyB"),s=n("vuIU"),b=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function p(r){return function(e){return 0===r?Object(o.b)():e.lift(new l(r))}}var l=function(){function r(e){if(Object(a.a)(this,r),this.total=e,this.total<0)throw new i.a}return Object(s.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new u(r,this.total))}}]),r}(),u=function(r){Object(t.a)(n,r);var e=Object(c.a)(n);function n(r,t){var c;return Object(a.a)(this,n),(c=e.call(this,r)).total=t,c.count=0,c}return Object(s.a)(n,[{key:"_next",value:function(r){var e=this.total,n=++this.count;n<=e&&(this.destination.next(r),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(b.a)},JX7q:function(r,e,n){"use strict";function t(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}n.d(e,"a",(function(){return t}))},JX91:function(r,e,n){"use strict";n.d(e,"a",(function(){return a}));var t=n("GyhO"),c=n("z+Ro");function a(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(c.a)(a)?(e.pop(),function(r){return Object(t.a)(e,r,a)}):function(r){return Object(t.a)(e,r)}}},Ji7U:function(r,e,n){"use strict";n.d(e,"a",(function(){return c}));var t=n("s4An");function c(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Object(t.a)(r,e)}},KQm4:function(r,e,n){"use strict";n.d(e,"a",(function(){return s}));var t=n("a3WO"),c=n("25BE"),a=n("BsWD");function s(r){return function(r){if(Array.isArray(r))return Object(t.a)(r)}(r)||Object(c.a)(r)||Object(a.a)(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"LK+K":function(r,e,n){"use strict";n.d(e,"a",(function(){return i}));var t=n("foSv"),c=n("2WcH");function a(r){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var s=n("JX7q");function b(r,e){return!e||"object"!==a(e)&&"function"!=typeof e?Object(s.a)(r):e}function i(r){var e=Object(c.a)();return function(){var n,c=Object(t.a)(r);if(e){var a=Object(t.a)(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return b(this,n)}}},LRne:function(r,e,n){"use strict";n.d(e,"a",(function(){return s}));var t=n("z+Ro"),c=n("yCtX"),a=n("jZKg");function s(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];var s=e[e.length-1];return Object(t.a)(s)?(e.pop(),Object(a.a)(e,s)):Object(c.a)(e)}},Lhse:function(r,e,n){"use strict";function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return c}));var c=t()},NJ4a:function(r,e,n){"use strict";function t(r){setTimeout((function(){throw r}),0)}n.d(e,"a",(function(){return t}))},ODXe:function(r,e,n){"use strict";n.d(e,"a",(function(){return s}));var t=n("DSFK"),c=n("BsWD"),a=n("PYwp");function s(r,e){return Object(t.a)(r)||function(r,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var n=[],t=!0,c=!1,a=void 0;try{for(var s,b=r[Symbol.iterator]();!(t=(s=b.next()).done)&&(n.push(s.value),!e||n.length!==e);t=!0);}catch(i){c=!0,a=i}finally{try{t||null==b.return||b.return()}finally{if(c)throw a}}return n}}(r,e)||Object(c.a)(r,e)||Object(a.a)()}},PYwp:function(r,e,n){"use strict";function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return t}))},Q4Jd:function(r,e,n){"use strict";n.r(e),n.d(e,"PAGES",(function(){return X}));var t=n("fXoL"),c=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-cli"]],decls:465,vars:14,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],[1,"item","path"],["id","general"],[1,"terminal"],[1,"token","punctuation"],[1,"token","builtin","class-name"],[1,"token","keyword"],["id","extending"],[1,"item","input"],["target","_blank","href","https://www.npmjs.com/package/commander",1,"external-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cli/alt/docs/bin/cli-echo.ts"],[1,"language-typescript"],[1,"token","operator"],[1,"token","string"],[1,"token","comment"],[1,"token","class-name"],[1,"token","parameter"],[1,"token","boolean"],[1,"token","builtin"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Command Line Interface "),t.Ob(3,"small"),t.rc(4,"CLI infrastructure for travetto framework"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/cli "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/cli"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The cli is the primary structure for interacting with the external requirements of the framework. This can range from running tests, to running applications, to generating email templates. The main executable can be installed globally or locally. If installed globally and locally, it will defer to the local installation for execution. As is the custom, modules are able to register their own cli extensions as scripts, whose name starts with "),t.Ob(17,"code",4),t.rc(18,"cli-"),t.Nb(),t.rc(19,". These scripts are then picked up at runtime and all available options are provided when viewing the help documentation. The following are all the supported cli operations and the various settings they allow. "),t.Ob(20,"h2",5),t.rc(21,"General"),t.Nb(),t.Ob(22,"figure",6),t.Ob(23,"figcaption",6),t.rc(24,"General Usage "),t.Nb(),t.Ob(25,"pre"),t.Ob(26,"code",2),t.rc(27,"$ travetto travetto --help\n\nUsage:  "),t.Ob(28,"span",7),t.rc(29,"["),t.Nb(),t.rc(30,"options"),t.Ob(31,"span",7),t.rc(32,"]"),t.Nb(),t.rc(33," "),t.Ob(34,"span",7),t.rc(35,"["),t.Nb(),t.rc(36,"command"),t.Ob(37,"span",7),t.rc(38,"]"),t.Nb(),t.rc(39,"\n\nOptions:\n  -V, --version                output the version number\n  -h, --help                   display "),t.Ob(40,"span",8),t.rc(41,"help"),t.Nb(),t.rc(42," "),t.Ob(43,"span",9),t.rc(44,"for"),t.Nb(),t.rc(45," "),t.Ob(46,"span",8),t.rc(47,"command"),t.Nb(),t.rc(48,"\n\nCommands:\n  "),t.Ob(49,"span",8),t.rc(50,"echo"),t.Nb(),t.rc(51," "),t.Ob(52,"span",7),t.rc(53,"["),t.Nb(),t.rc(54,"options"),t.Ob(55,"span",7),t.rc(56,"]"),t.Nb(),t.rc(57," "),t.Ob(58,"span",7),t.rc(59,"["),t.Nb(),t.rc(60,"args"),t.Ob(61,"span",7),t.rc(62,".."),t.Nb(),t.rc(63,"."),t.Ob(64,"span",7),t.rc(65,"]"),t.Nb(),t.rc(66,"\n  clean "),t.Ob(67,"span",7),t.rc(68,"["),t.Nb(),t.rc(69,"options"),t.Ob(70,"span",7),t.rc(71,"]"),t.Nb(),t.rc(72,"\n  compile "),t.Ob(73,"span",7),t.rc(74,"["),t.Nb(),t.rc(75,"options"),t.Ob(76,"span",7),t.rc(77,"]"),t.Nb(),t.rc(78,"\n  doc "),t.Ob(79,"span",7),t.rc(80,"["),t.Nb(),t.rc(81,"options"),t.Ob(82,"span",7),t.rc(83,"]"),t.Nb(),t.rc(84,"\n  "),t.Ob(85,"span",8),t.rc(86,"test"),t.Nb(),t.rc(87," "),t.Ob(88,"span",7),t.rc(89,"["),t.Nb(),t.rc(90,"options"),t.Ob(91,"span",7),t.rc(92,"]"),t.Nb(),t.rc(93," "),t.Ob(94,"span",7),t.rc(95,"["),t.Nb(),t.rc(96,"regexes"),t.Ob(97,"span",7),t.rc(98,".."),t.Nb(),t.rc(99,"."),t.Ob(100,"span",7),t.rc(101,"]"),t.Nb(),t.rc(102,"\n  test:lerna "),t.Ob(103,"span",7),t.rc(104,"["),t.Nb(),t.rc(105,"options"),t.Ob(106,"span",7),t.rc(107,"]"),t.Nb(),t.rc(108,"\n  "),t.Ob(109,"span",8),t.rc(110,"help"),t.Nb(),t.rc(111," "),t.Ob(112,"span",7),t.rc(113,"["),t.Nb(),t.rc(114,"command"),t.Ob(115,"span",7),t.rc(116,"]"),t.Nb(),t.rc(117,"               display "),t.Ob(118,"span",8),t.rc(119,"help"),t.Nb(),t.rc(120," "),t.Ob(121,"span",9),t.rc(122,"for"),t.Nb(),t.rc(123," "),t.Ob(124,"span",8),t.rc(125,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(126," This will show all the available options/choices that are exposed given the currently installed modules. "),t.Ob(127,"h2",10),t.rc(128,"Extending"),t.Nb(),t.rc(129," Extending the "),t.Ob(130,"code",11),t.rc(131,"cli"),t.Nb(),t.rc(132," is fairly straightforward. It is built upon "),t.Ob(133,"a",12),t.rc(134,"commander"),t.Nb(),t.rc(135,", with a plugin model that is extensible: "),t.Ob(136,"figure",13),t.Ob(137,"figcaption",13),t.rc(138,"Echo Plugin "),t.Ob(139,"cite"),t.Ob(140,"a",14),t.rc(141,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(142,"pre"),t.Ob(143,"code",15),t.Ob(144,"span",9),t.rc(145,"import"),t.Nb(),t.rc(146," "),t.Ob(147,"span",16),t.rc(148,"*"),t.Nb(),t.rc(149," "),t.Ob(150,"span",9),t.rc(151,"as"),t.Nb(),t.rc(152," commander "),t.Ob(153,"span",9),t.rc(154,"from"),t.Nb(),t.rc(155," "),t.Ob(156,"span",17),t.rc(157,"'commander'"),t.Nb(),t.Ob(158,"span",7),t.rc(159,";"),t.Nb(),t.rc(160,"\n"),t.Ob(161,"span",9),t.rc(162,"import"),t.Nb(),t.rc(163," "),t.Ob(164,"span",7),t.rc(165),t.Nb(),t.rc(166," BasePlugin "),t.Ob(167,"span",7),t.rc(168),t.Nb(),t.rc(169," "),t.Ob(170,"span",9),t.rc(171,"from"),t.Nb(),t.rc(172," "),t.Ob(173,"span",17),t.rc(174,"'@travetto/cli/src/plugin-base'"),t.Nb(),t.Ob(175,"span",7),t.rc(176,";"),t.Nb(),t.rc(177,"\n\n"),t.Ob(178,"span",18),t.rc(179,"/**\n * `npx trv echo`\n *\n * Allows for cleaning of the cache dire\n */"),t.Nb(),t.rc(180,"\n"),t.Ob(181,"span",9),t.rc(182,"export"),t.Nb(),t.rc(183," "),t.Ob(184,"span",9),t.rc(185,"class"),t.Nb(),t.rc(186," "),t.Ob(187,"span",19),t.rc(188,"CliEchoPlugin"),t.Nb(),t.rc(189," "),t.Ob(190,"span",9),t.rc(191,"extends"),t.Nb(),t.rc(192," "),t.Ob(193,"span",19),t.rc(194,"BasePlugin"),t.Nb(),t.rc(195," "),t.Ob(196,"span",7),t.rc(197),t.Nb(),t.rc(198,"\n  name "),t.Ob(199,"span",16),t.rc(200,"="),t.Nb(),t.rc(201," "),t.Ob(202,"span",17),t.rc(203,"'echo'"),t.Nb(),t.Ob(204,"span",7),t.rc(205,";"),t.Nb(),t.rc(206,"\n\n  "),t.Ob(207,"span",3),t.rc(208,"init"),t.Nb(),t.Ob(209,"span",7),t.rc(210,"("),t.Nb(),t.Ob(211,"span",20),t.rc(212,"cmd"),t.Ob(213,"span",16),t.rc(214,":"),t.Nb(),t.rc(215," commander"),t.Ob(216,"span",7),t.rc(217,"."),t.Nb(),t.rc(218,"Command"),t.Nb(),t.Ob(219,"span",7),t.rc(220,")"),t.Nb(),t.rc(221," "),t.Ob(222,"span",7),t.rc(223),t.Nb(),t.rc(224,"\n    "),t.Ob(225,"span",9),t.rc(226,"return"),t.Nb(),t.rc(227," cmd"),t.Ob(228,"span",7),t.rc(229,"."),t.Nb(),t.Ob(230,"span",3),t.rc(231,"arguments"),t.Nb(),t.Ob(232,"span",7),t.rc(233,"("),t.Nb(),t.Ob(234,"span",17),t.rc(235,"'[args...]'"),t.Nb(),t.Ob(236,"span",7),t.rc(237,")"),t.Nb(),t.rc(238,"\n      "),t.Ob(239,"span",7),t.rc(240,"."),t.Nb(),t.Ob(241,"span",3),t.rc(242,"option"),t.Nb(),t.Ob(243,"span",7),t.rc(244,"("),t.Nb(),t.Ob(245,"span",17),t.rc(246,"'-u, --uppercase'"),t.Nb(),t.Ob(247,"span",7),t.rc(248,","),t.Nb(),t.rc(249," "),t.Ob(250,"span",17),t.rc(251,"'Upper case'"),t.Nb(),t.Ob(252,"span",7),t.rc(253,","),t.Nb(),t.rc(254," "),t.Ob(255,"span",21),t.rc(256,"false"),t.Nb(),t.Ob(257,"span",7),t.rc(258,")"),t.Nb(),t.Ob(259,"span",7),t.rc(260,";"),t.Nb(),t.rc(261,"\n  "),t.Ob(262,"span",7),t.rc(263),t.Nb(),t.rc(264,"\n\n  "),t.Ob(265,"span",9),t.rc(266,"async"),t.Nb(),t.rc(267," "),t.Ob(268,"span",3),t.rc(269,"action"),t.Nb(),t.Ob(270,"span",7),t.rc(271,"("),t.Nb(),t.Ob(272,"span",20),t.rc(273,"args"),t.Ob(274,"span",16),t.rc(275,":"),t.Nb(),t.rc(276," "),t.Ob(277,"span",22),t.rc(278,"string"),t.Nb(),t.Ob(279,"span",7),t.rc(280,"["),t.Nb(),t.Ob(281,"span",7),t.rc(282,"]"),t.Nb(),t.Nb(),t.Ob(283,"span",7),t.rc(284,")"),t.Nb(),t.rc(285," "),t.Ob(286,"span",7),t.rc(287),t.Nb(),t.rc(288,"\n    "),t.Ob(289,"span",9),t.rc(290,"if"),t.Nb(),t.rc(291," "),t.Ob(292,"span",7),t.rc(293,"("),t.Nb(),t.Ob(294,"span",9),t.rc(295,"this"),t.Nb(),t.Ob(296,"span",7),t.rc(297,"."),t.Nb(),t.rc(298,"_cmd"),t.Ob(299,"span",7),t.rc(300,"."),t.Nb(),t.rc(301,"uppercase"),t.Ob(302,"span",7),t.rc(303,")"),t.Nb(),t.rc(304," "),t.Ob(305,"span",7),t.rc(306),t.Nb(),t.rc(307,"\n      args "),t.Ob(308,"span",16),t.rc(309,"="),t.Nb(),t.rc(310," args"),t.Ob(311,"span",7),t.rc(312,"."),t.Nb(),t.Ob(313,"span",3),t.rc(314,"map"),t.Nb(),t.Ob(315,"span",7),t.rc(316,"("),t.Nb(),t.Ob(317,"span",20),t.rc(318,"x"),t.Nb(),t.rc(319," "),t.Ob(320,"span",16),t.rc(321,"=>"),t.Nb(),t.rc(322," x"),t.Ob(323,"span",7),t.rc(324,"."),t.Nb(),t.Ob(325,"span",3),t.rc(326,"toUpperCase"),t.Nb(),t.Ob(327,"span",7),t.rc(328,"("),t.Nb(),t.Ob(329,"span",7),t.rc(330,")"),t.Nb(),t.Ob(331,"span",7),t.rc(332,")"),t.Nb(),t.Ob(333,"span",7),t.rc(334,";"),t.Nb(),t.rc(335,"\n    "),t.Ob(336,"span",7),t.rc(337),t.Nb(),t.rc(338,"\n    "),t.Ob(339,"span",22),t.rc(340,"console"),t.Nb(),t.Ob(341,"span",7),t.rc(342,"."),t.Nb(),t.Ob(343,"span",3),t.rc(344,"log"),t.Nb(),t.Ob(345,"span",7),t.rc(346,"("),t.Nb(),t.rc(347,"args"),t.Ob(348,"span",7),t.rc(349,")"),t.Nb(),t.Ob(350,"span",7),t.rc(351,";"),t.Nb(),t.rc(352,"\n  "),t.Ob(353,"span",7),t.rc(354),t.Nb(),t.rc(355,"\n\n  "),t.Ob(356,"span",3),t.rc(357,"complete"),t.Nb(),t.Ob(358,"span",7),t.rc(359,"("),t.Nb(),t.Ob(360,"span",7),t.rc(361,")"),t.Nb(),t.rc(362," "),t.Ob(363,"span",7),t.rc(364),t.Nb(),t.rc(365,"\n    "),t.Ob(366,"span",9),t.rc(367,"return"),t.Nb(),t.rc(368," "),t.Ob(369,"span",7),t.rc(370),t.Nb(),t.rc(371," "),t.Ob(372,"span",17),t.rc(373,"''"),t.Nb(),t.Ob(374,"span",16),t.rc(375,":"),t.Nb(),t.rc(376," "),t.Ob(377,"span",7),t.rc(378,"["),t.Nb(),t.Ob(379,"span",17),t.rc(380,"'--uppercase'"),t.Nb(),t.Ob(381,"span",7),t.rc(382,"]"),t.Nb(),t.rc(383," "),t.Ob(384,"span",7),t.rc(385),t.Nb(),t.Ob(386,"span",7),t.rc(387,";"),t.Nb(),t.rc(388,"\n  "),t.Ob(389,"span",7),t.rc(390),t.Nb(),t.rc(391,"\n"),t.Ob(392,"span",7),t.rc(393),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(394," With the corresponding output: "),t.Ob(395,"figure",6),t.Ob(396,"figcaption",6),t.rc(397,"Echo Plugin Help "),t.Nb(),t.Ob(398,"pre"),t.Ob(399,"code",2),t.rc(400,"$ travetto travetto "),t.Ob(401,"span",8),t.rc(402,"echo"),t.Nb(),t.rc(403," --help\n\nUsage:  "),t.Ob(404,"span",8),t.rc(405,"echo"),t.Nb(),t.rc(406," "),t.Ob(407,"span",7),t.rc(408,"["),t.Nb(),t.rc(409,"options"),t.Ob(410,"span",7),t.rc(411,"]"),t.Nb(),t.rc(412," "),t.Ob(413,"span",7),t.rc(414,"["),t.Nb(),t.rc(415,"args"),t.Ob(416,"span",7),t.rc(417,".."),t.Nb(),t.rc(418,"."),t.Ob(419,"span",7),t.rc(420,"]"),t.Nb(),t.rc(421,"\n\nOptions:\n  -u, --uppercase  Upper "),t.Ob(422,"span",9),t.rc(423,"case"),t.Nb(),t.rc(424," "),t.Ob(425,"span",7),t.rc(426,"("),t.Nb(),t.rc(427,"default: "),t.Ob(428,"span",21),t.rc(429,"false"),t.Nb(),t.Ob(430,"span",7),t.rc(431,")"),t.Nb(),t.rc(432,"\n  -h, --help       display "),t.Ob(433,"span",8),t.rc(434,"help"),t.Nb(),t.rc(435," "),t.Ob(436,"span",9),t.rc(437,"for"),t.Nb(),t.rc(438," "),t.Ob(439,"span",8),t.rc(440,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(441," And actually using it: "),t.Ob(442,"figure",6),t.Ob(443,"figcaption",6),t.rc(444,"Echo Plugin Run "),t.Nb(),t.Ob(445,"pre"),t.Ob(446,"code",2),t.rc(447,"$ travetto travetto "),t.Ob(448,"span",8),t.rc(449,"echo"),t.Nb(),t.rc(450," -u bOb rOb DRoP\n\n"),t.Ob(451,"span",7),t.rc(452,"["),t.Nb(),t.rc(453," "),t.Ob(454,"span",17),t.rc(455,"'BOB'"),t.Nb(),t.rc(456,", "),t.Ob(457,"span",17),t.rc(458,"'ROB'"),t.Nb(),t.rc(459,", "),t.Ob(460,"span",17),t.rc(461,"'DROP'"),t.Nb(),t.rc(462," "),t.Ob(463,"span",7),t.rc(464,"]"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(165),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(26),t.sc("{"),t.zb(40),t.sc("}"),t.zb(24),t.sc("{"),t.zb(19),t.sc("{"),t.zb(31),t.sc("}"),t.zb(17),t.sc("}"),t.zb(10),t.sc("{"),t.zb(6),t.sc("{"),t.zb(15),t.sc("}"),t.zb(5),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),a=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-vscode-plugin"]],decls:155,vars:0,consts:[[1,"documentation"],["target","_blank","href","https://marketplace.visualstudio.com/items?itemName=arcsine.travetto-plugin",1,"external-link"],["target","_blank","href","https://travetto.dev",1,"external-link"],["href","/docs/cli","title","CLI infrastructure for travetto framework",1,"module-link"],["id","testing"],["href","/docs/test","title","Declarative test framework that provides hooks for high levels of integration with the travetto framework and test plugin",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/src/decorator/suite.ts#L12",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/src/decorator/test.ts#L9",1,"source-link"],["id","real-time-test-evaluation"],["src","/assets/images/vscode-plugin/real-time-testing.gif","alt","Real-time Testing"],["id","debugging-tests"],[1,"item","input"],["src","/assets/images/vscode-plugin/debug-single-test.gif","alt","Debugging Single Test"],["target","_blank","href","https://code.visualstudio.com/api/language-extensions/programmatic-language-features#codelens-show-actionable-context-information-within-source-code",1,"external-link"],["src","/assets/images/vscode-plugin/debug-code-lens.gif","alt","Debugging Single Test"],["id","commands"],["id","application-launching"],["href","/docs/app","title","Application registration/management and run support.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/app/src/decorator.ts#L24",1,"source-link"],["id","running"],["src","/assets/images/vscode-plugin/run-workflow.gif","alt","Run Workflow"],["id","exporting-and-customizing"],["src","/assets/images/vscode-plugin/run-export-workflow.gif","alt","Export Workflow"],["id","misc-utilities"],["id","release-info"],["id","requirements"],["id","known-issues"],["id","release-notes"],["id","-x"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"VS Code Plugin "),t.Nb(),t.rc(3," The "),t.Ob(4,"a",1),t.rc(5,"VSCode plugin"),t.Nb(),t.rc(6," directly integrates with "),t.Ob(7,"a",2),t.rc(8,"Travetto"),t.Nb(),t.rc(9," framework, exposing some of the "),t.Ob(10,"a",3),t.rc(11,"Command Line Interface"),t.Nb(),t.rc(12," functionality. The currently supported features are:\n"),t.Ob(13,"ul"),t.Ob(14,"li"),t.rc(15,"Real-time test evaluation and debugging"),t.Nb(),t.Ob(16,"li"),t.rc(17,"Application launching with parameters"),t.Nb(),t.Ob(18,"li"),t.rc(19,"Miscellaneous utilities"),t.Nb(),t.Nb(),t.Ob(20,"h2",4),t.rc(21,"Testing"),t.Nb(),t.rc(22," The test related functionality relies upon the "),t.Ob(23,"a",5),t.rc(24,"Testing"),t.Nb(),t.rc(25," module being installed, and used to define tests ("),t.Ob(26,"a",6),t.rc(27,"@Suite"),t.Nb(),t.rc(28," and "),t.Ob(29,"a",7),t.rc(30,"@Test"),t.Nb(),t.rc(31,"). "),t.Ob(32,"h3",8),t.rc(33,"Real-time Test Evaluation"),t.Nb(),t.rc(34," The real-time test functionality will re-evaluate your test code on save. This means as you type and save, the test will run. The test will provide feedback inline, using green to indicate success, red to indicate failure, and gray to indicate unknown. "),t.Mb(35,"img",9),t.Ob(36,"h3",10),t.rc(37,"Debugging Tests"),t.Nb(),t.rc(38," While working on a test, if you want to debug it, you can press running "),t.Ob(39,"code",11),t.rc(40,"command-shift-t"),t.Nb(),t.rc(41," on OSX or "),t.Ob(42,"code",11),t.rc(43,"ctrl-shift-t"),t.Nb(),t.rc(44," on Windows/Linux. This will start a debug session with the current line activated as a breakpoint. This allows you to seamlessly jump into a debug session while writing tests. "),t.Mb(45,"img",12),t.rc(46," In addition to manual invocation at a line, each test has a "),t.Ob(47,"a",13),t.rc(48,"CodeLens"),t.Nb(),t.rc(49,", that allows for trigger the test as well. "),t.Mb(50,"img",14),t.Ob(51,"h3",15),t.rc(52,"Commands"),t.Nb(),t.Ob(53,"ul"),t.Ob(54,"li"),t.Ob(55,"code",11),t.rc(56,"Travetto: Debug Tests"),t.Nb(),t.rc(57," to force a running all the tests in debug mode. Will not establish a breakpoint, but will use any existing breakpoints."),t.Nb(),t.Ob(58,"li"),t.Ob(59,"code",11),t.rc(60,"Travetto: Re-run Tests"),t.Nb(),t.rc(61," to force a full re-run of all the tests in a given document"),t.Nb(),t.Nb(),t.Ob(62,"h2",16),t.rc(63,"Application Launching"),t.Nb(),t.rc(64," While using the "),t.Ob(65,"a",17),t.rc(66,"Application"),t.Nb(),t.rc(67,", a common pattern is to use "),t.Ob(68,"a",18),t.rc(69,"@Application"),t.Nb(),t.rc(70," annotations to define entry points into the application. These entry points can take parameters, and if using the cli, you can invoke them with parameters, type checked and validated. The plugin exposes this functionality as a command, to allow you to debug these applications directly from the editor. "),t.Ob(71,"h3",19),t.rc(72,"Running"),t.Nb(),t.Mb(73,"img",20),t.rc(74," Launching relies upon the command "),t.Ob(75,"code",11),t.rc(76,"Travetto: Run New Application"),t.Nb(),t.rc(77,". This will show you a list of the available entry points in the application, with the parameters they support. Selecting an application will take you through the parameter flow to select inputs, and once all parameters are selected, your application will launch. After running and selecting a configuration for an application, you can now access those configurations via "),t.Ob(78,"code",11),t.rc(79,"Travetto: Run Recent Application"),t.Nb(),t.rc(80,". This allows you to execute a recent run that you can invoke immediately without prompting for inputs. If you find yourself running the same application multiple times, you can also invoke "),t.Ob(81,"code",11),t.rc(82,"Travetto: Run Most Recent Application"),t.Nb(),t.rc(83," to bypass application selection overall. "),t.Ob(84,"h3",21),t.rc(85,"Exporting and Customizing"),t.Nb(),t.Mb(86,"img",22),t.rc(87," If at any point in time, you wish to modify the launch configuration of any application, you can execute the command "),t.Ob(88,"code",11),t.rc(89,"Travetto: Export Application Launch"),t.Nb(),t.rc(90,", and it will provide the same options as launch. The only difference is that instead of running the application when it's done, you will have a new launch config in your debug launch configs. This option is now completely independent from the plugin and can be modified without issue. "),t.Ob(91,"h3",15),t.rc(92,"Commands"),t.Nb(),t.Ob(93,"ul"),t.Ob(94,"li"),t.Ob(95,"code",11),t.rc(96,"Travetto: Run New Application"),t.Nb(),t.rc(97," to launch a new application config"),t.Nb(),t.Ob(98,"li"),t.Ob(99,"code",11),t.rc(100,"Travetto: Run Recent Application"),t.Nb(),t.rc(101," to launch a previously configured application"),t.Nb(),t.Ob(102,"li"),t.Ob(103,"code",11),t.rc(104,"Travetto: Run Most Recent Application"),t.Nb(),t.rc(105," to launch the most recently run configured application"),t.Nb(),t.Ob(106,"li"),t.Ob(107,"code",11),t.rc(108,"Travetto: Export Application Launch"),t.Nb(),t.rc(109," to export an application config"),t.Nb(),t.Nb(),t.Ob(110,"h2",23),t.rc(111,"Misc Utilities"),t.Nb(),t.rc(112," Currently the supported commands are:\n"),t.Ob(113,"ul"),t.Ob(114,"li"),t.Ob(115,"code",11),t.rc(116,"Travetto: Clean"),t.Nb(),t.rc(117," to run the cli operation "),t.Ob(118,"code",11),t.rc(119,"travetto clean"),t.Nb(),t.rc(120,". This will purge the project's cache, which is generally after workspace changes, like npm installs."),t.Nb(),t.Nb(),t.Ob(121,"h2",24),t.rc(122,"Release Info"),t.Nb(),t.Ob(123,"h3",25),t.rc(124,"Requirements"),t.Nb(),t.Ob(125,"ul"),t.Ob(126,"li"),t.rc(127,"You should have the "),t.Ob(128,"a",2),t.rc(129,"Travetto"),t.Nb(),t.rc(130," framework installed, version 1.0.0 and higher."),t.Nb(),t.Ob(131,"li"),t.rc(132,"Tests require the "),t.Ob(133,"a",5),t.rc(134,"Testing"),t.Nb(),t.rc(135," module to be installed."),t.Nb(),t.Ob(136,"li"),t.rc(137,"Application running requires the "),t.Ob(138,"a",17),t.rc(139,"Application"),t.Nb(),t.rc(140," module to be installed."),t.Nb(),t.Nb(),t.Ob(141,"h2",26),t.rc(142,"Known Issues"),t.Nb(),t.rc(143," Calling out known issues can help limit users opening duplicate issues against your extension. "),t.Ob(144,"h2",27),t.rc(145,"Release Notes"),t.Nb(),t.Ob(146,"h3",28),t.rc(147,"0.5.x"),t.Nb(),t.Ob(148,"ul"),t.Ob(149,"li"),t.rc(150,"Introduced application launching"),t.Nb(),t.Ob(151,"li"),t.rc(152,"Resolved test stability issues"),t.Nb(),t.Ob(153,"li"),t.rc(154,"Introduced clean functionality"),t.Nb(),t.Nb(),t.Nb())},styles:[".release-info[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{width:50%}"]}),r}(),s=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-generator-app"]],decls:961,vars:46,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","http://yeoman.io",1,"external-link"],[1,"token","comment"],[1,"token","operator"],[1,"terminal"],["id","restful-architecture"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],[1,"item","input"],["target","_blank","href","https://expressjs.com",1,"external-link"],["target","_blank","href","https://koajs.com/",1,"external-link"],["target","_blank","href","https://www.fastify.io/",1,"external-link"],[1,"item","path"],["id","additional-rest-features"],["href","/docs/openapi","title","OpenAPI integration support for the travetto framework",1,"module-link"],["href","/docs/log","title","Logging framework that integrates at the console.log level.",1,"module-link"],["target","_blank","href","https://www.npmjs.com/package/debug",1,"external-link"],["id","authentication"],["href","/docs/auth-rest","title","Rest authentication integration support for the travetto framework",1,"module-link"],["href","/docs/rest-session","title","Session provider for the travetto rest module.",1,"module-link"],["id","testing"],["href","/docs/test","title","Declarative test framework that provides hooks for high levels of integration with the travetto framework and test plugin",1,"module-link"],["id","data-modelling-and-storage"],["href","/docs/model","title","Datastore abstraction for CRUD operations with advanced query support.",1,"module-link"],["target","_blank","href","https://elastic.co",1,"external-link"],["target","_blank","href","https://mongodb.com",1,"external-link"],["target","_blank","href","https://en.wikipedia.org/wiki/SQL",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/generator-app/templates/todo/src/model/todo.ts#L4",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/generator-app/templates/todo/src/model/todo.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","meta"],[1,"token","class-name"],[1,"token","builtin"],["id","rest-model"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/generator-app/templates/todo/src/rest/todo.ts"],[1,"token","number"],["id","running"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Yeoman Generator "),t.Ob(3,"small"),t.rc(4,"Yeoman app generator for the Travetto framework"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/generator-app "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/generator-app"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," A simple "),t.Ob(17,"a",4),t.rc(18,"yeoman"),t.Nb(),t.rc(19," generator for scaffolding a reference project. To get started, you need to make sure: "),t.Ob(20,"figure",1),t.Ob(21,"figcaption",1),t.rc(22,"Setting up yeoman and the generator "),t.Nb(),t.Ob(23,"pre"),t.Ob(24,"code",2),t.rc(25,"$ "),t.Ob(26,"span",3),t.rc(27,"npm"),t.Nb(),t.rc(28," i -g yo "),t.Ob(29,"span",5),t.rc(30,"#Ensure yeoman is installed globally"),t.Nb(),t.rc(31,"\n$ "),t.Ob(32,"span",3),t.rc(33,"npm"),t.Nb(),t.rc(34," i -g @travetto/generator-app "),t.Ob(35,"span",5),t.rc(36,"#Ensure this yeoman generator is installed"),t.Nb(),t.rc(37,"\n$ "),t.Ob(38,"span",3),t.rc(39,"git"),t.Nb(),t.rc(40," config --global.username "),t.Ob(41,"span",6),t.rc(42,"<"),t.Nb(),t.rc(43,"Username"),t.Ob(44,"span",6),t.rc(45,">"),t.Nb(),t.rc(46," "),t.Ob(47,"span",5),t.rc(48,"#Set your git username"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(49," Once installed you can invoke the scaffolding by running "),t.Ob(50,"figure",7),t.Ob(51,"figcaption",7),t.rc(52,"Running Generator "),t.Nb(),t.Ob(53,"pre"),t.Ob(54,"code",2),t.rc(55,"$ yo @travetto/app"),t.Nb(),t.Nb(),t.Nb(),t.rc(56," The generator will ask about enabling the following features: "),t.Ob(57,"h2",8),t.rc(58,"Restful Architecture"),t.Nb(),t.rc(59,"\nThe "),t.Ob(60,"a",9),t.rc(61,"RESTful API"),t.Nb(),t.rc(62," provides the necessary integration for exposing restful apis. When selecting the "),t.Ob(63,"code",10),t.rc(64,"rest"),t.Nb(),t.rc(65," feature, you will need to specify which backend you want to include with your application, the default being "),t.Ob(66,"a",11),t.rc(67,"express"),t.Nb(),t.rc(68,". Currently you can select from: "),t.Ob(69,"ul"),t.Ob(70,"li"),t.Ob(71,"a",11),t.rc(72,"express"),t.Nb(),t.Nb(),t.Ob(73,"li"),t.Ob(74,"a",12),t.rc(75,"koa"),t.Nb(),t.Nb(),t.Ob(76,"li"),t.Ob(77,"a",13),t.rc(78,"fastify"),t.Nb(),t.Nb(),t.Nb(),t.rc(79," The code will establish some basic routes, specifically, "),t.Ob(80,"code",10),t.rc(81,"GET /"),t.Nb(),t.rc(82," as the root endpoint. This will return the contents of your "),t.Ob(83,"code",14),t.rc(84,"package.json"),t.Nb(),t.rc(85," as an identification operation. "),t.Ob(86,"h3",15),t.rc(87,"Additional Rest Features"),t.Nb(),t.rc(88,"\nIn addition to the core functionality, the "),t.Ob(89,"code",10),t.rc(90,"rest"),t.Nb(),t.rc(91," feature has some useful sub-features. Specifically: "),t.Ob(92,"a",16),t.rc(93,"OpenAPI Specification"),t.Nb(),t.rc(94," support for the restful api. This will automatically expose a "),t.Ob(95,"code",14),t.rc(96,"openapi.yml"),t.Nb(),t.rc(97," endpoint, and provide the necessary plumbing to support client generation. "),t.Ob(98,"a",17),t.rc(99,"Logging"),t.Nb(),t.rc(100," support for better formatting, "),t.Ob(101,"a",18),t.rc(102,"debug"),t.Nb(),t.rc(103," like support, and colorized output. This is generally useful for server logs, especially during development. "),t.Ob(104,"h2",19),t.rc(105,"Authentication"),t.Nb(),t.rc(106,"\nAuthentication is also supported on the Restful endpoints by selecting "),t.Ob(107,"a",20),t.rc(108,"Rest Auth"),t.Nb(),t.rc(109," during setup. This will support basic authentication running out of local memory, with user "),t.Ob(110,"a",21),t.rc(111,"REST Session"),t.Nb(),t.rc(112,"s. "),t.Ob(113,"h2",22),t.rc(114,"Testing"),t.Nb(),t.Ob(115,"a",23),t.rc(116,"Testing"),t.Nb(),t.rc(117," can also be configured out of the box to provide simple test cases for the data model. "),t.Ob(118,"h2",24),t.rc(119,"Data Modelling and Storage"),t.Nb(),t.rc(120," The "),t.Ob(121,"a",25),t.rc(122,"Data Modeling"),t.Nb(),t.rc(123," allows for modeling of application data, and provides mechanisms for storage and retrieval. When setting up your application, you will need to select which database backend you want to use: "),t.Ob(124,"ul"),t.Ob(125,"li"),t.Ob(126,"a",26),t.rc(127,"elasticsearch"),t.Nb(),t.Nb(),t.Ob(128,"li"),t.Ob(129,"a",27),t.rc(130,"mongodb"),t.Nb(),t.Nb(),t.Ob(131,"li"),t.Ob(132,"a",28),t.rc(133,"SQL"),t.Nb(),t.Nb(),t.Nb(),t.rc(134," A default model is constructed, a "),t.Ob(135,"a",29),t.rc(136,"Todo"),t.Nb(),t.rc(137," class: "),t.Ob(138,"figure",30),t.Ob(139,"figcaption",30),t.rc(140,"Todo Model "),t.Ob(141,"cite"),t.Ob(142,"a",31),t.rc(143,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(144,"pre"),t.Ob(145,"code",32),t.Ob(146,"span",33),t.rc(147,"import"),t.Nb(),t.rc(148," "),t.Ob(149,"span",34),t.rc(150),t.Nb(),t.rc(151," Model"),t.Ob(152,"span",34),t.rc(153,","),t.Nb(),t.rc(154," ModelCore "),t.Ob(155,"span",34),t.rc(156),t.Nb(),t.rc(157," "),t.Ob(158,"span",33),t.rc(159,"from"),t.Nb(),t.rc(160," "),t.Ob(161,"span",35),t.rc(162,"'@travetto/model'"),t.Nb(),t.Ob(163,"span",34),t.rc(164,";"),t.Nb(),t.rc(165,"\n\n@"),t.Ob(166,"span",36),t.rc(167,"Model"),t.Nb(),t.Ob(168,"span",34),t.rc(169,"("),t.Nb(),t.Ob(170,"span",34),t.rc(171,")"),t.Nb(),t.rc(172,"\n"),t.Ob(173,"span",33),t.rc(174,"export"),t.Nb(),t.rc(175," "),t.Ob(176,"span",33),t.rc(177,"class"),t.Nb(),t.rc(178," "),t.Ob(179,"span",37),t.rc(180,"Todo"),t.Nb(),t.rc(181," "),t.Ob(182,"span",33),t.rc(183,"implements"),t.Nb(),t.rc(184," "),t.Ob(185,"span",37),t.rc(186,"ModelCore"),t.Nb(),t.rc(187," "),t.Ob(188,"span",34),t.rc(189),t.Nb(),t.rc(190,"\n  id"),t.Ob(191,"span",6),t.rc(192,"?"),t.Nb(),t.Ob(193,"span",6),t.rc(194,":"),t.Nb(),t.rc(195," "),t.Ob(196,"span",38),t.rc(197,"string"),t.Nb(),t.Ob(198,"span",34),t.rc(199,";"),t.Nb(),t.rc(200,"\n  text"),t.Ob(201,"span",6),t.rc(202,":"),t.Nb(),t.rc(203," "),t.Ob(204,"span",38),t.rc(205,"string"),t.Nb(),t.Ob(206,"span",34),t.rc(207,";"),t.Nb(),t.rc(208,"\n  completed"),t.Ob(209,"span",6),t.rc(210,"?"),t.Nb(),t.Ob(211,"span",6),t.rc(212,":"),t.Nb(),t.rc(213," "),t.Ob(214,"span",38),t.rc(215,"boolean"),t.Nb(),t.Ob(216,"span",34),t.rc(217,";"),t.Nb(),t.rc(218,"\n"),t.Ob(219,"span",34),t.rc(220),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(221," Basic tests are also included for the "),t.Ob(222,"code",10),t.rc(223,"model"),t.Nb(),t.rc(224," to verify that database interaction and functionality is working properly. "),t.Ob(225,"h2",39),t.rc(226,"Rest + Model"),t.Nb(),t.rc(227,"\nIn the case both "),t.Ob(228,"code",10),t.rc(229,"rest"),t.Nb(),t.rc(230," and "),t.Ob(231,"code",10),t.rc(232,"model"),t.Nb(),t.rc(233," features are enabled, the code will produce a controller that exposes the "),t.Ob(234,"a",29),t.rc(235,"Todo"),t.Nb(),t.rc(236," model via restful patterns. "),t.Ob(237,"figure",30),t.Ob(238,"figcaption",30),t.rc(239,"Todo controller "),t.Ob(240,"cite"),t.Ob(241,"a",40),t.rc(242,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(243,"pre"),t.Ob(244,"code",32),t.Ob(245,"span",33),t.rc(246,"import"),t.Nb(),t.rc(247," "),t.Ob(248,"span",34),t.rc(249),t.Nb(),t.rc(250," AppError "),t.Ob(251,"span",34),t.rc(252),t.Nb(),t.rc(253," "),t.Ob(254,"span",33),t.rc(255,"from"),t.Nb(),t.rc(256," "),t.Ob(257,"span",35),t.rc(258,"'@travetto/base'"),t.Nb(),t.Ob(259,"span",34),t.rc(260,";"),t.Nb(),t.rc(261,"\n"),t.Ob(262,"span",33),t.rc(263,"import"),t.Nb(),t.rc(264," "),t.Ob(265,"span",34),t.rc(266),t.Nb(),t.rc(267," Controller"),t.Ob(268,"span",34),t.rc(269,","),t.Nb(),t.rc(270," Get"),t.Ob(271,"span",34),t.rc(272,","),t.Nb(),t.rc(273," Put"),t.Ob(274,"span",34),t.rc(275,","),t.Nb(),t.rc(276," Post"),t.Ob(277,"span",34),t.rc(278,","),t.Nb(),t.rc(279," Delete"),t.Ob(280,"span",34),t.rc(281,","),t.Nb(),t.rc(282," Path "),t.Ob(283,"span",34),t.rc(284),t.Nb(),t.rc(285," "),t.Ob(286,"span",33),t.rc(287,"from"),t.Nb(),t.rc(288," "),t.Ob(289,"span",35),t.rc(290,"'@travetto/rest'"),t.Nb(),t.Ob(291,"span",34),t.rc(292,";"),t.Nb(),t.rc(293,"\n"),t.Ob(294,"span",33),t.rc(295,"import"),t.Nb(),t.rc(296," "),t.Ob(297,"span",34),t.rc(298),t.Nb(),t.rc(299," Inject "),t.Ob(300,"span",34),t.rc(301),t.Nb(),t.rc(302," "),t.Ob(303,"span",33),t.rc(304,"from"),t.Nb(),t.rc(305," "),t.Ob(306,"span",35),t.rc(307,"'@travetto/di'"),t.Nb(),t.Ob(308,"span",34),t.rc(309,";"),t.Nb(),t.rc(310,"\n"),t.Ob(311,"span",33),t.rc(312,"import"),t.Nb(),t.rc(313," "),t.Ob(314,"span",34),t.rc(315),t.Nb(),t.rc(316," ModelService"),t.Ob(317,"span",34),t.rc(318,","),t.Nb(),t.rc(319," ModelQuery "),t.Ob(320,"span",34),t.rc(321),t.Nb(),t.rc(322," "),t.Ob(323,"span",33),t.rc(324,"from"),t.Nb(),t.rc(325," "),t.Ob(326,"span",35),t.rc(327,"'@travetto/model'"),t.Nb(),t.Ob(328,"span",34),t.rc(329,";"),t.Nb(),t.rc(330,"\n"),t.Ob(331,"span",33),t.rc(332,"import"),t.Nb(),t.rc(333," "),t.Ob(334,"span",34),t.rc(335),t.Nb(),t.rc(336," SchemaBody"),t.Ob(337,"span",34),t.rc(338,","),t.Nb(),t.rc(339," SchemaQuery"),t.Ob(340,"span",34),t.rc(341,","),t.Nb(),t.rc(342," Schema "),t.Ob(343,"span",34),t.rc(344),t.Nb(),t.rc(345," "),t.Ob(346,"span",33),t.rc(347,"from"),t.Nb(),t.rc(348," "),t.Ob(349,"span",35),t.rc(350,"'@travetto/schema'"),t.Nb(),t.Ob(351,"span",34),t.rc(352,";"),t.Nb(),t.rc(353,"\n\n"),t.Ob(354,"span",33),t.rc(355,"import"),t.Nb(),t.rc(356," "),t.Ob(357,"span",34),t.rc(358),t.Nb(),t.rc(359," Todo "),t.Ob(360,"span",34),t.rc(361),t.Nb(),t.rc(362," "),t.Ob(363,"span",33),t.rc(364,"from"),t.Nb(),t.rc(365," "),t.Ob(366,"span",35),t.rc(367,"'../model/todo'"),t.Nb(),t.Ob(368,"span",34),t.rc(369,";"),t.Nb(),t.rc(370,"\n\n@"),t.Ob(371,"span",36),t.rc(372,"Schema"),t.Nb(),t.Ob(373,"span",34),t.rc(374,"("),t.Nb(),t.Ob(375,"span",34),t.rc(376,")"),t.Nb(),t.rc(377,"\n"),t.Ob(378,"span",33),t.rc(379,"class"),t.Nb(),t.rc(380," "),t.Ob(381,"span",37),t.rc(382,"Query"),t.Nb(),t.rc(383," "),t.Ob(384,"span",34),t.rc(385),t.Nb(),t.rc(386,"\n  q"),t.Ob(387,"span",6),t.rc(388,":"),t.Nb(),t.rc(389," "),t.Ob(390,"span",38),t.rc(391,"any"),t.Nb(),t.rc(392," "),t.Ob(393,"span",6),t.rc(394,"="),t.Nb(),t.rc(395," "),t.Ob(396,"span",34),t.rc(397),t.Nb(),t.Ob(398,"span",34),t.rc(399),t.Nb(),t.Ob(400,"span",34),t.rc(401,";"),t.Nb(),t.rc(402,"\n"),t.Ob(403,"span",34),t.rc(404),t.Nb(),t.rc(405,"\n\n"),t.Ob(406,"span",5),t.rc(407,"/**\n * Controller for managing all aspects of the Todo lifecycle\n */"),t.Nb(),t.rc(408,"\n@"),t.Ob(409,"span",36),t.rc(410,"Controller"),t.Nb(),t.Ob(411,"span",34),t.rc(412,"("),t.Nb(),t.Ob(413,"span",35),t.rc(414,"'/todo'"),t.Nb(),t.Ob(415,"span",34),t.rc(416,")"),t.Nb(),t.rc(417,"\n"),t.Ob(418,"span",33),t.rc(419,"export"),t.Nb(),t.rc(420," "),t.Ob(421,"span",33),t.rc(422,"class"),t.Nb(),t.rc(423," "),t.Ob(424,"span",37),t.rc(425,"TodoController"),t.Nb(),t.rc(426," "),t.Ob(427,"span",34),t.rc(428),t.Nb(),t.rc(429,"\n\n  @"),t.Ob(430,"span",36),t.rc(431,"Inject"),t.Nb(),t.Ob(432,"span",34),t.rc(433,"("),t.Nb(),t.Ob(434,"span",34),t.rc(435,")"),t.Nb(),t.rc(436,"\n  source"),t.Ob(437,"span",6),t.rc(438,":"),t.Nb(),t.rc(439," ModelService"),t.Ob(440,"span",34),t.rc(441,";"),t.Nb(),t.rc(442,"\n\n  "),t.Ob(443,"span",5),t.rc(444,"/**\n   * Get all Todos\n   */"),t.Nb(),t.rc(445,"\n  @"),t.Ob(446,"span",36),t.rc(447,"Get"),t.Nb(),t.Ob(448,"span",34),t.rc(449,"("),t.Nb(),t.Ob(450,"span",35),t.rc(451,"'/'"),t.Nb(),t.Ob(452,"span",34),t.rc(453,")"),t.Nb(),t.rc(454,"\n  "),t.Ob(455,"span",33),t.rc(456,"async"),t.Nb(),t.rc(457," "),t.Ob(458,"span",3),t.rc(459,"getAll"),t.Nb(),t.Ob(460,"span",34),t.rc(461,"("),t.Nb(),t.rc(462,"@"),t.Ob(463,"span",36),t.rc(464,"SchemaQuery"),t.Nb(),t.Ob(465,"span",34),t.rc(466,"("),t.Nb(),t.Ob(467,"span",34),t.rc(468,")"),t.Nb(),t.rc(469," query"),t.Ob(470,"span",6),t.rc(471,":"),t.Nb(),t.rc(472," Query"),t.Ob(473,"span",34),t.rc(474,")"),t.Nb(),t.Ob(475,"span",6),t.rc(476,":"),t.Nb(),t.rc(477," "),t.Ob(478,"span",38),t.rc(479,"Promise"),t.Nb(),t.Ob(480,"span",6),t.rc(481,"<"),t.Nb(),t.rc(482,"Todo"),t.Ob(483,"span",34),t.rc(484,"["),t.Nb(),t.Ob(485,"span",34),t.rc(486,"]"),t.Nb(),t.Ob(487,"span",6),t.rc(488,">"),t.Nb(),t.rc(489," "),t.Ob(490,"span",34),t.rc(491),t.Nb(),t.rc(492,"\n    query"),t.Ob(493,"span",34),t.rc(494,"."),t.Nb(),t.rc(495,"q "),t.Ob(496,"span",6),t.rc(497,"="),t.Nb(),t.rc(498," query"),t.Ob(499,"span",34),t.rc(500,"."),t.Nb(),t.rc(501,"q "),t.Ob(502,"span",6),t.rc(503,"||"),t.Nb(),t.rc(504," "),t.Ob(505,"span",34),t.rc(506),t.Nb(),t.Ob(507,"span",34),t.rc(508),t.Nb(),t.Ob(509,"span",34),t.rc(510,";"),t.Nb(),t.rc(511,"\n    "),t.Ob(512,"span",33),t.rc(513,"return"),t.Nb(),t.rc(514," "),t.Ob(515,"span",33),t.rc(516,"this"),t.Nb(),t.Ob(517,"span",34),t.rc(518,"."),t.Nb(),t.rc(519,"source"),t.Ob(520,"span",34),t.rc(521,"."),t.Nb(),t.Ob(522,"span",3),t.rc(523,"getAllByQuery"),t.Nb(),t.Ob(524,"span",34),t.rc(525,"("),t.Nb(),t.rc(526,"Todo"),t.Ob(527,"span",34),t.rc(528,","),t.Nb(),t.rc(529," "),t.Ob(530,"span",34),t.rc(531),t.Nb(),t.rc(532," where"),t.Ob(533,"span",6),t.rc(534,":"),t.Nb(),t.rc(535," query"),t.Ob(536,"span",34),t.rc(537,"."),t.Nb(),t.rc(538,"q "),t.Ob(539,"span",34),t.rc(540),t.Nb(),t.Ob(541,"span",34),t.rc(542,")"),t.Nb(),t.Ob(543,"span",34),t.rc(544,";"),t.Nb(),t.rc(545,"\n  "),t.Ob(546,"span",34),t.rc(547),t.Nb(),t.rc(548,"\n\n  "),t.Ob(549,"span",5),t.rc(550,"/**\n   * Get Todo by id\n   */"),t.Nb(),t.rc(551,"\n  @"),t.Ob(552,"span",36),t.rc(553,"Get"),t.Nb(),t.Ob(554,"span",34),t.rc(555,"("),t.Nb(),t.Ob(556,"span",35),t.rc(557,"'/:id'"),t.Nb(),t.Ob(558,"span",34),t.rc(559,")"),t.Nb(),t.rc(560,"\n  "),t.Ob(561,"span",33),t.rc(562,"async"),t.Nb(),t.rc(563," "),t.Ob(564,"span",3),t.rc(565,"getOne"),t.Nb(),t.Ob(566,"span",34),t.rc(567,"("),t.Nb(),t.rc(568,"@"),t.Ob(569,"span",36),t.rc(570,"Path"),t.Nb(),t.Ob(571,"span",34),t.rc(572,"("),t.Nb(),t.Ob(573,"span",34),t.rc(574,")"),t.Nb(),t.rc(575," id");t.Ob(576,"span",6),t.rc(577,":"),t.Nb(),t.rc(578," "),t.Ob(579,"span",38),t.rc(580,"string"),t.Nb(),t.Ob(581,"span",34),t.rc(582,")"),t.Nb(),t.Ob(583,"span",6),t.rc(584,":"),t.Nb(),t.rc(585," "),t.Ob(586,"span",38),t.rc(587,"Promise"),t.Nb(),t.Ob(588,"span",6),t.rc(589,"<"),t.Nb(),t.rc(590,"Todo"),t.Ob(591,"span",6),t.rc(592,">"),t.Nb(),t.rc(593," "),t.Ob(594,"span",34),t.rc(595),t.Nb(),t.rc(596,"\n    "),t.Ob(597,"span",33),t.rc(598,"const"),t.Nb(),t.rc(599," q"),t.Ob(600,"span",6),t.rc(601,":"),t.Nb(),t.rc(602," ModelQuery"),t.Ob(603,"span",6),t.rc(604,"<"),t.Nb(),t.rc(605,"Todo"),t.Ob(606,"span",6),t.rc(607,">"),t.Nb(),t.rc(608," "),t.Ob(609,"span",6),t.rc(610,"="),t.Nb(),t.rc(611," "),t.Ob(612,"span",34),t.rc(613),t.Nb(),t.rc(614," where"),t.Ob(615,"span",6),t.rc(616,":"),t.Nb(),t.rc(617," "),t.Ob(618,"span",34),t.rc(619),t.Nb(),t.rc(620," id "),t.Ob(621,"span",34),t.rc(622),t.Nb(),t.rc(623," "),t.Ob(624,"span",34),t.rc(625),t.Nb(),t.Ob(626,"span",34),t.rc(627,";"),t.Nb(),t.rc(628,"\n    "),t.Ob(629,"span",33),t.rc(630,"return"),t.Nb(),t.rc(631," "),t.Ob(632,"span",33),t.rc(633,"this"),t.Nb(),t.Ob(634,"span",34),t.rc(635,"."),t.Nb(),t.rc(636,"source"),t.Ob(637,"span",34),t.rc(638,"."),t.Nb(),t.Ob(639,"span",3),t.rc(640,"getByQuery"),t.Nb(),t.Ob(641,"span",34),t.rc(642,"("),t.Nb(),t.rc(643,"Todo"),t.Ob(644,"span",34),t.rc(645,","),t.Nb(),t.rc(646," q"),t.Ob(647,"span",34),t.rc(648,")"),t.Nb(),t.Ob(649,"span",34),t.rc(650,";"),t.Nb(),t.rc(651,"\n  "),t.Ob(652,"span",34),t.rc(653),t.Nb(),t.rc(654,"\n\n  "),t.Ob(655,"span",5),t.rc(656,"/**\n   * Create a Todo\n   */"),t.Nb(),t.rc(657,"\n  @"),t.Ob(658,"span",36),t.rc(659,"Post"),t.Nb(),t.Ob(660,"span",34),t.rc(661,"("),t.Nb(),t.Ob(662,"span",35),t.rc(663,"'/'"),t.Nb(),t.Ob(664,"span",34),t.rc(665,")"),t.Nb(),t.rc(666,"\n  "),t.Ob(667,"span",33),t.rc(668,"async"),t.Nb(),t.rc(669," "),t.Ob(670,"span",3),t.rc(671,"save"),t.Nb(),t.Ob(672,"span",34),t.rc(673,"("),t.Nb(),t.rc(674,"@"),t.Ob(675,"span",36),t.rc(676,"SchemaBody"),t.Nb(),t.Ob(677,"span",34),t.rc(678,"("),t.Nb(),t.Ob(679,"span",34),t.rc(680,")"),t.Nb(),t.rc(681," todo"),t.Ob(682,"span",6),t.rc(683,":"),t.Nb(),t.rc(684," Todo"),t.Ob(685,"span",34),t.rc(686,")"),t.Nb(),t.Ob(687,"span",6),t.rc(688,":"),t.Nb(),t.rc(689," "),t.Ob(690,"span",38),t.rc(691,"Promise"),t.Nb(),t.Ob(692,"span",6),t.rc(693,"<"),t.Nb(),t.rc(694,"Todo"),t.Ob(695,"span",6),t.rc(696,">"),t.Nb(),t.rc(697," "),t.Ob(698,"span",34),t.rc(699),t.Nb(),t.rc(700,"\n    "),t.Ob(701,"span",33),t.rc(702,"return"),t.Nb(),t.rc(703," "),t.Ob(704,"span",33),t.rc(705,"this"),t.Nb(),t.Ob(706,"span",34),t.rc(707,"."),t.Nb(),t.rc(708,"source"),t.Ob(709,"span",34),t.rc(710,"."),t.Nb(),t.Ob(711,"span",3),t.rc(712,"save"),t.Nb(),t.Ob(713,"span",34),t.rc(714,"("),t.Nb(),t.rc(715,"Todo"),t.Ob(716,"span",34),t.rc(717,","),t.Nb(),t.rc(718," todo"),t.Ob(719,"span",34),t.rc(720,")"),t.Nb(),t.Ob(721,"span",34),t.rc(722,";"),t.Nb(),t.rc(723,"\n  "),t.Ob(724,"span",34),t.rc(725),t.Nb(),t.rc(726,"\n\n  "),t.Ob(727,"span",5),t.rc(728,"/**\n   * Update a Todo\n   */"),t.Nb(),t.rc(729,"\n  @"),t.Ob(730,"span",36),t.rc(731,"Put"),t.Nb(),t.Ob(732,"span",34),t.rc(733,"("),t.Nb(),t.Ob(734,"span",35),t.rc(735,"'/:id'"),t.Nb(),t.Ob(736,"span",34),t.rc(737,")"),t.Nb(),t.rc(738,"\n  "),t.Ob(739,"span",33),t.rc(740,"async"),t.Nb(),t.rc(741," "),t.Ob(742,"span",3),t.rc(743,"update"),t.Nb(),t.Ob(744,"span",34),t.rc(745,"("),t.Nb(),t.rc(746,"@"),t.Ob(747,"span",36),t.rc(748,"SchemaBody"),t.Nb(),t.Ob(749,"span",34),t.rc(750,"("),t.Nb(),t.Ob(751,"span",34),t.rc(752,")"),t.Nb(),t.rc(753," todo"),t.Ob(754,"span",6),t.rc(755,":"),t.Nb(),t.rc(756," Todo"),t.Ob(757,"span",34),t.rc(758,")"),t.Nb(),t.Ob(759,"span",6),t.rc(760,":"),t.Nb(),t.rc(761," "),t.Ob(762,"span",38),t.rc(763,"Promise"),t.Nb(),t.Ob(764,"span",6),t.rc(765,"<"),t.Nb(),t.rc(766,"Todo"),t.Ob(767,"span",6),t.rc(768,">"),t.Nb(),t.rc(769," "),t.Ob(770,"span",34),t.rc(771),t.Nb(),t.rc(772,"\n    "),t.Ob(773,"span",33),t.rc(774,"return"),t.Nb(),t.rc(775," "),t.Ob(776,"span",33),t.rc(777,"this"),t.Nb(),t.Ob(778,"span",34),t.rc(779,"."),t.Nb(),t.rc(780,"source"),t.Ob(781,"span",34),t.rc(782,"."),t.Nb(),t.Ob(783,"span",3),t.rc(784,"update"),t.Nb(),t.Ob(785,"span",34),t.rc(786,"("),t.Nb(),t.rc(787,"Todo"),t.Ob(788,"span",34),t.rc(789,","),t.Nb(),t.rc(790," todo"),t.Ob(791,"span",34),t.rc(792,")"),t.Nb(),t.Ob(793,"span",34),t.rc(794,";"),t.Nb(),t.rc(795,"\n  "),t.Ob(796,"span",34),t.rc(797),t.Nb(),t.rc(798,"\n\n  "),t.Ob(799,"span",5),t.rc(800,"/**\n   * Delete a Todo\n   */"),t.Nb(),t.rc(801,"\n  @"),t.Ob(802,"span",36),t.rc(803,"Delete"),t.Nb(),t.Ob(804,"span",34),t.rc(805,"("),t.Nb(),t.Ob(806,"span",35),t.rc(807,"'/:id'"),t.Nb(),t.Ob(808,"span",34),t.rc(809,")"),t.Nb(),t.rc(810,"\n  "),t.Ob(811,"span",33),t.rc(812,"async"),t.Nb(),t.rc(813," "),t.Ob(814,"span",3),t.rc(815,"remove"),t.Nb(),t.Ob(816,"span",34),t.rc(817,"("),t.Nb(),t.rc(818,"@"),t.Ob(819,"span",36),t.rc(820,"Path"),t.Nb(),t.Ob(821,"span",34),t.rc(822,"("),t.Nb(),t.Ob(823,"span",34),t.rc(824,")"),t.Nb(),t.rc(825," id"),t.Ob(826,"span",6),t.rc(827,":"),t.Nb(),t.rc(828," "),t.Ob(829,"span",38),t.rc(830,"string"),t.Nb(),t.Ob(831,"span",34),t.rc(832,")"),t.Nb(),t.Ob(833,"span",6),t.rc(834,":"),t.Nb(),t.rc(835," "),t.Ob(836,"span",38),t.rc(837,"Promise"),t.Nb(),t.Ob(838,"span",6),t.rc(839,"<"),t.Nb(),t.Ob(840,"span",33),t.rc(841,"void"),t.Nb(),t.Ob(842,"span",6),t.rc(843,">"),t.Nb(),t.rc(844," "),t.Ob(845,"span",34),t.rc(846),t.Nb(),t.rc(847,"\n    "),t.Ob(848,"span",33),t.rc(849,"const"),t.Nb(),t.rc(850," q"),t.Ob(851,"span",6),t.rc(852,":"),t.Nb(),t.rc(853," ModelQuery"),t.Ob(854,"span",6),t.rc(855,"<"),t.Nb(),t.rc(856,"Todo"),t.Ob(857,"span",6),t.rc(858,">"),t.Nb(),t.rc(859," "),t.Ob(860,"span",6),t.rc(861,"="),t.Nb(),t.rc(862," "),t.Ob(863,"span",34),t.rc(864),t.Nb(),t.rc(865," where"),t.Ob(866,"span",6),t.rc(867,":"),t.Nb(),t.rc(868," "),t.Ob(869,"span",34),t.rc(870),t.Nb(),t.rc(871," id "),t.Ob(872,"span",34),t.rc(873),t.Nb(),t.rc(874," "),t.Ob(875,"span",34),t.rc(876),t.Nb(),t.Ob(877,"span",34),t.rc(878,";"),t.Nb(),t.rc(879,"\n    "),t.Ob(880,"span",33),t.rc(881,"if"),t.Nb(),t.rc(882," "),t.Ob(883,"span",34),t.rc(884,"("),t.Nb(),t.Ob(885,"span",33),t.rc(886,"await"),t.Nb(),t.rc(887," "),t.Ob(888,"span",33),t.rc(889,"this"),t.Nb(),t.Ob(890,"span",34),t.rc(891,"."),t.Nb(),t.rc(892,"source"),t.Ob(893,"span",34),t.rc(894,"."),t.Nb(),t.Ob(895,"span",3),t.rc(896,"deleteByQuery"),t.Nb(),t.Ob(897,"span",34),t.rc(898,"("),t.Nb(),t.rc(899,"Todo"),t.Ob(900,"span",34),t.rc(901,","),t.Nb(),t.rc(902," q"),t.Ob(903,"span",34),t.rc(904,")"),t.Nb(),t.rc(905," "),t.Ob(906,"span",6),t.rc(907,"!=="),t.Nb(),t.rc(908," "),t.Ob(909,"span",41),t.rc(910,"1"),t.Nb(),t.Ob(911,"span",34),t.rc(912,")"),t.Nb(),t.rc(913," "),t.Ob(914,"span",34),t.rc(915),t.Nb(),t.rc(916,"\n      "),t.Ob(917,"span",33),t.rc(918,"throw"),t.Nb(),t.rc(919," "),t.Ob(920,"span",33),t.rc(921,"new"),t.Nb(),t.rc(922," "),t.Ob(923,"span",37),t.rc(924,"AppError"),t.Nb(),t.Ob(925,"span",34),t.rc(926,"("),t.Nb(),t.Ob(927,"span",35),t.rc(928,"'Not found by id'"),t.Nb(),t.Ob(929,"span",34),t.rc(930,","),t.Nb(),t.rc(931," "),t.Ob(932,"span",35),t.rc(933,"'notfound'"),t.Nb(),t.Ob(934,"span",34),t.rc(935,")"),t.Nb(),t.Ob(936,"span",34),t.rc(937,";"),t.Nb(),t.rc(938,"\n    "),t.Ob(939,"span",34),t.rc(940),t.Nb(),t.rc(941,"\n  "),t.Ob(942,"span",34),t.rc(943),t.Nb(),t.rc(944,"\n"),t.Ob(945,"span",34),t.rc(946),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(947,"h2",42),t.rc(948,"Running"),t.Nb(),t.rc(949," Once finished the application will reflect the modules chosen, and will be ready for execution, if you have configured a runnable application. Currently, this requires the "),t.Ob(950,"code",10),t.rc(951,"rest"),t.Nb(),t.rc(952," feature to be selected. "),t.Ob(953,"figure",7),t.Ob(954,"figcaption",7),t.rc(955,"Starting the App "),t.Nb(),t.Ob(956,"pre"),t.Ob(957,"code",2),t.Ob(958,"span",3),t.rc(959,"npm"),t.Nb(),t.rc(960," start"),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(150),t.sc("{"),t.zb(6),t.sc("}"),t.zb(33),t.sc("{"),t.zb(31),t.sc("}"),t.zb(29),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(18),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(9),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(12),t.sc("{"),t.zb(2),t.sc("}"),t.zb(5),t.sc("}"),t.zb(24),t.sc("{"),t.zb(63),t.sc("{"),t.zb(15),t.sc("{"),t.zb(2),t.sc("}"),t.zb(23),t.sc("{"),t.zb(9),t.sc("}"),t.zb(7),t.sc("}"),t.zb(48),t.sc("{"),t.zb(18),t.sc("{"),t.zb(6),t.sc("{"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(28),t.sc("}"),t.zb(46),t.sc("{"),t.zb(26),t.sc("}"),t.zb(46),t.sc("{"),t.zb(26),t.sc("}"),t.zb(49),t.sc("{"),t.zb(18),t.sc("{"),t.zb(6),t.sc("{"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(39),t.sc("{"),t.zb(25),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),b=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-config"]],decls:370,vars:18,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://en.wikipedia.org/wiki/YAML",1,"external-link"],["href","/docs/yaml","title","Simple YAML support, provides only clean subset of yaml",1,"module-link"],["id","resolution"],[1,"item","path"],[1,"item","field"],[1,"item","input"],["id","a-complete-example"],[1,"config"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/alt/docs/resources/application.yml"],[1,"language-yaml"],[1,"token","punctuation"],[1,"token","key","atrule"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/alt/docs/resources/prod.yml"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/alt/docs/resources/env.properties"],[1,"language-properties"],[1,"token","attr-name"],[1,"token","attr-value"],[1,"terminal"],[1,"token","string"],["id","secrets"],["id","consuming"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/src/decorator.ts#L9",1,"source-link"],["href","/docs/di","title","Dependency registration/management and injection support.",1,"module-link"],[1,"item","method"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/alt/docs/src/dbconfig.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","meta"],[1,"token","class-name"],[1,"token","operator"],[1,"token","builtin"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Configuration "),t.Ob(3,"small"),t.rc(4,"Environment-aware config management using yaml files"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/config "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/config"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The config module provides support for loading application config on startup. Configuration values support the common "),t.Ob(17,"a",4),t.rc(18,"YAML"),t.Nb(),t.rc(19," constructs as defined in "),t.Ob(20,"a",5),t.rc(21,"YAML"),t.Nb(),t.rc(22,". The configuration information is comprised of: "),t.Ob(23,"ul"),t.Ob(24,"li"),t.Ob(25,"a",4),t.rc(26,"YAML"),t.Nb(),t.rc(27," files"),t.Nb(),t.Ob(28,"li"),t.rc(29,"environment variables"),t.Nb(),t.Nb(),t.Ob(30,"h2",6),t.rc(31,"Resolution"),t.Nb(),t.rc(32," Config loading follows a defined resolution path, below is the order in increasing specificity:\n"),t.Ob(33,"ol"),t.Ob(34,"li"),t.Ob(35,"code",7),t.rc(36,"resources/application.yml"),t.Nb(),t.rc(37," - Load the default "),t.Ob(38,"code",7),t.rc(39,"application.yml"),t.Nb(),t.rc(40," if available."),t.Nb(),t.Ob(41,"li"),t.Ob(42,"code",7),t.rc(43,"resources/*.yml"),t.Nb(),t.rc(44," - Load profile specific configurations as defined by the values in "),t.Ob(45,"code",8),t.rc(46,"process.env.TRV_PROFILES"),t.Nb(),t.Nb(),t.Ob(47,"li"),t.Ob(48,"code",7),t.rc(49),t.Nb(),t.rc(50," - Load environment specific profile configurations as defined by the values of "),t.Ob(51,"code",8),t.rc(52,"process.env.TRV_ENV"),t.Nb(),t.rc(53,"."),t.Nb(),t.Ob(54,"li"),t.Ob(55,"code",8),t.rc(56,"process.env"),t.Nb(),t.rc(57," - Read startup configuration from environment to allow for overriding any values. Because we are overriding a "),t.Ob(58,"a",4),t.rc(59,"YAML"),t.Nb(),t.rc(60," based configuration we need to compensate for the differences in usage patterns. Generally all environment variables are passed in as "),t.Ob(61,"code",9),t.rc(62,"UPPER_SNAKE_CASE"),t.Nb(),t.rc(63,". When reading from "),t.Ob(64,"code",8),t.rc(65,"process.env"),t.Nb(),t.rc(66," we will map "),t.Ob(67,"code",9),t.rc(68,"UPPER_SNAKE_CASE"),t.Nb(),t.rc(69," to "),t.Ob(70,"code",9),t.rc(71,"upper.snake.case"),t.Nb(),t.rc(72,", and will attempt to match by case-insensitive name."),t.Nb(),t.Nb(),t.Ob(73,"h2",10),t.rc(74,"A Complete Example"),t.Nb(),t.rc(75," A more complete example setup would look like: "),t.Ob(76,"figure",11),t.Ob(77,"figcaption",11),t.rc(78,"resources/application.yml "),t.Ob(79,"cite"),t.Ob(80,"a",12),t.rc(81,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(82,"pre"),t.Ob(83,"code",13),t.Ob(84,"span",14),t.rc(85,"-"),t.Nb(),t.Ob(86,"span",14),t.rc(87,"-"),t.Nb(),t.rc(88,"\n"),t.Ob(89,"span",15),t.rc(90,"database"),t.Nb(),t.Ob(91,"span",14),t.rc(92,":"),t.Nb(),t.rc(93,"\n  "),t.Ob(94,"span",15),t.rc(95,"host"),t.Nb(),t.Ob(96,"span",14),t.rc(97,":"),t.Nb(),t.rc(98," localhost\n  "),t.Ob(99,"span",15),t.rc(100,"creds"),t.Nb(),t.Ob(101,"span",14),t.rc(102,":"),t.Nb(),t.rc(103,"\n    "),t.Ob(104,"span",15),t.rc(105,"user"),t.Nb(),t.Ob(106,"span",14),t.rc(107,":"),t.Nb(),t.rc(108," test\n    "),t.Ob(109,"span",15),t.rc(110,"password"),t.Nb(),t.Ob(111,"span",14),t.rc(112,":"),t.Nb(),t.rc(113," test"),t.Nb(),t.Nb(),t.Nb(),t.Ob(114,"figure",11),t.Ob(115,"figcaption",11),t.rc(116,"resources/prod.yml "),t.Ob(117,"cite"),t.Ob(118,"a",16),t.rc(119,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(120,"pre"),t.Ob(121,"code",13),t.Ob(122,"span",14),t.rc(123,"-"),t.Nb(),t.Ob(124,"span",14),t.rc(125,"-"),t.Nb(),t.rc(126,"\n"),t.Ob(127,"span",15),t.rc(128,"database"),t.Nb(),t.Ob(129,"span",14),t.rc(130,":"),t.Nb(),t.rc(131,"\n  "),t.Ob(132,"span",15),t.rc(133,"host"),t.Nb(),t.Ob(134,"span",14),t.rc(135,":"),t.Nb(),t.rc(136," prod "),t.Ob(137,"span",14),t.rc(138,"-"),t.Nb(),t.rc(139," host "),t.Ob(140,"span",14),t.rc(141,"-"),t.Nb(),t.rc(142," db\n  "),t.Ob(143,"span",15),t.rc(144,"creds"),t.Nb(),t.Ob(145,"span",14),t.rc(146,":"),t.Nb(),t.rc(147,"\n    "),t.Ob(148,"span",15),t.rc(149,"user"),t.Nb(),t.Ob(150,"span",14),t.rc(151,":"),t.Nb(),t.rc(152," admin "),t.Ob(153,"span",14),t.rc(154,"-"),t.Nb(),t.rc(155," user"),t.Nb(),t.Nb(),t.Nb(),t.rc(156," with environment variables "),t.Ob(157,"figure",11),t.Ob(158,"figcaption",11),t.rc(159,"Environment variables "),t.Ob(160,"cite"),t.Ob(161,"a",17),t.rc(162,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(163,"pre"),t.Ob(164,"code",18),t.Ob(165,"span",19),t.rc(166,"TRV_ENV"),t.Nb(),t.rc(167," "),t.Ob(168,"span",14),t.rc(169,"="),t.Nb(),t.rc(170," "),t.Ob(171,"span",20),t.rc(172,"prod"),t.Nb(),t.rc(173,"\n"),t.Ob(174,"span",19),t.rc(175,"TRV_PROFILES"),t.Nb(),t.rc(176," "),t.Ob(177,"span",14),t.rc(178,"="),t.Nb(),t.rc(179," "),t.Ob(180,"span",20),t.rc(181,"prod"),t.Nb(),t.rc(182,"\n"),t.Ob(183,"span",19),t.rc(184,"DATABASE_PORT"),t.Nb(),t.rc(185," "),t.Ob(186,"span",14),t.rc(187,"="),t.Nb(),t.rc(188," "),t.Ob(189,"span",20),t.rc(190,"1234"),t.Nb(),t.rc(191,"\n"),t.Ob(192,"span",19),t.rc(193,"DATABASE_CREDS_PASSWORD"),t.Nb(),t.rc(194," "),t.Ob(195,"span",14),t.rc(196,"="),t.Nb(),t.rc(197," "),t.Ob(198,"span",20),t.rc(199,"%secret%"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(200," At runtime the resolved config would be: "),t.Ob(201,"figure",21),t.Ob(202,"figcaption",21),t.rc(203,"Runtime Resolution "),t.Nb(),t.Ob(204,"pre"),t.Ob(205,"code",2),t.rc(206,"$ alt/docs/src/resolve.ts -r @travetto/boot/register alt/docs/src/resolve.ts\n\n"),t.Ob(207,"span",14),t.rc(208),t.Nb(),t.rc(209,"\n  database: "),t.Ob(210,"span",14),t.rc(211),t.Nb(),t.rc(212,"\n    host: "),t.Ob(213,"span",22),t.rc(214,"'prod - host - db'"),t.Nb(),t.rc(215,",\n    creds: "),t.Ob(216,"span",14),t.rc(217),t.Nb(),t.rc(218," user: "),t.Ob(219,"span",22),t.rc(220,"'admin - user'"),t.Nb(),t.rc(221,", password: "),t.Ob(222,"span",22),t.rc(223,"'%secret%'"),t.Nb(),t.rc(224," "),t.Ob(225,"span",14),t.rc(226),t.Nb(),t.rc(227,",\n    port: "),t.Ob(228,"span",22),t.rc(229,"'1234'"),t.Nb(),t.rc(230,"\n  "),t.Ob(231,"span",14),t.rc(232),t.Nb(),t.rc(233,"\n"),t.Ob(234,"span",14),t.rc(235),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(236,"h2",23),t.rc(237,"Secrets"),t.Nb(),t.rc(238,"\nBy default, when in production mode, the application startup will request redacted secrets to log out. These secrets follow a standard set of rules, but can be amended by listing regular expressions under "),t.Ob(239,"code",9),t.rc(240,"config.redacted"),t.Nb(),t.rc(241,". "),t.Ob(242,"h2",24),t.rc(243,"Consuming"),t.Nb(),t.rc(244,"\nThe service provides direct access to all of the loaded configuration. For simplicity, a decorator, "),t.Ob(245,"a",25),t.rc(246,"@Config"),t.Nb(),t.rc(247," allows for classes to automatically be bound with config information on post construction via the "),t.Ob(248,"a",26),t.rc(249,"Dependency Injection"),t.Nb(),t.rc(250," module. The decorator will install a "),t.Ob(251,"code",27),t.rc(252,"postConstruct"),t.Nb(),t.rc(253," method if not already defined, that performs the binding of configuration. This is due to the fact that we cannot rewrite the constructor, and order of operation matters. The decorator takes in a namespace, of what part of the resolved configuration you want to bind to your class. Given the following class: "),t.Ob(254,"figure",28),t.Ob(255,"figcaption",28),t.rc(256,"Database config object "),t.Ob(257,"cite"),t.Ob(258,"a",29),t.rc(259,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(260,"pre"),t.Ob(261,"code",30),t.Ob(262,"span",31),t.rc(263,"import"),t.Nb(),t.rc(264," "),t.Ob(265,"span",14),t.rc(266),t.Nb(),t.rc(267," Config "),t.Ob(268,"span",14),t.rc(269),t.Nb(),t.rc(270," "),t.Ob(271,"span",31),t.rc(272,"from"),t.Nb(),t.rc(273," "),t.Ob(274,"span",22),t.rc(275,"'@travetto/config'"),t.Nb(),t.Ob(276,"span",14),t.rc(277,";"),t.Nb(),t.rc(278,"\n\n@"),t.Ob(279,"span",32),t.rc(280,"Config"),t.Nb(),t.Ob(281,"span",14),t.rc(282,"("),t.Nb(),t.Ob(283,"span",22),t.rc(284,"'database'"),t.Nb(),t.Ob(285,"span",14),t.rc(286,")"),t.Nb(),t.rc(287,"\n"),t.Ob(288,"span",31),t.rc(289,"export"),t.Nb(),t.rc(290," "),t.Ob(291,"span",31),t.rc(292,"class"),t.Nb(),t.rc(293," "),t.Ob(294,"span",33),t.rc(295,"DBConfig"),t.Nb(),t.rc(296," "),t.Ob(297,"span",14),t.rc(298),t.Nb(),t.rc(299,"\n  host"),t.Ob(300,"span",34),t.rc(301,":"),t.Nb(),t.rc(302," "),t.Ob(303,"span",35),t.rc(304,"string"),t.Nb(),t.Ob(305,"span",14),t.rc(306,";"),t.Nb(),t.rc(307,"\n  port"),t.Ob(308,"span",34),t.rc(309,":"),t.Nb(),t.rc(310," "),t.Ob(311,"span",35),t.rc(312,"number"),t.Nb(),t.Ob(313,"span",14),t.rc(314,";"),t.Nb(),t.rc(315,"\n  creds "),t.Ob(316,"span",34),t.rc(317,"="),t.Nb(),t.rc(318," "),t.Ob(319,"span",14),t.rc(320),t.Nb(),t.rc(321,"\n    user"),t.Ob(322,"span",34),t.rc(323,":"),t.Nb(),t.rc(324," "),t.Ob(325,"span",22),t.rc(326,"''"),t.Nb(),t.Ob(327,"span",14),t.rc(328,","),t.Nb(),t.rc(329,"\n    password"),t.Ob(330,"span",34),t.rc(331,":"),t.Nb(),t.rc(332," "),t.Ob(333,"span",22),t.rc(334,"''"),t.Nb(),t.rc(335,"\n  "),t.Ob(336,"span",14),t.rc(337),t.Nb(),t.Ob(338,"span",14),t.rc(339,";"),t.Nb(),t.rc(340,"\n"),t.Ob(341,"span",14),t.rc(342),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(343," Using the above config files, the resultant object would be: "),t.Ob(344,"figure",21),t.Ob(345,"figcaption",21),t.rc(346,"Resolved database config "),t.Nb(),t.Ob(347,"pre"),t.Ob(348,"code",2),t.rc(349,"$ alt/docs/src/dbconfig-run.ts -r @travetto/boot/register alt/docs/src/dbconfig-run.ts\n\nDBConfig "),t.Ob(350,"span",14),t.rc(351),t.Nb(),t.rc(352,"\n  host: "),t.Ob(353,"span",22),t.rc(354,"'prod - host - db'"),t.Nb(),t.rc(355,",\n  port: undefined,\n  creds: "),t.Ob(356,"span",14),t.rc(357),t.Nb(),t.rc(358," user: "),t.Ob(359,"span",22),t.rc(360,"'admin - user'"),t.Nb(),t.rc(361,", password: "),t.Ob(362,"span",22),t.rc(363,"'test'"),t.Nb(),t.rc(364," "),t.Ob(365,"span",14),t.rc(366),t.Nb(),t.rc(367,"\n"),t.Ob(368,"span",14),t.rc(369),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(49),t.uc("resources/","{","env","}",".yml"),t.zb(159),t.sc("{"),t.zb(3),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(6),t.sc("}"),t.zb(3),t.sc("}"),t.zb(31),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(22),t.sc("{"),t.zb(17),t.sc("}"),t.zb(5),t.sc("}"),t.zb(9),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),i=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-app"]],decls:989,vars:42,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["href","/docs/base","title","Application phase management, environment config and common utilities for travetto applications.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/app/src/decorator.ts#L24",1,"source-link"],[1,"item","method"],["href","/docs/di","title","Dependency registration/management and injection support.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/src/decorator.ts#L29",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/app/alt/simple/src/entry.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","meta"],[1,"token","class-name"],[1,"token","operator"],[1,"token","comment"],["id","-code-class-item-method-run-code-arguments"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/app/alt/simple/src/domain.ts"],[1,"token","parameter"],[1,"token","builtin"],[1,"token","number"],["id","cli-run"],[1,"terminal"],[1,"token","builtin","class-name"],[1,"token","assign-left","variable"],[1,"item","command"],[1,"item","input"],["id","type-checking"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/app/alt/example/src/complex.ts"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Application "),t.Ob(3,"small"),t.rc(4,"Application registration/management and run support."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/app "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/app"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The "),t.Ob(17,"a",4),t.rc(18,"Base"),t.Nb(),t.rc(19," module provides a simplistic entrypoint to allow for the application to run, but that is not sufficient for more complex applications. This module provides a decorator, "),t.Ob(20,"a",5),t.rc(21,"@Application"),t.Nb(),t.rc(22," who's job is to register entry points into the application, along with the associated metadata. With the application, the "),t.Ob(23,"code",6),t.rc(24,"run"),t.Nb(),t.rc(25," method is the entry point that will be invoked post construction of the class. Building off of the "),t.Ob(26,"a",7),t.rc(27,"Dependency Injection"),t.Nb(),t.rc(28,", the "),t.Ob(29,"a",5),t.rc(30,"@Application"),t.Nb(),t.rc(31," is a synonym for "),t.Ob(32,"a",8),t.rc(33,"@Injectable"),t.Nb(),t.rc(34,", and inherits all the abilities of dependency injection. This should allow for setup for any specific application that needs to be run. For example: "),t.Ob(35,"figure",9),t.Ob(36,"figcaption",9),t.rc(37,"Example of Application target "),t.Ob(38,"cite"),t.Ob(39,"a",10),t.rc(40,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(41,"pre"),t.Ob(42,"code",11),t.Ob(43,"span",12),t.rc(44,"import"),t.Nb(),t.rc(45," "),t.Ob(46,"span",13),t.rc(47),t.Nb(),t.rc(48," Injectable"),t.Ob(49,"span",13),t.rc(50,","),t.Nb(),t.rc(51," Inject "),t.Ob(52,"span",13),t.rc(53),t.Nb(),t.rc(54," "),t.Ob(55,"span",12),t.rc(56,"from"),t.Nb(),t.rc(57," "),t.Ob(58,"span",14),t.rc(59,"'@travetto/di'"),t.Nb(),t.Ob(60,"span",13),t.rc(61,";"),t.Nb(),t.rc(62,"\n"),t.Ob(63,"span",12),t.rc(64,"import"),t.Nb(),t.rc(65," "),t.Ob(66,"span",13),t.rc(67),t.Nb(),t.rc(68," Application "),t.Ob(69,"span",13),t.rc(70),t.Nb(),t.rc(71," "),t.Ob(72,"span",12),t.rc(73,"from"),t.Nb(),t.rc(74," "),t.Ob(75,"span",14),t.rc(76,"'@travetto/app/src/decorator'"),t.Nb(),t.Ob(77,"span",13),t.rc(78,";"),t.Nb(),t.rc(79,"\n\n@"),t.Ob(80,"span",15),t.rc(81,"Injectable"),t.Nb(),t.Ob(82,"span",13),t.rc(83,"("),t.Nb(),t.Ob(84,"span",13),t.rc(85,")"),t.Nb(),t.rc(86,"\n"),t.Ob(87,"span",12),t.rc(88,"class"),t.Nb(),t.rc(89," "),t.Ob(90,"span",16),t.rc(91,"Server"),t.Nb(),t.rc(92," "),t.Ob(93,"span",13),t.rc(94),t.Nb(),t.rc(95,"\n  name "),t.Ob(96,"span",17),t.rc(97,"="),t.Nb(),t.rc(98," "),t.Ob(99,"span",14),t.rc(100,"'roger'"),t.Nb(),t.Ob(101,"span",13),t.rc(102,";"),t.Nb(),t.rc(103,"\n\n  "),t.Ob(104,"span",12),t.rc(105,"async"),t.Nb(),t.rc(106," "),t.Ob(107,"span",3),t.rc(108,"launch"),t.Nb(),t.Ob(109,"span",13),t.rc(110,"("),t.Nb(),t.Ob(111,"span",13),t.rc(112,")"),t.Nb(),t.rc(113," "),t.Ob(114,"span",13),t.rc(115),t.Nb(),t.rc(116,"\n    "),t.Ob(117,"span",18),t.rc(118,"// ..."),t.Nb(),t.rc(119,"\n  "),t.Ob(120,"span",13),t.rc(121),t.Nb(),t.rc(122,"\n"),t.Ob(123,"span",13),t.rc(124),t.Nb(),t.rc(125,"\n\n@"),t.Ob(126,"span",15),t.rc(127,"Application"),t.Nb(),t.Ob(128,"span",13),t.rc(129,"("),t.Nb(),t.Ob(130,"span",14),t.rc(131,"'simple'"),t.Nb(),t.Ob(132,"span",13),t.rc(133,")"),t.Nb(),t.rc(134,"\n"),t.Ob(135,"span",12),t.rc(136,"class"),t.Nb(),t.rc(137," "),t.Ob(138,"span",16),t.rc(139,"SimpleApp"),t.Nb(),t.rc(140," "),t.Ob(141,"span",13),t.rc(142),t.Nb(),t.rc(143,"\n\n  @"),t.Ob(144,"span",15),t.rc(145,"Inject"),t.Nb(),t.Ob(146,"span",13),t.rc(147,"("),t.Nb(),t.Ob(148,"span",13),t.rc(149,")"),t.Nb(),t.rc(150,"\n  server"),t.Ob(151,"span",17),t.rc(152,":"),t.Nb(),t.rc(153," Server"),t.Ob(154,"span",13),t.rc(155,";"),t.Nb(),t.rc(156,"\n\n  "),t.Ob(157,"span",12),t.rc(158,"async"),t.Nb(),t.rc(159," "),t.Ob(160,"span",3),t.rc(161,"run"),t.Nb(),t.Ob(162,"span",13),t.rc(163,"("),t.Nb(),t.Ob(164,"span",13),t.rc(165,")"),t.Nb(),t.rc(166," "),t.Ob(167,"span",13),t.rc(168),t.Nb(),t.rc(169,"\n    "),t.Ob(170,"span",12),t.rc(171,"return"),t.Nb(),t.rc(172," "),t.Ob(173,"span",12),t.rc(174,"this"),t.Nb(),t.Ob(175,"span",13),t.rc(176,"."),t.Nb(),t.rc(177,"server"),t.Ob(178,"span",13),t.rc(179,"."),t.Nb(),t.Ob(180,"span",3),t.rc(181,"launch"),t.Nb(),t.Ob(182,"span",13),t.rc(183,"("),t.Nb(),t.Ob(184,"span",13),t.rc(185,")"),t.Nb(),t.Ob(186,"span",13),t.rc(187,";"),t.Nb(),t.rc(188,"\n  "),t.Ob(189,"span",13),t.rc(190),t.Nb(),t.rc(191,"\n"),t.Ob(192,"span",13),t.rc(193),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(194," Additionally, the "),t.Ob(195,"a",5),t.rc(196,"@Application"),t.Nb(),t.rc(197," decorator exposes some additional functionality, which can be used to launch the application. "),t.Ob(198,"h2",19),t.Ob(199,"code",6),t.rc(200,".run()"),t.Nb(),t.rc(201," Arguments"),t.Nb(),t.rc(202,"\nThe arguments specified in the "),t.Ob(203,"code",6),t.rc(204,"run"),t.Nb(),t.rc(205," method are extracted via code transformation, and are able to be bound when invoking the application. Whether from the command line or a plugin, the parameters will be mapped to the inputs of "),t.Ob(206,"code",6),t.rc(207,"run"),t.Nb(),t.rc(208,". For instance: "),t.Ob(209,"figure",9),t.Ob(210,"figcaption",9),t.rc(211,"Simple Entry Point with Parameters "),t.Ob(212,"cite"),t.Ob(213,"a",20),t.rc(214,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(215,"pre"),t.Ob(216,"code",11),t.Ob(217,"span",12),t.rc(218,"import"),t.Nb(),t.rc(219," "),t.Ob(220,"span",13),t.rc(221),t.Nb(),t.rc(222," Application "),t.Ob(223,"span",13),t.rc(224),t.Nb(),t.rc(225," "),t.Ob(226,"span",12),t.rc(227,"from"),t.Nb(),t.rc(228," "),t.Ob(229,"span",14),t.rc(230,"'@travetto/app/src/decorator'"),t.Nb(),t.Ob(231,"span",13),t.rc(232,";"),t.Nb(),t.rc(233,"\n\n@"),t.Ob(234,"span",15),t.rc(235,"Application"),t.Nb(),t.Ob(236,"span",13),t.rc(237,"("),t.Nb(),t.Ob(238,"span",14),t.rc(239,"'simple-domain'"),t.Nb(),t.Ob(240,"span",13),t.rc(241,")"),t.Nb(),t.rc(242,"\n"),t.Ob(243,"span",12),t.rc(244,"class"),t.Nb(),t.rc(245," "),t.Ob(246,"span",16),t.rc(247,"SimpleApp"),t.Nb(),t.rc(248," "),t.Ob(249,"span",13),t.rc(250),t.Nb(),t.rc(251,"\n  "),t.Ob(252,"span",12),t.rc(253,"async"),t.Nb(),t.rc(254," "),t.Ob(255,"span",3),t.rc(256,"run"),t.Nb(),t.Ob(257,"span",13),t.rc(258,"("),t.Nb(),t.Ob(259,"span",21),t.rc(260,"domain"),t.Ob(261,"span",17),t.rc(262,":"),t.Nb(),t.rc(263," "),t.Ob(264,"span",22),t.rc(265,"string"),t.Nb(),t.Ob(266,"span",13),t.rc(267,","),t.Nb(),t.rc(268," port "),t.Ob(269,"span",17),t.rc(270,"="),t.Nb(),t.rc(271," "),t.Ob(272,"span",23),t.rc(273,"3000"),t.Nb(),t.Nb(),t.Ob(274,"span",13),t.rc(275,")"),t.Nb(),t.rc(276," "),t.Ob(277,"span",13),t.rc(278),t.Nb(),t.rc(279,"\n    "),t.Ob(280,"span",22),t.rc(281,"console"),t.Nb(),t.Ob(282,"span",13),t.rc(283,"."),t.Nb(),t.Ob(284,"span",3),t.rc(285,"log"),t.Nb(),t.Ob(286,"span",13),t.rc(287,"("),t.Nb(),t.Ob(288,"span",14),t.rc(289,"'Launching'"),t.Nb(),t.Ob(290,"span",13),t.rc(291,","),t.Nb(),t.rc(292," domain"),t.Ob(293,"span",13),t.rc(294,","),t.Nb(),t.rc(295," "),t.Ob(296,"span",14),t.rc(297,"'on port'"),t.Nb(),t.Ob(298,"span",13),t.rc(299,","),t.Nb(),t.rc(300," port"),t.Ob(301,"span",13),t.rc(302,")"),t.Nb(),t.Ob(303,"span",13),t.rc(304,";"),t.Nb(),t.rc(305,"\n  "),t.Ob(306,"span",13),t.rc(307),t.Nb(),t.rc(308,"\n"),t.Ob(309,"span",13),t.rc(310),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(311,"h2",24),t.rc(312,"CLI - run"),t.Nb(),t.rc(313," The run command allows for invocation of applications as defined by the "),t.Ob(314,"a",5),t.rc(315,"@Application"),t.Nb(),t.rc(316," decorator. Additionally, the environment can manually be specified (dev, test, prod). "),t.Ob(317,"figure",25),t.Ob(318,"figcaption",25),t.rc(319,"CLI Run Help "),t.Nb(),t.Ob(320,"pre"),t.Ob(321,"code",2),t.rc(322,"$ travetto travetto run --help\n\nUsage:  run "),t.Ob(323,"span",13),t.rc(324,"["),t.Nb(),t.rc(325,"options"),t.Ob(326,"span",13),t.rc(327,"]"),t.Nb(),t.rc(328," "),t.Ob(329,"span",13),t.rc(330,"["),t.Nb(),t.rc(331,"application"),t.Ob(332,"span",13),t.rc(333,"]"),t.Nb(),t.rc(334," "),t.Ob(335,"span",13),t.rc(336,"["),t.Nb(),t.rc(337,"args"),t.Ob(338,"span",13),t.rc(339,".."),t.Nb(),t.rc(340,"."),t.Ob(341,"span",13),t.rc(342,"]"),t.Nb(),t.rc(343,"\n\nOptions:\n  -e, --env "),t.Ob(344,"span",13),t.rc(345,"["),t.Nb(),t.rc(346,"env"),t.Ob(347,"span",13),t.rc(348,"]"),t.Nb(),t.rc(349,"                 Application environment "),t.Ob(350,"span",13),t.rc(351,"("),t.Nb(),t.rc(352,"dev"),t.Ob(353,"span",17),t.rc(354,"|"),t.Nb(),t.rc(355,"prod"),t.Ob(356,"span",17),t.rc(357,"|"),t.Nb(),t.Ob(358,"span",17),t.rc(359,"<"),t.Nb(),t.rc(360,"any"),t.Ob(361,"span",17),t.rc(362,">"),t.Nb(),t.Ob(363,"span",13),t.rc(364,")"),t.Nb(),t.rc(365,"\n  -p, --profile "),t.Ob(366,"span",13),t.rc(367,"["),t.Nb(),t.rc(368,"profile"),t.Ob(369,"span",13),t.rc(370,"]"),t.Nb(),t.rc(371,"         Specify additional application profiles\n                                  "),t.Ob(372,"span",13),t.rc(373,"("),t.Nb(),t.rc(374,"default: "),t.Ob(375,"span",13),t.rc(376,"["),t.Nb(),t.Ob(377,"span",13),t.rc(378,"]"),t.Nb(),t.Ob(379,"span",13),t.rc(380,")"),t.Nb(),t.rc(381,"\n  -r, --resource "),t.Ob(382,"span",13),t.rc(383,"["),t.Nb(),t.rc(384,"resourcesRoot"),t.Ob(385,"span",13),t.rc(386,"]"),t.Nb(),t.rc(387,"  Specify additional resource root locations\n                                  "),t.Ob(388,"span",13),t.rc(389,"("),t.Nb(),t.rc(390,"default: "),t.Ob(391,"span",13),t.rc(392,"["),t.Nb(),t.Ob(393,"span",13),t.rc(394,"]"),t.Nb(),t.Ob(395,"span",13),t.rc(396,")"),t.Nb(),t.rc(397,"\n  -h, --help                      display "),t.Ob(398,"span",26),t.rc(399,"help"),t.Nb(),t.rc(400," "),t.Ob(401,"span",12),t.rc(402,"for"),t.Nb(),t.rc(403," "),t.Ob(404,"span",26),t.rc(405,"command"),t.Nb(),t.rc(406,"\n\nAvailable Applications:\n\n   \u25cf complex\n     ----------------------------------------\n     usage: complex domain:string port:number\n     file:  alt/example/src/complex.ts\n\n   \u25cf test-eptest\n     --------------------------------------------------------\n     usage: test-eptest "),t.Ob(407,"span",13),t.rc(408,"["),t.Nb(),t.rc(409,"age:number"),t.Ob(410,"span",17),t.rc(411,"="),t.Nb(),t.Ob(412,"span",23),t.rc(413,"5"),t.Nb(),t.Ob(414,"span",13),t.rc(415,"]"),t.Nb(),t.rc(416," "),t.Ob(417,"span",13),t.rc(418,"["),t.Nb(),t.rc(419,"format:html"),t.Ob(420,"span",17),t.rc(421,"|"),t.Nb(),t.Ob(422,"span",27),t.rc(423,"pdf"),t.Nb(),t.Ob(424,"span",17),t.rc(425,"="),t.Nb(),t.rc(426,"html"),t.Ob(427,"span",13),t.rc(428,"]"),t.Nb(),t.rc(429,"\n     file:  alt/example/src/entry.ts\n\n   \u25cf simple\n     ------------------------------\n     usage: simple\n     file:  alt/simple/src/entry.ts\n\n   \u25cf simple-domain\n     -----------------------------------------------------\n     usage: simple-domain domain:string "),t.Ob(430,"span",13),t.rc(431,"["),t.Nb(),t.rc(432,"port:number"),t.Ob(433,"span",17),t.rc(434,"="),t.Nb(),t.Ob(435,"span",23),t.rc(436,"3000"),t.Nb(),t.Ob(437,"span",13),t.rc(438,"]"),t.Nb(),t.rc(439,"\n     file:  alt/simple/src/domain.ts"),t.Nb(),t.Nb(),t.Nb(),t.rc(440," Running without specifying an application "),t.Mb(441,"code",28),t.rc(442,", will display all the available apps, and would look like: "),t.Ob(443,"figure",25),t.Ob(444,"figcaption",25),t.rc(445,"Sample CLI Output "),t.Nb(),t.Ob(446,"pre"),t.Ob(447,"code",2),t.rc(448,"$ travetto travetto run\n\nUsage: travetto run "),t.Ob(449,"span",13),t.rc(450,"["),t.Nb(),t.rc(451,"options"),t.Ob(452,"span",13),t.rc(453,"]"),t.Nb(),t.rc(454," "),t.Ob(455,"span",13),t.rc(456,"["),t.Nb(),t.rc(457,"application"),t.Ob(458,"span",13),t.rc(459,"]"),t.Nb(),t.rc(460," "),t.Ob(461,"span",13),t.rc(462,"["),t.Nb(),t.rc(463,"args"),t.Ob(464,"span",13),t.rc(465,".."),t.Nb(),t.rc(466,"."),t.Ob(467,"span",13),t.rc(468,"]"),t.Nb(),t.rc(469,"\n\nOptions:\n  -e, --env "),t.Ob(470,"span",13),t.rc(471,"["),t.Nb(),t.rc(472,"env"),t.Ob(473,"span",13),t.rc(474,"]"),t.Nb(),t.rc(475,"                 Application environment "),t.Ob(476,"span",13),t.rc(477,"("),t.Nb(),t.rc(478,"dev"),t.Ob(479,"span",17),t.rc(480,"|"),t.Nb(),t.rc(481,"prod"),t.Ob(482,"span",17),t.rc(483,"|"),t.Nb(),t.Ob(484,"span",17),t.rc(485,"<"),t.Nb(),t.rc(486,"any"),t.Ob(487,"span",17),t.rc(488,">"),t.Nb(),t.Ob(489,"span",13),t.rc(490,")"),t.Nb(),t.rc(491,"\n  -p, --profile "),t.Ob(492,"span",13),t.rc(493,"["),t.Nb(),t.rc(494,"profile"),t.Ob(495,"span",13),t.rc(496,"]"),t.Nb(),t.rc(497,"         Specify additional application profiles\n                                  "),t.Ob(498,"span",13),t.rc(499,"("),t.Nb(),t.rc(500,"default: "),t.Ob(501,"span",13),t.rc(502,"["),t.Nb(),t.Ob(503,"span",13),t.rc(504,"]"),t.Nb(),t.Ob(505,"span",13),t.rc(506,")"),t.Nb(),t.rc(507,"\n  -r, --resource "),t.Ob(508,"span",13),t.rc(509,"["),t.Nb(),t.rc(510,"resourcesRoot"),t.Ob(511,"span",13),t.rc(512,"]"),t.Nb(),t.rc(513,"  Specify additional resource root locations\n                                  "),t.Ob(514,"span",13),t.rc(515,"("),t.Nb(),t.rc(516,"default: "),t.Ob(517,"span",13),t.rc(518,"["),t.Nb(),t.Ob(519,"span",13),t.rc(520,"]"),t.Nb(),t.Ob(521,"span",13),t.rc(522,")"),t.Nb(),t.rc(523,"\n  -h, --help                      display "),t.Ob(524,"span",26),t.rc(525,"help"),t.Nb(),t.rc(526," "),t.Ob(527,"span",12),t.rc(528,"for"),t.Nb(),t.rc(529," "),t.Ob(530,"span",26),t.rc(531,"command"),t.Nb(),t.rc(532,"\n\nAvailable Applications:\n\n   \u25cf complex\n     ----------------------------------------\n     usage: complex domain:string port:number\n     file:  alt/example/src/complex.ts\n\n   \u25cf test-eptest\n     --------------------------------------------------------\n     usage: test-eptest "),t.Ob(533,"span",13),t.rc(534,"["),t.Nb(),t.rc(535,"age:number"),t.Ob(536,"span",17),t.rc(537,"="),t.Nb(),t.Ob(538,"span",23),t.rc(539,"5"),t.Nb(),t.Ob(540,"span",13),t.rc(541,"]"),t.Nb(),t.rc(542," "),t.Ob(543,"span",13),t.rc(544,"["),t.Nb(),t.rc(545,"format:html"),t.Ob(546,"span",17),t.rc(547,"|"),t.Nb(),t.Ob(548,"span",27),t.rc(549,"pdf"),t.Nb(),t.Ob(550,"span",17),t.rc(551,"="),t.Nb(),t.rc(552,"html"),t.Ob(553,"span",13),t.rc(554,"]"),t.Nb(),t.rc(555,"\n     file:  alt/example/src/entry.ts\n\n   \u25cf simple\n     ------------------------------\n     usage: simple\n     file:  alt/simple/src/entry.ts\n\n   \u25cf simple-domain\n     -----------------------------------------------------\n     usage: simple-domain domain:string "),t.Ob(556,"span",13),t.rc(557,"["),t.Nb(),t.rc(558,"port:number"),t.Ob(559,"span",17),t.rc(560,"="),t.Nb(),t.Ob(561,"span",23),t.rc(562,"3000"),t.Nb(),t.Ob(563,"span",13),t.rc(564,"]"),t.Nb(),t.rc(565,"\n     file:  alt/simple/src/domain.ts"),t.Nb(),t.Nb(),t.Nb(),t.rc(566," To invoke the "),t.Ob(567,"code",29),t.rc(568,"simple"),t.Nb(),t.rc(569," application, you need to pass "),t.Ob(570,"code",29),t.rc(571,"domain"),t.Nb(),t.rc(572," where port is optional with a default. "),t.Ob(573,"figure",25),t.Ob(574,"figcaption",25),t.rc(575,"Invoke Simple "),t.Nb();t.Ob(576,"pre"),t.Ob(577,"code",2),t.rc(578,"$ travetto travetto run simple-domain mydomain.biz "),t.Ob(579,"span",23),t.rc(580,"4000"),t.Nb(),t.rc(581,"\n\nRunning application simple-domain ./alt/simple/src/domain.ts\nConfigured "),t.Ob(582,"span",13),t.rc(583),t.Nb(),t.rc(584,"\n  app: "),t.Ob(585,"span",13),t.rc(586),t.Nb(),t.rc(587,"\n    watch: true,\n    readonly: false,\n    travetto: "),t.Ob(588,"span",14),t.rc(589,"'1.0.0-rc.8'"),t.Nb(),t.rc(590,",\n    name: "),t.Ob(591,"span",14),t.rc(592,"'@travetto/app'"),t.Nb(),t.rc(593,",\n    version: "),t.Ob(594,"span",14),t.rc(595,"'1.0.0-rc.11'"),t.Nb(),t.rc(596,",\n    license: "),t.Ob(597,"span",14),t.rc(598,"'MIT'"),t.Nb(),t.rc(599,",\n    description: "),t.Ob(600,"span",14),t.rc(601,"'Application registration/management and run support.'"),t.Nb(),t.rc(602,",\n    author: "),t.Ob(603,"span",13),t.rc(604),t.Nb(),t.rc(605,"\n      email: "),t.Ob(606,"span",14),t.rc(607,"'travetto.framework@gmail.com'"),t.Nb(),t.rc(608,",\n      name: "),t.Ob(609,"span",14),t.rc(610,"'Travetto Framework'"),t.Nb(),t.rc(611,"\n    "),t.Ob(612,"span",13),t.rc(613),t.Nb(),t.rc(614,",\n    env: "),t.Ob(615,"span",14),t.rc(616,"'dev'"),t.Nb(),t.rc(617,",\n    profiles: "),t.Ob(618,"span",13),t.rc(619,"["),t.Nb(),t.rc(620," "),t.Ob(621,"span",14),t.rc(622,"'application'"),t.Nb(),t.rc(623,", "),t.Ob(624,"span",14),t.rc(625,"'simple-domain'"),t.Nb(),t.rc(626,", "),t.Ob(627,"span",14),t.rc(628,"'dev'"),t.Nb(),t.rc(629," "),t.Ob(630,"span",13),t.rc(631,"]"),t.Nb(),t.rc(632,",\n    roots: "),t.Ob(633,"span",13),t.rc(634,"["),t.Nb(),t.rc(635," "),t.Ob(636,"span",14),t.rc(637,"'.'"),t.Nb(),t.rc(638,", "),t.Ob(639,"span",14),t.rc(640,"'./alt/simple'"),t.Nb(),t.rc(641," "),t.Ob(642,"span",13),t.rc(643,"]"),t.Nb(),t.rc(644,",\n    resourceRoots: "),t.Ob(645,"span",13),t.rc(646,"["),t.Nb(),t.rc(647," "),t.Ob(648,"span",14),t.rc(649,"'.'"),t.Nb(),t.rc(650,", "),t.Ob(651,"span",14),t.rc(652,"'./alt/simple'"),t.Nb(),t.rc(653," "),t.Ob(654,"span",13),t.rc(655,"]"),t.Nb(),t.rc(656,",\n    debug: "),t.Ob(657,"span",13),t.rc(658),t.Nb(),t.rc(659," status: false, value: undefined "),t.Ob(660,"span",13),t.rc(661),t.Nb(),t.rc(662,"\n  "),t.Ob(663,"span",13),t.rc(664),t.Nb(),t.rc(665,",\n  config: "),t.Ob(666,"span",13),t.rc(667),t.Nb(),t.Ob(668,"span",13),t.rc(669),t.Nb(),t.rc(670,"\n"),t.Ob(671,"span",13),t.rc(672),t.Nb(),t.rc(673,"\nLaunching mydomain.biz on port "),t.Ob(674,"span",23),t.rc(675,"4000"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(676,"h2",30),t.rc(677,"Type Checking"),t.Nb(),t.rc(678," The parameters to "),t.Ob(679,"code",6),t.rc(680,"run"),t.Nb(),t.rc(681," will be type checked, to ensure proper evaluation. "),t.Ob(682,"figure",25),t.Ob(683,"figcaption",25),t.rc(684,"Invoke Simple with bad port "),t.Nb(),t.Ob(685,"pre"),t.Ob(686,"code",2),t.rc(687,"$ travetto travetto run simple-domain mydomain.biz orange\n\nUsage: travetto run "),t.Ob(688,"span",13),t.rc(689,"["),t.Nb(),t.rc(690,"options"),t.Ob(691,"span",13),t.rc(692,"]"),t.Nb(),t.rc(693," "),t.Ob(694,"span",13),t.rc(695,"["),t.Nb(),t.rc(696,"application"),t.Ob(697,"span",13),t.rc(698,"]"),t.Nb(),t.rc(699," "),t.Ob(700,"span",13),t.rc(701,"["),t.Nb(),t.rc(702,"args"),t.Ob(703,"span",13),t.rc(704,".."),t.Nb(),t.rc(705,"."),t.Ob(706,"span",13),t.rc(707,"]"),t.Nb(),t.rc(708,"\n\nOptions:\n  -e, --env "),t.Ob(709,"span",13),t.rc(710,"["),t.Nb(),t.rc(711,"env"),t.Ob(712,"span",13),t.rc(713,"]"),t.Nb(),t.rc(714,"                 Application environment "),t.Ob(715,"span",13),t.rc(716,"("),t.Nb(),t.rc(717,"dev"),t.Ob(718,"span",17),t.rc(719,"|"),t.Nb(),t.rc(720,"prod"),t.Ob(721,"span",17),t.rc(722,"|"),t.Nb(),t.Ob(723,"span",17),t.rc(724,"<"),t.Nb(),t.rc(725,"any"),t.Ob(726,"span",17),t.rc(727,">"),t.Nb(),t.Ob(728,"span",13),t.rc(729,")"),t.Nb(),t.rc(730,"\n  -p, --profile "),t.Ob(731,"span",13),t.rc(732,"["),t.Nb(),t.rc(733,"profile"),t.Ob(734,"span",13),t.rc(735,"]"),t.Nb(),t.rc(736,"         Specify additional application profiles\n                                  "),t.Ob(737,"span",13),t.rc(738,"("),t.Nb(),t.rc(739,"default: "),t.Ob(740,"span",13),t.rc(741,"["),t.Nb(),t.Ob(742,"span",13),t.rc(743,"]"),t.Nb(),t.Ob(744,"span",13),t.rc(745,")"),t.Nb(),t.rc(746,"\n  -r, --resource "),t.Ob(747,"span",13),t.rc(748,"["),t.Nb(),t.rc(749,"resourcesRoot"),t.Ob(750,"span",13),t.rc(751,"]"),t.Nb(),t.rc(752,"  Specify additional resource root locations\n                                  "),t.Ob(753,"span",13),t.rc(754,"("),t.Nb(),t.rc(755,"default: "),t.Ob(756,"span",13),t.rc(757,"["),t.Nb(),t.Ob(758,"span",13),t.rc(759,"]"),t.Nb(),t.Ob(760,"span",13),t.rc(761,")"),t.Nb(),t.rc(762,"\n  -h, --help                      display "),t.Ob(763,"span",26),t.rc(764,"help"),t.Nb(),t.rc(765," "),t.Ob(766,"span",12),t.rc(767,"for"),t.Nb(),t.rc(768," "),t.Ob(769,"span",26),t.rc(770,"command"),t.Nb(),t.rc(771,"\n\nUsage: simple-domain domain:string "),t.Ob(772,"span",13),t.rc(773,"["),t.Nb(),t.rc(774,"port:number"),t.Ob(775,"span",17),t.rc(776,"="),t.Nb(),t.Ob(777,"span",23),t.rc(778,"3000"),t.Nb(),t.Ob(779,"span",13),t.rc(780,"]"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(781," The types are inferred from the "),t.Ob(782,"code",6),t.rc(783,".run()"),t.Nb(),t.rc(784," method parameters, but can be overridden in the "),t.Ob(785,"a",5),t.rc(786,"@Application"),t.Nb(),t.rc(787," annotation to support customization. Only primitive types are supported: "),t.Ob(788,"ul"),t.Ob(789,"li"),t.Ob(790,"code",29),t.rc(791,"number"),t.Nb(),t.rc(792," - Float or decimal"),t.Nb(),t.Ob(793,"li"),t.Ob(794,"code",29),t.rc(795,"string"),t.Nb(),t.rc(796," - Default if no type is specified"),t.Nb(),t.Ob(797,"li"),t.Ob(798,"code",29),t.rc(799,"boolean"),t.Nb(),t.rc(800," - true(yes/on/1) and false(no/off/0)"),t.Nb(),t.Ob(801,"li"),t.Ob(802,"code",29),t.rc(803,"union"),t.Nb(),t.rc(804," - Type unions of the same type ("),t.Ob(805,"code",29),t.rc(806,"string_a | string_b"),t.Nb(),t.rc(807," or "),t.Ob(808,"code",29),t.rc(809,"1 | 2 | 3 | 4"),t.Nb(),t.rc(810,")"),t.Nb(),t.Nb(),t.rc(811," Customizing the types is done by name, and allows for greater control: "),t.Ob(812,"figure",9),t.Ob(813,"figcaption",9),t.rc(814,"Complex Entry Point with Customization "),t.Ob(815,"cite"),t.Ob(816,"a",31),t.rc(817,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(818,"pre"),t.Ob(819,"code",11),t.Ob(820,"span",12),t.rc(821,"import"),t.Nb(),t.rc(822," "),t.Ob(823,"span",13),t.rc(824),t.Nb(),t.rc(825," Application "),t.Ob(826,"span",13),t.rc(827),t.Nb(),t.rc(828," "),t.Ob(829,"span",12),t.rc(830,"from"),t.Nb(),t.rc(831," "),t.Ob(832,"span",14),t.rc(833,"'@travetto/app'"),t.Nb(),t.Ob(834,"span",13),t.rc(835,";"),t.Nb(),t.rc(836,"\n\n@"),t.Ob(837,"span",15),t.rc(838,"Application"),t.Nb(),t.Ob(839,"span",13),t.rc(840,"("),t.Nb(),t.Ob(841,"span",14),t.rc(842,"'complex'"),t.Nb(),t.Ob(843,"span",13),t.rc(844,","),t.Nb(),t.rc(845," "),t.Ob(846,"span",13),t.rc(847),t.Nb(),t.rc(848,"\n  paramMap"),t.Ob(849,"span",17),t.rc(850,":"),t.Nb(),t.rc(851," "),t.Ob(852,"span",13),t.rc(853),t.Nb(),t.rc(854,"\n    domain"),t.Ob(855,"span",17),t.rc(856,":"),t.Nb(),t.rc(857," "),t.Ob(858,"span",13),t.rc(859),t.Nb(),t.rc(860,"\n      title"),t.Ob(861,"span",17),t.rc(862,":"),t.Nb(),t.rc(863," "),t.Ob(864,"span",14),t.rc(865,"'Domain Name'"),t.Nb(),t.Ob(866,"span",13),t.rc(867,","),t.Nb(),t.rc(868,"\n      "),t.Ob(869,"span",12),t.rc(870,"type"),t.Nb(),t.Ob(871,"span",17),t.rc(872,":"),t.Nb(),t.rc(873," "),t.Ob(874,"span",14),t.rc(875,"'string'"),t.Nb(),t.Ob(876,"span",13),t.rc(877,","),t.Nb(),t.rc(878,"\n      subtype"),t.Ob(879,"span",17),t.rc(880,":"),t.Nb(),t.rc(881," "),t.Ob(882,"span",14),t.rc(883,"'url'"),t.Nb(),t.rc(884,"\n    "),t.Ob(885,"span",13),t.rc(886),t.Nb(),t.Ob(887,"span",13),t.rc(888,","),t.Nb(),t.rc(889,"\n    port"),t.Ob(890,"span",17),t.rc(891,":"),t.Nb(),t.rc(892," "),t.Ob(893,"span",13),t.rc(894),t.Nb(),t.rc(895,"\n      title"),t.Ob(896,"span",17),t.rc(897,":"),t.Nb(),t.rc(898," "),t.Ob(899,"span",14),t.rc(900,"'Server Port'"),t.Nb(),t.Ob(901,"span",13),t.rc(902,","),t.Nb(),t.rc(903,"\n      def"),t.Ob(904,"span",17),t.rc(905,":"),t.Nb(),t.rc(906," "),t.Ob(907,"span",14),t.rc(908,"'3000'"),t.Nb(),t.rc(909,"\n    "),t.Ob(910,"span",13),t.rc(911),t.Nb(),t.rc(912,"\n  "),t.Ob(913,"span",13),t.rc(914),t.Nb(),t.rc(915,"\n"),t.Ob(916,"span",13),t.rc(917),t.Nb(),t.Ob(918,"span",13),t.rc(919,")"),t.Nb(),t.rc(920,"\n"),t.Ob(921,"span",12),t.rc(922,"class"),t.Nb(),t.rc(923," "),t.Ob(924,"span",16),t.rc(925,"Complex"),t.Nb(),t.rc(926," "),t.Ob(927,"span",13),t.rc(928),t.Nb(),t.rc(929,"\n  "),t.Ob(930,"span",12),t.rc(931,"async"),t.Nb(),t.rc(932," "),t.Ob(933,"span",3),t.rc(934,"run"),t.Nb(),t.Ob(935,"span",13),t.rc(936,"("),t.Nb(),t.Ob(937,"span",21),t.rc(938,"domain"),t.Ob(939,"span",17),t.rc(940,":"),t.Nb(),t.rc(941," "),t.Ob(942,"span",22),t.rc(943,"string"),t.Nb(),t.Ob(944,"span",13),t.rc(945,","),t.Nb(),t.rc(946," port"),t.Ob(947,"span",17),t.rc(948,":"),t.Nb(),t.rc(949," "),t.Ob(950,"span",22),t.rc(951,"number"),t.Nb(),t.Nb(),t.Ob(952,"span",13),t.rc(953,")"),t.Nb(),t.rc(954," "),t.Ob(955,"span",13),t.rc(956),t.Nb(),t.rc(957,"\n    "),t.Ob(958,"span",22),t.rc(959,"console"),t.Nb(),t.Ob(960,"span",13),t.rc(961,"."),t.Nb(),t.Ob(962,"span",3),t.rc(963,"debug"),t.Nb(),t.Ob(964,"span",13),t.rc(965,"("),t.Nb(),t.Ob(966,"span",14),t.rc(967,"'Launching'"),t.Nb(),t.Ob(968,"span",13),t.rc(969,","),t.Nb(),t.rc(970," domain"),t.Ob(971,"span",13),t.rc(972,","),t.Nb(),t.rc(973," "),t.Ob(974,"span",14),t.rc(975,"'on port'"),t.Nb(),t.Ob(976,"span",13),t.rc(977,","),t.Nb(),t.rc(978," port"),t.Ob(979,"span",13),t.rc(980,")"),t.Nb(),t.Ob(981,"span",13),t.rc(982,";"),t.Nb(),t.rc(983,"\n  "),t.Ob(984,"span",13),t.rc(985),t.Nb(),t.rc(986,"\n"),t.Ob(987,"span",13),t.rc(988),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(47),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(21),t.sc("{"),t.zb(6),t.sc("}"),t.zb(3),t.sc("}"),t.zb(18),t.sc("{"),t.zb(26),t.sc("{"),t.zb(22),t.sc("}"),t.zb(3),t.sc("}"),t.zb(28),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(28),t.sc("{"),t.zb(29),t.sc("}"),t.zb(3),t.sc("}"),t.zb(273),t.sc("{"),t.zb(3),t.sc("{"),t.zb(18),t.sc("{"),t.zb(9),t.sc("}"),t.zb(45),t.sc("{"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("{"),t.zb(2),t.sc("}"),t.zb(3),t.sc("}"),t.zb(152),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(6),t.sc("{"),t.zb(6),t.sc("{"),t.zb(27),t.sc("}"),t.zb(8),t.sc("{"),t.zb(17),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(11),t.sc("{"),t.zb(28),t.sc("{"),t.zb(29),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),o=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-di"]],decls:1256,vars:92,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://en.wikipedia.org/wiki/Dependency_injection",1,"external-link"],["target","_blank","href","https://typescriptlang.org",1,"external-link"],[1,"item","input"],["id","declaration"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/src/decorator.ts#L29",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/src/decorator.ts#L72",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-mongo/src/source.ts#L31",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/service/source.ts#L58",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","meta"],[1,"token","class-name"],[1,"token","comment"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-multiple.ts"],[1,"token","constant"],[1,"token","operator"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-abstract.ts"],[1,"token","builtin"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-factory.ts"],[1,"note"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/src/decorator.ts#L9",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/controller.ts#L10",1,"source-link"],["id","injection"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-fields.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-constructor.ts"],[1,"token","parameter"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-factory-params.ts"],["id","multiple-candidates-for-the-same-type"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-multiple-default.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-multiple-primary.ts"],[1,"token","boolean"],["id","manual-invocation"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/src/registry.ts",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/alt/docs/src/injectable-manual.ts"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Dependency Injection "),t.Ob(3,"small"),t.rc(4,"Dependency registration/management and injection support."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/di "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/di"),t.Nb(),t.Nb(),t.Nb(),t.Ob(16,"a",4),t.rc(17,"Dependency injection"),t.Nb(),t.rc(18," is a framework primitive. When used in conjunction with automatic file scanning, it provides for handling of application dependency wiring. Due to the nature of "),t.Ob(19,"a",5),t.rc(20,"Typescript"),t.Nb(),t.rc(21," and type erasure of interfaces, dependency injection only supports "),t.Ob(22,"code",6),t.rc(23,"class"),t.Nb(),t.rc(24,"es as type signafiers. The primary goal of dependency injection is to allow for separation of concerns of object creation and it's usage. "),t.Ob(25,"h2",7),t.rc(26,"Declaration"),t.Nb(),t.rc(27,"\nThe "),t.Ob(28,"a",8),t.rc(29,"@Injectable"),t.Nb(),t.rc(30," and "),t.Ob(31,"a",9),t.rc(32,"@InjectableFactory"),t.Nb(),t.rc(33," decorators provide the registration of dependencies. Dependency declaration revolves around exposing "),t.Ob(34,"code",6),t.rc(35,"class"),t.Nb(),t.rc(36,"es and subtypes thereof to provide necessary functionality. Additionally, the framework will utilize dependencies to satisfy contracts with various backends (e.g. "),t.Ob(37,"a",10),t.rc(38,"MongoModelSource"),t.Nb(),t.rc(39," provides itself as an injectable candidate for "),t.Ob(40,"a",11),t.rc(41,"ModelSource"),t.Nb(),t.rc(42,". "),t.Ob(43,"figure",12),t.Ob(44,"figcaption",12),t.rc(45,"Example Injectable "),t.Ob(46,"cite"),t.Ob(47,"a",13),t.rc(48,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(49,"pre"),t.Ob(50,"code",14),t.Ob(51,"span",15),t.rc(52,"import"),t.Nb(),t.rc(53," "),t.Ob(54,"span",16),t.rc(55),t.Nb(),t.rc(56," Injectable "),t.Ob(57,"span",16),t.rc(58),t.Nb(),t.rc(59," "),t.Ob(60,"span",15),t.rc(61,"from"),t.Nb(),t.rc(62," "),t.Ob(63,"span",17),t.rc(64,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(65,"span",16),t.rc(66,";"),t.Nb(),t.rc(67,"\n\n@"),t.Ob(68,"span",18),t.rc(69,"Injectable"),t.Nb(),t.Ob(70,"span",16),t.rc(71,"("),t.Nb(),t.Ob(72,"span",16),t.rc(73,")"),t.Nb(),t.rc(74,"\n"),t.Ob(75,"span",15),t.rc(76,"class"),t.Nb(),t.rc(77," "),t.Ob(78,"span",19),t.rc(79,"CustomService"),t.Nb(),t.rc(80," "),t.Ob(81,"span",16),t.rc(82),t.Nb(),t.rc(83,"\n  "),t.Ob(84,"span",15),t.rc(85,"async"),t.Nb(),t.rc(86," "),t.Ob(87,"span",3),t.rc(88,"coolOperation"),t.Nb(),t.Ob(89,"span",16),t.rc(90,"("),t.Nb(),t.Ob(91,"span",16),t.rc(92,")"),t.Nb(),t.rc(93," "),t.Ob(94,"span",16),t.rc(95),t.Nb(),t.rc(96,"\n    "),t.Ob(97,"span",20),t.rc(98,"// Do work!"),t.Nb(),t.rc(99,"\n  "),t.Ob(100,"span",16),t.rc(101),t.Nb(),t.rc(102,"\n"),t.Ob(103,"span",16),t.rc(104),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(105," When declaring a dependency, you can also provide a token to allow for multiple instances of the dependency to be defined. This can be used in many situations: "),t.Ob(106,"figure",12),t.Ob(107,"figcaption",12),t.rc(108,"Example Injectable with multiple targets "),t.Ob(109,"cite"),t.Ob(110,"a",21),t.rc(111,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(112,"pre"),t.Ob(113,"code",14),t.Ob(114,"span",15),t.rc(115,"import"),t.Nb(),t.rc(116," "),t.Ob(117,"span",16),t.rc(118),t.Nb(),t.rc(119," Injectable"),t.Ob(120,"span",16),t.rc(121,","),t.Nb(),t.rc(122," Inject "),t.Ob(123,"span",16),t.rc(124),t.Nb(),t.rc(125," "),t.Ob(126,"span",15),t.rc(127,"from"),t.Nb(),t.rc(128," "),t.Ob(129,"span",17),t.rc(130,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(131,"span",16),t.rc(132,";"),t.Nb(),t.rc(133,"\n\n@"),t.Ob(134,"span",18),t.rc(135,"Injectable"),t.Nb(),t.Ob(136,"span",16),t.rc(137,"("),t.Nb(),t.Ob(138,"span",16),t.rc(139,")"),t.Nb(),t.rc(140,"\n"),t.Ob(141,"span",15),t.rc(142,"class"),t.Nb(),t.rc(143," "),t.Ob(144,"span",19),t.rc(145,"CustomService"),t.Nb(),t.rc(146," "),t.Ob(147,"span",16),t.rc(148),t.Nb(),t.rc(149,"\n  "),t.Ob(150,"span",15),t.rc(151,"async"),t.Nb(),t.rc(152," "),t.Ob(153,"span",3),t.rc(154,"coolOperation"),t.Nb(),t.Ob(155,"span",16),t.rc(156,"("),t.Nb(),t.Ob(157,"span",16),t.rc(158,")"),t.Nb(),t.rc(159," "),t.Ob(160,"span",16),t.rc(161),t.Nb(),t.rc(162,"\n    "),t.Ob(163,"span",20),t.rc(164,"// do work!"),t.Nb(),t.rc(165,"\n  "),t.Ob(166,"span",16),t.rc(167),t.Nb(),t.rc(168,"\n"),t.Ob(169,"span",16),t.rc(170),t.Nb(),t.rc(171,"\n\n"),t.Ob(172,"span",15),t.rc(173,"const"),t.Nb(),t.rc(174," "),t.Ob(175,"span",22),t.rc(176,"CUSTOM2"),t.Nb(),t.rc(177," "),t.Ob(178,"span",23),t.rc(179,"="),t.Nb(),t.rc(180," Symbol"),t.Ob(181,"span",16),t.rc(182,"."),t.Nb(),t.Ob(183,"span",15),t.rc(184,"for"),t.Nb(),t.Ob(185,"span",16),t.rc(186,"("),t.Nb(),t.Ob(187,"span",17),t.rc(188,"'di-custom2'"),t.Nb(),t.Ob(189,"span",16),t.rc(190,")"),t.Nb(),t.Ob(191,"span",16),t.rc(192,";"),t.Nb(),t.rc(193,"\n\n@"),t.Ob(194,"span",18),t.rc(195,"Injectable"),t.Nb(),t.Ob(196,"span",16),t.rc(197,"("),t.Nb(),t.Ob(198,"span",16),t.rc(199),t.Nb(),t.rc(200," target"),t.Ob(201,"span",23),t.rc(202,":"),t.Nb(),t.rc(203," CustomService"),t.Ob(204,"span",16),t.rc(205,","),t.Nb(),t.rc(206," qualifier"),t.Ob(207,"span",23),t.rc(208,":"),t.Nb(),t.rc(209," "),t.Ob(210,"span",22),t.rc(211,"CUSTOM2"),t.Nb(),t.rc(212," "),t.Ob(213,"span",16),t.rc(214),t.Nb(),t.Ob(215,"span",16),t.rc(216,")"),t.Nb(),t.rc(217,"\n"),t.Ob(218,"span",15),t.rc(219,"class"),t.Nb(),t.rc(220," "),t.Ob(221,"span",19),t.rc(222,"CustomService2"),t.Nb(),t.rc(223," "),t.Ob(224,"span",15),t.rc(225,"extends"),t.Nb(),t.rc(226," "),t.Ob(227,"span",19),t.rc(228,"CustomService"),t.Nb(),t.rc(229," "),t.Ob(230,"span",16),t.rc(231),t.Nb(),t.rc(232,"\n  "),t.Ob(233,"span",15),t.rc(234,"async"),t.Nb(),t.rc(235," "),t.Ob(236,"span",3),t.rc(237,"coolOperation"),t.Nb(),t.Ob(238,"span",16),t.rc(239,"("),t.Nb(),t.Ob(240,"span",16),t.rc(241,")"),t.Nb(),t.rc(242," "),t.Ob(243,"span",16),t.rc(244),t.Nb(),t.rc(245,"\n    "),t.Ob(246,"span",15),t.rc(247,"await"),t.Nb(),t.rc(248," "),t.Ob(249,"span",15),t.rc(250,"super"),t.Nb(),t.Ob(251,"span",16),t.rc(252,"."),t.Nb(),t.Ob(253,"span",3),t.rc(254,"coolOperation"),t.Nb(),t.Ob(255,"span",16),t.rc(256,"("),t.Nb(),t.Ob(257,"span",16),t.rc(258,")"),t.Nb(),t.Ob(259,"span",16),t.rc(260,";"),t.Nb(),t.rc(261,"\n    "),t.Ob(262,"span",20),t.rc(263,"// Do some additional work"),t.Nb(),t.rc(264,"\n  "),t.Ob(265,"span",16),t.rc(266),t.Nb(),t.rc(267,"\n"),t.Ob(268,"span",16),t.rc(269),t.Nb(),t.rc(270,"\n\n"),t.Ob(271,"span",15),t.rc(272,"class"),t.Nb(),t.rc(273," "),t.Ob(274,"span",19),t.rc(275,"Consumer"),t.Nb(),t.rc(276," "),t.Ob(277,"span",16),t.rc(278),t.Nb(),t.rc(279,"\n  @"),t.Ob(280,"span",18),t.rc(281,"Inject"),t.Nb(),t.Ob(282,"span",16),t.rc(283,"("),t.Nb(),t.Ob(284,"span",22),t.rc(285,"CUSTOM2"),t.Nb(),t.Ob(286,"span",16),t.rc(287,")"),t.Nb(),t.rc(288," "),t.Ob(289,"span",20),t.rc(290,"// Pull in specific service"),t.Nb(),t.rc(291,"\n  service"),t.Ob(292,"span",23),t.rc(293,":"),t.Nb(),t.rc(294," CustomService"),t.Ob(295,"span",16),t.rc(296,";"),t.Nb(),t.rc(297,"\n"),t.Ob(298,"span",16),t.rc(299),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(300," As you can see, the "),t.Ob(301,"code",6),t.rc(302,"target"),t.Nb(),t.rc(303," field is also set, which indicates to the dependency registration process what "),t.Ob(304,"code",6),t.rc(305,"class"),t.Nb(),t.rc(306," the injectable is compatible with. Additionally, when using "),t.Ob(307,"code",6),t.rc(308,"abstract"),t.Nb(),t.rc(309," classes, the parent "),t.Ob(310,"code",6),t.rc(311,"class"),t.Nb(),t.rc(312," is always considered as a valid candidate type. "),t.Ob(313,"figure",12),t.Ob(314,"figcaption",12),t.rc(315,"Example Injectable with target via abstract class "),t.Ob(316,"cite"),t.Ob(317,"a",24),t.rc(318,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(319,"pre"),t.Ob(320,"code",14),t.Ob(321,"span",15),t.rc(322,"import"),t.Nb(),t.rc(323," "),t.Ob(324,"span",16),t.rc(325),t.Nb(),t.rc(326," Injectable "),t.Ob(327,"span",16),t.rc(328),t.Nb(),t.rc(329," "),t.Ob(330,"span",15),t.rc(331,"from"),t.Nb(),t.rc(332," "),t.Ob(333,"span",17),t.rc(334,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(335,"span",16),t.rc(336,";"),t.Nb(),t.rc(337,"\n\n"),t.Ob(338,"span",15),t.rc(339,"abstract"),t.Nb(),t.rc(340," "),t.Ob(341,"span",15),t.rc(342,"class"),t.Nb(),t.rc(343," "),t.Ob(344,"span",19),t.rc(345,"BaseService"),t.Nb(),t.rc(346," "),t.Ob(347,"span",16),t.rc(348),t.Nb(),t.rc(349,"\n  "),t.Ob(350,"span",15),t.rc(351,"abstract"),t.Nb(),t.rc(352," "),t.Ob(353,"span",3),t.rc(354,"work"),t.Nb(),t.Ob(355,"span",16),t.rc(356,"("),t.Nb(),t.Ob(357,"span",16),t.rc(358,")"),t.Nb(),t.Ob(359,"span",23),t.rc(360,":"),t.Nb(),t.rc(361," "),t.Ob(362,"span",25),t.rc(363,"Promise"),t.Nb(),t.Ob(364,"span",23),t.rc(365,"<"),t.Nb(),t.Ob(366,"span",15),t.rc(367,"void"),t.Nb(),t.Ob(368,"span",23),t.rc(369,">"),t.Nb(),t.Ob(370,"span",16),t.rc(371,";"),t.Nb(),t.rc(372,"\n"),t.Ob(373,"span",16),t.rc(374),t.Nb(),t.rc(375,"\n\n@"),t.Ob(376,"span",18),t.rc(377,"Injectable"),t.Nb(),t.Ob(378,"span",16),t.rc(379,"("),t.Nb(),t.Ob(380,"span",16),t.rc(381,")"),t.Nb(),t.rc(382,"\n"),t.Ob(383,"span",15),t.rc(384,"class"),t.Nb(),t.rc(385," "),t.Ob(386,"span",19),t.rc(387,"SpecificService"),t.Nb(),t.rc(388," "),t.Ob(389,"span",15),t.rc(390,"extends"),t.Nb(),t.rc(391," "),t.Ob(392,"span",19),t.rc(393,"BaseService"),t.Nb(),t.rc(394," "),t.Ob(395,"span",16),t.rc(396),t.Nb(),t.rc(397,"\n  "),t.Ob(398,"span",15),t.rc(399,"async"),t.Nb(),t.rc(400," "),t.Ob(401,"span",3),t.rc(402,"work"),t.Nb(),t.Ob(403,"span",16),t.rc(404,"("),t.Nb(),t.Ob(405,"span",16),t.rc(406,")"),t.Nb(),t.rc(407," "),t.Ob(408,"span",16),t.rc(409),t.Nb(),t.rc(410,"\n    "),t.Ob(411,"span",20),t.rc(412,"// Do some additional work"),t.Nb(),t.rc(413,"\n  "),t.Ob(414,"span",16),t.rc(415),t.Nb(),t.rc(416,"\n"),t.Ob(417,"span",16),t.rc(418),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(419," In this scenario, "),t.Ob(420,"code",6),t.rc(421,"SpecificService"),t.Nb(),t.rc(422," is a valid candidate for "),t.Ob(423,"code",6),t.rc(424,"BaseService"),t.Nb(),t.rc(425," due to the abstract inheritance. Sometimes, you may want to provide a slight variation to a dependency without extending a class. To this end, the "),t.Ob(426,"a",9),t.rc(427,"@InjectableFactory"),t.Nb(),t.rc(428," decorator denotes a "),t.Ob(429,"code",6),t.rc(430,"static"),t.Nb(),t.rc(431," class method that produces an "),t.Ob(432,"a",8),t.rc(433,"@Injectable"),t.Nb(),t.rc(434,". "),t.Ob(435,"figure",12),t.Ob(436,"figcaption",12),t.rc(437,"Example InjectableFactory "),t.Ob(438,"cite"),t.Ob(439,"a",26),t.rc(440,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(441,"pre"),t.Ob(442,"code",14),t.Ob(443,"span",15),t.rc(444,"import"),t.Nb(),t.rc(445," "),t.Ob(446,"span",16),t.rc(447),t.Nb(),t.rc(448," InjectableFactory "),t.Ob(449,"span",16),t.rc(450),t.Nb(),t.rc(451," "),t.Ob(452,"span",15),t.rc(453,"from"),t.Nb(),t.rc(454," "),t.Ob(455,"span",17),t.rc(456,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(457,"span",16),t.rc(458,";"),t.Nb(),t.rc(459,"\n\n"),t.Ob(460,"span",20),t.rc(461,"// Not injectable by default"),t.Nb(),t.rc(462,"\n"),t.Ob(463,"span",15),t.rc(464,"class"),t.Nb(),t.rc(465," "),t.Ob(466,"span",19),t.rc(467,"CoolService"),t.Nb(),t.rc(468," "),t.Ob(469,"span",16),t.rc(470),t.Nb(),t.rc(471,"\n\n"),t.Ob(472,"span",16),t.rc(473),t.Nb(),t.rc(474,"\n\n"),t.Ob(475,"span",15),t.rc(476,"class"),t.Nb(),t.rc(477," "),t.Ob(478,"span",19),t.rc(479,"Config"),t.Nb(),t.rc(480," "),t.Ob(481,"span",16),t.rc(482),t.Nb(),t.rc(483,"\n  @"),t.Ob(484,"span",18),t.rc(485,"InjectableFactory"),t.Nb(),t.Ob(486,"span",16),t.rc(487,"("),t.Nb(),t.Ob(488,"span",16),t.rc(489,")"),t.Nb(),t.rc(490,"\n  "),t.Ob(491,"span",15),t.rc(492,"static"),t.Nb(),t.rc(493," "),t.Ob(494,"span",3),t.rc(495,"initService"),t.Nb(),t.Ob(496,"span",16),t.rc(497,"("),t.Nb(),t.Ob(498,"span",16),t.rc(499,")"),t.Nb(),t.rc(500," "),t.Ob(501,"span",16),t.rc(502),t.Nb(),t.rc(503,"\n    "),t.Ob(504,"span",15),t.rc(505,"return"),t.Nb(),t.rc(506," "),t.Ob(507,"span",15),t.rc(508,"new"),t.Nb(),t.rc(509," "),t.Ob(510,"span",19),t.rc(511,"CoolService"),t.Nb(),t.Ob(512,"span",16),t.rc(513,"("),t.Nb(),t.Ob(514,"span",16),t.rc(515,")"),t.Nb(),t.Ob(516,"span",16),t.rc(517,";"),t.Nb(),t.rc(518,"\n  "),t.Ob(519,"span",16),t.rc(520),t.Nb(),t.rc(521,"\n"),t.Ob(522,"span",16),t.rc(523),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(524," Given the "),t.Ob(525,"code",6),t.rc(526,"static"),t.Nb(),t.rc(527," method "),t.Ob(528,"code",6),t.rc(529,"initService"),t.Nb(),t.rc(530,", the function will be provided as a valid candidate for "),t.Ob(531,"code",6),t.rc(532,"CoolService"),t.Nb(),t.rc(533,". Instead of calling the constructor of the type directly, this function will work as a factory for producing the injectable. "),t.Ob(534,"p",27),t.Ob(535,"strong"),t.rc(536,"Note"),t.Nb(),t.rc(537," Other modules are able to provide aliases to "),t.Ob(538,"a",8),t.rc(539,"@Injectable"),t.Nb(),t.rc(540," that also provide additional functionality. For example, the "),t.Ob(541,"a",28),t.rc(542,"@Config"),t.Nb(),t.rc(543," or the "),t.Ob(544,"a",29),t.rc(545,"@Controller"),t.Nb(),t.rc(546," decorator registers the associated class as an injectable element."),t.Nb(),t.Ob(547,"h2",30),t.rc(548,"Injection"),t.Nb(),t.rc(549," Once all of your necessary dependencies are defined, now is the time to provide those "),t.Ob(550,"a",8),t.rc(551,"@Injectable"),t.Nb(),t.rc(552," instances to your code. There are three primary methods for injection: The "),t.Ob(553,"a",8),t.rc(554,"@Inject"),t.Nb(),t.rc(555," decorator, which denotes a desire to inject a value directly. These will be set post construction. "),t.Ob(556,"figure",12),t.Ob(557,"figcaption",12),t.rc(558,"Example Injectable with dependencies as "),t.Ob(559,"a",8),t.rc(560,"@Inject"),t.Nb(),t.rc(561," fields "),t.Ob(562,"cite"),t.Ob(563,"a",31),t.rc(564,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(565,"pre"),t.Ob(566,"code",14),t.Ob(567,"span",15),t.rc(568,"import"),t.Nb(),t.rc(569," "),t.Ob(570,"span",16),t.rc(571),t.Nb(),t.rc(572," Injectable"),t.Ob(573,"span",16),t.rc(574,","),t.Nb();t.rc(575," Inject "),t.Ob(576,"span",16),t.rc(577),t.Nb(),t.rc(578," "),t.Ob(579,"span",15),t.rc(580,"from"),t.Nb(),t.rc(581," "),t.Ob(582,"span",17),t.rc(583,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(584,"span",16),t.rc(585,";"),t.Nb(),t.rc(586,"\n"),t.Ob(587,"span",15),t.rc(588,"import"),t.Nb(),t.rc(589," "),t.Ob(590,"span",16),t.rc(591),t.Nb(),t.rc(592," DependentService "),t.Ob(593,"span",16),t.rc(594),t.Nb(),t.rc(595," "),t.Ob(596,"span",15),t.rc(597,"from"),t.Nb(),t.rc(598," "),t.Ob(599,"span",17),t.rc(600,"'./dep'"),t.Nb(),t.Ob(601,"span",16),t.rc(602,";"),t.Nb(),t.rc(603,"\n\n@"),t.Ob(604,"span",18),t.rc(605,"Injectable"),t.Nb(),t.Ob(606,"span",16),t.rc(607,"("),t.Nb(),t.Ob(608,"span",16),t.rc(609,")"),t.Nb(),t.rc(610,"\n"),t.Ob(611,"span",15),t.rc(612,"class"),t.Nb(),t.rc(613," "),t.Ob(614,"span",19),t.rc(615,"CustomService"),t.Nb(),t.rc(616," "),t.Ob(617,"span",16),t.rc(618),t.Nb(),t.rc(619,"\n  @"),t.Ob(620,"span",18),t.rc(621,"Inject"),t.Nb(),t.Ob(622,"span",16),t.rc(623,"("),t.Nb(),t.Ob(624,"span",16),t.rc(625,")"),t.Nb(),t.rc(626,"\n  "),t.Ob(627,"span",15),t.rc(628,"private"),t.Nb(),t.rc(629," dependentService"),t.Ob(630,"span",23),t.rc(631,":"),t.Nb(),t.rc(632," DependentService"),t.Ob(633,"span",16),t.rc(634,";"),t.Nb(),t.rc(635,"\n\n  "),t.Ob(636,"span",15),t.rc(637,"async"),t.Nb(),t.rc(638," "),t.Ob(639,"span",3),t.rc(640,"coolOperation"),t.Nb(),t.Ob(641,"span",16),t.rc(642,"("),t.Nb(),t.Ob(643,"span",16),t.rc(644,")"),t.Nb(),t.rc(645," "),t.Ob(646,"span",16),t.rc(647),t.Nb(),t.rc(648,"\n    "),t.Ob(649,"span",15),t.rc(650,"await"),t.Nb(),t.rc(651," "),t.Ob(652,"span",15),t.rc(653,"this"),t.Nb(),t.Ob(654,"span",16),t.rc(655,"."),t.Nb(),t.rc(656,"dependentService"),t.Ob(657,"span",16),t.rc(658,"."),t.Nb(),t.Ob(659,"span",3),t.rc(660,"doWork"),t.Nb(),t.Ob(661,"span",16),t.rc(662,"("),t.Nb(),t.Ob(663,"span",16),t.rc(664,")"),t.Nb(),t.Ob(665,"span",16),t.rc(666,";"),t.Nb(),t.rc(667,"\n  "),t.Ob(668,"span",16),t.rc(669),t.Nb(),t.rc(670,"\n"),t.Ob(671,"span",16),t.rc(672),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(673," The "),t.Ob(674,"a",8),t.rc(675,"@Injectable"),t.Nb(),t.rc(676," constructor params, which will be provided as the instance is being constructed. "),t.Ob(677,"figure",12),t.Ob(678,"figcaption",12),t.rc(679,"Example Injectable with dependencies in constructor "),t.Ob(680,"cite"),t.Ob(681,"a",32),t.rc(682,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(683,"pre"),t.Ob(684,"code",14),t.Ob(685,"span",15),t.rc(686,"import"),t.Nb(),t.rc(687," "),t.Ob(688,"span",16),t.rc(689),t.Nb(),t.rc(690," Injectable "),t.Ob(691,"span",16),t.rc(692),t.Nb(),t.rc(693," "),t.Ob(694,"span",15),t.rc(695,"from"),t.Nb(),t.rc(696," "),t.Ob(697,"span",17),t.rc(698,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(699,"span",16),t.rc(700,";"),t.Nb(),t.rc(701,"\n"),t.Ob(702,"span",15),t.rc(703,"import"),t.Nb(),t.rc(704," "),t.Ob(705,"span",16),t.rc(706),t.Nb(),t.rc(707," DependentService "),t.Ob(708,"span",16),t.rc(709),t.Nb(),t.rc(710," "),t.Ob(711,"span",15),t.rc(712,"from"),t.Nb(),t.rc(713," "),t.Ob(714,"span",17),t.rc(715,"'./dep'"),t.Nb(),t.Ob(716,"span",16),t.rc(717,";"),t.Nb(),t.rc(718,"\n\n@"),t.Ob(719,"span",18),t.rc(720,"Injectable"),t.Nb(),t.Ob(721,"span",16),t.rc(722,"("),t.Nb(),t.Ob(723,"span",16),t.rc(724,")"),t.Nb(),t.rc(725,"\n"),t.Ob(726,"span",15),t.rc(727,"class"),t.Nb(),t.rc(728," "),t.Ob(729,"span",19),t.rc(730,"CustomService"),t.Nb(),t.rc(731," "),t.Ob(732,"span",16),t.rc(733),t.Nb(),t.rc(734,"\n  "),t.Ob(735,"span",15),t.rc(736,"constructor"),t.Nb(),t.Ob(737,"span",16),t.rc(738,"("),t.Nb(),t.Ob(739,"span",33),t.Ob(740,"span",15),t.rc(741,"private"),t.Nb(),t.rc(742," dependentService"),t.Ob(743,"span",23),t.rc(744,":"),t.Nb(),t.rc(745," DependentService"),t.Nb(),t.Ob(746,"span",16),t.rc(747,")"),t.Nb(),t.rc(748," "),t.Ob(749,"span",16),t.rc(750),t.Nb(),t.rc(751," "),t.Ob(752,"span",16),t.rc(753),t.Nb(),t.rc(754,"\n\n  "),t.Ob(755,"span",15),t.rc(756,"async"),t.Nb(),t.rc(757," "),t.Ob(758,"span",3),t.rc(759,"coolOperation"),t.Nb(),t.Ob(760,"span",16),t.rc(761,"("),t.Nb(),t.Ob(762,"span",16),t.rc(763,")"),t.Nb(),t.rc(764," "),t.Ob(765,"span",16),t.rc(766),t.Nb(),t.rc(767,"\n    "),t.Ob(768,"span",15),t.rc(769,"await"),t.Nb(),t.rc(770," "),t.Ob(771,"span",15),t.rc(772,"this"),t.Nb(),t.Ob(773,"span",16),t.rc(774,"."),t.Nb(),t.rc(775,"dependentService"),t.Ob(776,"span",16),t.rc(777,"."),t.Nb(),t.Ob(778,"span",3),t.rc(779,"doWork"),t.Nb(),t.Ob(780,"span",16),t.rc(781,"("),t.Nb(),t.Ob(782,"span",16),t.rc(783,")"),t.Nb(),t.Ob(784,"span",16),t.rc(785,";"),t.Nb(),t.rc(786,"\n  "),t.Ob(787,"span",16),t.rc(788),t.Nb(),t.rc(789,"\n"),t.Ob(790,"span",16),t.rc(791),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(792," Via "),t.Ob(793,"a",9),t.rc(794,"@InjectableFactory"),t.Nb(),t.rc(795," params, which are comparable to constructor params "),t.Ob(796,"figure",12),t.Ob(797,"figcaption",12),t.rc(798,"Example InjectableFactory with parameters as dependencies "),t.Ob(799,"cite"),t.Ob(800,"a",34),t.rc(801,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(802,"pre"),t.Ob(803,"code",14),t.Ob(804,"span",15),t.rc(805,"import"),t.Nb(),t.rc(806," "),t.Ob(807,"span",16),t.rc(808),t.Nb(),t.rc(809," InjectableFactory "),t.Ob(810,"span",16),t.rc(811),t.Nb(),t.rc(812," "),t.Ob(813,"span",15),t.rc(814,"from"),t.Nb(),t.rc(815," "),t.Ob(816,"span",17),t.rc(817,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(818,"span",16),t.rc(819,";"),t.Nb(),t.rc(820,"\n"),t.Ob(821,"span",15),t.rc(822,"import"),t.Nb(),t.rc(823," "),t.Ob(824,"span",16),t.rc(825),t.Nb(),t.rc(826," DependentService"),t.Ob(827,"span",16),t.rc(828,","),t.Nb(),t.rc(829," CustomService "),t.Ob(830,"span",16),t.rc(831),t.Nb(),t.rc(832," "),t.Ob(833,"span",15),t.rc(834,"from"),t.Nb(),t.rc(835," "),t.Ob(836,"span",17),t.rc(837,"'./dep'"),t.Nb(),t.Ob(838,"span",16),t.rc(839,";"),t.Nb(),t.rc(840,"\n\n"),t.Ob(841,"span",15),t.rc(842,"class"),t.Nb(),t.rc(843," "),t.Ob(844,"span",19),t.rc(845,"Config"),t.Nb(),t.rc(846," "),t.Ob(847,"span",16),t.rc(848),t.Nb(),t.rc(849,"\n  @"),t.Ob(850,"span",18),t.rc(851,"InjectableFactory"),t.Nb(),t.Ob(852,"span",16),t.rc(853,"("),t.Nb(),t.Ob(854,"span",16),t.rc(855,")"),t.Nb(),t.rc(856,"\n  "),t.Ob(857,"span",15),t.rc(858,"static"),t.Nb(),t.rc(859," "),t.Ob(860,"span",3),t.rc(861,"initService"),t.Nb(),t.Ob(862,"span",16),t.rc(863,"("),t.Nb(),t.Ob(864,"span",33),t.rc(865,"dependentService"),t.Ob(866,"span",23),t.rc(867,":"),t.Nb(),t.rc(868," DependentService"),t.Nb(),t.Ob(869,"span",16),t.rc(870,")"),t.Nb(),t.rc(871," "),t.Ob(872,"span",16),t.rc(873),t.Nb(),t.rc(874,"\n    "),t.Ob(875,"span",15),t.rc(876,"return"),t.Nb(),t.rc(877," "),t.Ob(878,"span",15),t.rc(879,"new"),t.Nb(),t.rc(880," "),t.Ob(881,"span",19),t.rc(882,"CustomService"),t.Nb(),t.Ob(883,"span",16),t.rc(884,"("),t.Nb(),t.rc(885,"dependentService"),t.Ob(886,"span",16),t.rc(887,")"),t.Nb(),t.Ob(888,"span",16),t.rc(889,";"),t.Nb(),t.rc(890,"\n  "),t.Ob(891,"span",16),t.rc(892),t.Nb(),t.rc(893,"\n"),t.Ob(894,"span",16),t.rc(895),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(896,"h3",35),t.rc(897,"Multiple Candidates for the Same Type"),t.Nb(),t.rc(898," If you are building modules for others to consume, often times it is possible to end up with multiple implementations for the same class. "),t.Ob(899,"figure",12),t.Ob(900,"figcaption",12),t.rc(901,"Example Multiple Candiate Types "),t.Ob(902,"cite"),t.Ob(903,"a",36),t.rc(904,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(905,"pre"),t.Ob(906,"code",14),t.Ob(907,"span",15),t.rc(908,"import"),t.Nb(),t.rc(909," "),t.Ob(910,"span",16),t.rc(911),t.Nb(),t.rc(912," Injectable"),t.Ob(913,"span",16),t.rc(914,","),t.Nb(),t.rc(915," Inject "),t.Ob(916,"span",16),t.rc(917),t.Nb(),t.rc(918," "),t.Ob(919,"span",15),t.rc(920,"from"),t.Nb(),t.rc(921," "),t.Ob(922,"span",17),t.rc(923,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(924,"span",16),t.rc(925,";"),t.Nb(),t.rc(926,"\n\n"),t.Ob(927,"span",15),t.rc(928,"export"),t.Nb(),t.rc(929," "),t.Ob(930,"span",15),t.rc(931,"abstract"),t.Nb(),t.rc(932," "),t.Ob(933,"span",15),t.rc(934,"class"),t.Nb(),t.rc(935," "),t.Ob(936,"span",19),t.rc(937,"Contract"),t.Nb(),t.rc(938," "),t.Ob(939,"span",16),t.rc(940),t.Nb(),t.rc(941,"\n\n"),t.Ob(942,"span",16),t.rc(943),t.Nb(),t.rc(944,"\n\n@"),t.Ob(945,"span",18),t.rc(946,"Injectable"),t.Nb(),t.Ob(947,"span",16),t.rc(948,"("),t.Nb(),t.Ob(949,"span",16),t.rc(950,")"),t.Nb(),t.rc(951,"\n"),t.Ob(952,"span",15),t.rc(953,"class"),t.Nb(),t.rc(954," "),t.Ob(955,"span",19),t.rc(956,"SimpleContract"),t.Nb(),t.rc(957," "),t.Ob(958,"span",15),t.rc(959,"extends"),t.Nb(),t.rc(960," "),t.Ob(961,"span",19),t.rc(962,"Contract"),t.Nb(),t.rc(963," "),t.Ob(964,"span",16),t.rc(965),t.Nb(),t.rc(966," "),t.Ob(967,"span",16),t.rc(968),t.Nb(),t.rc(969,"\n\n@"),t.Ob(970,"span",18),t.rc(971,"Injectable"),t.Nb(),t.Ob(972,"span",16),t.rc(973,"("),t.Nb(),t.Ob(974,"span",16),t.rc(975,")"),t.Nb(),t.rc(976,"\n"),t.Ob(977,"span",15),t.rc(978,"export"),t.Nb(),t.rc(979," "),t.Ob(980,"span",15),t.rc(981,"class"),t.Nb(),t.rc(982," "),t.Ob(983,"span",19),t.rc(984,"ComplexContract"),t.Nb(),t.rc(985," "),t.Ob(986,"span",15),t.rc(987,"extends"),t.Nb(),t.rc(988," "),t.Ob(989,"span",19),t.rc(990,"Contract"),t.Nb(),t.rc(991," "),t.Ob(992,"span",16),t.rc(993),t.Nb(),t.rc(994," "),t.Ob(995,"span",16),t.rc(996),t.Nb(),t.rc(997,"\n\n@"),t.Ob(998,"span",18),t.rc(999,"Injectable"),t.Nb(),t.Ob(1e3,"span",16),t.rc(1001,"("),t.Nb(),t.Ob(1002,"span",16),t.rc(1003,")"),t.Nb(),t.rc(1004,"\n"),t.Ob(1005,"span",15),t.rc(1006,"class"),t.Nb(),t.rc(1007," "),t.Ob(1008,"span",19),t.rc(1009,"ContractConsumer"),t.Nb(),t.rc(1010," "),t.Ob(1011,"span",16),t.rc(1012),t.Nb(),t.rc(1013,"\n  "),t.Ob(1014,"span",20),t.rc(1015,"// Will default to SimpleContract if nothing else registered"),t.Nb(),t.rc(1016,"\n  @"),t.Ob(1017,"span",18),t.rc(1018,"Inject"),t.Nb(),t.Ob(1019,"span",16),t.rc(1020,"("),t.Nb(),t.Ob(1021,"span",16),t.rc(1022,")"),t.Nb(),t.rc(1023,"\n  contract"),t.Ob(1024,"span",23),t.rc(1025,":"),t.Nb(),t.rc(1026," Contract"),t.Ob(1027,"span",16),t.rc(1028,";"),t.Nb(),t.rc(1029,"\n"),t.Ob(1030,"span",16),t.rc(1031),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1032," By default, if there is only one candidate without qualification, then that candidate will be used. If multiple candidates are found, then the injection system will bail. To overcome this the end user will need to specify which candidate type should be considered "),t.Ob(1033,"code",6),t.rc(1034,"primary"),t.Nb(),t.rc(1035,": "),t.Ob(1036,"figure",12),t.Ob(1037,"figcaption",12),t.rc(1038,"Example Multiple Candiate Types "),t.Ob(1039,"cite"),t.Ob(1040,"a",37),t.rc(1041,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1042,"pre"),t.Ob(1043,"code",14),t.Ob(1044,"span",15),t.rc(1045,"import"),t.Nb(),t.rc(1046," "),t.Ob(1047,"span",16),t.rc(1048),t.Nb(),t.rc(1049," InjectableFactory "),t.Ob(1050,"span",16),t.rc(1051),t.Nb(),t.rc(1052," "),t.Ob(1053,"span",15),t.rc(1054,"from"),t.Nb(),t.rc(1055," "),t.Ob(1056,"span",17),t.rc(1057,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(1058,"span",16),t.rc(1059,";"),t.Nb(),t.rc(1060,"\n"),t.Ob(1061,"span",15),t.rc(1062,"import"),t.Nb(),t.rc(1063," "),t.Ob(1064,"span",16),t.rc(1065),t.Nb(),t.rc(1066," Contract"),t.Ob(1067,"span",16),t.rc(1068,","),t.Nb(),t.rc(1069," ComplexContract "),t.Ob(1070,"span",16),t.rc(1071),t.Nb(),t.rc(1072," "),t.Ob(1073,"span",15),t.rc(1074,"from"),t.Nb(),t.rc(1075," "),t.Ob(1076,"span",17),t.rc(1077,"'./injectable-multiple-default'"),t.Nb(),t.Ob(1078,"span",16),t.rc(1079,";"),t.Nb(),t.rc(1080,"\n\n"),t.Ob(1081,"span",15),t.rc(1082,"class"),t.Nb(),t.rc(1083," "),t.Ob(1084,"span",19),t.rc(1085,"Config"),t.Nb(),t.rc(1086," "),t.Ob(1087,"span",16),t.rc(1088),t.Nb(),t.rc(1089,"\n  "),t.Ob(1090,"span",20),t.rc(1091,"// Complex will be marked as the available Contract"),t.Nb(),t.rc(1092,"\n  @"),t.Ob(1093,"span",18),t.rc(1094,"InjectableFactory"),t.Nb(),t.Ob(1095,"span",16),t.rc(1096,"("),t.Nb(),t.Ob(1097,"span",16),t.rc(1098),t.Nb(),t.rc(1099," primary"),t.Ob(1100,"span",23),t.rc(1101,":"),t.Nb(),t.rc(1102," "),t.Ob(1103,"span",38),t.rc(1104,"true"),t.Nb(),t.rc(1105," "),t.Ob(1106,"span",16),t.rc(1107),t.Nb(),t.Ob(1108,"span",16),t.rc(1109,")"),t.Nb(),t.rc(1110,"\n  "),t.Ob(1111,"span",15),t.rc(1112,"static"),t.Nb(),t.rc(1113," "),t.Ob(1114,"span",3),t.rc(1115,"getContract"),t.Nb(),t.Ob(1116,"span",16),t.rc(1117,"("),t.Nb(),t.rc(1118,"complex"),t.Ob(1119,"span",23),t.rc(1120,":"),t.Nb(),t.rc(1121," ComplexContract"),t.Ob(1122,"span",16),t.rc(1123,")"),t.Nb(),t.Ob(1124,"span",23),t.rc(1125,":"),t.Nb(),t.rc(1126," Contract "),t.Ob(1127,"span",16),t.rc(1128),t.Nb(),t.rc(1129,"\n    "),t.Ob(1130,"span",15),t.rc(1131,"return"),t.Nb(),t.rc(1132," complex"),t.Ob(1133,"span",16),t.rc(1134,";"),t.Nb(),t.rc(1135,"\n  "),t.Ob(1136,"span",16),t.rc(1137),t.Nb(),t.rc(1138,"\n"),t.Ob(1139,"span",16),t.rc(1140),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1141,"h2",39),t.rc(1142,"Manual Invocation"),t.Nb(),t.rc(1143," Some times you will need to lookup a dependency dynamically, or you want to control the injection process at a more granular level. To achieve that you will need to directly access the "),t.Ob(1144,"a",40),t.rc(1145,"DependencyRegistry"),t.Nb(),t.rc(1146,". The registry allows for requesting a dependency by class reference: "),t.Ob(1147,"figure",12),t.Ob(1148,"figcaption",12),t.rc(1149,"Example of Manual Lookup ");t.Ob(1150,"cite"),t.Ob(1151,"a",41),t.rc(1152,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1153,"pre"),t.Ob(1154,"code",14),t.Ob(1155,"span",15),t.rc(1156,"import"),t.Nb(),t.rc(1157," "),t.Ob(1158,"span",16),t.rc(1159),t.Nb(),t.rc(1160," Injectable "),t.Ob(1161,"span",16),t.rc(1162),t.Nb(),t.rc(1163," "),t.Ob(1164,"span",15),t.rc(1165,"from"),t.Nb(),t.rc(1166," "),t.Ob(1167,"span",17),t.rc(1168,"'@travetto/di/src/decorator'"),t.Nb(),t.Ob(1169,"span",16),t.rc(1170,";"),t.Nb(),t.rc(1171,"\n"),t.Ob(1172,"span",15),t.rc(1173,"import"),t.Nb(),t.rc(1174," "),t.Ob(1175,"span",16),t.rc(1176),t.Nb(),t.rc(1177," DependencyRegistry "),t.Ob(1178,"span",16),t.rc(1179),t.Nb(),t.rc(1180," "),t.Ob(1181,"span",15),t.rc(1182,"from"),t.Nb(),t.rc(1183," "),t.Ob(1184,"span",17),t.rc(1185,"'@travetto/di/src/registry'"),t.Nb(),t.Ob(1186,"span",16),t.rc(1187,";"),t.Nb(),t.rc(1188,"\n\n@"),t.Ob(1189,"span",18),t.rc(1190,"Injectable"),t.Nb(),t.Ob(1191,"span",16),t.rc(1192,"("),t.Nb(),t.Ob(1193,"span",16),t.rc(1194,")"),t.Nb(),t.rc(1195,"\n"),t.Ob(1196,"span",15),t.rc(1197,"class"),t.Nb(),t.rc(1198," "),t.Ob(1199,"span",19),t.rc(1200,"Complex"),t.Nb(),t.rc(1201," "),t.Ob(1202,"span",16),t.rc(1203),t.Nb(),t.rc(1204," "),t.Ob(1205,"span",16),t.rc(1206),t.Nb(),t.rc(1207,"\n\n"),t.Ob(1208,"span",15),t.rc(1209,"class"),t.Nb(),t.rc(1210," "),t.Ob(1211,"span",19),t.rc(1212,"ManualLookup"),t.Nb(),t.rc(1213," "),t.Ob(1214,"span",16),t.rc(1215),t.Nb(),t.rc(1216,"\n  "),t.Ob(1217,"span",15),t.rc(1218,"async"),t.Nb(),t.rc(1219," "),t.Ob(1220,"span",3),t.rc(1221,"invoke"),t.Nb(),t.Ob(1222,"span",16),t.rc(1223,"("),t.Nb(),t.Ob(1224,"span",16),t.rc(1225,")"),t.Nb(),t.rc(1226," "),t.Ob(1227,"span",16),t.rc(1228),t.Nb(),t.rc(1229,"\n    "),t.Ob(1230,"span",15),t.rc(1231,"const"),t.Nb(),t.rc(1232," complex "),t.Ob(1233,"span",23),t.rc(1234,"="),t.Nb(),t.rc(1235," "),t.Ob(1236,"span",15),t.rc(1237,"await"),t.Nb(),t.rc(1238," DependencyRegistry"),t.Ob(1239,"span",16),t.rc(1240,"."),t.Nb(),t.Ob(1241,"span",3),t.rc(1242,"getInstance"),t.Nb(),t.Ob(1243,"span",16),t.rc(1244,"("),t.Nb(),t.rc(1245,"Complex"),t.Ob(1246,"span",16),t.rc(1247,")"),t.Nb(),t.Ob(1248,"span",16),t.rc(1249,";"),t.Nb(),t.rc(1250,"\n  "),t.Ob(1251,"span",16),t.rc(1252),t.Nb(),t.rc(1253,"\n"),t.Ob(1254,"span",16),t.rc(1255),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(55),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(13),t.sc("{"),t.zb(6),t.sc("}"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(24),t.sc("{"),t.zb(13),t.sc("{"),t.zb(6),t.sc("}"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(15),t.sc("}"),t.zb(17),t.sc("{"),t.zb(13),t.sc("{"),t.zb(22),t.sc("}"),t.zb(3),t.sc("}"),t.zb(9),t.sc("{"),t.zb(21),t.sc("}"),t.zb(26),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(26),t.sc("}"),t.zb(22),t.sc("{"),t.zb(13),t.sc("{"),t.zb(6),t.sc("}"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(3),t.sc("}"),t.zb(9),t.sc("{"),t.zb(20),t.sc("{"),t.zb(18),t.sc("}"),t.zb(3),t.sc("}"),t.zb(48),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(29),t.sc("{"),t.zb(22),t.sc("}"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(13),t.sc("{"),t.zb(22),t.sc("}"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(17),t.sc("{"),t.zb(25),t.sc("{"),t.zb(19),t.sc("}"),t.zb(3),t.sc("}"),t.zb(16),t.sc("{"),t.zb(6),t.sc("}"),t.zb(23),t.sc("{"),t.zb(3),t.sc("}"),t.zb(22),t.sc("{"),t.zb(3),t.sc("}"),t.zb(25),t.sc("{"),t.zb(3),t.sc("}"),t.zb(16),t.sc("{"),t.zb(19),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(17),t.sc("{"),t.zb(10),t.sc("{"),t.zb(9),t.sc("}"),t.zb(21),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(19),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(3),t.sc("}"),t.zb(9),t.sc("{"),t.zb(13),t.sc("{"),t.zb(24),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),p=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-schema"]],decls:3326,vars:136,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["id","registration"],["target","_blank","href","https://typescriptlang.org",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/schema.ts#L11",1,"source-link"],["id","classes"],[1,"item","input"],["target","_blank","href","https://www.json.org",1,"external-link"],["target","_blank","href","https://en.wikipedia.org/wiki/YAML",1,"external-link"],["target","_blank","href","http://usejsdoc.org/about-getting-started.html",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/common.ts#L9",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/user.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","meta"],[1,"token","class-name"],[1,"token","operator"],[1,"token","builtin"],[1,"config"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/resources/user.yml"],[1,"language-yaml"],[1,"token","key","atrule"],[1,"token","boolean","important"],["id","fields"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L40",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L61",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L68",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L78",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L96",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L104",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L112",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L135",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L142",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L149",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L188",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L163",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L169",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L181",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/doc/src/nodes.ts#L10",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/decorator/field.ts#L88",1,"source-link"],["id","binding-validation"],["id","binding"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/person.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/person-binding.ts"],[1,"token","number"],[1,"terminal"],[1,"note"],["id","validation"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/person-binding-invalid.ts"],[1,"token","comment"],["id","custom-validators"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/password-validator.ts"],[1,"token","function-variable","function"],[1,"token","parameter"],[1,"token","regex"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/validate/types.ts#L6"],["id","extension-rest"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/extension/rest.ts#L88",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/schema-body.ts"],[1,"token","boolean"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/extension/rest.ts#L101",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/schema-query.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/schema-query-type.ts"],["id","extension-generation"],["target","_blank","href","https://github.com/marak/Faker.js/",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/extension/faker.ts#L34"],[1,"token","constant"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/faker.ts"],["id","custom-types"],["id","type-adapters"],["href","/docs/model","title","Datastore abstraction for CRUD operations with advanced query support.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/custom-type.ts"],[1,"item","method"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/alt/docs/src/custom-type-usage.ts"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Schema "),t.Ob(3,"small"),t.rc(4,"Data type registry for runtime validation, reflection and binding. "),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/schema "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/schema"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provide a mechanisms for registering classes and field level information as well the ability to apply that information at runtime. "),t.Ob(17,"h2",4),t.rc(18,"Registration"),t.Nb(),t.rc(19,"\nThe registry's schema information is defined by "),t.Ob(20,"a",5),t.rc(21,"Typescript"),t.Nb(),t.rc(22," AST and only applies to classes registered with the "),t.Ob(23,"a",6),t.rc(24,"@Schema"),t.Nb(),t.rc(25," decoration. "),t.Ob(26,"h3",7),t.rc(27,"Classes"),t.Nb(),t.rc(28,"\nThe module utilizes AST transformations to collect schema information, and facilitate the registration process without user intervention. The class can also be described using providing a: "),t.Ob(29,"ul"),t.Ob(30,"li"),t.Ob(31,"code",8),t.rc(32,"title"),t.Nb(),t.rc(33," - definition of the schema"),t.Nb(),t.Ob(34,"li"),t.Ob(35,"code",8),t.rc(36,"description"),t.Nb(),t.rc(37," - detailed description of the schema"),t.Nb(),t.Ob(38,"li"),t.Ob(39,"code",8),t.rc(40,"examples"),t.Nb(),t.rc(41," - A set of examples as "),t.Ob(42,"a",9),t.rc(43,"JSON"),t.Nb(),t.rc(44," or "),t.Ob(45,"a",10),t.rc(46,"YAML"),t.Nb(),t.Nb(),t.Nb(),t.rc(47," The "),t.Ob(48,"code",8),t.rc(49,"title"),t.Nb(),t.rc(50," will be picked up from the "),t.Ob(51,"a",11),t.rc(52,"JSDoc"),t.Nb(),t.rc(53," comments, and additionally all fields can be set using the "),t.Ob(54,"a",12),t.rc(55,"@Describe"),t.Nb(),t.rc(56," decorator. "),t.Ob(57,"figure",13),t.Ob(58,"figcaption",13),t.rc(59,"Sample User Schema "),t.Ob(60,"cite"),t.Ob(61,"a",14),t.rc(62,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(63,"pre"),t.Ob(64,"code",15),t.Ob(65,"span",16),t.rc(66,"import"),t.Nb(),t.rc(67," "),t.Ob(68,"span",17),t.rc(69),t.Nb(),t.rc(70," Schema "),t.Ob(71,"span",17),t.rc(72),t.Nb(),t.rc(73," "),t.Ob(74,"span",16),t.rc(75,"from"),t.Nb(),t.rc(76," "),t.Ob(77,"span",18),t.rc(78,"'@travetto/schema/src/decorator/schema'"),t.Nb(),t.Ob(79,"span",17),t.rc(80,";"),t.Nb(),t.rc(81,"\n\n@"),t.Ob(82,"span",19),t.rc(83,"Schema"),t.Nb(),t.Ob(84,"span",17),t.rc(85,"("),t.Nb(),t.Ob(86,"span",17),t.rc(87,")"),t.Nb(),t.rc(88,"\n"),t.Ob(89,"span",16),t.rc(90,"export"),t.Nb(),t.rc(91," "),t.Ob(92,"span",16),t.rc(93,"class"),t.Nb(),t.rc(94," "),t.Ob(95,"span",20),t.rc(96,"User"),t.Nb(),t.rc(97," "),t.Ob(98,"span",17),t.rc(99),t.Nb(),t.rc(100,"\n  name"),t.Ob(101,"span",21),t.rc(102,":"),t.Nb(),t.rc(103," "),t.Ob(104,"span",22),t.rc(105,"string"),t.Nb(),t.Ob(106,"span",17),t.rc(107,";"),t.Nb(),t.rc(108,"\n  age"),t.Ob(109,"span",21),t.rc(110,":"),t.Nb(),t.rc(111," "),t.Ob(112,"span",22),t.rc(113,"number"),t.Nb(),t.Ob(114,"span",17),t.rc(115,";"),t.Nb(),t.rc(116,"\n  favoriteFood"),t.Ob(117,"span",21),t.rc(118,"?"),t.Nb(),t.Ob(119,"span",21),t.rc(120,":"),t.Nb(),t.rc(121," "),t.Ob(122,"span",18),t.rc(123,"'pizza'"),t.Nb(),t.rc(124," "),t.Ob(125,"span",21),t.rc(126,"|"),t.Nb(),t.rc(127," "),t.Ob(128,"span",18),t.rc(129,"'burrito'"),t.Nb(),t.rc(130," "),t.Ob(131,"span",21),t.rc(132,"|"),t.Nb(),t.rc(133," "),t.Ob(134,"span",18),t.rc(135,"'salad'"),t.Nb(),t.Ob(136,"span",17),t.rc(137,";"),t.Nb(),t.rc(138,"\n"),t.Ob(139,"span",17),t.rc(140),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(141," From this schema, the registry would have the following information: "),t.Ob(142,"figure",23),t.Ob(143,"figcaption",23),t.rc(144,"User schemas as a YAML file "),t.Ob(145,"cite"),t.Ob(146,"a",24),t.rc(147,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(148,"pre"),t.Ob(149,"code",25),t.Ob(150,"span",26),t.rc(151,"User"),t.Nb(),t.Ob(152,"span",17),t.rc(153,":"),t.Nb(),t.rc(154,"\n  "),t.Ob(155,"span",26),t.rc(156,"fields"),t.Nb(),t.Ob(157,"span",17),t.rc(158,":"),t.Nb(),t.rc(159,"\n    "),t.Ob(160,"span",17),t.rc(161,"-"),t.Nb(),t.rc(162,"\n      "),t.Ob(163,"span",26),t.rc(164,"name"),t.Nb(),t.Ob(165,"span",17),t.rc(166,":"),t.Nb(),t.rc(167," name\n      "),t.Ob(168,"span",26),t.rc(169,'type"'),t.Nb(),t.Ob(170,"span",17),t.rc(171,":"),t.Nb(),t.rc(172," string\n      "),t.Ob(173,"span",26),t.rc(174,"required"),t.Nb(),t.Ob(175,"span",17),t.rc(176,":"),t.Nb(),t.rc(177," "),t.Ob(178,"span",27),t.rc(179,"true"),t.Nb(),t.rc(180,"\n    "),t.Ob(181,"span",17),t.rc(182,"-"),t.Nb(),t.rc(183,"\n      "),t.Ob(184,"span",26),t.rc(185,"name"),t.Nb(),t.Ob(186,"span",17),t.rc(187,":"),t.Nb(),t.rc(188," age\n      "),t.Ob(189,"span",26),t.rc(190,"type"),t.Nb(),t.Ob(191,"span",17),t.rc(192,":"),t.Nb(),t.rc(193," number\n      "),t.Ob(194,"span",26),t.rc(195,"required"),t.Nb(),t.Ob(196,"span",17),t.rc(197,":"),t.Nb(),t.rc(198," "),t.Ob(199,"span",27),t.rc(200,"true"),t.Nb(),t.rc(201,"\n    "),t.Ob(202,"span",17),t.rc(203,"-"),t.Nb(),t.rc(204,"\n      "),t.Ob(205,"span",26),t.rc(206,"name"),t.Nb(),t.Ob(207,"span",17),t.rc(208,":"),t.Nb(),t.rc(209," favoriteFood\n      "),t.Ob(210,"span",26),t.rc(211,"type"),t.Nb(),t.Ob(212,"span",17),t.rc(213,":"),t.Nb(),t.rc(214," string\n      "),t.Ob(215,"span",26),t.rc(216,"required"),t.Nb(),t.Ob(217,"span",17),t.rc(218,":"),t.Nb(),t.rc(219," "),t.Ob(220,"span",27),t.rc(221,"false"),t.Nb(),t.rc(222,"\n      "),t.Ob(223,"span",26),t.rc(224,"allowedValues"),t.Nb(),t.Ob(225,"span",17),t.rc(226,":"),t.Nb(),t.rc(227," "),t.Ob(228,"span",17),t.rc(229,"["),t.Nb(),t.Ob(230,"span",18),t.rc(231,'"pizza"'),t.Nb(),t.Ob(232,"span",17),t.rc(233,","),t.Nb(),t.rc(234," "),t.Ob(235,"span",18),t.rc(236,'"burrito"'),t.Nb(),t.Ob(237,"span",17),t.rc(238,","),t.Nb(),t.rc(239," "),t.Ob(240,"span",18),t.rc(241,'"salad"'),t.Nb(),t.rc(242," "),t.Ob(243,"span",17),t.rc(244,"]"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(245,"h3",28),t.rc(246,"Fields"),t.Nb(),t.rc(247,"\nThis schema provides a powerful base for data binding and validation at runtime. Additionally there may be types that cannot be detected, or some information that the programmer would like to override. Below are the supported field decorators: "),t.Ob(248,"ul"),t.Ob(249,"li"),t.Ob(250,"a",29),t.rc(251,"@Field"),t.Nb(),t.rc(252," defines a field that will be serialized."),t.Nb(),t.Ob(253,"li"),t.Ob(254,"a",30),t.rc(255,"@Required"),t.Nb(),t.rc(256," defines a that field should be required"),t.Nb(),t.Ob(257,"li"),t.Ob(258,"a",31),t.rc(259,"@Enum"),t.Nb(),t.rc(260," defines the allowable values that a field can have"),t.Nb(),t.Ob(261,"li"),t.Ob(262,"a",32),t.rc(263,"@Trimmed"),t.Nb(),t.rc(264," augments binding to remove leading and trailing whitespace from string values"),t.Nb(),t.Ob(265,"li"),t.Ob(266,"a",33),t.rc(267,"@Match"),t.Nb(),t.rc(268," defines a regular expression that the field value should match"),t.Nb(),t.Ob(269,"li"),t.Ob(270,"a",34),t.rc(271,"@MinLength"),t.Nb(),t.rc(272," enforces min length of a string"),t.Nb(),t.Ob(273,"li"),t.Ob(274,"a",35),t.rc(275,"@MaxLength"),t.Nb(),t.rc(276," enforces max length of a string"),t.Nb(),t.Ob(277,"li"),t.Ob(278,"a",34),t.rc(279,"@Min"),t.Nb(),t.rc(280," enforces min value for a date or a number"),t.Nb(),t.Ob(281,"li"),t.Ob(282,"a",35),t.rc(283,"@Max"),t.Nb(),t.rc(284," enforces max value for a date or a number"),t.Nb(),t.Ob(285,"li"),t.Ob(286,"a",36),t.rc(287,"@Email"),t.Nb(),t.rc(288," ensures string field matches basic email regex"),t.Nb(),t.Ob(289,"li"),t.Ob(290,"a",37),t.rc(291,"@Telephone"),t.Nb(),t.rc(292," ensures string field matches basic telephone regex"),t.Nb(),t.Ob(293,"li"),t.Ob(294,"a",38),t.rc(295,"@Url"),t.Nb(),t.rc(296," ensures string field matches basic url regex"),t.Nb(),t.Ob(297,"li"),t.Ob(298,"a",39),t.rc(299,"@Ignore"),t.Nb(),t.rc(300," exclude from auto schema registration"),t.Nb(),t.Ob(301,"li"),t.Ob(302,"a",40),t.rc(303,"@Integer"),t.Nb(),t.rc(304," ensures number passed in is only a whole number"),t.Nb(),t.Ob(305,"li"),t.Ob(306,"a",41),t.rc(307,"@Float"),t.Nb(),t.rc(308," ensures number passed in allows fractional values"),t.Nb(),t.Ob(309,"li"),t.Ob(310,"a",42),t.rc(311,"@Currency"),t.Nb(),t.rc(312," provides support for standard currency"),t.Nb(),t.Ob(313,"li"),t.Ob(314,"a",43),t.rc(315,"Text"),t.Nb(),t.rc(316," indicates that a field is expecting natural language input, not just discrete values"),t.Nb(),t.Ob(317,"li"),t.Ob(318,"a",44),t.rc(319,"@LongText"),t.Nb(),t.rc(320," same as text, but expects longer form content"),t.Nb(),t.Nb(),t.rc(321," Additionally, schemas can be nested to form more complex data structures that are able to bound and validated. Just like the class, all fields can be defined with "),t.Ob(322,"ul"),t.Ob(323,"li"),t.Ob(324,"code",8),t.rc(325,"description"),t.Nb(),t.rc(326," - detailed description of the schema"),t.Nb(),t.Ob(327,"li"),t.Ob(328,"code",8),t.rc(329,"examples"),t.Nb(),t.rc(330," - A set of examples as "),t.Ob(331,"a",9),t.rc(332,"JSON"),t.Nb(),t.rc(333," or "),t.Ob(334,"a",10),t.rc(335,"YAML"),t.Nb(),t.Nb(),t.Nb(),t.rc(336," And similarly, the "),t.Ob(337,"code",8),t.rc(338,"description"),t.Nb(),t.rc(339," will be picked up from the "),t.Ob(340,"a",11),t.rc(341,"JSDoc"),t.Nb(),t.rc(342," comments, and additionally all fields can be set using the "),t.Ob(343,"a",12),t.rc(344,"@Describe"),t.Nb(),t.rc(345," decorator. "),t.Ob(346,"h2",45),t.rc(347,"Binding/Validation"),t.Nb(),t.rc(348,"\nAt runtime, once a schema is registered, a programmer can utilize this structure to perform specific operations. Specifically binding and validation. "),t.Ob(349,"h3",46),t.rc(350,"Binding"),t.Nb(),t.rc(351,"\nBinding is a very simple operation, as it takes in a class registered as as "),t.Ob(352,"a",6),t.rc(353,"@Schema"),t.Nb(),t.rc(354," and a JS object that will be the source of the binding. Given the schema: "),t.Ob(355,"figure",13),t.Ob(356,"figcaption",13),t.rc(357,"Sub Schemas via Address "),t.Ob(358,"cite"),t.Ob(359,"a",47),t.rc(360,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(361,"pre"),t.Ob(362,"code",15),t.Ob(363,"span",16),t.rc(364,"import"),t.Nb(),t.rc(365," "),t.Ob(366,"span",17),t.rc(367),t.Nb(),t.rc(368," Schema "),t.Ob(369,"span",17),t.rc(370),t.Nb(),t.rc(371," "),t.Ob(372,"span",16),t.rc(373,"from"),t.Nb(),t.rc(374," "),t.Ob(375,"span",18),t.rc(376,"'@travetto/schema/src/decorator/schema'"),t.Nb(),t.Ob(377,"span",17),t.rc(378,";"),t.Nb(),t.rc(379,"\n"),t.Ob(380,"span",16),t.rc(381,"import"),t.Nb(),t.rc(382," "),t.Ob(383,"span",17),t.rc(384),t.Nb(),t.rc(385," Integer "),t.Ob(386,"span",17),t.rc(387),t.Nb(),t.rc(388," "),t.Ob(389,"span",16),t.rc(390,"from"),t.Nb(),t.rc(391," "),t.Ob(392,"span",18),t.rc(393,"'@travetto/schema/src/decorator/field'"),t.Nb(),t.Ob(394,"span",17),t.rc(395,";"),t.Nb(),t.rc(396,"\n\n@"),t.Ob(397,"span",19),t.rc(398,"Schema"),t.Nb(),t.Ob(399,"span",17),t.rc(400,"("),t.Nb(),t.Ob(401,"span",17),t.rc(402,")"),t.Nb(),t.rc(403,"\n"),t.Ob(404,"span",16),t.rc(405,"export"),t.Nb(),t.rc(406," "),t.Ob(407,"span",16),t.rc(408,"class"),t.Nb(),t.rc(409," "),t.Ob(410,"span",20),t.rc(411,"Address"),t.Nb(),t.rc(412," "),t.Ob(413,"span",17),t.rc(414),t.Nb(),t.rc(415,"\n  street1"),t.Ob(416,"span",21),t.rc(417,":"),t.Nb(),t.rc(418," "),t.Ob(419,"span",22),t.rc(420,"string"),t.Nb(),t.Ob(421,"span",17),t.rc(422,";"),t.Nb(),t.rc(423,"\n  street2"),t.Ob(424,"span",21),t.rc(425,":"),t.Nb(),t.rc(426," "),t.Ob(427,"span",22),t.rc(428,"string"),t.Nb(),t.Ob(429,"span",17),t.rc(430,";"),t.Nb(),t.rc(431,"\n"),t.Ob(432,"span",17),t.rc(433),t.Nb(),t.rc(434,"\n\n@"),t.Ob(435,"span",19),t.rc(436,"Schema"),t.Nb(),t.Ob(437,"span",17),t.rc(438,"("),t.Nb(),t.Ob(439,"span",17),t.rc(440,")"),t.Nb(),t.rc(441,"\n"),t.Ob(442,"span",16),t.rc(443,"export"),t.Nb(),t.rc(444," "),t.Ob(445,"span",16),t.rc(446,"class"),t.Nb(),t.rc(447," "),t.Ob(448,"span",20),t.rc(449,"Person"),t.Nb(),t.rc(450," "),t.Ob(451,"span",17),t.rc(452),t.Nb(),t.rc(453,"\n  name"),t.Ob(454,"span",21),t.rc(455,":"),t.Nb(),t.rc(456," "),t.Ob(457,"span",22),t.rc(458,"string"),t.Nb(),t.Ob(459,"span",17),t.rc(460,";"),t.Nb(),t.rc(461,"\n  @"),t.Ob(462,"span",19),t.rc(463,"Integer"),t.Nb(),t.Ob(464,"span",17),t.rc(465,"("),t.Nb(),t.Ob(466,"span",17),t.rc(467,")"),t.Nb(),t.rc(468," age"),t.Ob(469,"span",21),t.rc(470,":"),t.Nb(),t.rc(471," "),t.Ob(472,"span",22),t.rc(473,"number"),t.Nb(),t.Ob(474,"span",17),t.rc(475,";"),t.Nb(),t.rc(476,"\n  address"),t.Ob(477,"span",21),t.rc(478,":"),t.Nb(),t.rc(479," Address"),t.Ob(480,"span",17),t.rc(481,";"),t.Nb(),t.rc(482,"\n"),t.Ob(483,"span",17),t.rc(484),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(485," A binding operation could look like: "),t.Ob(486,"figure",13),t.Ob(487,"figcaption",13),t.rc(488,"Binding from JSON to Schema "),t.Ob(489,"cite"),t.Ob(490,"a",48),t.rc(491,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(492,"pre"),t.Ob(493,"code",15),t.Ob(494,"span",16),t.rc(495,"import"),t.Nb(),t.rc(496," "),t.Ob(497,"span",17),t.rc(498),t.Nb(),t.rc(499," Person "),t.Ob(500,"span",17),t.rc(501),t.Nb(),t.rc(502," "),t.Ob(503,"span",16),t.rc(504,"from"),t.Nb(),t.rc(505," "),t.Ob(506,"span",18),t.rc(507,"'./person'"),t.Nb(),t.Ob(508,"span",17),t.rc(509,";"),t.Nb(),t.rc(510,"\n\n"),t.Ob(511,"span",16),t.rc(512,"export"),t.Nb(),t.rc(513," "),t.Ob(514,"span",16),t.rc(515,"function"),t.Nb(),t.rc(516," "),t.Ob(517,"span",3),t.rc(518,"Test"),t.Nb(),t.Ob(519,"span",17),t.rc(520,"("),t.Nb(),t.Ob(521,"span",17),t.rc(522,")"),t.Nb(),t.rc(523," "),t.Ob(524,"span",17),t.rc(525),t.Nb(),t.rc(526,"\n  "),t.Ob(527,"span",16),t.rc(528,"return"),t.Nb(),t.rc(529," Person"),t.Ob(530,"span",17),t.rc(531,"."),t.Nb(),t.Ob(532,"span",16),t.rc(533,"from"),t.Nb(),t.Ob(534,"span",17),t.rc(535,"("),t.Nb(),t.Ob(536,"span",17),t.rc(537),t.Nb(),t.rc(538,"\n    name"),t.Ob(539,"span",21),t.rc(540,":"),t.Nb(),t.rc(541," "),t.Ob(542,"span",18),t.rc(543,"'Test'"),t.Nb(),t.Ob(544,"span",17),t.rc(545,","),t.Nb(),t.rc(546,"\n    age"),t.Ob(547,"span",21),t.rc(548,":"),t.Nb(),t.rc(549," "),t.Ob(550,"span",49),t.rc(551,"19.999978"),t.Nb(),t.Ob(552,"span",17),t.rc(553,","),t.Nb(),t.rc(554,"\n    address"),t.Ob(555,"span",21),t.rc(556,":"),t.Nb(),t.rc(557," "),t.Ob(558,"span",17),t.rc(559),t.Nb(),t.rc(560,"\n      street1"),t.Ob(561,"span",21),t.rc(562,":"),t.Nb(),t.rc(563," "),t.Ob(564,"span",18),t.rc(565,"'1234 Fun'"),t.Nb(),t.Ob(566,"span",17);t.rc(567,","),t.Nb(),t.rc(568,"\n      street2"),t.Ob(569,"span",21),t.rc(570,":"),t.Nb(),t.rc(571," "),t.Ob(572,"span",18),t.rc(573,"'Unit 20'"),t.Nb(),t.rc(574,"\n    "),t.Ob(575,"span",17),t.rc(576),t.Nb(),t.rc(577,"\n  "),t.Ob(578,"span",17),t.rc(579),t.Nb(),t.Ob(580,"span",17),t.rc(581,")"),t.Nb(),t.Ob(582,"span",17),t.rc(583,";"),t.Nb(),t.rc(584,"\n"),t.Ob(585,"span",17),t.rc(586),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(587," and the output would be a "),t.Ob(588,"code",8),t.rc(589,"Person"),t.Nb(),t.rc(590," instance with the following structure "),t.Ob(591,"figure",50),t.Ob(592,"figcaption",50),t.rc(593,"Sample data output after binding "),t.Nb(),t.Ob(594,"pre"),t.Ob(595,"code",2),t.rc(596,"$ alt/docs/src/person-output.js -r @travetto/boot/register alt/docs/src/person-output.js\n\nPerson "),t.Ob(597,"span",17),t.rc(598),t.Nb(),t.rc(599,"\n  name: "),t.Ob(600,"span",18),t.rc(601,"'Test'"),t.Nb(),t.rc(602,",\n  age: "),t.Ob(603,"span",49),t.rc(604,"19.999978"),t.Nb(),t.rc(605,",\n  address: "),t.Ob(606,"span",17),t.rc(607),t.Nb(),t.rc(608," street1: "),t.Ob(609,"span",18),t.rc(610,"'1234 Fun'"),t.Nb(),t.rc(611,", street2: "),t.Ob(612,"span",18),t.rc(613,"'Unit 20'"),t.Nb(),t.rc(614," "),t.Ob(615,"span",17),t.rc(616),t.Nb(),t.rc(617,"\n"),t.Ob(618,"span",17),t.rc(619),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(620,"p",51),t.Ob(621,"strong"),t.rc(622,"Note"),t.Nb(),t.rc(623," Binding will attempt to convert/coerce types as much as possible to honor the pattern of Javascript and it's dynamic nature."),t.Nb(),t.Ob(624,"h3",52),t.rc(625,"Validation"),t.Nb(),t.rc(626," Validation is very similar to binding, but instead of attempting to assign values, any mismatch or violation of the schema will result in errors. All errors will be collected and returned. Given the same schema as above, "),t.Ob(627,"figure",13),t.Ob(628,"figcaption",13),t.rc(629,"Sub Schemas via Address "),t.Ob(630,"cite"),t.Ob(631,"a",47),t.rc(632,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(633,"pre"),t.Ob(634,"code",15),t.Ob(635,"span",16),t.rc(636,"import"),t.Nb(),t.rc(637," "),t.Ob(638,"span",17),t.rc(639),t.Nb(),t.rc(640," Schema "),t.Ob(641,"span",17),t.rc(642),t.Nb(),t.rc(643," "),t.Ob(644,"span",16),t.rc(645,"from"),t.Nb(),t.rc(646," "),t.Ob(647,"span",18),t.rc(648,"'@travetto/schema/src/decorator/schema'"),t.Nb(),t.Ob(649,"span",17),t.rc(650,";"),t.Nb(),t.rc(651,"\n"),t.Ob(652,"span",16),t.rc(653,"import"),t.Nb(),t.rc(654," "),t.Ob(655,"span",17),t.rc(656),t.Nb(),t.rc(657," Integer "),t.Ob(658,"span",17),t.rc(659),t.Nb(),t.rc(660," "),t.Ob(661,"span",16),t.rc(662,"from"),t.Nb(),t.rc(663," "),t.Ob(664,"span",18),t.rc(665,"'@travetto/schema/src/decorator/field'"),t.Nb(),t.Ob(666,"span",17),t.rc(667,";"),t.Nb(),t.rc(668,"\n\n@"),t.Ob(669,"span",19),t.rc(670,"Schema"),t.Nb(),t.Ob(671,"span",17),t.rc(672,"("),t.Nb(),t.Ob(673,"span",17),t.rc(674,")"),t.Nb(),t.rc(675,"\n"),t.Ob(676,"span",16),t.rc(677,"export"),t.Nb(),t.rc(678," "),t.Ob(679,"span",16),t.rc(680,"class"),t.Nb(),t.rc(681," "),t.Ob(682,"span",20),t.rc(683,"Address"),t.Nb(),t.rc(684," "),t.Ob(685,"span",17),t.rc(686),t.Nb(),t.rc(687,"\n  street1"),t.Ob(688,"span",21),t.rc(689,":"),t.Nb(),t.rc(690," "),t.Ob(691,"span",22),t.rc(692,"string"),t.Nb(),t.Ob(693,"span",17),t.rc(694,";"),t.Nb(),t.rc(695,"\n  street2"),t.Ob(696,"span",21),t.rc(697,":"),t.Nb(),t.rc(698," "),t.Ob(699,"span",22),t.rc(700,"string"),t.Nb(),t.Ob(701,"span",17),t.rc(702,";"),t.Nb(),t.rc(703,"\n"),t.Ob(704,"span",17),t.rc(705),t.Nb(),t.rc(706,"\n\n@"),t.Ob(707,"span",19),t.rc(708,"Schema"),t.Nb(),t.Ob(709,"span",17),t.rc(710,"("),t.Nb(),t.Ob(711,"span",17),t.rc(712,")"),t.Nb(),t.rc(713,"\n"),t.Ob(714,"span",16),t.rc(715,"export"),t.Nb(),t.rc(716," "),t.Ob(717,"span",16),t.rc(718,"class"),t.Nb(),t.rc(719," "),t.Ob(720,"span",20),t.rc(721,"Person"),t.Nb(),t.rc(722," "),t.Ob(723,"span",17),t.rc(724),t.Nb(),t.rc(725,"\n  name"),t.Ob(726,"span",21),t.rc(727,":"),t.Nb(),t.rc(728," "),t.Ob(729,"span",22),t.rc(730,"string"),t.Nb(),t.Ob(731,"span",17),t.rc(732,";"),t.Nb(),t.rc(733,"\n  @"),t.Ob(734,"span",19),t.rc(735,"Integer"),t.Nb(),t.Ob(736,"span",17),t.rc(737,"("),t.Nb(),t.Ob(738,"span",17),t.rc(739,")"),t.Nb(),t.rc(740," age"),t.Ob(741,"span",21),t.rc(742,":"),t.Nb(),t.rc(743," "),t.Ob(744,"span",22),t.rc(745,"number"),t.Nb(),t.Ob(746,"span",17),t.rc(747,";"),t.Nb(),t.rc(748,"\n  address"),t.Ob(749,"span",21),t.rc(750,":"),t.Nb(),t.rc(751," Address"),t.Ob(752,"span",17),t.rc(753,";"),t.Nb(),t.rc(754,"\n"),t.Ob(755,"span",17),t.rc(756),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(757," But now with an invalid json object "),t.Ob(758,"figure",13),t.Ob(759,"figcaption",13),t.rc(760,"Read Person, and validate "),t.Ob(761,"cite"),t.Ob(762,"a",53),t.rc(763,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(764,"pre"),t.Ob(765,"code",15),t.Ob(766,"span",16),t.rc(767,"import"),t.Nb(),t.rc(768," "),t.Ob(769,"span",17),t.rc(770),t.Nb(),t.rc(771," Person "),t.Ob(772,"span",17),t.rc(773),t.Nb(),t.rc(774," "),t.Ob(775,"span",16),t.rc(776,"from"),t.Nb(),t.rc(777," "),t.Ob(778,"span",18),t.rc(779,"'./person'"),t.Nb(),t.Ob(780,"span",17),t.rc(781,";"),t.Nb(),t.rc(782,"\n"),t.Ob(783,"span",16),t.rc(784,"import"),t.Nb(),t.rc(785," "),t.Ob(786,"span",17),t.rc(787),t.Nb(),t.rc(788," SchemaValidator "),t.Ob(789,"span",17),t.rc(790),t.Nb(),t.rc(791," "),t.Ob(792,"span",16),t.rc(793,"from"),t.Nb(),t.rc(794," "),t.Ob(795,"span",18),t.rc(796,"'@travetto/schema/src/validate/validator'"),t.Nb(),t.Ob(797,"span",17),t.rc(798,";"),t.Nb(),t.rc(799,"\n\n"),t.Ob(800,"span",16),t.rc(801,"export"),t.Nb(),t.rc(802," "),t.Ob(803,"span",16),t.rc(804,"async"),t.Nb(),t.rc(805," "),t.Ob(806,"span",16),t.rc(807,"function"),t.Nb(),t.rc(808," "),t.Ob(809,"span",3),t.rc(810,"validate"),t.Nb(),t.Ob(811,"span",17),t.rc(812,"("),t.Nb(),t.Ob(813,"span",17),t.rc(814,")"),t.Nb(),t.rc(815," "),t.Ob(816,"span",17),t.rc(817),t.Nb(),t.rc(818,"\n\n  "),t.Ob(819,"span",16),t.rc(820,"const"),t.Nb(),t.rc(821," person "),t.Ob(822,"span",21),t.rc(823,"="),t.Nb(),t.rc(824," Person"),t.Ob(825,"span",17),t.rc(826,"."),t.Nb(),t.Ob(827,"span",16),t.rc(828,"from"),t.Nb(),t.Ob(829,"span",17),t.rc(830,"("),t.Nb(),t.Ob(831,"span",17),t.rc(832),t.Nb(),t.rc(833,"\n    name"),t.Ob(834,"span",21),t.rc(835,":"),t.Nb(),t.rc(836," "),t.Ob(837,"span",18),t.rc(838,"'Test'"),t.Nb(),t.Ob(839,"span",17),t.rc(840,","),t.Nb(),t.rc(841,"\n    "),t.Ob(842,"span",54),t.rc(843,"// @ts-ignore"),t.Nb(),t.rc(844,"\n    age"),t.Ob(845,"span",21),t.rc(846,":"),t.Nb(),t.rc(847," "),t.Ob(848,"span",18),t.rc(849,"'abc'"),t.Nb(),t.Ob(850,"span",17),t.rc(851,","),t.Nb(),t.rc(852,"\n    address"),t.Ob(853,"span",21),t.rc(854,":"),t.Nb(),t.rc(855," "),t.Ob(856,"span",17),t.rc(857),t.Nb(),t.rc(858,"\n      street1"),t.Ob(859,"span",21),t.rc(860,":"),t.Nb(),t.rc(861," "),t.Ob(862,"span",18),t.rc(863,"'1234 Fun'"),t.Nb(),t.rc(864,"\n    "),t.Ob(865,"span",17),t.rc(866),t.Nb(),t.rc(867,"\n  "),t.Ob(868,"span",17),t.rc(869),t.Nb(),t.Ob(870,"span",17),t.rc(871,")"),t.Nb(),t.Ob(872,"span",17),t.rc(873,";"),t.Nb(),t.rc(874,"\n\n  "),t.Ob(875,"span",16),t.rc(876,"await"),t.Nb(),t.rc(877," SchemaValidator"),t.Ob(878,"span",17),t.rc(879,"."),t.Nb(),t.Ob(880,"span",3),t.rc(881,"validate"),t.Nb(),t.Ob(882,"span",17),t.rc(883,"("),t.Nb(),t.rc(884,"person"),t.Ob(885,"span",17),t.rc(886,")"),t.Nb(),t.Ob(887,"span",17),t.rc(888,";"),t.Nb(),t.rc(889,"\n"),t.Ob(890,"span",17),t.rc(891),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(892," would produce an exception similar to following structure "),t.Ob(893,"figure",50),t.Ob(894,"figcaption",50),t.rc(895,"Sample error output "),t.Nb(),t.Ob(896,"pre"),t.Ob(897,"code",2),t.rc(898,"$ alt/docs/src/person-invalid-output.js -r @travetto/boot/register alt/docs/src/person-invalid-output.js\n\nValidationResultError: Validation errors have occurred\n    at Function.validate "),t.Ob(899,"span",17),t.rc(900,"("),t.Nb(),t.rc(901,"./src/validate/validator.ts:241:13"),t.Ob(902,"span",17),t.rc(903,")"),t.Nb(),t.rc(904,"\n    at validate "),t.Ob(905,"span",17),t.rc(906,"("),t.Nb(),t.rc(907,"./alt/docs/src/person-binding-invalid.ts:15:25"),t.Ob(908,"span",17),t.rc(909,")"),t.Nb(),t.rc(910,"\n    at ./alt/docs/src/person-invalid-output.js:9:11 "),t.Ob(911,"span",17),t.rc(912),t.Nb(),t.rc(913,"\n  category: "),t.Ob(914,"span",18),t.rc(915,"'data'"),t.Nb(),t.rc(916,",\n  payload: "),t.Ob(917,"span",17),t.rc(918),t.Nb(),t.rc(919," errors: "),t.Ob(920,"span",17),t.rc(921,"["),t.Nb(),t.rc(922," "),t.Ob(923,"span",17),t.rc(924,"["),t.Nb(),t.rc(925,"Object"),t.Ob(926,"span",17),t.rc(927,"]"),t.Nb(),t.rc(928,", "),t.Ob(929,"span",17),t.rc(930,"["),t.Nb(),t.rc(931,"Object"),t.Ob(932,"span",17),t.rc(933,"]"),t.Nb(),t.rc(934," "),t.Ob(935,"span",17),t.rc(936,"]"),t.Nb(),t.rc(937," "),t.Ob(938,"span",17),t.rc(939),t.Nb(),t.rc(940,",\n  type: "),t.Ob(941,"span",18),t.rc(942,"'ValidationResultError'"),t.Nb(),t.rc(943,",\n  errors: "),t.Ob(944,"span",17),t.rc(945,"["),t.Nb(),t.rc(946,"\n    "),t.Ob(947,"span",17),t.rc(948),t.Nb(),t.rc(949,"\n      kind: "),t.Ob(950,"span",18),t.rc(951,"'type'"),t.Nb(),t.rc(952,",\n      type: "),t.Ob(953,"span",18),t.rc(954,"'number'"),t.Nb(),t.rc(955,",\n      path: "),t.Ob(956,"span",18),t.rc(957,"'age'"),t.Nb(),t.rc(958,",\n      message: "),t.Ob(959,"span",18),t.rc(960,"'age is not a valid number'"),t.Nb(),t.rc(961,"\n    "),t.Ob(962,"span",17),t.rc(963),t.Nb(),t.rc(964,",\n    "),t.Ob(965,"span",17),t.rc(966),t.Nb(),t.rc(967,"\n      kind: "),t.Ob(968,"span",18),t.rc(969,"'required'"),t.Nb(),t.rc(970,",\n      active: true,\n      path: "),t.Ob(971,"span",18),t.rc(972,"'address.street2'"),t.Nb(),t.rc(973,",\n      message: "),t.Ob(974,"span",18),t.rc(975,"'address.street2 is required'"),t.Nb(),t.rc(976,"\n    "),t.Ob(977,"span",17),t.rc(978),t.Nb(),t.rc(979,"\n  "),t.Ob(980,"span",17),t.rc(981,"]"),t.Nb(),t.rc(982,"\n"),t.Ob(983,"span",17),t.rc(984),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(985,"h3",55),t.rc(986,"Custom Validators"),t.Nb(),t.rc(987," Within the schema framework, it is possible to add custom validators class level. This allows for more flexibility when dealing with specific situations (e.g. password requirements or ensuring two fields match) "),t.Ob(988,"figure",13),t.Ob(989,"figcaption",13),t.rc(990,"Password Validator "),t.Ob(991,"cite"),t.Ob(992,"a",56),t.rc(993,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(994,"pre"),t.Ob(995,"code",15),t.Ob(996,"span",16),t.rc(997,"import"),t.Nb(),t.rc(998," "),t.Ob(999,"span",17),t.rc(1e3),t.Nb(),t.rc(1001," Schema"),t.Ob(1002,"span",17),t.rc(1003,","),t.Nb(),t.rc(1004," Validator "),t.Ob(1005,"span",17),t.rc(1006),t.Nb(),t.rc(1007," "),t.Ob(1008,"span",16),t.rc(1009,"from"),t.Nb(),t.rc(1010," "),t.Ob(1011,"span",18),t.rc(1012,"'@travetto/schema/src/decorator/schema'"),t.Nb(),t.Ob(1013,"span",17),t.rc(1014,";"),t.Nb(),t.rc(1015,"\n\n"),t.Ob(1016,"span",16),t.rc(1017,"const"),t.Nb(),t.rc(1018," "),t.Ob(1019,"span",57),t.rc(1020,"passwordValidator"),t.Nb(),t.rc(1021," "),t.Ob(1022,"span",21),t.rc(1023,"="),t.Nb(),t.rc(1024," "),t.Ob(1025,"span",17),t.rc(1026,"("),t.Nb(),t.Ob(1027,"span",58),t.rc(1028,"user"),t.Ob(1029,"span",21),t.rc(1030,":"),t.Nb(),t.rc(1031," User"),t.Nb(),t.Ob(1032,"span",17),t.rc(1033,")"),t.Nb(),t.rc(1034," "),t.Ob(1035,"span",21),t.rc(1036,"=>"),t.Nb(),t.rc(1037," "),t.Ob(1038,"span",17),t.rc(1039),t.Nb(),t.rc(1040,"\n  "),t.Ob(1041,"span",16),t.rc(1042,"const"),t.Nb(),t.rc(1043," p "),t.Ob(1044,"span",21),t.rc(1045,"="),t.Nb(),t.rc(1046," user"),t.Ob(1047,"span",17),t.rc(1048,"."),t.Nb(),t.rc(1049,"password"),t.Ob(1050,"span",17),t.rc(1051,";"),t.Nb(),t.rc(1052,"\n  "),t.Ob(1053,"span",16),t.rc(1054,"const"),t.Nb(),t.rc(1055," hasNum "),t.Ob(1056,"span",21),t.rc(1057,"="),t.Nb(),t.rc(1058," "),t.Ob(1059,"span",59),t.rc(1060,"/\\d/"),t.Nb(),t.Ob(1061,"span",17),t.rc(1062,"."),t.Nb(),t.Ob(1063,"span",3),t.rc(1064,"test"),t.Nb(),t.Ob(1065,"span",17),t.rc(1066,"("),t.Nb(),t.rc(1067,"p"),t.Ob(1068,"span",17),t.rc(1069,")"),t.Nb(),t.Ob(1070,"span",17),t.rc(1071,";"),t.Nb(),t.rc(1072,"\n  "),t.Ob(1073,"span",16),t.rc(1074,"const"),t.Nb(),t.rc(1075," hasSpecial "),t.Ob(1076,"span",21),t.rc(1077,"="),t.Nb(),t.rc(1078," "),t.Ob(1079,"span",59),t.rc(1080,"/[!@#$%%^&*()<>?/,.;':\"']/"),t.Nb(),t.Ob(1081,"span",17),t.rc(1082,"."),t.Nb(),t.Ob(1083,"span",3),t.rc(1084,"test"),t.Nb(),t.Ob(1085,"span",17),t.rc(1086,"("),t.Nb(),t.rc(1087,"p"),t.Ob(1088,"span",17),t.rc(1089,")"),t.Nb(),t.Ob(1090,"span",17),t.rc(1091,";"),t.Nb(),t.rc(1092,"\n  "),t.Ob(1093,"span",16),t.rc(1094,"const"),t.Nb(),t.rc(1095," noRepeat "),t.Ob(1096,"span",21),t.rc(1097,"="),t.Nb(),t.rc(1098," "),t.Ob(1099,"span",21),t.rc(1100,"!"),t.Nb(),t.Ob(1101,"span",59),t.rc(1102,"/(.)(\\1)/"),t.Nb(),t.Ob(1103,"span",17),t.rc(1104,"."),t.Nb(),t.Ob(1105,"span",3),t.rc(1106,"test"),t.Nb(),t.Ob(1107,"span",17),t.rc(1108,"("),t.Nb(),t.rc(1109,"p"),t.Ob(1110,"span",17),t.rc(1111,")"),t.Nb(),t.Ob(1112,"span",17),t.rc(1113,";"),t.Nb(),t.rc(1114,"\n  "),t.Ob(1115,"span",16),t.rc(1116,"if"),t.Nb(),t.rc(1117," "),t.Ob(1118,"span",17),t.rc(1119,"("),t.Nb(),t.Ob(1120,"span",21),t.rc(1121,"!"),t.Nb(),t.rc(1122,"hasNum "),t.Ob(1123,"span",21),t.rc(1124,"||"),t.Nb(),t.rc(1125," "),t.Ob(1126,"span",21),t.rc(1127,"!"),t.Nb(),t.rc(1128,"hasSpecial "),t.Ob(1129,"span",21),t.rc(1130,"||"),t.Nb(),t.rc(1131," "),t.Ob(1132,"span",21),t.rc(1133,"!"),t.Nb(),t.rc(1134,"noRepeat"),t.Ob(1135,"span",17),t.rc(1136,")"),t.Nb(),t.rc(1137," "),t.Ob(1138,"span",17),t.rc(1139),t.Nb(),t.rc(1140,"\n    "),t.Ob(1141,"span",16),t.rc(1142,"return"),t.Nb(),t.rc(1143," ");t.Ob(1144,"span",17),t.rc(1145),t.Nb(),t.rc(1146,"\n      kind"),t.Ob(1147,"span",21),t.rc(1148,":"),t.Nb(),t.rc(1149," "),t.Ob(1150,"span",18),t.rc(1151,"'password-rules'"),t.Nb(),t.Ob(1152,"span",17),t.rc(1153,","),t.Nb(),t.rc(1154,"\n      path"),t.Ob(1155,"span",21),t.rc(1156,":"),t.Nb(),t.rc(1157," "),t.Ob(1158,"span",18),t.rc(1159,"'password'"),t.Nb(),t.Ob(1160,"span",17),t.rc(1161,","),t.Nb(),t.rc(1162,"\n      message"),t.Ob(1163,"span",21),t.rc(1164,":"),t.Nb(),t.rc(1165," "),t.Ob(1166,"span",18),t.rc(1167,"'A password must include at least one number, one special char, and have no repeating characters'"),t.Nb(),t.rc(1168,"\n    "),t.Ob(1169,"span",17),t.rc(1170),t.Nb(),t.Ob(1171,"span",17),t.rc(1172,";"),t.Nb(),t.rc(1173,"\n  "),t.Ob(1174,"span",17),t.rc(1175),t.Nb(),t.rc(1176,"\n"),t.Ob(1177,"span",17),t.rc(1178),t.Nb(),t.Ob(1179,"span",17),t.rc(1180,";"),t.Nb(),t.rc(1181,"\n\n@"),t.Ob(1182,"span",19),t.rc(1183,"Schema"),t.Nb(),t.Ob(1184,"span",17),t.rc(1185,"("),t.Nb(),t.Ob(1186,"span",17),t.rc(1187,")"),t.Nb(),t.rc(1188,"\n@"),t.Ob(1189,"span",19),t.rc(1190,"Validator"),t.Nb(),t.Ob(1191,"span",17),t.rc(1192,"("),t.Nb(),t.rc(1193,"passwordValidator"),t.Ob(1194,"span",17),t.rc(1195,")"),t.Nb(),t.rc(1196,"\n"),t.Ob(1197,"span",16),t.rc(1198,"class"),t.Nb(),t.rc(1199," "),t.Ob(1200,"span",20),t.rc(1201,"User"),t.Nb(),t.rc(1202," "),t.Ob(1203,"span",17),t.rc(1204),t.Nb(),t.rc(1205,"\n  password"),t.Ob(1206,"span",21),t.rc(1207,":"),t.Nb(),t.rc(1208," "),t.Ob(1209,"span",22),t.rc(1210,"string"),t.Nb(),t.Ob(1211,"span",17),t.rc(1212,";"),t.Nb(),t.rc(1213,"\n"),t.Ob(1214,"span",17),t.rc(1215),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1216," When the validator is executed, it has access to the entire object, and you can check any of the values. The validator expects an object of a specific structure if you are looking to indicate an error has occurred. "),t.Ob(1217,"figure",13),t.Ob(1218,"figcaption",13),t.rc(1219,"Validation Error Structure "),t.Ob(1220,"cite"),t.Ob(1221,"a",60),t.rc(1222,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1223,"pre"),t.Ob(1224,"code",15),t.Ob(1225,"span",16),t.rc(1226,"export"),t.Nb(),t.rc(1227," "),t.Ob(1228,"span",16),t.rc(1229,"interface"),t.Nb(),t.rc(1230," "),t.Ob(1231,"span",20),t.rc(1232,"ValidationError"),t.Nb(),t.rc(1233," "),t.Ob(1234,"span",17),t.rc(1235),t.Nb(),t.rc(1236,"\n  "),t.Ob(1237,"span",54),t.rc(1238,"/**\n   * The error message\n   */"),t.Nb(),t.rc(1239,"\n  message"),t.Ob(1240,"span",21),t.rc(1241,":"),t.Nb(),t.rc(1242," "),t.Ob(1243,"span",22),t.rc(1244,"string"),t.Nb(),t.Ob(1245,"span",17),t.rc(1246,";"),t.Nb(),t.rc(1247,"\n  "),t.Ob(1248,"span",54),t.rc(1249,"/**\n   * The object path of the error\n   */"),t.Nb(),t.rc(1250,"\n  path"),t.Ob(1251,"span",21),t.rc(1252,":"),t.Nb(),t.rc(1253," "),t.Ob(1254,"span",22),t.rc(1255,"string"),t.Nb(),t.Ob(1256,"span",17),t.rc(1257,";"),t.Nb(),t.rc(1258,"\n  "),t.Ob(1259,"span",54),t.rc(1260,"/**\n   * The kind of validation\n   */"),t.Nb(),t.rc(1261,"\n  kind"),t.Ob(1262,"span",21),t.rc(1263,":"),t.Nb(),t.rc(1264," ValidationKind"),t.Ob(1265,"span",17),t.rc(1266,";"),t.Nb(),t.rc(1267,"\n  "),t.Ob(1268,"span",54),t.rc(1269,"/**\n   * The value provided\n   */"),t.Nb(),t.rc(1270,"\n  value"),t.Ob(1271,"span",21),t.rc(1272,"?"),t.Nb(),t.Ob(1273,"span",21),t.rc(1274,":"),t.Nb(),t.rc(1275," "),t.Ob(1276,"span",22),t.rc(1277,"any"),t.Nb(),t.Ob(1278,"span",17),t.rc(1279,";"),t.Nb(),t.rc(1280,"\n  "),t.Ob(1281,"span",54),t.rc(1282,"/**\n   * Regular expression to match\n   */"),t.Nb(),t.rc(1283,"\n  re"),t.Ob(1284,"span",21),t.rc(1285,"?"),t.Nb(),t.Ob(1286,"span",21),t.rc(1287,":"),t.Nb(),t.rc(1288," "),t.Ob(1289,"span",22),t.rc(1290,"string"),t.Nb(),t.Ob(1291,"span",17),t.rc(1292,";"),t.Nb(),t.rc(1293,"\n  "),t.Ob(1294,"span",54),t.rc(1295,"/**\n   * The type of the field\n   */"),t.Nb(),t.rc(1296,"\n  "),t.Ob(1297,"span",16),t.rc(1298,"type"),t.Nb(),t.Ob(1299,"span",21),t.rc(1300,"?"),t.Nb(),t.Ob(1301,"span",21),t.rc(1302,":"),t.Nb(),t.rc(1303," "),t.Ob(1304,"span",22),t.rc(1305,"string"),t.Nb(),t.Ob(1306,"span",17),t.rc(1307,";"),t.Nb(),t.rc(1308,"\n"),t.Ob(1309,"span",17),t.rc(1310),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1311,"h2",61),t.rc(1312,"Extension - Rest"),t.Nb(),t.rc(1313," The module provides high level access for "),t.Ob(1314,"a",62),t.rc(1315,"RESTful API"),t.Nb(),t.rc(1316," support, via decorators, for validating and typing request bodies. "),t.Ob(1317,"a",63),t.rc(1318,"@SchemaBody"),t.Nb(),t.rc(1319," provides the ability to convert the inbound request body into a schema bound object, and provide validation before the controller even receives the request. "),t.Ob(1320,"figure",13),t.Ob(1321,"figcaption",13),t.rc(1322,"Using SchemaBody for POST requests "),t.Ob(1323,"cite"),t.Ob(1324,"a",64),t.rc(1325,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1326,"pre"),t.Ob(1327,"code",15),t.Ob(1328,"span",16),t.rc(1329,"import"),t.Nb(),t.rc(1330," "),t.Ob(1331,"span",17),t.rc(1332),t.Nb(),t.rc(1333," Controller"),t.Ob(1334,"span",17),t.rc(1335,","),t.Nb(),t.rc(1336," Post "),t.Ob(1337,"span",17),t.rc(1338),t.Nb(),t.rc(1339," "),t.Ob(1340,"span",16),t.rc(1341,"from"),t.Nb(),t.rc(1342," "),t.Ob(1343,"span",18),t.rc(1344,"'@travetto/rest'"),t.Nb(),t.Ob(1345,"span",17),t.rc(1346,";"),t.Nb(),t.rc(1347,"\n"),t.Ob(1348,"span",16),t.rc(1349,"import"),t.Nb(),t.rc(1350," "),t.Ob(1351,"span",17),t.rc(1352),t.Nb(),t.rc(1353," SchemaBody "),t.Ob(1354,"span",17),t.rc(1355),t.Nb(),t.rc(1356," "),t.Ob(1357,"span",16),t.rc(1358,"from"),t.Nb(),t.rc(1359," "),t.Ob(1360,"span",18),t.rc(1361,"'@travetto/schema/src/extension/rest'"),t.Nb(),t.Ob(1362,"span",17),t.rc(1363,";"),t.Nb(),t.rc(1364,"\n"),t.Ob(1365,"span",16),t.rc(1366,"import"),t.Nb(),t.rc(1367," "),t.Ob(1368,"span",17),t.rc(1369),t.Nb(),t.rc(1370," Schema "),t.Ob(1371,"span",17),t.rc(1372),t.Nb(),t.rc(1373," "),t.Ob(1374,"span",16),t.rc(1375,"from"),t.Nb(),t.rc(1376," "),t.Ob(1377,"span",18),t.rc(1378,"'@travetto/schema/src/decorator/schema'"),t.Nb(),t.Ob(1379,"span",17),t.rc(1380,";"),t.Nb(),t.rc(1381,"\n\n@"),t.Ob(1382,"span",19),t.rc(1383,"Schema"),t.Nb(),t.Ob(1384,"span",17),t.rc(1385,"("),t.Nb(),t.Ob(1386,"span",17),t.rc(1387,")"),t.Nb(),t.rc(1388,"\n"),t.Ob(1389,"span",16),t.rc(1390,"class"),t.Nb(),t.rc(1391," "),t.Ob(1392,"span",20),t.rc(1393,"User"),t.Nb(),t.rc(1394," "),t.Ob(1395,"span",17),t.rc(1396),t.Nb(),t.rc(1397,"\n  name"),t.Ob(1398,"span",21),t.rc(1399,":"),t.Nb(),t.rc(1400," "),t.Ob(1401,"span",22),t.rc(1402,"string"),t.Nb(),t.Ob(1403,"span",17),t.rc(1404,";"),t.Nb(),t.rc(1405,"\n  age"),t.Ob(1406,"span",21),t.rc(1407,":"),t.Nb(),t.rc(1408," "),t.Ob(1409,"span",22),t.rc(1410,"number"),t.Nb(),t.Ob(1411,"span",17),t.rc(1412,";"),t.Nb(),t.rc(1413,"\n"),t.Ob(1414,"span",17),t.rc(1415),t.Nb(),t.rc(1416,"\n\n@"),t.Ob(1417,"span",19),t.rc(1418,"Controller"),t.Nb(),t.Ob(1419,"span",17),t.rc(1420,"("),t.Nb(),t.Ob(1421,"span",18),t.rc(1422,"'/user'"),t.Nb(),t.Ob(1423,"span",17),t.rc(1424,")"),t.Nb(),t.rc(1425,"\n"),t.Ob(1426,"span",16),t.rc(1427,"class"),t.Nb(),t.rc(1428," "),t.Ob(1429,"span",20),t.rc(1430,"UserController"),t.Nb(),t.rc(1431," "),t.Ob(1432,"span",17),t.rc(1433),t.Nb(),t.rc(1434,"\n\n  "),t.Ob(1435,"span",16),t.rc(1436,"private"),t.Nb(),t.rc(1437," service"),t.Ob(1438,"span",21),t.rc(1439,":"),t.Nb(),t.rc(1440," "),t.Ob(1441,"span",22),t.rc(1442,"any"),t.Nb(),t.Ob(1443,"span",17),t.rc(1444,";"),t.Nb(),t.rc(1445,"\n\n  @"),t.Ob(1446,"span",19),t.rc(1447,"Post"),t.Nb(),t.Ob(1448,"span",17),t.rc(1449,"("),t.Nb(),t.Ob(1450,"span",18),t.rc(1451,"'/saveUser'"),t.Nb(),t.Ob(1452,"span",17),t.rc(1453,")"),t.Nb(),t.rc(1454,"\n  "),t.Ob(1455,"span",16),t.rc(1456,"async"),t.Nb(),t.rc(1457," "),t.Ob(1458,"span",3),t.rc(1459,"save"),t.Nb(),t.Ob(1460,"span",17),t.rc(1461,"("),t.Nb(),t.Ob(1462,"span",58),t.rc(1463,"@"),t.Ob(1464,"span",19),t.rc(1465,"SchemaBody"),t.Nb(),t.Ob(1466,"span",17),t.rc(1467,"("),t.Nb(),t.Ob(1468,"span",17),t.rc(1469,")"),t.Nb(),t.rc(1470," user"),t.Ob(1471,"span",21),t.rc(1472,":"),t.Nb(),t.rc(1473," User"),t.Nb(),t.Ob(1474,"span",17),t.rc(1475,")"),t.Nb(),t.rc(1476," "),t.Ob(1477,"span",17),t.rc(1478),t.Nb(),t.rc(1479,"\n    user "),t.Ob(1480,"span",21),t.rc(1481,"="),t.Nb(),t.rc(1482," "),t.Ob(1483,"span",16),t.rc(1484,"await"),t.Nb(),t.rc(1485," "),t.Ob(1486,"span",16),t.rc(1487,"this"),t.Nb(),t.Ob(1488,"span",17),t.rc(1489,"."),t.Nb(),t.rc(1490,"service"),t.Ob(1491,"span",17),t.rc(1492,"."),t.Nb(),t.Ob(1493,"span",3),t.rc(1494,"update"),t.Nb(),t.Ob(1495,"span",17),t.rc(1496,"("),t.Nb(),t.rc(1497,"user"),t.Ob(1498,"span",17),t.rc(1499,")"),t.Nb(),t.Ob(1500,"span",17),t.rc(1501,";"),t.Nb(),t.rc(1502,"\n    "),t.Ob(1503,"span",16),t.rc(1504,"return"),t.Nb(),t.rc(1505," "),t.Ob(1506,"span",17),t.rc(1507),t.Nb(),t.rc(1508," success"),t.Ob(1509,"span",21),t.rc(1510,":"),t.Nb(),t.rc(1511," "),t.Ob(1512,"span",65),t.rc(1513,"true"),t.Nb(),t.rc(1514," "),t.Ob(1515,"span",17),t.rc(1516),t.Nb(),t.Ob(1517,"span",17),t.rc(1518,";"),t.Nb(),t.rc(1519,"\n  "),t.Ob(1520,"span",17),t.rc(1521),t.Nb(),t.rc(1522,"\n"),t.Ob(1523,"span",17),t.rc(1524),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1525,"a",66),t.rc(1526,"@SchemaQuery"),t.Nb(),t.rc(1527," provides the ability to convert the inbound request query into a schema bound object, and provide validation before the controller even receives the request. "),t.Ob(1528,"figure",13),t.Ob(1529,"figcaption",13),t.rc(1530,"Using SchemaQuery for GET requests "),t.Ob(1531,"cite"),t.Ob(1532,"a",67),t.rc(1533,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1534,"pre"),t.Ob(1535,"code",15),t.Ob(1536,"span",16),t.rc(1537,"import"),t.Nb(),t.rc(1538," "),t.Ob(1539,"span",17),t.rc(1540),t.Nb(),t.rc(1541," Controller"),t.Ob(1542,"span",17),t.rc(1543,","),t.Nb(),t.rc(1544," Get "),t.Ob(1545,"span",17),t.rc(1546),t.Nb(),t.rc(1547," "),t.Ob(1548,"span",16),t.rc(1549,"from"),t.Nb(),t.rc(1550," "),t.Ob(1551,"span",18),t.rc(1552,"'@travetto/rest'"),t.Nb(),t.Ob(1553,"span",17),t.rc(1554,";"),t.Nb(),t.rc(1555,"\n"),t.Ob(1556,"span",16),t.rc(1557,"import"),t.Nb(),t.rc(1558," "),t.Ob(1559,"span",17),t.rc(1560),t.Nb(),t.rc(1561," SchemaQuery "),t.Ob(1562,"span",17),t.rc(1563),t.Nb(),t.rc(1564," "),t.Ob(1565,"span",16),t.rc(1566,"from"),t.Nb(),t.rc(1567," "),t.Ob(1568,"span",18),t.rc(1569,"'@travetto/schema/src/extension/rest'"),t.Nb(),t.Ob(1570,"span",17),t.rc(1571,";"),t.Nb(),t.rc(1572,"\n"),t.Ob(1573,"span",16),t.rc(1574,"import"),t.Nb(),t.rc(1575," "),t.Ob(1576,"span",17),t.rc(1577),t.Nb(),t.rc(1578," Schema "),t.Ob(1579,"span",17),t.rc(1580),t.Nb(),t.rc(1581," "),t.Ob(1582,"span",16),t.rc(1583,"from"),t.Nb(),t.rc(1584," "),t.Ob(1585,"span",18),t.rc(1586,"'@travetto/schema/src/decorator/schema'"),t.Nb(),t.Ob(1587,"span",17),t.rc(1588,";"),t.Nb(),t.rc(1589,"\n\n@"),t.Ob(1590,"span",19),t.rc(1591,"Schema"),t.Nb(),t.Ob(1592,"span",17),t.rc(1593,"("),t.Nb(),t.Ob(1594,"span",17),t.rc(1595,")"),t.Nb(),t.rc(1596,"\n"),t.Ob(1597,"span",16),t.rc(1598,"class"),t.Nb(),t.rc(1599," "),t.Ob(1600,"span",20),t.rc(1601,"SearchParams"),t.Nb(),t.rc(1602," "),t.Ob(1603,"span",17),t.rc(1604),t.Nb(),t.rc(1605,"\n  page"),t.Ob(1606,"span",21),t.rc(1607,":"),t.Nb(),t.rc(1608," "),t.Ob(1609,"span",22),t.rc(1610,"number"),t.Nb(),t.rc(1611," "),t.Ob(1612,"span",21),t.rc(1613,"="),t.Nb(),t.rc(1614," "),t.Ob(1615,"span",49),t.rc(1616,"0"),t.Nb(),t.Ob(1617,"span",17),t.rc(1618,";"),t.Nb(),t.rc(1619,"\n  pageSize"),t.Ob(1620,"span",21),t.rc(1621,":"),t.Nb(),t.rc(1622," "),t.Ob(1623,"span",22),t.rc(1624,"number"),t.Nb(),t.rc(1625," "),t.Ob(1626,"span",21),t.rc(1627,"="),t.Nb(),t.rc(1628," "),t.Ob(1629,"span",49),t.rc(1630,"100"),t.Nb(),t.Ob(1631,"span",17),t.rc(1632,";"),t.Nb(),t.rc(1633,"\n"),t.Ob(1634,"span",17),t.rc(1635),t.Nb(),t.rc(1636,"\n\n@"),t.Ob(1637,"span",19),t.rc(1638,"Controller"),t.Nb(),t.Ob(1639,"span",17),t.rc(1640,"("),t.Nb(),t.Ob(1641,"span",18),t.rc(1642,"'/user'"),t.Nb(),t.Ob(1643,"span",17),t.rc(1644,")"),t.Nb(),t.rc(1645,"\n"),t.Ob(1646,"span",16),t.rc(1647,"class"),t.Nb(),t.rc(1648," "),t.Ob(1649,"span",20),t.rc(1650,"UserController"),t.Nb(),t.rc(1651," "),t.Ob(1652,"span",17),t.rc(1653),t.Nb(),t.rc(1654,"\n\n  "),t.Ob(1655,"span",16),t.rc(1656,"private"),t.Nb(),t.rc(1657," service"),t.Ob(1658,"span",21),t.rc(1659,":"),t.Nb(),t.rc(1660," "),t.Ob(1661,"span",22),t.rc(1662,"any"),t.Nb(),t.Ob(1663,"span",17),t.rc(1664,";"),t.Nb(),t.rc(1665,"\n\n  @"),t.Ob(1666,"span",19),t.rc(1667,"Get"),t.Nb(),t.Ob(1668,"span",17),t.rc(1669,"("),t.Nb(),t.Ob(1670,"span",18),t.rc(1671,"'/search'"),t.Nb(),t.Ob(1672,"span",17),t.rc(1673,")"),t.Nb(),t.rc(1674,"\n  "),t.Ob(1675,"span",16),t.rc(1676,"async"),t.Nb(),t.rc(1677," "),t.Ob(1678,"span",3),t.rc(1679,"search"),t.Nb(),t.Ob(1680,"span",17),t.rc(1681,"("),t.Nb(),t.Ob(1682,"span",58),t.rc(1683,"@"),t.Ob(1684,"span",19),t.rc(1685,"SchemaQuery"),t.Nb(),t.Ob(1686,"span",17),t.rc(1687,"("),t.Nb(),t.Ob(1688,"span",17),t.rc(1689,")"),t.Nb(),t.rc(1690," query"),t.Ob(1691,"span",21),t.rc(1692,":"),t.Nb(),t.rc(1693," SearchParams"),t.Nb(),t.Ob(1694,"span",17),t.rc(1695,")"),t.Nb(),t.rc(1696," "),t.Ob(1697,"span",17),t.rc(1698),t.Nb(),t.rc(1699,"\n    "),t.Ob(1700,"span",16),t.rc(1701,"return"),t.Nb(),t.rc(1702," "),t.Ob(1703,"span",16),t.rc(1704,"await"),t.Nb(),t.rc(1705," "),t.Ob(1706,"span",16),t.rc(1707,"this"),t.Nb(),t.Ob(1708,"span",17),t.rc(1709,"."),t.Nb(),t.rc(1710,"service"),t.Ob(1711,"span",17),t.rc(1712,"."),t.Nb(),t.Ob(1713,"span",3),t.rc(1714,"search"),t.Nb(),t.Ob(1715,"span",17),t.rc(1716,"("),t.Nb(),t.rc(1717,"query"),t.Ob(1718,"span",17),t.rc(1719,")"),t.Nb();t.Ob(1720,"span",17),t.rc(1721,";"),t.Nb(),t.rc(1722,"\n  "),t.Ob(1723,"span",17),t.rc(1724),t.Nb(),t.rc(1725,"\n"),t.Ob(1726,"span",17),t.rc(1727),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1728," Addtionally, "),t.Ob(1729,"a",66),t.rc(1730,"@SchemaQuery"),t.Nb(),t.rc(1731," and "),t.Ob(1732,"a",63),t.rc(1733,"@SchemaBody"),t.Nb(),t.rc(1734," can also be used with "),t.Ob(1735,"code",8),t.rc(1736,"interface"),t.Nb(),t.rc(1737,"s and "),t.Ob(1738,"code",8),t.rc(1739,"type"),t.Nb(),t.rc(1740," literals in lieu of classes. This is best suited for simple types: "),t.Ob(1741,"figure",13),t.Ob(1742,"figcaption",13),t.rc(1743,"Using SchemaQuery with a type literal "),t.Ob(1744,"cite"),t.Ob(1745,"a",68),t.rc(1746,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1747,"pre"),t.Ob(1748,"code",15),t.Ob(1749,"span",16),t.rc(1750,"import"),t.Nb(),t.rc(1751," "),t.Ob(1752,"span",17),t.rc(1753),t.Nb(),t.rc(1754," Controller"),t.Ob(1755,"span",17),t.rc(1756,","),t.Nb(),t.rc(1757," Get "),t.Ob(1758,"span",17),t.rc(1759),t.Nb(),t.rc(1760," "),t.Ob(1761,"span",16),t.rc(1762,"from"),t.Nb(),t.rc(1763," "),t.Ob(1764,"span",18),t.rc(1765,"'@travetto/rest'"),t.Nb(),t.Ob(1766,"span",17),t.rc(1767,";"),t.Nb(),t.rc(1768,"\n"),t.Ob(1769,"span",16),t.rc(1770,"import"),t.Nb(),t.rc(1771," "),t.Ob(1772,"span",17),t.rc(1773),t.Nb(),t.rc(1774," SchemaQuery "),t.Ob(1775,"span",17),t.rc(1776),t.Nb(),t.rc(1777," "),t.Ob(1778,"span",16),t.rc(1779,"from"),t.Nb(),t.rc(1780," "),t.Ob(1781,"span",18),t.rc(1782,"'@travetto/schema/src/extension/rest'"),t.Nb(),t.Ob(1783,"span",17),t.rc(1784,";"),t.Nb(),t.rc(1785,"\n\n"),t.Ob(1786,"span",16),t.rc(1787,"type"),t.Nb(),t.rc(1788," Paging "),t.Ob(1789,"span",21),t.rc(1790,"="),t.Nb(),t.rc(1791," "),t.Ob(1792,"span",17),t.rc(1793),t.Nb(),t.rc(1794,"\n  page"),t.Ob(1795,"span",21),t.rc(1796,"?"),t.Nb(),t.Ob(1797,"span",21),t.rc(1798,":"),t.Nb(),t.rc(1799," "),t.Ob(1800,"span",22),t.rc(1801,"number"),t.Nb(),t.Ob(1802,"span",17),t.rc(1803,";"),t.Nb(),t.rc(1804,"\n  pageSize"),t.Ob(1805,"span",21),t.rc(1806,"?"),t.Nb(),t.Ob(1807,"span",21),t.rc(1808,":"),t.Nb(),t.rc(1809," "),t.Ob(1810,"span",22),t.rc(1811,"number"),t.Nb(),t.Ob(1812,"span",17),t.rc(1813,";"),t.Nb(),t.rc(1814,"\n"),t.Ob(1815,"span",17),t.rc(1816),t.Nb(),t.Ob(1817,"span",17),t.rc(1818,";"),t.Nb(),t.rc(1819,"\n\n@"),t.Ob(1820,"span",19),t.rc(1821,"Controller"),t.Nb(),t.Ob(1822,"span",17),t.rc(1823,"("),t.Nb(),t.Ob(1824,"span",18),t.rc(1825,"'/user'"),t.Nb(),t.Ob(1826,"span",17),t.rc(1827,")"),t.Nb(),t.rc(1828,"\n"),t.Ob(1829,"span",16),t.rc(1830,"class"),t.Nb(),t.rc(1831," "),t.Ob(1832,"span",20),t.rc(1833,"UserController"),t.Nb(),t.rc(1834," "),t.Ob(1835,"span",17),t.rc(1836),t.Nb(),t.rc(1837,"\n\n  "),t.Ob(1838,"span",16),t.rc(1839,"private"),t.Nb(),t.rc(1840," service"),t.Ob(1841,"span",21),t.rc(1842,":"),t.Nb(),t.rc(1843," "),t.Ob(1844,"span",22),t.rc(1845,"any"),t.Nb(),t.Ob(1846,"span",17),t.rc(1847,";"),t.Nb(),t.rc(1848,"\n\n  @"),t.Ob(1849,"span",19),t.rc(1850,"Get"),t.Nb(),t.Ob(1851,"span",17),t.rc(1852,"("),t.Nb(),t.Ob(1853,"span",18),t.rc(1854,"'/search'"),t.Nb(),t.Ob(1855,"span",17),t.rc(1856,")"),t.Nb(),t.rc(1857,"\n  "),t.Ob(1858,"span",16),t.rc(1859,"async"),t.Nb(),t.rc(1860," "),t.Ob(1861,"span",3),t.rc(1862,"search"),t.Nb(),t.Ob(1863,"span",17),t.rc(1864,"("),t.Nb(),t.Ob(1865,"span",58),t.rc(1866,"@"),t.Ob(1867,"span",19),t.rc(1868,"SchemaQuery"),t.Nb(),t.Ob(1869,"span",17),t.rc(1870,"("),t.Nb(),t.Ob(1871,"span",17),t.rc(1872,")"),t.Nb(),t.rc(1873," query"),t.Ob(1874,"span",21),t.rc(1875,":"),t.Nb(),t.rc(1876," Paging "),t.Ob(1877,"span",21),t.rc(1878,"="),t.Nb(),t.rc(1879," "),t.Ob(1880,"span",17),t.rc(1881),t.Nb(),t.rc(1882," page"),t.Ob(1883,"span",21),t.rc(1884,":"),t.Nb(),t.rc(1885," "),t.Ob(1886,"span",49),t.rc(1887,"0"),t.Nb(),t.Ob(1888,"span",17),t.rc(1889,","),t.Nb(),t.rc(1890," pageSize"),t.Ob(1891,"span",21),t.rc(1892,":"),t.Nb(),t.rc(1893," "),t.Ob(1894,"span",49),t.rc(1895,"100"),t.Nb(),t.rc(1896," "),t.Ob(1897,"span",17),t.rc(1898),t.Nb(),t.Nb(),t.Ob(1899,"span",17),t.rc(1900,")"),t.Nb(),t.rc(1901," "),t.Ob(1902,"span",17),t.rc(1903),t.Nb(),t.rc(1904,"\n    "),t.Ob(1905,"span",16),t.rc(1906,"return"),t.Nb(),t.rc(1907," "),t.Ob(1908,"span",16),t.rc(1909,"await"),t.Nb(),t.rc(1910," "),t.Ob(1911,"span",16),t.rc(1912,"this"),t.Nb(),t.Ob(1913,"span",17),t.rc(1914,"."),t.Nb(),t.rc(1915,"service"),t.Ob(1916,"span",17),t.rc(1917,"."),t.Nb(),t.Ob(1918,"span",3),t.rc(1919,"search"),t.Nb(),t.Ob(1920,"span",17),t.rc(1921,"("),t.Nb(),t.rc(1922,"query"),t.Ob(1923,"span",17),t.rc(1924,")"),t.Nb(),t.Ob(1925,"span",17),t.rc(1926,";"),t.Nb(),t.rc(1927,"\n  "),t.Ob(1928,"span",17),t.rc(1929),t.Nb(),t.rc(1930,"\n"),t.Ob(1931,"span",17),t.rc(1932),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1933,"h2",69),t.rc(1934,"Extension - Generation"),t.Nb(),t.rc(1935,"\nIn the course of application development, there is often a need to generate fake data on demand. Given all the information that we have about the schemas provided, translating that into data generation is fairly straightforward. The generation utility is built upon "),t.Ob(1936,"a",70),t.rc(1937,"faker"),t.Nb(),t.rc(1938,", mapping data types, and various field names into specific "),t.Ob(1939,"a",70),t.rc(1940,"faker"),t.Nb(),t.rc(1941," generation routines. By default all types are mapped as-is: "),t.Ob(1942,"ul"),t.Ob(1943,"li"),t.Ob(1944,"code",8),t.rc(1945,"string"),t.Nb(),t.Nb(),t.Ob(1946,"li"),t.Ob(1947,"code",8),t.rc(1948,"number"),t.Nb(),t.Nb(),t.Ob(1949,"li"),t.Ob(1950,"code",8),t.rc(1951,"Date"),t.Nb(),t.Nb(),t.Ob(1952,"li"),t.Ob(1953,"code",8),t.rc(1954,"boolean"),t.Nb(),t.Nb(),t.Ob(1955,"li"),t.rc(1956,"Enumerations as "),t.Ob(1957,"code",8),t.rc(1958,"string"),t.Nb(),t.rc(1959," or "),t.Ob(1960,"code",8),t.rc(1961,"number"),t.Nb(),t.rc(1962," types."),t.Nb(),t.Ob(1963,"li"),t.rc(1964,"Provided regular expressions: "),t.Ob(1965,"ul"),t.Ob(1966,"li"),t.rc(1967,"email"),t.Nb(),t.Ob(1968,"li"),t.rc(1969,"url"),t.Nb(),t.Ob(1970,"li"),t.rc(1971,"telephone"),t.Nb(),t.Ob(1972,"li"),t.rc(1973,"postalCode"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1974,"li"),t.rc(1975,"Sub-schemas as registered via "),t.Ob(1976,"a",6),t.rc(1977,"@Schema"),t.Nb(),t.rc(1978," decorators."),t.Nb(),t.Nb(),t.rc(1979," In addition to the general types, the code relies upon name matching to provide additional refinement: "),t.Ob(1980,"figure",13),t.Ob(1981,"figcaption",13),t.rc(1982,"Supported Mappings "),t.Ob(1983,"cite"),t.Ob(1984,"a",71),t.rc(1985,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1986,"pre"),t.Ob(1987,"code",15),t.Ob(1988,"span",16),t.rc(1989,"static"),t.Nb(),t.rc(1990," "),t.Ob(1991,"span",72),t.rc(1992,"NAMES_TO_TYPE"),t.Nb(),t.Ob(1993,"span",21),t.rc(1994,":"),t.Nb(),t.rc(1995," Record"),t.Ob(1996,"span",21),t.rc(1997,"<"),t.Nb(),t.Ob(1998,"span",22),t.rc(1999,"string"),t.Nb(),t.Ob(2e3,"span",17),t.rc(2001,","),t.Nb(),t.rc(2002," "),t.Ob(2003,"span",17),t.rc(2004,"["),t.Nb(),t.rc(2005,"RegExp"),t.Ob(2006,"span",17),t.rc(2007,","),t.Nb(),t.rc(2008," "),t.Ob(2009,"span",17),t.rc(2010,"("),t.Nb(),t.Ob(2011,"span",17),t.rc(2012,")"),t.Nb(),t.rc(2013," "),t.Ob(2014,"span",21),t.rc(2015,"=>"),t.Nb(),t.rc(2016," "),t.Ob(2017,"span",22),t.rc(2018,"any"),t.Nb(),t.Ob(2019,"span",17),t.rc(2020,"]"),t.Nb(),t.Ob(2021,"span",17),t.rc(2022,"["),t.Nb(),t.Ob(2023,"span",17),t.rc(2024,"]"),t.Nb(),t.Ob(2025,"span",21),t.rc(2026,">"),t.Nb(),t.rc(2027," "),t.Ob(2028,"span",21),t.rc(2029,"="),t.Nb(),t.rc(2030," "),t.Ob(2031,"span",17),t.rc(2032),t.Nb(),t.rc(2033,"\n  "),t.Ob(2034,"span",22),t.rc(2035,"string"),t.Nb(),t.Ob(2036,"span",21),t.rc(2037,":"),t.Nb(),t.rc(2038," "),t.Ob(2039,"span",17),t.rc(2040,"["),t.Nb(),t.rc(2041,"\n    "),t.Ob(2042,"span",17),t.rc(2043,"["),t.Nb(),t.Ob(2044,"span",59),t.rc(2045,"/^(image|img).*url$/"),t.Nb(),t.Ob(2046,"span",17),t.rc(2047,","),t.Nb(),t.rc(2048," faker"),t.Ob(2049,"span",17),t.rc(2050,"."),t.Nb(),t.rc(2051,"image"),t.Ob(2052,"span",17),t.rc(2053,"."),t.Nb(),t.rc(2054,"imageUrl"),t.Ob(2055,"span",17),t.rc(2056,"]"),t.Nb(),t.Ob(2057,"span",17),t.rc(2058,","),t.Nb(),t.rc(2059,"\n    "),t.Ob(2060,"span",17),t.rc(2061,"["),t.Nb(),t.Ob(2062,"span",59),t.rc(2063,"/^url$/"),t.Nb(),t.Ob(2064,"span",17),t.rc(2065,","),t.Nb(),t.rc(2066," faker"),t.Ob(2067,"span",17),t.rc(2068,"."),t.Nb(),t.rc(2069,"internet"),t.Ob(2070,"span",17),t.rc(2071,"."),t.Nb(),t.rc(2072,"url"),t.Ob(2073,"span",17),t.rc(2074,"]"),t.Nb(),t.Ob(2075,"span",17),t.rc(2076,","),t.Nb(),t.rc(2077,"\n    "),t.Ob(2078,"span",17),t.rc(2079,"["),t.Nb(),t.Ob(2080,"span",59),t.rc(2081,"/^email(addr(ress)?)?$/"),t.Nb(),t.Ob(2082,"span",17),t.rc(2083,","),t.Nb(),t.rc(2084," faker"),t.Ob(2085,"span",17),t.rc(2086,"."),t.Nb(),t.rc(2087,"internet"),t.Ob(2088,"span",17),t.rc(2089,"."),t.Nb(),t.rc(2090,"email"),t.Ob(2091,"span",17),t.rc(2092,"]"),t.Nb(),t.Ob(2093,"span",17),t.rc(2094,","),t.Nb(),t.rc(2095,"\n    "),t.Ob(2096,"span",17),t.rc(2097,"["),t.Nb(),t.Ob(2098,"span",59),t.rc(2099,"/^(tele)?phone(num|number)?$/"),t.Nb(),t.Ob(2100,"span",17),t.rc(2101,","),t.Nb(),t.rc(2102," faker"),t.Ob(2103,"span",17),t.rc(2104,"."),t.Nb(),t.rc(2105,"phone"),t.Ob(2106,"span",17),t.rc(2107,"."),t.Nb(),t.rc(2108,"phoneNumber"),t.Ob(2109,"span",17),t.rc(2110,"]"),t.Nb(),t.Ob(2111,"span",17),t.rc(2112,","),t.Nb(),t.rc(2113,"\n    "),t.Ob(2114,"span",17),t.rc(2115,"["),t.Nb(),t.Ob(2116,"span",59),t.rc(2117,"/^((postal|zip)code)|zip$/"),t.Nb(),t.Ob(2118,"span",17),t.rc(2119,","),t.Nb(),t.rc(2120," faker"),t.Ob(2121,"span",17),t.rc(2122,"."),t.Nb(),t.rc(2123,"address"),t.Ob(2124,"span",17),t.rc(2125,"."),t.Nb(),t.rc(2126,"zipCode"),t.Ob(2127,"span",17),t.rc(2128,"]"),t.Nb(),t.Ob(2129,"span",17),t.rc(2130,","),t.Nb(),t.rc(2131,"\n    "),t.Ob(2132,"span",17),t.rc(2133,"["),t.Nb(),t.Ob(2134,"span",59),t.rc(2135,"/f(irst)?name/"),t.Nb(),t.Ob(2136,"span",17),t.rc(2137,","),t.Nb(),t.rc(2138," faker"),t.Ob(2139,"span",17),t.rc(2140,"."),t.Nb(),t.rc(2141,"name"),t.Ob(2142,"span",17),t.rc(2143,"."),t.Nb(),t.rc(2144,"firstName"),t.Ob(2145,"span",17),t.rc(2146,"]"),t.Nb(),t.Ob(2147,"span",17),t.rc(2148,","),t.Nb(),t.rc(2149,"\n    "),t.Ob(2150,"span",17),t.rc(2151,"["),t.Nb(),t.Ob(2152,"span",59),t.rc(2153,"/l(ast)?name/"),t.Nb(),t.Ob(2154,"span",17),t.rc(2155,","),t.Nb(),t.rc(2156," faker"),t.Ob(2157,"span",17),t.rc(2158,"."),t.Nb(),t.rc(2159,"name"),t.Ob(2160,"span",17),t.rc(2161,"."),t.Nb(),t.rc(2162,"lastName"),t.Ob(2163,"span",17),t.rc(2164,"]"),t.Nb(),t.Ob(2165,"span",17),t.rc(2166,","),t.Nb(),t.rc(2167,"\n    "),t.Ob(2168,"span",17),t.rc(2169,"["),t.Nb(),t.Ob(2170,"span",59),t.rc(2171,"/^ip(add(ress)?)?$/"),t.Nb(),t.Ob(2172,"span",17),t.rc(2173,","),t.Nb(),t.rc(2174," faker"),t.Ob(2175,"span",17),t.rc(2176,"."),t.Nb(),t.rc(2177,"internet"),t.Ob(2178,"span",17),t.rc(2179,"."),t.Nb(),t.rc(2180,"ip"),t.Ob(2181,"span",17),t.rc(2182,"]"),t.Nb(),t.Ob(2183,"span",17),t.rc(2184,","),t.Nb(),t.rc(2185,"\n    "),t.Ob(2186,"span",17),t.rc(2187,"["),t.Nb(),t.Ob(2188,"span",59),t.rc(2189,"/^ip(add(ress)?)?(v?)6$/"),t.Nb(),t.Ob(2190,"span",17),t.rc(2191,","),t.Nb(),t.rc(2192," faker"),t.Ob(2193,"span",17),t.rc(2194,"."),t.Nb(),t.rc(2195,"internet"),t.Ob(2196,"span",17),t.rc(2197,"."),t.Nb(),t.rc(2198,"ipv6"),t.Ob(2199,"span",17),t.rc(2200,"]"),t.Nb(),t.Ob(2201,"span",17),t.rc(2202,","),t.Nb(),t.rc(2203,"\n    "),t.Ob(2204,"span",17),t.rc(2205,"["),t.Nb(),t.Ob(2206,"span",59),t.rc(2207,"/^username$/"),t.Nb(),t.Ob(2208,"span",17),t.rc(2209,","),t.Nb(),t.rc(2210," faker"),t.Ob(2211,"span",17),t.rc(2212,"."),t.Nb(),t.rc(2213,"internet"),t.Ob(2214,"span",17),t.rc(2215,"."),t.Nb(),t.rc(2216,"userName"),t.Ob(2217,"span",17),t.rc(2218,"]"),t.Nb(),t.Ob(2219,"span",17),t.rc(2220,","),t.Nb(),t.rc(2221,"\n    "),t.Ob(2222,"span",17),t.rc(2223,"["),t.Nb(),t.Ob(2224,"span",59),t.rc(2225,"/^domain(name)?$/"),t.Nb(),t.Ob(2226,"span",17),t.rc(2227,","),t.Nb(),t.rc(2228," faker"),t.Ob(2229,"span",17),t.rc(2230,"."),t.Nb(),t.rc(2231,"internet"),t.Ob(2232,"span",17),t.rc(2233,"."),t.Nb(),t.rc(2234,"domainName"),t.Ob(2235,"span",17),t.rc(2236,"]"),t.Nb(),t.Ob(2237,"span",17),t.rc(2238,","),t.Nb(),t.rc(2239,"\n    "),t.Ob(2240,"span",17),t.rc(2241,"["),t.Nb(),t.Ob(2242,"span",59),t.rc(2243,"/^file(path|name)?$/"),t.Nb(),t.Ob(2244,"span",17),t.rc(2245,","),t.Nb(),t.rc(2246," faker"),t.Ob(2247,"span",17),t.rc(2248,"."),t.Nb(),t.rc(2249,"system"),t.Ob(2250,"span",17),t.rc(2251,"."),t.Nb(),t.rc(2252,"filePath"),t.Ob(2253,"span",17),t.rc(2254,"]"),t.Nb(),t.Ob(2255,"span",17),t.rc(2256,","),t.Nb(),t.rc(2257,"\n    "),t.Ob(2258,"span",17),t.rc(2259,"["),t.Nb(),t.Ob(2260,"span",59),t.rc(2261,"/^street(1)?$/"),t.Nb(),t.Ob(2262,"span",17),t.rc(2263,","),t.Nb(),t.rc(2264," faker"),t.Ob(2265,"span",17),t.rc(2266,"."),t.Nb(),t.rc(2267,"address"),t.Ob(2268,"span",17),t.rc(2269,"."),t.Nb(),t.rc(2270,"streetAddress"),t.Ob(2271,"span",17),t.rc(2272,"]"),t.Nb(),t.Ob(2273,"span",17),t.rc(2274,","),t.Nb(),t.rc(2275,"\n    "),t.Ob(2276,"span",17),t.rc(2277,"["),t.Nb(),t.Ob(2278,"span",59),t.rc(2279,"/^street2$/"),t.Nb(),t.Ob(2280,"span",17),t.rc(2281,","),t.Nb(),t.rc(2282," faker"),t.Ob(2283,"span",17),t.rc(2284,"."),t.Nb(),t.rc(2285,"address"),t.Ob(2286,"span",17),t.rc(2287,"."),t.Nb(),t.rc(2288,"secondaryAddress"),t.Ob(2289,"span",17),t.rc(2290,"]");t.Nb(),t.Ob(2291,"span",17),t.rc(2292,","),t.Nb(),t.rc(2293,"\n    "),t.Ob(2294,"span",17),t.rc(2295,"["),t.Nb(),t.Ob(2296,"span",59),t.rc(2297,"/^county$/"),t.Nb(),t.Ob(2298,"span",17),t.rc(2299,","),t.Nb(),t.rc(2300," faker"),t.Ob(2301,"span",17),t.rc(2302,"."),t.Nb(),t.rc(2303,"address"),t.Ob(2304,"span",17),t.rc(2305,"."),t.Nb(),t.rc(2306,"county"),t.Ob(2307,"span",17),t.rc(2308,"]"),t.Nb(),t.Ob(2309,"span",17),t.rc(2310,","),t.Nb(),t.rc(2311,"\n    "),t.Ob(2312,"span",17),t.rc(2313,"["),t.Nb(),t.Ob(2314,"span",59),t.rc(2315,"/^country$/"),t.Nb(),t.Ob(2316,"span",17),t.rc(2317,","),t.Nb(),t.rc(2318," faker"),t.Ob(2319,"span",17),t.rc(2320,"."),t.Nb(),t.rc(2321,"address"),t.Ob(2322,"span",17),t.rc(2323,"."),t.Nb(),t.rc(2324,"country"),t.Ob(2325,"span",17),t.rc(2326,"]"),t.Nb(),t.Ob(2327,"span",17),t.rc(2328,","),t.Nb(),t.rc(2329,"\n    "),t.Ob(2330,"span",17),t.rc(2331,"["),t.Nb(),t.Ob(2332,"span",59),t.rc(2333,"/^state$/"),t.Nb(),t.Ob(2334,"span",17),t.rc(2335,","),t.Nb(),t.rc(2336," faker"),t.Ob(2337,"span",17),t.rc(2338,"."),t.Nb(),t.rc(2339,"address"),t.Ob(2340,"span",17),t.rc(2341,"."),t.Nb(),t.rc(2342,"state"),t.Ob(2343,"span",17),t.rc(2344,"]"),t.Nb(),t.Ob(2345,"span",17),t.rc(2346,","),t.Nb(),t.rc(2347,"\n    "),t.Ob(2348,"span",17),t.rc(2349,"["),t.Nb(),t.Ob(2350,"span",59),t.rc(2351,"/^lon(gitude)/"),t.Nb(),t.Ob(2352,"span",17),t.rc(2353,","),t.Nb(),t.rc(2354," faker"),t.Ob(2355,"span",17),t.rc(2356,"."),t.Nb(),t.rc(2357,"address"),t.Ob(2358,"span",17),t.rc(2359,"."),t.Nb(),t.rc(2360,"longitude"),t.Ob(2361,"span",17),t.rc(2362,"]"),t.Nb(),t.Ob(2363,"span",17),t.rc(2364,","),t.Nb(),t.rc(2365,"\n    "),t.Ob(2366,"span",17),t.rc(2367,"["),t.Nb(),t.Ob(2368,"span",59),t.rc(2369,"/^lat(itude)/"),t.Nb(),t.Ob(2370,"span",17),t.rc(2371,","),t.Nb(),t.rc(2372," faker"),t.Ob(2373,"span",17),t.rc(2374,"."),t.Nb(),t.rc(2375,"address"),t.Ob(2376,"span",17),t.rc(2377,"."),t.Nb(),t.rc(2378,"latitude"),t.Ob(2379,"span",17),t.rc(2380,"]"),t.Nb(),t.Ob(2381,"span",17),t.rc(2382,","),t.Nb(),t.rc(2383,"\n    "),t.Ob(2384,"span",17),t.rc(2385,"["),t.Nb(),t.Ob(2386,"span",59),t.rc(2387,"/(profile).*(image|img)/"),t.Nb(),t.Ob(2388,"span",17),t.rc(2389,","),t.Nb(),t.rc(2390," faker"),t.Ob(2391,"span",17),t.rc(2392,"."),t.Nb(),t.rc(2393,"image"),t.Ob(2394,"span",17),t.rc(2395,"."),t.Nb(),t.rc(2396,"avatar"),t.Ob(2397,"span",17),t.rc(2398,"]"),t.Nb(),t.Ob(2399,"span",17),t.rc(2400,","),t.Nb(),t.rc(2401,"\n    "),t.Ob(2402,"span",17),t.rc(2403,"["),t.Nb(),t.Ob(2404,"span",59),t.rc(2405,"/(image|img)/"),t.Nb(),t.Ob(2406,"span",17),t.rc(2407,","),t.Nb(),t.rc(2408," faker"),t.Ob(2409,"span",17),t.rc(2410,"."),t.Nb(),t.rc(2411,"image"),t.Ob(2412,"span",17),t.rc(2413,"."),t.Nb(),t.rc(2414,"image"),t.Ob(2415,"span",17),t.rc(2416,"]"),t.Nb(),t.Ob(2417,"span",17),t.rc(2418,","),t.Nb(),t.rc(2419,"\n    "),t.Ob(2420,"span",17),t.rc(2421,"["),t.Nb(),t.Ob(2422,"span",59),t.rc(2423,"/^company(name)?$/"),t.Nb(),t.Ob(2424,"span",17),t.rc(2425,","),t.Nb(),t.rc(2426," faker"),t.Ob(2427,"span",17),t.rc(2428,"."),t.Nb(),t.rc(2429,"company"),t.Ob(2430,"span",17),t.rc(2431,"."),t.Nb(),t.rc(2432,"companyName"),t.Ob(2433,"span",17),t.rc(2434,"]"),t.Nb(),t.Ob(2435,"span",17),t.rc(2436,","),t.Nb(),t.rc(2437,"\n    "),t.Ob(2438,"span",17),t.rc(2439,"["),t.Nb(),t.Ob(2440,"span",59),t.rc(2441,"/(desc|description)$/"),t.Nb(),t.Ob(2442,"span",17),t.rc(2443,","),t.Nb(),t.rc(2444," "),t.Ob(2445,"span",17),t.rc(2446,"("),t.Nb(),t.Ob(2447,"span",17),t.rc(2448,")"),t.Nb(),t.rc(2449," "),t.Ob(2450,"span",21),t.rc(2451,"=>"),t.Nb(),t.rc(2452," faker"),t.Ob(2453,"span",17),t.rc(2454,"."),t.Nb(),t.rc(2455,"lorem"),t.Ob(2456,"span",17),t.rc(2457,"."),t.Nb(),t.Ob(2458,"span",3),t.rc(2459,"sentences"),t.Nb(),t.Ob(2460,"span",17),t.rc(2461,"("),t.Nb(),t.Ob(2462,"span",49),t.rc(2463,"10"),t.Nb(),t.Ob(2464,"span",17),t.rc(2465,")"),t.Nb(),t.Ob(2466,"span",17),t.rc(2467,"]"),t.Nb(),t.rc(2468,"\n  "),t.Ob(2469,"span",17),t.rc(2470,"]"),t.Nb(),t.Ob(2471,"span",17),t.rc(2472,","),t.Nb(),t.rc(2473,"\n  date"),t.Ob(2474,"span",21),t.rc(2475,":"),t.Nb(),t.rc(2476," "),t.Ob(2477,"span",17),t.rc(2478,"["),t.Nb(),t.rc(2479,"\n    "),t.Ob(2480,"span",17),t.rc(2481,"["),t.Nb(),t.Ob(2482,"span",59),t.rc(2483,"/dob|birth/"),t.Nb(),t.Ob(2484,"span",17),t.rc(2485,","),t.Nb(),t.rc(2486," "),t.Ob(2487,"span",17),t.rc(2488,"("),t.Nb(),t.Ob(2489,"span",17),t.rc(2490,")"),t.Nb(),t.rc(2491," "),t.Ob(2492,"span",21),t.rc(2493,"=>"),t.Nb(),t.rc(2494," faker"),t.Ob(2495,"span",17),t.rc(2496,"."),t.Nb(),t.rc(2497,"date"),t.Ob(2498,"span",17),t.rc(2499,"."),t.Nb(),t.Ob(2500,"span",3),t.rc(2501,"past"),t.Nb(),t.Ob(2502,"span",17),t.rc(2503,"("),t.Nb(),t.Ob(2504,"span",49),t.rc(2505,"60"),t.Nb(),t.Ob(2506,"span",17),t.rc(2507,")"),t.Nb(),t.Ob(2508,"span",17),t.rc(2509,"]"),t.Nb(),t.Ob(2510,"span",17),t.rc(2511,","),t.Nb(),t.rc(2512,"\n    "),t.Ob(2513,"span",17),t.rc(2514,"["),t.Nb(),t.Ob(2515,"span",59),t.rc(2516,"/creat(e|ion)/"),t.Nb(),t.Ob(2517,"span",17),t.rc(2518,","),t.Nb(),t.rc(2519," "),t.Ob(2520,"span",17),t.rc(2521,"("),t.Nb(),t.Ob(2522,"span",17),t.rc(2523,")"),t.Nb(),t.rc(2524," "),t.Ob(2525,"span",21),t.rc(2526,"=>"),t.Nb(),t.rc(2527," "),t.Ob(2528,"span",3),t.rc(2529,"between"),t.Nb(),t.Ob(2530,"span",17),t.rc(2531,"("),t.Nb(),t.Ob(2532,"span",21),t.rc(2533,"-"),t.Nb(),t.Ob(2534,"span",49),t.rc(2535,"200"),t.Nb(),t.Ob(2536,"span",17),t.rc(2537,","),t.Nb(),t.rc(2538," "),t.Ob(2539,"span",21),t.rc(2540,"-"),t.Nb(),t.Ob(2541,"span",49),t.rc(2542,"100"),t.Nb(),t.Ob(2543,"span",17),t.rc(2544,")"),t.Nb(),t.Ob(2545,"span",17),t.rc(2546,"]"),t.Nb(),t.Ob(2547,"span",17),t.rc(2548,","),t.Nb(),t.rc(2549,"\n    "),t.Ob(2550,"span",17),t.rc(2551,"["),t.Nb(),t.Ob(2552,"span",59),t.rc(2553,"/(update|modif(y|ied))/"),t.Nb(),t.Ob(2554,"span",17),t.rc(2555,","),t.Nb(),t.rc(2556," "),t.Ob(2557,"span",17),t.rc(2558,"("),t.Nb(),t.Ob(2559,"span",17),t.rc(2560,")"),t.Nb(),t.rc(2561," "),t.Ob(2562,"span",21),t.rc(2563,"=>"),t.Nb(),t.rc(2564," "),t.Ob(2565,"span",3),t.rc(2566,"between"),t.Nb(),t.Ob(2567,"span",17),t.rc(2568,"("),t.Nb(),t.Ob(2569,"span",21),t.rc(2570,"-"),t.Nb(),t.Ob(2571,"span",49),t.rc(2572,"100"),t.Nb(),t.Ob(2573,"span",17),t.rc(2574,","),t.Nb(),t.rc(2575," "),t.Ob(2576,"span",21),t.rc(2577,"-"),t.Nb(),t.Ob(2578,"span",49),t.rc(2579,"50"),t.Nb(),t.Ob(2580,"span",17),t.rc(2581,")"),t.Nb(),t.Ob(2582,"span",17),t.rc(2583,"]"),t.Nb(),t.rc(2584,"\n  "),t.Ob(2585,"span",17),t.rc(2586,"]"),t.Nb(),t.rc(2587,"\n"),t.Ob(2588,"span",17),t.rc(2589),t.Nb(),t.Ob(2590,"span",17),t.rc(2591,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(2592," An example of this would be: "),t.Ob(2593,"figure",13),t.Ob(2594,"figcaption",13),t.rc(2595,"More complex Schema, used with Faker "),t.Ob(2596,"cite"),t.Ob(2597,"a",73),t.rc(2598,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(2599,"pre"),t.Ob(2600,"code",15),t.Ob(2601,"span",16),t.rc(2602,"import"),t.Nb(),t.rc(2603," "),t.Ob(2604,"span",17),t.rc(2605),t.Nb(),t.rc(2606," Schema "),t.Ob(2607,"span",17),t.rc(2608),t.Nb(),t.rc(2609," "),t.Ob(2610,"span",16),t.rc(2611,"from"),t.Nb(),t.rc(2612," "),t.Ob(2613,"span",18),t.rc(2614,"'@travetto/schema/src/decorator/schema'"),t.Nb(),t.Ob(2615,"span",17),t.rc(2616,";"),t.Nb(),t.rc(2617,"\n"),t.Ob(2618,"span",16),t.rc(2619,"import"),t.Nb(),t.rc(2620," "),t.Ob(2621,"span",17),t.rc(2622),t.Nb(),t.rc(2623," SchemaFakerUtil "),t.Ob(2624,"span",17),t.rc(2625),t.Nb(),t.rc(2626," "),t.Ob(2627,"span",16),t.rc(2628,"from"),t.Nb(),t.rc(2629," "),t.Ob(2630,"span",18),t.rc(2631,"'@travetto/schema/src/extension/faker'"),t.Nb(),t.Ob(2632,"span",17),t.rc(2633,";"),t.Nb(),t.rc(2634,"\n\n@"),t.Ob(2635,"span",19),t.rc(2636,"Schema"),t.Nb(),t.Ob(2637,"span",17),t.rc(2638,"("),t.Nb(),t.Ob(2639,"span",17),t.rc(2640,")"),t.Nb(),t.rc(2641,"\n"),t.Ob(2642,"span",16),t.rc(2643,"class"),t.Nb(),t.rc(2644," "),t.Ob(2645,"span",20),t.rc(2646,"Address"),t.Nb(),t.rc(2647," "),t.Ob(2648,"span",17),t.rc(2649),t.Nb(),t.rc(2650,"\n  street1"),t.Ob(2651,"span",21),t.rc(2652,":"),t.Nb(),t.rc(2653," "),t.Ob(2654,"span",22),t.rc(2655,"string"),t.Nb(),t.Ob(2656,"span",17),t.rc(2657,";"),t.Nb(),t.rc(2658,"\n  street2"),t.Ob(2659,"span",21),t.rc(2660,"?"),t.Nb(),t.Ob(2661,"span",21),t.rc(2662,":"),t.Nb(),t.rc(2663," "),t.Ob(2664,"span",22),t.rc(2665,"string"),t.Nb(),t.Ob(2666,"span",17),t.rc(2667,";"),t.Nb(),t.rc(2668,"\n  city"),t.Ob(2669,"span",21),t.rc(2670,":"),t.Nb(),t.rc(2671," "),t.Ob(2672,"span",22),t.rc(2673,"string"),t.Nb(),t.Ob(2674,"span",17),t.rc(2675,";"),t.Nb(),t.rc(2676,"\n  state"),t.Ob(2677,"span",21),t.rc(2678,":"),t.Nb(),t.rc(2679," "),t.Ob(2680,"span",22),t.rc(2681,"string"),t.Nb(),t.Ob(2682,"span",17),t.rc(2683,";"),t.Nb(),t.rc(2684,"\n  country"),t.Ob(2685,"span",21),t.rc(2686,":"),t.Nb(),t.rc(2687," "),t.Ob(2688,"span",22),t.rc(2689,"string"),t.Nb(),t.Ob(2690,"span",17),t.rc(2691,";"),t.Nb(),t.rc(2692,"\n"),t.Ob(2693,"span",17),t.rc(2694),t.Nb(),t.rc(2695,"\n\n@"),t.Ob(2696,"span",19),t.rc(2697,"Schema"),t.Nb(),t.Ob(2698,"span",17),t.rc(2699,"("),t.Nb(),t.Ob(2700,"span",17),t.rc(2701,")"),t.Nb(),t.rc(2702,"\n"),t.Ob(2703,"span",16),t.rc(2704,"class"),t.Nb(),t.rc(2705," "),t.Ob(2706,"span",20),t.rc(2707,"User"),t.Nb(),t.rc(2708," "),t.Ob(2709,"span",17),t.rc(2710),t.Nb(),t.rc(2711,"\n  fName"),t.Ob(2712,"span",21),t.rc(2713,":"),t.Nb(),t.rc(2714," "),t.Ob(2715,"span",22),t.rc(2716,"string"),t.Nb(),t.Ob(2717,"span",17),t.rc(2718,";"),t.Nb(),t.rc(2719,"\n  lName"),t.Ob(2720,"span",21),t.rc(2721,":"),t.Nb(),t.rc(2722," "),t.Ob(2723,"span",22),t.rc(2724,"string"),t.Nb(),t.Ob(2725,"span",17),t.rc(2726,";"),t.Nb(),t.rc(2727,"\n  email"),t.Ob(2728,"span",21),t.rc(2729,":"),t.Nb(),t.rc(2730," "),t.Ob(2731,"span",22),t.rc(2732,"string"),t.Nb(),t.Ob(2733,"span",17),t.rc(2734,";"),t.Nb(),t.rc(2735,"\n  phone"),t.Ob(2736,"span",21),t.rc(2737,":"),t.Nb(),t.rc(2738," "),t.Ob(2739,"span",22),t.rc(2740,"string"),t.Nb(),t.Ob(2741,"span",17),t.rc(2742,";"),t.Nb(),t.rc(2743,"\n  dob"),t.Ob(2744,"span",21),t.rc(2745,"?"),t.Nb(),t.Ob(2746,"span",21),t.rc(2747,":"),t.Nb(),t.rc(2748," Date"),t.Ob(2749,"span",17),t.rc(2750,";"),t.Nb(),t.rc(2751,"\n  address"),t.Ob(2752,"span",21),t.rc(2753,":"),t.Nb(),t.rc(2754," Address"),t.Ob(2755,"span",17),t.rc(2756,";"),t.Nb(),t.rc(2757,"\n"),t.Ob(2758,"span",17),t.rc(2759),t.Nb(),t.rc(2760,"\n\n"),t.Ob(2761,"span",16),t.rc(2762,"export"),t.Nb(),t.rc(2763," "),t.Ob(2764,"span",16),t.rc(2765,"function"),t.Nb(),t.rc(2766," "),t.Ob(2767,"span",3),t.rc(2768,"generate"),t.Nb(),t.Ob(2769,"span",17),t.rc(2770,"("),t.Nb(),t.Ob(2771,"span",17),t.rc(2772,")"),t.Nb(),t.rc(2773," "),t.Ob(2774,"span",17),t.rc(2775),t.Nb(),t.rc(2776,"\n  "),t.Ob(2777,"span",16),t.rc(2778,"const"),t.Nb(),t.rc(2779," user "),t.Ob(2780,"span",21),t.rc(2781,"="),t.Nb(),t.rc(2782," SchemaFakerUtil"),t.Ob(2783,"span",17),t.rc(2784,"."),t.Nb(),t.Ob(2785,"span",3),t.rc(2786,"generate"),t.Nb(),t.Ob(2787,"span",17),t.rc(2788,"("),t.Nb(),t.rc(2789,"User"),t.Ob(2790,"span",17),t.rc(2791,")"),t.Nb(),t.Ob(2792,"span",17),t.rc(2793,";"),t.Nb(),t.rc(2794,"\n  "),t.Ob(2795,"span",16),t.rc(2796,"return"),t.Nb(),t.rc(2797," user"),t.Ob(2798,"span",17),t.rc(2799,";"),t.Nb(),t.rc(2800,"\n"),t.Ob(2801,"span",17),t.rc(2802),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(2803,"h2",74),t.rc(2804,"Custom Types"),t.Nb(),t.rc(2805,"\nWhen working with the schema, the basic types are easily understood, but some of "),t.Ob(2806,"a",5),t.rc(2807,"Typescript"),t.Nb(),t.rc(2808,"'s more complex constructs are too complex to automate cleanly. To that end, the module supports two concepts: "),t.Ob(2809,"h3",75),t.rc(2810,"Type Adapters"),t.Nb(),t.rc(2811,"\nThis feature is meant to allow for simple Typescript types to be able to be backed by a proper class. This is because all of the typescript type information disappears at runtime, and so only concrete types (like classes) remain. An example of this, can be found with how the "),t.Ob(2812,"a",76),t.rc(2813,"Data Modeling"),t.Nb(),t.rc(2814," module handles geo data. "),t.Ob(2815,"figure",13),t.Ob(2816,"figcaption",13),t.rc(2817,"Simple Custom Type "),t.Ob(2818,"cite"),t.Ob(2819,"a",77),t.rc(2820,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(2821,"pre"),t.Ob(2822,"code",15),t.Ob(2823,"span",16),t.rc(2824,"import"),t.Nb(),t.rc(2825," "),t.Ob(2826,"span",17),t.rc(2827),t.Nb(),t.rc(2828," Util "),t.Ob(2829,"span",17),t.rc(2830),t.Nb(),t.rc(2831," "),t.Ob(2832,"span",16),t.rc(2833,"from"),t.Nb(),t.rc(2834," "),t.Ob(2835,"span",18),t.rc(2836,"'@travetto/base'"),t.Nb(),t.Ob(2837,"span",17),t.rc(2838,";"),t.Nb(),t.rc(2839,"\n\n"),t.Ob(2840,"span",54),t.rc(2841,"/**\n * @concrete PointImpl\n */"),t.Nb(),t.rc(2842,"\n"),t.Ob(2843,"span",16),t.rc(2844,"export"),t.Nb(),t.rc(2845," "),t.Ob(2846,"span",16),t.rc(2847,"type"),t.Nb(),t.rc(2848," Point "),t.Ob(2849,"span",21),t.rc(2850,"="),t.Nb(),t.rc(2851," "),t.Ob(2852,"span",17),t.rc(2853,"["),t.Nb(),t.Ob(2854,"span",22),t.rc(2855,"number"),t.Nb(),t.Ob(2856,"span",17),t.rc(2857,","),t.Nb(),t.rc(2858," "),t.Ob(2859,"span",22),t.rc(2860,"number"),t.Nb(),t.Ob(2861,"span",17),t.rc(2862,"]");t.Nb(),t.Ob(2863,"span",17),t.rc(2864,";"),t.Nb(),t.rc(2865,"\n\n"),t.Ob(2866,"span",16),t.rc(2867,"const"),t.Nb(),t.rc(2868," "),t.Ob(2869,"span",72),t.rc(2870,"INVALID"),t.Nb(),t.rc(2871," "),t.Ob(2872,"span",21),t.rc(2873,"="),t.Nb(),t.rc(2874," Symbol"),t.Ob(2875,"span",17),t.rc(2876,"."),t.Nb(),t.Ob(2877,"span",16),t.rc(2878,"for"),t.Nb(),t.Ob(2879,"span",17),t.rc(2880,"("),t.Nb(),t.Ob(2881,"span",18),t.rc(2882,"'invalid-point'"),t.Nb(),t.Ob(2883,"span",17),t.rc(2884,")"),t.Nb(),t.Ob(2885,"span",17),t.rc(2886,";"),t.Nb(),t.rc(2887,"\n\n"),t.Ob(2888,"span",16),t.rc(2889,"export"),t.Nb(),t.rc(2890," "),t.Ob(2891,"span",16),t.rc(2892,"class"),t.Nb(),t.rc(2893," "),t.Ob(2894,"span",20),t.rc(2895,"PointImpl"),t.Nb(),t.rc(2896," "),t.Ob(2897,"span",17),t.rc(2898),t.Nb(),t.rc(2899,"\n  "),t.Ob(2900,"span",16),t.rc(2901,"static"),t.Nb(),t.rc(2902," "),t.Ob(2903,"span",3),t.rc(2904,"validateSchema"),t.Nb(),t.Ob(2905,"span",17),t.rc(2906,"("),t.Nb(),t.Ob(2907,"span",58),t.rc(2908,"input"),t.Ob(2909,"span",21),t.rc(2910,":"),t.Nb(),t.rc(2911," "),t.Ob(2912,"span",22),t.rc(2913,"any"),t.Nb(),t.Nb(),t.Ob(2914,"span",17),t.rc(2915,")"),t.Nb(),t.rc(2916," "),t.Ob(2917,"span",17),t.rc(2918),t.Nb(),t.rc(2919,"\n    "),t.Ob(2920,"span",16),t.rc(2921,"const"),t.Nb(),t.rc(2922," ret "),t.Ob(2923,"span",21),t.rc(2924,"="),t.Nb(),t.rc(2925," "),t.Ob(2926,"span",16),t.rc(2927,"this"),t.Nb(),t.Ob(2928,"span",17),t.rc(2929,"."),t.Nb(),t.Ob(2930,"span",3),t.rc(2931,"bindSchema"),t.Nb(),t.Ob(2932,"span",17),t.rc(2933,"("),t.Nb(),t.rc(2934,"input"),t.Ob(2935,"span",17),t.rc(2936,")"),t.Nb(),t.Ob(2937,"span",17),t.rc(2938,";"),t.Nb(),t.rc(2939,"\n    "),t.Ob(2940,"span",16),t.rc(2941,"return"),t.Nb(),t.rc(2942," ret "),t.Ob(2943,"span",21),t.rc(2944,"!=="),t.Nb(),t.rc(2945," "),t.Ob(2946,"span",72),t.rc(2947,"INVALID"),t.Nb(),t.rc(2948," "),t.Ob(2949,"span",21),t.rc(2950,"&&"),t.Nb(),t.rc(2951," ret "),t.Ob(2952,"span",21),t.rc(2953,"&&"),t.Nb(),t.rc(2954," "),t.Ob(2955,"span",21),t.rc(2956,"!"),t.Nb(),t.Ob(2957,"span",3),t.rc(2958,"isNaN"),t.Nb(),t.Ob(2959,"span",17),t.rc(2960,"("),t.Nb(),t.rc(2961,"ret"),t.Ob(2962,"span",17),t.rc(2963,"["),t.Nb(),t.Ob(2964,"span",49),t.rc(2965,"0"),t.Nb(),t.Ob(2966,"span",17),t.rc(2967,"]"),t.Nb(),t.Ob(2968,"span",17),t.rc(2969,")"),t.Nb(),t.rc(2970," "),t.Ob(2971,"span",21),t.rc(2972,"&&"),t.Nb(),t.rc(2973," "),t.Ob(2974,"span",21),t.rc(2975,"!"),t.Nb(),t.Ob(2976,"span",3),t.rc(2977,"isNaN"),t.Nb(),t.Ob(2978,"span",17),t.rc(2979,"("),t.Nb(),t.rc(2980,"ret"),t.Ob(2981,"span",17),t.rc(2982,"["),t.Nb(),t.Ob(2983,"span",49),t.rc(2984,"1"),t.Nb(),t.Ob(2985,"span",17),t.rc(2986,"]"),t.Nb(),t.Ob(2987,"span",17),t.rc(2988,")"),t.Nb(),t.rc(2989," "),t.Ob(2990,"span",21),t.rc(2991,"?"),t.Nb(),t.rc(2992," "),t.Ob(2993,"span",16),t.rc(2994,"undefined"),t.Nb(),t.rc(2995," "),t.Ob(2996,"span",21),t.rc(2997,":"),t.Nb(),t.rc(2998," "),t.Ob(2999,"span",18),t.rc(3e3,"'type'"),t.Nb(),t.Ob(3001,"span",17),t.rc(3002,";"),t.Nb(),t.rc(3003,"\n  "),t.Ob(3004,"span",17),t.rc(3005),t.Nb(),t.rc(3006,"\n\n  "),t.Ob(3007,"span",16),t.rc(3008,"static"),t.Nb(),t.rc(3009," "),t.Ob(3010,"span",3),t.rc(3011,"bindSchema"),t.Nb(),t.Ob(3012,"span",17),t.rc(3013,"("),t.Nb(),t.rc(3014,"input"),t.Ob(3015,"span",21),t.rc(3016,":"),t.Nb(),t.rc(3017," "),t.Ob(3018,"span",22),t.rc(3019,"any"),t.Nb(),t.Ob(3020,"span",17),t.rc(3021,")"),t.Nb(),t.Ob(3022,"span",21),t.rc(3023,":"),t.Nb(),t.rc(3024," "),t.Ob(3025,"span",17),t.rc(3026,"["),t.Nb(),t.Ob(3027,"span",22),t.rc(3028,"number"),t.Nb(),t.Ob(3029,"span",17),t.rc(3030,","),t.Nb(),t.rc(3031," "),t.Ob(3032,"span",22),t.rc(3033,"number"),t.Nb(),t.Ob(3034,"span",17),t.rc(3035,"]"),t.Nb(),t.rc(3036," "),t.Ob(3037,"span",21),t.rc(3038,"|"),t.Nb(),t.rc(3039," "),t.Ob(3040,"span",16),t.rc(3041,"typeof"),t.Nb(),t.rc(3042," "),t.Ob(3043,"span",72),t.rc(3044,"INVALID"),t.Nb(),t.rc(3045," "),t.Ob(3046,"span",21),t.rc(3047,"|"),t.Nb(),t.rc(3048," "),t.Ob(3049,"span",16),t.rc(3050,"undefined"),t.Nb(),t.rc(3051," "),t.Ob(3052,"span",17),t.rc(3053),t.Nb(),t.rc(3054,"\n    "),t.Ob(3055,"span",16),t.rc(3056,"if"),t.Nb(),t.rc(3057," "),t.Ob(3058,"span",17),t.rc(3059,"("),t.Nb(),t.Ob(3060,"span",22),t.rc(3061,"Array"),t.Nb(),t.Ob(3062,"span",17),t.rc(3063,"."),t.Nb(),t.Ob(3064,"span",3),t.rc(3065,"isArray"),t.Nb(),t.Ob(3066,"span",17),t.rc(3067,"("),t.Nb(),t.rc(3068,"input"),t.Ob(3069,"span",17),t.rc(3070,")"),t.Nb(),t.rc(3071," "),t.Ob(3072,"span",21),t.rc(3073,"&&"),t.Nb(),t.rc(3074," input"),t.Ob(3075,"span",17),t.rc(3076,"."),t.Nb(),t.rc(3077,"length "),t.Ob(3078,"span",21),t.rc(3079,"==="),t.Nb(),t.rc(3080," "),t.Ob(3081,"span",49),t.rc(3082,"2"),t.Nb(),t.Ob(3083,"span",17),t.rc(3084,")"),t.Nb(),t.rc(3085," "),t.Ob(3086,"span",17),t.rc(3087),t.Nb(),t.rc(3088,"\n      "),t.Ob(3089,"span",16),t.rc(3090,"return"),t.Nb(),t.rc(3091," input"),t.Ob(3092,"span",17),t.rc(3093,"."),t.Nb(),t.Ob(3094,"span",3),t.rc(3095,"map"),t.Nb(),t.Ob(3096,"span",17),t.rc(3097,"("),t.Nb(),t.Ob(3098,"span",58),t.rc(3099,"x"),t.Nb(),t.rc(3100," "),t.Ob(3101,"span",21),t.rc(3102,"=>"),t.Nb(),t.rc(3103," Util"),t.Ob(3104,"span",17),t.rc(3105,"."),t.Nb(),t.Ob(3106,"span",3),t.rc(3107,"coerceType"),t.Nb(),t.Ob(3108,"span",17),t.rc(3109,"("),t.Nb(),t.rc(3110,"x"),t.Ob(3111,"span",17),t.rc(3112,","),t.Nb(),t.rc(3113," Number"),t.Ob(3114,"span",17),t.rc(3115,","),t.Nb(),t.rc(3116," "),t.Ob(3117,"span",65),t.rc(3118,"false"),t.Nb(),t.Ob(3119,"span",17),t.rc(3120,")"),t.Nb(),t.Ob(3121,"span",17),t.rc(3122,")"),t.Nb(),t.rc(3123," "),t.Ob(3124,"span",16),t.rc(3125,"as"),t.Nb(),t.rc(3126," "),t.Ob(3127,"span",17),t.rc(3128,"["),t.Nb(),t.Ob(3129,"span",22),t.rc(3130,"number"),t.Nb(),t.Ob(3131,"span",17),t.rc(3132,","),t.Nb(),t.rc(3133," "),t.Ob(3134,"span",22),t.rc(3135,"number"),t.Nb(),t.Ob(3136,"span",17),t.rc(3137,"]"),t.Nb(),t.Ob(3138,"span",17),t.rc(3139,";"),t.Nb(),t.rc(3140,"\n    "),t.Ob(3141,"span",17),t.rc(3142),t.Nb(),t.rc(3143," "),t.Ob(3144,"span",16),t.rc(3145,"else"),t.Nb(),t.rc(3146," "),t.Ob(3147,"span",17),t.rc(3148),t.Nb(),t.rc(3149,"\n      "),t.Ob(3150,"span",16),t.rc(3151,"return"),t.Nb(),t.rc(3152," "),t.Ob(3153,"span",72),t.rc(3154,"INVALID"),t.Nb(),t.Ob(3155,"span",17),t.rc(3156,";"),t.Nb(),t.rc(3157,"\n    "),t.Ob(3158,"span",17),t.rc(3159),t.Nb(),t.rc(3160,"\n  "),t.Ob(3161,"span",17),t.rc(3162),t.Nb(),t.rc(3163,"\n"),t.Ob(3164,"span",17),t.rc(3165),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(3166," What you can see here is that the "),t.Ob(3167,"code",8),t.rc(3168,"Point"),t.Nb(),t.rc(3169," type is now backed by a class that supports: "),t.Ob(3170,"ul"),t.Ob(3171,"li"),t.Ob(3172,"code",78),t.rc(3173,"validateSchema"),t.Nb(),t.rc(3174," - Will run during validation for this specific type."),t.Nb(),t.Ob(3175,"li"),t.Ob(3176,"code",78),t.rc(3177,"bindSchema"),t.Nb(),t.rc(3178," - Will run during binding to ensure correct behavior."),t.Nb(),t.Nb(),t.Ob(3179,"figure",13),t.Ob(3180,"figcaption",13),t.rc(3181,"Simple Custom Type Usage "),t.Ob(3182,"cite"),t.Ob(3183,"a",79),t.rc(3184,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(3185,"pre"),t.Ob(3186,"code",15),t.Ob(3187,"span",16),t.rc(3188,"import"),t.Nb(),t.rc(3189," "),t.Ob(3190,"span",17),t.rc(3191),t.Nb(),t.rc(3192," Schema "),t.Ob(3193,"span",17),t.rc(3194),t.Nb(),t.rc(3195," "),t.Ob(3196,"span",16),t.rc(3197,"from"),t.Nb(),t.rc(3198," "),t.Ob(3199,"span",18),t.rc(3200,"'@travetto/schema/src/decorator/schema'"),t.Nb(),t.Ob(3201,"span",17),t.rc(3202,";"),t.Nb(),t.rc(3203,"\n"),t.Ob(3204,"span",16),t.rc(3205,"import"),t.Nb(),t.rc(3206," "),t.Ob(3207,"span",17),t.rc(3208),t.Nb(),t.rc(3209," Point "),t.Ob(3210,"span",17),t.rc(3211),t.Nb(),t.rc(3212," "),t.Ob(3213,"span",16),t.rc(3214,"from"),t.Nb(),t.rc(3215," "),t.Ob(3216,"span",18),t.rc(3217,"'./custom-type'"),t.Nb(),t.Ob(3218,"span",17),t.rc(3219,";"),t.Nb(),t.rc(3220,"\n\n@"),t.Ob(3221,"span",19),t.rc(3222,"Schema"),t.Nb(),t.Ob(3223,"span",17),t.rc(3224,"("),t.Nb(),t.Ob(3225,"span",17),t.rc(3226,")"),t.Nb(),t.rc(3227,"\n"),t.Ob(3228,"span",16),t.rc(3229,"export"),t.Nb(),t.rc(3230," "),t.Ob(3231,"span",16),t.rc(3232,"class"),t.Nb(),t.rc(3233," "),t.Ob(3234,"span",20),t.rc(3235,"LocationAware"),t.Nb(),t.rc(3236," "),t.Ob(3237,"span",17),t.rc(3238),t.Nb(),t.rc(3239,"\n  name"),t.Ob(3240,"span",21),t.rc(3241,":"),t.Nb(),t.rc(3242," "),t.Ob(3243,"span",22),t.rc(3244,"string"),t.Nb(),t.Ob(3245,"span",17),t.rc(3246,";"),t.Nb(),t.rc(3247,"\n  point"),t.Ob(3248,"span",21),t.rc(3249,":"),t.Nb(),t.rc(3250," Point"),t.Ob(3251,"span",17),t.rc(3252,";"),t.Nb(),t.rc(3253,"\n"),t.Ob(3254,"span",17),t.rc(3255),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(3256," All that happens now, is the type is exported, and the class above is able to properly handle point as an "),t.Ob(3257,"code",8),t.rc(3258,"[x, y]"),t.Nb(),t.rc(3259," tuple. All standard binding and validation patterns are supported, and type enforcement will work as expected. "),t.Ob(3260,"figure",50),t.Ob(3261,"figcaption",50),t.rc(3262,"Custom Type Validation "),t.Nb(),t.Ob(3263,"pre"),t.Ob(3264,"code",2),t.rc(3265,"$ alt/docs/src/custom-type-output.js -r @travetto/boot/register alt/docs/src/custom-type-output.js\n\nValidationResultError: Validation errors have occurred\n    at Function.validate "),t.Ob(3266,"span",17),t.rc(3267,"("),t.Nb(),t.rc(3268,"./src/validate/validator.ts:241:13"),t.Ob(3269,"span",17),t.rc(3270,")"),t.Nb(),t.rc(3271,"\n    at ./alt/docs/src/custom-type-output.js:17:27 "),t.Ob(3272,"span",17),t.rc(3273),t.Nb(),t.rc(3274,"\n  category: "),t.Ob(3275,"span",18),t.rc(3276,"'data'"),t.Nb(),t.rc(3277,",\n  payload: "),t.Ob(3278,"span",17),t.rc(3279),t.Nb(),t.rc(3280," errors: "),t.Ob(3281,"span",17),t.rc(3282,"["),t.Nb(),t.rc(3283," "),t.Ob(3284,"span",17),t.rc(3285,"["),t.Nb(),t.rc(3286,"Object"),t.Ob(3287,"span",17),t.rc(3288,"]"),t.Nb(),t.rc(3289," "),t.Ob(3290,"span",17),t.rc(3291,"]"),t.Nb(),t.rc(3292," "),t.Ob(3293,"span",17),t.rc(3294),t.Nb(),t.rc(3295,",\n  type: "),t.Ob(3296,"span",18),t.rc(3297,"'ValidationResultError'"),t.Nb(),t.rc(3298,",\n  errors: "),t.Ob(3299,"span",17),t.rc(3300,"["),t.Nb(),t.rc(3301,"\n    "),t.Ob(3302,"span",17),t.rc(3303),t.Nb(),t.rc(3304,"\n      kind: "),t.Ob(3305,"span",18),t.rc(3306,"'type'"),t.Nb(),t.rc(3307,",\n      type: "),t.Ob(3308,"span",18),t.rc(3309,"'PointImpl'"),t.Nb(),t.rc(3310,",\n      path: "),t.Ob(3311,"span",18),t.rc(3312,"'point'"),t.Nb(),t.rc(3313,",\n      message: "),t.Ob(3314,"span",18),t.rc(3315,"'point is not a valid PointImpl'"),t.Nb(),t.rc(3316,"\n    "),t.Ob(3317,"span",17),t.rc(3318),t.Nb(),t.rc(3319,"\n  "),t.Ob(3320,"span",17),t.rc(3321,"]"),t.Nb(),t.rc(3322,"\n"),t.Ob(3323,"span",17),t.rc(3324),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(3325,"; "),t.Nb()}2&r&&(t.zb(69),t.sc("{"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(41),t.sc("}"),t.zb(227),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(19),t.sc("}"),t.zb(19),t.sc("{"),t.zb(32),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(12),t.sc("{"),t.zb(22),t.sc("{"),t.zb(17),t.sc("}"),t.zb(3),t.sc("}"),t.zb(7),t.sc("}"),t.zb(12),t.sc("{"),t.zb(9),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(19),t.sc("}"),t.zb(19),t.sc("{"),t.zb(32),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(15),t.sc("{"),t.zb(25),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(22),t.sc("}"),t.zb(21),t.sc("{"),t.zb(6),t.sc("{"),t.zb(21),t.sc("}"),t.zb(9),t.sc("{"),t.zb(15),t.sc("}"),t.zb(3),t.sc("{"),t.zb(12),t.sc("}"),t.zb(6),t.sc("}"),t.zb(16),t.sc("{"),t.zb(6),t.sc("}"),t.zb(33),t.sc("{"),t.zb(100),t.sc("{"),t.zb(6),t.sc("{"),t.zb(25),t.sc("}"),t.zb(5),t.sc("}"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(11),t.sc("}"),t.zb(20),t.sc("{"),t.zb(75),t.sc("}"),t.zb(22),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(19),t.sc("}"),t.zb(18),t.sc("{"),t.zb(45),t.sc("{"),t.zb(29),t.sc("{"),t.zb(9),t.sc("}"),t.zb(5),t.sc("}"),t.zb(3),t.sc("}"),t.zb(16),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(31),t.sc("}"),t.zb(18),t.sc("{"),t.zb(45),t.sc("{"),t.zb(26),t.sc("}"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(23),t.sc("}"),t.zb(20),t.sc("{"),t.zb(45),t.sc("{"),t.zb(17),t.sc("}"),t.zb(5),t.sc("{"),t.zb(26),t.sc("}"),t.zb(3),t.sc("}"),t.zb(100),t.sc("{"),t.zb(557),t.sc("}"),t.zb(16),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(45),t.sc("}"),t.zb(16),t.sc("{"),t.zb(49),t.sc("}"),t.zb(16),t.sc("{"),t.zb(27),t.sc("}"),t.zb(25),t.sc("{"),t.zb(3),t.sc("}"),t.zb(68),t.sc("{"),t.zb(20),t.sc("{"),t.zb(87),t.sc("}"),t.zb(48),t.sc("{"),t.zb(34),t.sc("{"),t.zb(55),t.sc("}"),t.zb(6),t.sc("{"),t.zb(11),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(17),t.sc("}"),t.zb(18),t.sc("{"),t.zb(6),t.sc("{"),t.zb(15),t.sc("}"),t.zb(9),t.sc("{"),t.zb(15),t.sc("}"),t.zb(6),t.sc("}"))},styles:[""]}),r}(),l=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-model"]],decls:1545,vars:112,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["href","/docs/schema","title","Data type registry for runtime validation, reflection and binding. ",1,"module-link"],["id","declaration"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/registry/decorator.ts#L12",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/alt/docs/src/user.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","meta"],[1,"token","class-name"],[1,"token","operator"],[1,"token","builtin"],[1,"item","input"],["id","access-storage"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/service/model.ts#L24",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/alt/docs/src/user-manager.ts"],[1,"token","parameter"],[1,"token","comment"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/service/source.ts#L58",1,"source-link"],["target","_blank","href","https://elastic.co",1,"external-link"],["id","querying"],["target","_blank","href","https://mongodb.com",1,"external-link"],["id","general-fields"],["id","general-single-valued-fields"],["id","ordered-fields"],["id","array-fields"],["id","string-fields"],["id","geo-point-fields"],["id","groupings"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/alt/docs/src/user-query.ts"],[1,"token","number"],[1,"token","boolean"],["id","query-language"],[1,"item","field"],[1,"language-sql"],["id","regular-expression"],["id","extension-rest"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/extension/rest.ts#L41",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/alt/docs/src/model-controller.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/alt/docs/src/controller.ts"],[1,"token","constant"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Data Modeling "),t.Ob(3,"small"),t.rc(4,"Datastore abstraction for CRUD operations with advanced query support."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/model "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/model"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides a clean interface to data model persistence, modification and retrieval. This module builds heavily upon the "),t.Ob(17,"a",4),t.rc(18,"Schema"),t.Nb(),t.rc(19,", which is used for data model validation. The module can be segmented into three main areas: declaration, access/storage, and querying "),t.Ob(20,"h2",5),t.rc(21,"Declaration"),t.Nb(),t.rc(22,"\nModels are declared via the "),t.Ob(23,"a",6),t.rc(24,"@Model"),t.Nb(),t.rc(25," decorator, which allows the system to know that this is a class that is compatible with the module. "),t.Ob(26,"figure",7),t.Ob(27,"figcaption",7),t.rc(28,"Extending BaseModel "),t.Ob(29,"cite"),t.Ob(30,"a",8),t.rc(31,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(32,"pre"),t.Ob(33,"code",9),t.Ob(34,"span",10),t.rc(35,"import"),t.Nb(),t.rc(36," "),t.Ob(37,"span",11),t.rc(38),t.Nb(),t.rc(39," Model "),t.Ob(40,"span",11),t.rc(41),t.Nb(),t.rc(42," "),t.Ob(43,"span",10),t.rc(44,"from"),t.Nb(),t.rc(45," "),t.Ob(46,"span",12),t.rc(47,"'@travetto/model/src/registry/decorator'"),t.Nb(),t.Ob(48,"span",11),t.rc(49,";"),t.Nb(),t.rc(50,"\n"),t.Ob(51,"span",10),t.rc(52,"import"),t.Nb(),t.rc(53," "),t.Ob(54,"span",11),t.rc(55),t.Nb(),t.rc(56," BaseModel "),t.Ob(57,"span",11),t.rc(58),t.Nb(),t.rc(59," "),t.Ob(60,"span",10),t.rc(61,"from"),t.Nb(),t.rc(62," "),t.Ob(63,"span",12),t.rc(64,"'@travetto/model/src/model/base'"),t.Nb(),t.Ob(65,"span",11),t.rc(66,";"),t.Nb(),t.rc(67,"\n\n@"),t.Ob(68,"span",13),t.rc(69,"Model"),t.Nb(),t.Ob(70,"span",11),t.rc(71,"("),t.Nb(),t.Ob(72,"span",11),t.rc(73,")"),t.Nb(),t.rc(74,"\n"),t.Ob(75,"span",10),t.rc(76,"export"),t.Nb(),t.rc(77," "),t.Ob(78,"span",10),t.rc(79,"class"),t.Nb(),t.rc(80," "),t.Ob(81,"span",14),t.rc(82,"User"),t.Nb(),t.rc(83," "),t.Ob(84,"span",10),t.rc(85,"extends"),t.Nb(),t.rc(86," "),t.Ob(87,"span",14),t.rc(88,"BaseModel"),t.Nb(),t.rc(89," "),t.Ob(90,"span",11),t.rc(91),t.Nb(),t.rc(92,"\n  name"),t.Ob(93,"span",15),t.rc(94,":"),t.Nb(),t.rc(95," "),t.Ob(96,"span",16),t.rc(97,"string"),t.Nb(),t.Ob(98,"span",11),t.rc(99,";"),t.Nb(),t.rc(100,"\n  age"),t.Ob(101,"span",15),t.rc(102,":"),t.Nb(),t.rc(103," "),t.Ob(104,"span",16),t.rc(105,"number"),t.Nb(),t.Ob(106,"span",11),t.rc(107,";"),t.Nb(),t.rc(108,"\n  contact"),t.Ob(109,"span",15),t.rc(110,"?"),t.Nb(),t.Ob(111,"span",15),t.rc(112,":"),t.Nb(),t.rc(113," "),t.Ob(114,"span",16),t.rc(115,"boolean"),t.Nb(),t.Ob(116,"span",11),t.rc(117,";"),t.Nb(),t.rc(118,"\n"),t.Ob(119,"span",11),t.rc(120),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(121," The "),t.Ob(122,"code",17),t.rc(123,"User"),t.Nb(),t.rc(124," model is now ready to be used with the model services. "),t.Ob(125,"h2",18),t.rc(126,"Access/Storage"),t.Nb(),t.rc(127,"\nThe "),t.Ob(128,"a",19),t.rc(129,"ModelService"),t.Nb(),t.rc(130," is the foundation for all access to the storage layer, and provides a comprehensive set of functionality. The service includes support for modifying individual records, bulk update/insert/delete, partial updates, finding records, and more. This should be the expected set of functionality for storage and retrieval. "),t.Ob(131,"figure",7),t.Ob(132,"figcaption",7),t.rc(133,"Using ModelService with the User model "),t.Ob(134,"cite"),t.Ob(135,"a",20),t.rc(136,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(137,"pre"),t.Ob(138,"code",9),t.Ob(139,"span",10),t.rc(140,"import"),t.Nb(),t.rc(141," "),t.Ob(142,"span",11),t.rc(143),t.Nb(),t.rc(144," Injectable"),t.Ob(145,"span",11),t.rc(146,","),t.Nb(),t.rc(147," Inject "),t.Ob(148,"span",11),t.rc(149),t.Nb(),t.rc(150," "),t.Ob(151,"span",10),t.rc(152,"from"),t.Nb(),t.rc(153," "),t.Ob(154,"span",12),t.rc(155,"'@travetto/di'"),t.Nb(),t.Ob(156,"span",11),t.rc(157,";"),t.Nb(),t.rc(158,"\n"),t.Ob(159,"span",10),t.rc(160,"import"),t.Nb(),t.rc(161," "),t.Ob(162,"span",11),t.rc(163),t.Nb(),t.rc(164," ModelService "),t.Ob(165,"span",11),t.rc(166),t.Nb(),t.rc(167," "),t.Ob(168,"span",10),t.rc(169,"from"),t.Nb(),t.rc(170," "),t.Ob(171,"span",12),t.rc(172,"'@travetto/model/src/service/model'"),t.Nb(),t.Ob(173,"span",11),t.rc(174,";"),t.Nb(),t.rc(175,"\n"),t.Ob(176,"span",10),t.rc(177,"import"),t.Nb(),t.rc(178," "),t.Ob(179,"span",11),t.rc(180),t.Nb(),t.rc(181," User "),t.Ob(182,"span",11),t.rc(183),t.Nb(),t.rc(184," "),t.Ob(185,"span",10),t.rc(186,"from"),t.Nb(),t.rc(187," "),t.Ob(188,"span",12),t.rc(189,"'./user'"),t.Nb(),t.Ob(190,"span",11),t.rc(191,";"),t.Nb(),t.rc(192,"\n\n@"),t.Ob(193,"span",13),t.rc(194,"Injectable"),t.Nb(),t.Ob(195,"span",11),t.rc(196,"("),t.Nb(),t.Ob(197,"span",11),t.rc(198,")"),t.Nb(),t.rc(199,"\n"),t.Ob(200,"span",10),t.rc(201,"export"),t.Nb(),t.rc(202," "),t.Ob(203,"span",10),t.rc(204,"class"),t.Nb(),t.rc(205," "),t.Ob(206,"span",14),t.rc(207,"UserManager"),t.Nb(),t.rc(208," "),t.Ob(209,"span",11),t.rc(210),t.Nb(),t.rc(211,"\n\n  @"),t.Ob(212,"span",13),t.rc(213,"Inject"),t.Nb(),t.Ob(214,"span",11),t.rc(215,"("),t.Nb(),t.Ob(216,"span",11),t.rc(217,")"),t.Nb(),t.rc(218,"\n  "),t.Ob(219,"span",10),t.rc(220,"private"),t.Nb(),t.rc(221," service"),t.Ob(222,"span",15),t.rc(223,":"),t.Nb(),t.rc(224," ModelService"),t.Ob(225,"span",11),t.rc(226,";"),t.Nb(),t.rc(227,"\n\n  "),t.Ob(228,"span",10),t.rc(229,"async"),t.Nb(),t.rc(230," "),t.Ob(231,"span",3),t.rc(232,"register"),t.Nb(),t.Ob(233,"span",11),t.rc(234,"("),t.Nb(),t.Ob(235,"span",21),t.rc(236,"user"),t.Ob(237,"span",15),t.rc(238,":"),t.Nb(),t.rc(239," User"),t.Nb(),t.Ob(240,"span",11),t.rc(241,")"),t.Nb(),t.rc(242," "),t.Ob(243,"span",11),t.rc(244),t.Nb(),t.rc(245,"\n    "),t.Ob(246,"span",10),t.rc(247,"const"),t.Nb(),t.rc(248," created "),t.Ob(249,"span",15),t.rc(250,"="),t.Nb(),t.rc(251," "),t.Ob(252,"span",10),t.rc(253,"await"),t.Nb(),t.rc(254," "),t.Ob(255,"span",10),t.rc(256,"this"),t.Nb(),t.Ob(257,"span",11),t.rc(258,"."),t.Nb(),t.rc(259,"service"),t.Ob(260,"span",11),t.rc(261,"."),t.Nb(),t.Ob(262,"span",3),t.rc(263,"save"),t.Nb(),t.Ob(264,"span",11),t.rc(265,"("),t.Nb(),t.rc(266,"User"),t.Ob(267,"span",11),t.rc(268,","),t.Nb(),t.rc(269," user"),t.Ob(270,"span",11),t.rc(271,")"),t.Nb(),t.Ob(272,"span",11),t.rc(273,";"),t.Nb(),t.rc(274,"\n    "),t.Ob(275,"span",22),t.rc(276,"// send welcome email"),t.Nb(),t.rc(277,"\n    "),t.Ob(278,"span",10),t.rc(279,"return"),t.Nb(),t.rc(280," created"),t.Ob(281,"span",11),t.rc(282,";"),t.Nb(),t.rc(283,"\n  "),t.Ob(284,"span",11),t.rc(285),t.Nb(),t.rc(286,"\n\n  "),t.Ob(287,"span",10),t.rc(288,"async"),t.Nb(),t.rc(289," "),t.Ob(290,"span",3),t.rc(291,"bulkCreate"),t.Nb(),t.Ob(292,"span",11),t.rc(293,"("),t.Nb(),t.Ob(294,"span",21),t.rc(295,"users"),t.Ob(296,"span",15),t.rc(297,":"),t.Nb(),t.rc(298," User"),t.Ob(299,"span",11),t.rc(300,"["),t.Nb(),t.Ob(301,"span",11),t.rc(302,"]"),t.Nb(),t.Nb(),t.Ob(303,"span",11),t.rc(304,")"),t.Nb(),t.rc(305," "),t.Ob(306,"span",11),t.rc(307),t.Nb(),t.rc(308,"\n    "),t.Ob(309,"span",10),t.rc(310,"const"),t.Nb(),t.rc(311," res "),t.Ob(312,"span",15),t.rc(313,"="),t.Nb(),t.rc(314," "),t.Ob(315,"span",10),t.rc(316,"await"),t.Nb(),t.rc(317," "),t.Ob(318,"span",10),t.rc(319,"this"),t.Nb(),t.Ob(320,"span",11),t.rc(321,"."),t.Nb(),t.rc(322,"service"),t.Ob(323,"span",11),t.rc(324,"."),t.Nb(),t.Ob(325,"span",3),t.rc(326,"bulkProcess"),t.Nb(),t.Ob(327,"span",11),t.rc(328,"("),t.Nb(),t.rc(329,"User"),t.Ob(330,"span",11),t.rc(331,","),t.Nb(),t.rc(332," users"),t.Ob(333,"span",11),t.rc(334,"."),t.Nb(),t.Ob(335,"span",3),t.rc(336,"map"),t.Nb(),t.Ob(337,"span",11),t.rc(338,"("),t.Nb(),t.Ob(339,"span",21),t.rc(340,"user"),t.Nb(),t.rc(341," "),t.Ob(342,"span",15),t.rc(343,"=>"),t.Nb(),t.rc(344," "),t.Ob(345,"span",11),t.rc(346,"("),t.Nb(),t.Ob(347,"span",11),t.rc(348),t.Nb(),t.rc(349," insert"),t.Ob(350,"span",15),t.rc(351,":"),t.Nb(),t.rc(352," user "),t.Ob(353,"span",11),t.rc(354),t.Nb(),t.Ob(355,"span",11),t.rc(356,")"),t.Nb(),t.Ob(357,"span",11),t.rc(358,")"),t.Nb(),t.Ob(359,"span",11),t.rc(360,")"),t.Nb(),t.Ob(361,"span",11),t.rc(362,";"),t.Nb(),t.rc(363,"\n    "),t.Ob(364,"span",22),t.rc(365,"// notify administrator of completion"),t.Nb(),t.rc(366,"\n    "),t.Ob(367,"span",10),t.rc(368,"return"),t.Nb(),t.rc(369," res"),t.Ob(370,"span",11),t.rc(371,";"),t.Nb(),t.rc(372,"\n  "),t.Ob(373,"span",11),t.rc(374),t.Nb(),t.rc(375,"\n"),t.Ob(376,"span",11),t.rc(377),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(378," The "),t.Ob(379,"a",19),t.rc(380,"ModelService"),t.Nb(),t.rc(381," itself relies upon a "),t.Ob(382,"a",23),t.rc(383,"ModelSource"),t.Nb(),t.rc(384," which is the driver for the storage layer. During development, "),t.Ob(385,"a",23),t.rc(386,"ModelSource"),t.Nb(),t.rc(387," supports the ability to respond to model changes in real-time, and to modify the underlying storage mechanism. An example of this would be "),t.Ob(388,"a",24),t.rc(389,"elasticsearch"),t.Nb(),t.rc(390," schemas being updated as fields are added or removed from the "),t.Ob(391,"a",6),t.rc(392,"@Model"),t.Nb(),t.rc(393," class. "),t.Ob(394,"h2",25),t.rc(395,"Querying"),t.Nb(),t.rc(396," One of the complexities of abstracting multiple storage mechanisms, is providing a consistent query language. The query language the module uses is a derivation of "),t.Ob(397,"a",26),t.rc(398,"mongodb"),t.Nb(),t.rc(399,"'s query language, with some restrictions, additions, and caveats. Additionally, given the nature of typescript, all queries are statically typed, and will catch type errors at compile time. "),t.Ob(400,"h3",27),t.rc(401,"General Fields"),t.Nb(),t.Ob(402,"ul"),t.Ob(403,"li"),t.Ob(404,"code",17),t.rc(405),t.Nb(),t.rc(406," to determine if a field is equal to a value"),t.Nb(),t.Ob(407,"li"),t.Ob(408,"code",17),t.rc(409),t.Nb(),t.rc(410," to determine if a field is not equal to a value"),t.Nb(),t.Ob(411,"li"),t.Ob(412,"code",17),t.rc(413),t.Nb(),t.rc(414," to determine if a field exists or not"),t.Nb(),t.Ob(415,"li"),t.Ob(416,"code",17),t.rc(417,"field: T"),t.Nb(),t.rc(418," to see if the field is equal to whatever value is passed in"),t.Nb(),t.Nb(),t.Ob(419,"h3",28),t.rc(420,"General Single Valued Fields"),t.Nb(),t.Ob(421,"ul"),t.Ob(422,"li"),t.Ob(423,"code",17),t.rc(424),t.Nb(),t.rc(425," to see if a record's value appears in the array provided to "),t.Ob(426,"code",17),t.rc(427,"$in"),t.Nb(),t.Nb(),t.Ob(428,"li"),t.Ob(429,"code",17),t.rc(430),t.Nb(),t.rc(431," to see if a record's value does not appear in the array provided to "),t.Ob(432,"code",17),t.rc(433,"$in"),t.Nb(),t.Nb(),t.Nb(),t.Ob(434,"h3",29),t.rc(435,"Ordered Fields"),t.Nb(),t.Ob(436,"ul"),t.Ob(437,"li"),t.Ob(438,"code",17),t.rc(439),t.Nb(),t.rc(440," checks if value is less than"),t.Nb(),t.Ob(441,"li"),t.Ob(442,"code",17),t.rc(443),t.Nb(),t.rc(444," checks if value is less than or equal to"),t.Nb(),t.Ob(445,"li"),t.Ob(446,"code",17),t.rc(447),t.Nb(),t.rc(448," checks if value is greater than"),t.Nb(),t.Ob(449,"li"),t.Ob(450,"code",17),t.rc(451),t.Nb(),t.rc(452," checks if value is greater than or equal to"),t.Nb(),t.Nb(),t.Ob(453,"h3",30),t.rc(454,"Array Fields"),t.Nb(),t.Ob(455,"ul"),t.Ob(456,"li"),t.Ob(457,"code",17),t.rc(458),t.Nb(),t.rc(459," checks to see if the records value contains everything within "),t.Ob(460,"code",17),t.rc(461,"$all"),t.Nb(),t.Nb(),t.Nb(),t.Ob(462,"h3",31),t.rc(463,"String Fields"),t.Nb(),t.Ob(464,"ul"),t.Ob(465,"li"),t.Ob(466,"code",17),t.rc(467),t.Nb(),t.rc(468," checks the field against the regular expression"),t.Nb(),t.Nb(),t.Ob(469,"h3",32),t.rc(470,"Geo Point Fields"),t.Nb(),t.Ob(471,"ul"),t.Ob(472,"li"),t.Ob(473,"code",17),t.rc(474),t.Nb(),t.rc(475," determines if the value is within the bounding region of the points"),t.Nb(),t.Ob(476,"li"),t.Ob(477,"code",17),t.rc(478),t.Nb(),t.rc(479," searches at a point, and looks out radially"),t.Nb(),t.Nb(),t.Ob(480,"h3",33),t.rc(481,"Groupings"),t.Nb(),t.Ob(482,"ul"),t.Ob(483,"li"),t.Ob(484,"code",17),t.rc(485),t.Nb(),t.rc(486," provides a grouping in which all sub clauses are required"),t.Nb(),t.Ob(487,"li"),t.Ob(488,"code",17),t.rc(489),t.Nb(),t.rc(490," provides a grouping in which at least one of the sub clauses is required"),t.Nb(),t.Ob(491,"li"),t.Ob(492,"code",17),t.rc(493),t.Nb(),t.rc(494," negates a clause"),t.Nb(),t.Nb(),t.rc(495," A sample query for "),t.Ob(496,"code",17),t.rc(497,"User"),t.Nb(),t.rc(498,"'s might be: "),t.Ob(499,"figure",7),t.Ob(500,"figcaption",7),t.rc(501,"Using the query structure for specific queries "),t.Ob(502,"cite"),t.Ob(503,"a",34),t.rc(504,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(505,"pre"),t.Ob(506,"code",9),t.Ob(507,"span",10),t.rc(508,"import"),t.Nb(),t.rc(509," "),t.Ob(510,"span",11),t.rc(511),t.Nb(),t.rc(512," ModelService "),t.Ob(513,"span",11),t.rc(514),t.Nb(),t.rc(515," "),t.Ob(516,"span",10),t.rc(517,"from"),t.Nb(),t.rc(518," "),t.Ob(519,"span",12),t.rc(520,"'@travetto/model/src/service/model'"),t.Nb(),t.Ob(521,"span",11),t.rc(522,";"),t.Nb(),t.rc(523,"\n"),t.Ob(524,"span",10),t.rc(525,"import"),t.Nb(),t.rc(526," "),t.Ob(527,"span",11),t.rc(528),t.Nb(),t.rc(529," User "),t.Ob(530,"span",11),t.rc(531),t.Nb(),t.rc(532," "),t.Ob(533,"span",10),t.rc(534,"from"),t.Nb(),t.rc(535," "),t.Ob(536,"span",12),t.rc(537,"'./user'"),t.Nb(),t.Ob(538,"span",11),t.rc(539,";"),t.Nb(),t.rc(540,"\n\n"),t.Ob(541,"span",10),t.rc(542,"export"),t.Nb(),t.rc(543," "),t.Ob(544,"span",10),t.rc(545,"class"),t.Nb(),t.rc(546," "),t.Ob(547,"span",14),t.rc(548,"UserSearch"),t.Nb(),t.rc(549," "),t.Ob(550,"span",11),t.rc(551),t.Nb(),t.rc(552,"\n  service"),t.Ob(553,"span",15),t.rc(554,":"),t.Nb(),t.rc(555," ModelService"),t.Ob(556,"span",11),t.rc(557,";"),t.Nb(),t.rc(558,"\n\n  "),t.Ob(559,"span",3),t.rc(560,"find"),t.Nb(),t.Ob(561,"span",11),t.rc(562,"("),t.Nb(),t.Ob(563,"span",11),t.rc(564,")"),t.Nb(),t.rc(565," "),t.Ob(566,"span",11),t.rc(567),t.Nb();t.rc(568,"\n    "),t.Ob(569,"span",10),t.rc(570,"return"),t.Nb(),t.rc(571," "),t.Ob(572,"span",10),t.rc(573,"this"),t.Nb(),t.Ob(574,"span",11),t.rc(575,"."),t.Nb(),t.rc(576,"service"),t.Ob(577,"span",11),t.rc(578,"."),t.Nb(),t.Ob(579,"span",3),t.rc(580,"getAllByQuery"),t.Nb(),t.Ob(581,"span",11),t.rc(582,"("),t.Nb(),t.rc(583,"User"),t.Ob(584,"span",11),t.rc(585,","),t.Nb(),t.rc(586," "),t.Ob(587,"span",11),t.rc(588),t.Nb(),t.rc(589,"\n      where"),t.Ob(590,"span",15),t.rc(591,":"),t.Nb(),t.rc(592," "),t.Ob(593,"span",11),t.rc(594),t.Nb(),t.rc(595,"\n        $and"),t.Ob(596,"span",15),t.rc(597,":"),t.Nb(),t.rc(598," "),t.Ob(599,"span",11),t.rc(600,"["),t.Nb(),t.rc(601,"\n          "),t.Ob(602,"span",11),t.rc(603),t.Nb(),t.rc(604,"\n            $not"),t.Ob(605,"span",15),t.rc(606,":"),t.Nb(),t.rc(607," "),t.Ob(608,"span",11),t.rc(609),t.Nb(),t.rc(610,"\n              age"),t.Ob(611,"span",15),t.rc(612,":"),t.Nb(),t.rc(613," "),t.Ob(614,"span",11),t.rc(615),t.Nb(),t.rc(616,"\n                $lt"),t.Ob(617,"span",15),t.rc(618,":"),t.Nb(),t.rc(619," "),t.Ob(620,"span",35),t.rc(621,"35"),t.Nb(),t.rc(622,"\n              "),t.Ob(623,"span",11),t.rc(624),t.Nb(),t.rc(625,"\n            "),t.Ob(626,"span",11),t.rc(627),t.Nb(),t.rc(628,"\n          "),t.Ob(629,"span",11),t.rc(630),t.Nb(),t.Ob(631,"span",11),t.rc(632,","),t.Nb(),t.rc(633,"\n          "),t.Ob(634,"span",11),t.rc(635),t.Nb(),t.rc(636,"\n            contact"),t.Ob(637,"span",15),t.rc(638,":"),t.Nb(),t.rc(639," "),t.Ob(640,"span",11),t.rc(641),t.Nb(),t.rc(642,"\n              $exists"),t.Ob(643,"span",15),t.rc(644,":"),t.Nb(),t.rc(645," "),t.Ob(646,"span",36),t.rc(647,"true"),t.Nb(),t.rc(648,"\n            "),t.Ob(649,"span",11),t.rc(650),t.Nb(),t.rc(651,"\n          "),t.Ob(652,"span",11),t.rc(653),t.Nb(),t.rc(654,"\n        "),t.Ob(655,"span",11),t.rc(656,"]"),t.Nb(),t.rc(657,"\n      "),t.Ob(658,"span",11),t.rc(659),t.Nb(),t.rc(660,"\n    "),t.Ob(661,"span",11),t.rc(662),t.Nb(),t.Ob(663,"span",11),t.rc(664,")"),t.Nb(),t.Ob(665,"span",11),t.rc(666,";"),t.Nb(),t.rc(667,"\n  "),t.Ob(668,"span",11),t.rc(669),t.Nb(),t.rc(670,"\n"),t.Ob(671,"span",11),t.rc(672),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(673," This would find all users who are over "),t.Ob(674,"code",17),t.rc(675,"35"),t.Nb(),t.rc(676," and that have the "),t.Ob(677,"code",17),t.rc(678,"contact"),t.Nb(),t.rc(679," field specified. "),t.Ob(680,"h2",37),t.rc(681,"Query Language"),t.Nb(),t.rc(682," In addition to the standard query interface, the module also supports querying by query language to facilitate end-user queries. This is meant to act as an interface that is simpler to write than the default object structure. The language itself is fairly simple, boolean logic, with parenthetical support. The operators supported are:\n"),t.Ob(683,"ul"),t.Ob(684,"li"),t.Ob(685,"code",17),t.rc(686,"<"),t.Nb(),t.rc(687,", "),t.Ob(688,"code",17),t.rc(689,"<="),t.Nb(),t.rc(690," - Less than, and less than or equal to"),t.Nb(),t.Ob(691,"li"),t.Ob(692,"code",17),t.rc(693,">"),t.Nb(),t.rc(694,", "),t.Ob(695,"code",17),t.rc(696,">="),t.Nb(),t.rc(697," - Greater than, and greater than or equal to"),t.Nb(),t.Ob(698,"li"),t.Ob(699,"code",17),t.rc(700,"!="),t.Nb(),t.rc(701,", "),t.Ob(702,"code",17),t.rc(703,"=="),t.Nb(),t.rc(704," - Not equal to, and equal to"),t.Nb(),t.Ob(705,"li"),t.Ob(706,"code",17),t.rc(707,"~"),t.Nb(),t.rc(708," - Matches regular expression, supports the "),t.Ob(709,"code",17),t.rc(710,"i"),t.Nb(),t.rc(711," flag to trigger case insensitive searches"),t.Nb(),t.Ob(712,"li"),t.Ob(713,"code",17),t.rc(714,"!"),t.Nb(),t.rc(715,", "),t.Ob(716,"code",17),t.rc(717,"not"),t.Nb(),t.rc(718," - Negates a clause"),t.Nb(),t.Ob(719,"li"),t.Ob(720,"code",17),t.rc(721,"in"),t.Nb(),t.rc(722,", "),t.Ob(723,"code",17),t.rc(724,"not-in"),t.Nb(),t.rc(725," - Supports checking if a field is in a list of literal values"),t.Nb(),t.Ob(726,"li"),t.Ob(727,"code",17),t.rc(728,"and"),t.Nb(),t.rc(729,", "),t.Ob(730,"code",17),t.rc(731,"&&"),t.Nb(),t.rc(732," - Intersection of clauses"),t.Nb(),t.Ob(733,"li"),t.Ob(734,"code",17),t.rc(735,"or"),t.Nb(),t.rc(736,", "),t.Ob(737,"code",17),t.rc(738,"||"),t.Nb(),t.rc(739," - Union of clauses"),t.Nb(),t.Nb(),t.rc(740," All sub fields are dot separated for access, e.g. "),t.Ob(741,"code",38),t.rc(742,"user.address.city"),t.Nb(),t.rc(743,". A query language version of the previous query could look like: "),t.Ob(744,"figure",7),t.Ob(745,"figcaption",7),t.rc(746,"Query language with boolean checks and exists check "),t.Nb(),t.Ob(747,"pre"),t.Ob(748,"code",39),t.Ob(749,"span",15),t.rc(750,"not"),t.Nb(),t.rc(751," "),t.Ob(752,"span",11),t.rc(753,"("),t.Nb(),t.rc(754,"age "),t.Ob(755,"span",15),t.rc(756,"<"),t.Nb(),t.rc(757," "),t.Ob(758,"span",35),t.rc(759,"35"),t.Nb(),t.Ob(760,"span",11),t.rc(761,")"),t.Nb(),t.rc(762," "),t.Ob(763,"span",15),t.rc(764,"and"),t.Nb(),t.rc(765," contact "),t.Ob(766,"span",15),t.rc(767,"!="),t.Nb(),t.rc(768," "),t.Ob(769,"span",36),t.rc(770,"null"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(771," A more complex query would look like: "),t.Ob(772,"figure",7),t.Ob(773,"figcaption",7),t.rc(774,"Query language with more complex needs "),t.Nb(),t.Ob(775,"pre"),t.Ob(776,"code",39),t.Ob(777,"span",10),t.rc(778,"user"),t.Nb(),t.Ob(779,"span",11),t.rc(780,"."),t.Nb(),t.rc(781,"role "),t.Ob(782,"span",15),t.rc(783,"in"),t.Nb(),t.rc(784," "),t.Ob(785,"span",11),t.rc(786,"["),t.Nb(),t.Ob(787,"span",12),t.rc(788,"'admin'"),t.Nb(),t.Ob(789,"span",11),t.rc(790,","),t.Nb(),t.rc(791," "),t.Ob(792,"span",12),t.rc(793,"'root'"),t.Nb(),t.Ob(794,"span",11),t.rc(795,"]"),t.Nb(),t.rc(796," "),t.Ob(797,"span",15),t.rc(798,"&&"),t.Nb(),t.rc(799," "),t.Ob(800,"span",11),t.rc(801,"("),t.Nb(),t.Ob(802,"span",10),t.rc(803,"user"),t.Nb(),t.Ob(804,"span",11),t.rc(805,"."),t.Nb(),t.rc(806,"address"),t.Ob(807,"span",11),t.rc(808,"."),t.Nb(),t.rc(809,"state "),t.Ob(810,"span",15),t.rc(811,"="),t.Nb(),t.Ob(812,"span",15),t.rc(813,"="),t.Nb(),t.rc(814," "),t.Ob(815,"span",12),t.rc(816,"'VA'"),t.Nb(),t.rc(817," "),t.Ob(818,"span",15),t.rc(819,"||"),t.Nb(),t.rc(820," "),t.Ob(821,"span",10),t.rc(822,"user"),t.Nb(),t.Ob(823,"span",11),t.rc(824,"."),t.Nb(),t.rc(825,"address"),t.Ob(826,"span",11),t.rc(827,"."),t.Nb(),t.rc(828,"city "),t.Ob(829,"span",15),t.rc(830,"="),t.Nb(),t.Ob(831,"span",15),t.rc(832,"="),t.Nb(),t.rc(833," "),t.Ob(834,"span",12),t.rc(835,"'Springfield'"),t.Nb(),t.Ob(836,"span",11),t.rc(837,")"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(838,"h3",40),t.rc(839,"Regular Expression"),t.Nb(),t.rc(840," When querying with regular expressions,patterns can be specified as "),t.Ob(841,"code",17),t.rc(842,"'strings'"),t.Nb(),t.rc(843," or as "),t.Ob(844,"code",17),t.rc(845,"/patterns/"),t.Nb(),t.rc(846,". The latter allows for the case insensitive modifier: "),t.Ob(847,"code",17),t.rc(848,"/pattern/i"),t.Nb(),t.rc(849,". Supporting the insensitive flag is up to the underlying model implementation. "),t.Ob(850,"h2",41),t.rc(851,"Extension - Rest"),t.Nb(),t.rc(852," To facilitate common RESTful patterns, the module exposes "),t.Ob(853,"a",42),t.rc(854,"RESTful API"),t.Nb(),t.rc(855," support in the form of "),t.Ob(856,"a",43),t.rc(857,"@ModelController"),t.Nb(),t.rc(858,". "),t.Ob(859,"figure",7),t.Ob(860,"figcaption",7),t.rc(861,"ModelController example "),t.Ob(862,"cite"),t.Ob(863,"a",44),t.rc(864,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(865,"pre"),t.Ob(866,"code",9),t.Ob(867,"span",10),t.rc(868,"import"),t.Nb(),t.rc(869," "),t.Ob(870,"span",11),t.rc(871),t.Nb(),t.rc(872," Inject "),t.Ob(873,"span",11),t.rc(874),t.Nb(),t.rc(875," "),t.Ob(876,"span",10),t.rc(877,"from"),t.Nb(),t.rc(878," "),t.Ob(879,"span",12),t.rc(880,"'@travetto/di'"),t.Nb(),t.Ob(881,"span",11),t.rc(882,";"),t.Nb(),t.rc(883,"\n\n"),t.Ob(884,"span",10),t.rc(885,"import"),t.Nb(),t.rc(886," "),t.Ob(887,"span",11),t.rc(888),t.Nb(),t.rc(889," ModelController "),t.Ob(890,"span",11),t.rc(891),t.Nb(),t.rc(892," "),t.Ob(893,"span",10),t.rc(894,"from"),t.Nb(),t.rc(895," "),t.Ob(896,"span",12),t.rc(897,"'@travetto/model/src/extension/rest'"),t.Nb(),t.Ob(898,"span",11),t.rc(899,";"),t.Nb(),t.rc(900,"\n"),t.Ob(901,"span",10),t.rc(902,"import"),t.Nb(),t.rc(903," "),t.Ob(904,"span",11),t.rc(905),t.Nb(),t.rc(906," ModelService "),t.Ob(907,"span",11),t.rc(908),t.Nb(),t.rc(909," "),t.Ob(910,"span",10),t.rc(911,"from"),t.Nb(),t.rc(912," "),t.Ob(913,"span",12),t.rc(914,"'@travetto/model/src/service/model'"),t.Nb(),t.Ob(915,"span",11),t.rc(916,";"),t.Nb(),t.rc(917,"\n"),t.Ob(918,"span",10),t.rc(919,"import"),t.Nb(),t.rc(920," "),t.Ob(921,"span",11),t.rc(922),t.Nb(),t.rc(923," User "),t.Ob(924,"span",11),t.rc(925),t.Nb(),t.rc(926," "),t.Ob(927,"span",10),t.rc(928,"from"),t.Nb(),t.rc(929," "),t.Ob(930,"span",12),t.rc(931,"'./user'"),t.Nb(),t.Ob(932,"span",11),t.rc(933,";"),t.Nb(),t.rc(934,"\n\n@"),t.Ob(935,"span",13),t.rc(936,"ModelController"),t.Nb(),t.Ob(937,"span",11),t.rc(938,"("),t.Nb(),t.Ob(939,"span",12),t.rc(940,"'/user'"),t.Nb(),t.Ob(941,"span",11),t.rc(942,","),t.Nb(),t.rc(943," User"),t.Ob(944,"span",11),t.rc(945,")"),t.Nb(),t.rc(946,"\n"),t.Ob(947,"span",10),t.rc(948,"class"),t.Nb(),t.rc(949," "),t.Ob(950,"span",14),t.rc(951,"UserController"),t.Nb(),t.rc(952," "),t.Ob(953,"span",11),t.rc(954),t.Nb(),t.rc(955,"\n  @"),t.Ob(956,"span",13),t.rc(957,"Inject"),t.Nb(),t.Ob(958,"span",11),t.rc(959,"("),t.Nb(),t.Ob(960,"span",11),t.rc(961,")"),t.Nb(),t.rc(962,"\n  source"),t.Ob(963,"span",15),t.rc(964,":"),t.Nb(),t.rc(965," ModelService"),t.Ob(966,"span",11),t.rc(967,";"),t.Nb(),t.rc(968,"\n"),t.Ob(969,"span",11),t.rc(970),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(971," is a shorthand that is equal to: "),t.Ob(972,"figure",7),t.Ob(973,"figcaption",7),t.rc(974,"Comparable UserController, built manually "),t.Ob(975,"cite"),t.Ob(976,"a",45),t.rc(977,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(978,"pre"),t.Ob(979,"code",9),t.Ob(980,"span",10),t.rc(981,"import"),t.Nb(),t.rc(982," "),t.Ob(983,"span",11),t.rc(984),t.Nb(),t.rc(985," Path"),t.Ob(986,"span",11),t.rc(987,","),t.Nb(),t.rc(988," Controller"),t.Ob(989,"span",11),t.rc(990,","),t.Nb(),t.rc(991," Get"),t.Ob(992,"span",11),t.rc(993,","),t.Nb(),t.rc(994," Request"),t.Ob(995,"span",11),t.rc(996,","),t.Nb(),t.rc(997," Delete"),t.Ob(998,"span",11),t.rc(999,","),t.Nb(),t.rc(1e3," Post"),t.Ob(1001,"span",11),t.rc(1002,","),t.Nb(),t.rc(1003," Put"),t.Ob(1004,"span",11),t.rc(1005,","),t.Nb(),t.rc(1006," Query "),t.Ob(1007,"span",11),t.rc(1008),t.Nb(),t.rc(1009," "),t.Ob(1010,"span",10),t.rc(1011,"from"),t.Nb(),t.rc(1012," "),t.Ob(1013,"span",12),t.rc(1014,"'@travetto/rest'"),t.Nb(),t.Ob(1015,"span",11),t.rc(1016,";"),t.Nb(),t.rc(1017,"\n"),t.Ob(1018,"span",10),t.rc(1019,"import"),t.Nb(),t.rc(1020," "),t.Ob(1021,"span",11),t.rc(1022),t.Nb(),t.rc(1023," Inject "),t.Ob(1024,"span",11),t.rc(1025),t.Nb(),t.rc(1026," "),t.Ob(1027,"span",10),t.rc(1028,"from"),t.Nb(),t.rc(1029," "),t.Ob(1030,"span",12),t.rc(1031,"'@travetto/di'"),t.Nb(),t.Ob(1032,"span",11),t.rc(1033,";"),t.Nb(),t.rc(1034,"\n"),t.Ob(1035,"span",10),t.rc(1036,"import"),t.Nb(),t.rc(1037," "),t.Ob(1038,"span",11),t.rc(1039),t.Nb(),t.rc(1040," User "),t.Ob(1041,"span",11),t.rc(1042),t.Nb(),t.rc(1043," "),t.Ob(1044,"span",10),t.rc(1045,"from"),t.Nb(),t.rc(1046," "),t.Ob(1047,"span",12),t.rc(1048,"'./user'"),t.Nb(),t.Ob(1049,"span",11),t.rc(1050,";"),t.Nb(),t.rc(1051,"\n"),t.Ob(1052,"span",10),t.rc(1053,"import"),t.Nb(),t.rc(1054," "),t.Ob(1055,"span",11),t.rc(1056),t.Nb(),t.rc(1057," ModelService "),t.Ob(1058,"span",11),t.rc(1059),t.Nb(),t.rc(1060," "),t.Ob(1061,"span",10),t.rc(1062,"from"),t.Nb(),t.rc(1063," "),t.Ob(1064,"span",12),t.rc(1065,"'@travetto/model/src/service/model'"),t.Nb(),t.Ob(1066,"span",11),t.rc(1067,";"),t.Nb(),t.rc(1068,"\n"),t.Ob(1069,"span",10),t.rc(1070,"import"),t.Nb(),t.rc(1071," "),t.Ob(1072,"span",11),t.rc(1073),t.Nb(),t.rc(1074," SchemaBody "),t.Ob(1075,"span",11),t.rc(1076),t.Nb(),t.rc(1077," "),t.Ob(1078,"span",10),t.rc(1079,"from"),t.Nb(),t.rc(1080," "),t.Ob(1081,"span",12),t.rc(1082,"'@travetto/schema'"),t.Nb(),t.Ob(1083,"span",11),t.rc(1084,";"),t.Nb(),t.rc(1085,"\n"),t.Ob(1086,"span",10),t.rc(1087,"import"),t.Nb(),t.rc(1088," "),t.Ob(1089,"span",11),t.rc(1090),t.Nb(),t.rc(1091," ValidStringFields "),t.Ob(1092,"span",11),t.rc(1093),t.Nb(),t.rc(1094," "),t.Ob(1095,"span",10),t.rc(1096,"from"),t.Nb(),t.rc(1097," "),t.Ob(1098,"span",12),t.rc(1099,"'@travetto/model/src/service/source'"),t.Nb(),t.Ob(1100,"span",11),t.rc(1101,";"),t.Nb(),t.rc(1102,"\n\n@"),t.Ob(1103,"span",13),t.rc(1104,"Controller"),t.Nb(),t.Ob(1105,"span",11),t.rc(1106,"("),t.Nb(),t.Ob(1107,"span",12),t.rc(1108,"'/user'"),t.Nb(),t.Ob(1109,"span",11),t.rc(1110,")"),t.Nb(),t.rc(1111,"\n"),t.Ob(1112,"span",10),t.rc(1113,"class"),t.Nb(),t.rc(1114," "),t.Ob(1115,"span",14),t.rc(1116,"UserController"),t.Nb(),t.rc(1117," "),t.Ob(1118,"span",11),t.rc(1119),t.Nb(),t.rc(1120,"\n\n  @"),t.Ob(1121,"span",13),t.rc(1122,"Inject"),t.Nb(),t.Ob(1123,"span",11),t.rc(1124,"("),t.Nb(),t.Ob(1125,"span",11),t.rc(1126,")"),t.Nb(),t.rc(1127,"\n  source"),t.Ob(1128,"span",15),t.rc(1129,":"),t.Nb(),t.rc(1130," ModelService"),t.Ob(1131,"span",11),t.rc(1132,";"),t.Nb(),t.rc(1133,"\n\n  @"),t.Ob(1134,"span",13),t.rc(1135,"Get"),t.Nb(),t.Ob(1136,"span",11),t.rc(1137,"("),t.Nb(),t.Ob(1138,"span",12),t.rc(1139,"''"),t.Nb(),t.Ob(1140,"span",11),t.rc(1141,")"),t.Nb(),t.rc(1142,"\n  "),t.Ob(1143,"span",10),t.rc(1144,"async"),t.Nb();t.rc(1145," "),t.Ob(1146,"span",3),t.rc(1147,"getAllUser"),t.Nb(),t.Ob(1148,"span",11),t.rc(1149,"("),t.Nb(),t.Ob(1150,"span",21),t.rc(1151,"req"),t.Ob(1152,"span",15),t.rc(1153,":"),t.Nb(),t.rc(1154," Request"),t.Nb(),t.Ob(1155,"span",11),t.rc(1156,")"),t.Nb(),t.rc(1157," "),t.Ob(1158,"span",11),t.rc(1159),t.Nb(),t.rc(1160,"\n    "),t.Ob(1161,"span",10),t.rc(1162,"return"),t.Nb(),t.rc(1163," "),t.Ob(1164,"span",10),t.rc(1165,"await"),t.Nb(),t.rc(1166," "),t.Ob(1167,"span",10),t.rc(1168,"this"),t.Nb(),t.Ob(1169,"span",11),t.rc(1170,"."),t.Nb(),t.rc(1171,"source"),t.Ob(1172,"span",11),t.rc(1173,"."),t.Nb(),t.Ob(1174,"span",3),t.rc(1175,"getAllByQuery"),t.Nb(),t.Ob(1176,"span",11),t.rc(1177,"("),t.Nb(),t.rc(1178,"User"),t.Ob(1179,"span",11),t.rc(1180,","),t.Nb(),t.rc(1181," "),t.Ob(1182,"span",46),t.rc(1183,"JSON"),t.Nb(),t.Ob(1184,"span",11),t.rc(1185,"."),t.Nb(),t.Ob(1186,"span",3),t.rc(1187,"parse"),t.Nb(),t.Ob(1188,"span",11),t.rc(1189,"("),t.Nb(),t.rc(1190,"req"),t.Ob(1191,"span",11),t.rc(1192,"."),t.Nb(),t.rc(1193,"params"),t.Ob(1194,"span",11),t.rc(1195,"."),t.Nb(),t.rc(1196,"q"),t.Ob(1197,"span",11),t.rc(1198,")"),t.Nb(),t.Ob(1199,"span",11),t.rc(1200,")"),t.Nb(),t.Ob(1201,"span",11),t.rc(1202,";"),t.Nb(),t.rc(1203,"\n  "),t.Ob(1204,"span",11),t.rc(1205),t.Nb(),t.rc(1206,"\n\n  @"),t.Ob(1207,"span",13),t.rc(1208,"Get"),t.Nb(),t.Ob(1209,"span",11),t.rc(1210,"("),t.Nb(),t.Ob(1211,"span",12),t.rc(1212,"'/suggest/:field'"),t.Nb(),t.Ob(1213,"span",11),t.rc(1214,")"),t.Nb(),t.rc(1215,"\n  "),t.Ob(1216,"span",10),t.rc(1217,"async"),t.Nb(),t.rc(1218," "),t.Ob(1219,"span",3),t.rc(1220,"suggest"),t.Nb(),t.Ob(1221,"span",11),t.rc(1222,"("),t.Nb(),t.rc(1223,"@"),t.Ob(1224,"span",13),t.rc(1225,"Query"),t.Nb(),t.Ob(1226,"span",11),t.rc(1227,"("),t.Nb(),t.Ob(1228,"span",12),t.rc(1229,"'q'"),t.Nb(),t.Ob(1230,"span",11),t.rc(1231,")"),t.Nb(),t.rc(1232," q"),t.Ob(1233,"span",15),t.rc(1234,":"),t.Nb(),t.rc(1235," "),t.Ob(1236,"span",16),t.rc(1237,"string"),t.Nb(),t.Ob(1238,"span",11),t.rc(1239,","),t.Nb(),t.rc(1240," @"),t.Ob(1241,"span",13),t.rc(1242,"Path"),t.Nb(),t.Ob(1243,"span",11),t.rc(1244,"("),t.Nb(),t.Ob(1245,"span",12),t.rc(1246,"'field'"),t.Nb(),t.Ob(1247,"span",11),t.rc(1248,")"),t.Nb(),t.rc(1249," field"),t.Ob(1250,"span",15),t.rc(1251,":"),t.Nb(),t.rc(1252," ValidStringFields"),t.Ob(1253,"span",15),t.rc(1254,"<"),t.Nb(),t.rc(1255,"User"),t.Ob(1256,"span",15),t.rc(1257,">"),t.Nb(),t.Ob(1258,"span",11),t.rc(1259,")"),t.Nb(),t.rc(1260," "),t.Ob(1261,"span",11),t.rc(1262),t.Nb(),t.rc(1263,"\n    "),t.Ob(1264,"span",10),t.rc(1265,"return"),t.Nb(),t.rc(1266," "),t.Ob(1267,"span",10),t.rc(1268,"this"),t.Nb(),t.Ob(1269,"span",11),t.rc(1270,"."),t.Nb(),t.rc(1271,"source"),t.Ob(1272,"span",11),t.rc(1273,"."),t.Nb(),t.Ob(1274,"span",3),t.rc(1275,"suggest"),t.Nb(),t.Ob(1276,"span",11),t.rc(1277,"("),t.Nb(),t.rc(1278,"User"),t.Ob(1279,"span",11),t.rc(1280,","),t.Nb(),t.rc(1281," field"),t.Ob(1282,"span",11),t.rc(1283,","),t.Nb(),t.rc(1284," q"),t.Ob(1285,"span",11),t.rc(1286,")"),t.Nb(),t.Ob(1287,"span",11),t.rc(1288,";"),t.Nb(),t.rc(1289,"\n  "),t.Ob(1290,"span",11),t.rc(1291),t.Nb(),t.rc(1292,"\n\n  @"),t.Ob(1293,"span",13),t.rc(1294,"Get"),t.Nb(),t.Ob(1295,"span",11),t.rc(1296,"("),t.Nb(),t.Ob(1297,"span",12),t.rc(1298,"':id'"),t.Nb(),t.Ob(1299,"span",11),t.rc(1300,")"),t.Nb(),t.rc(1301,"\n  "),t.Ob(1302,"span",10),t.rc(1303,"async"),t.Nb(),t.rc(1304," "),t.Ob(1305,"span",3),t.rc(1306,"getUser"),t.Nb(),t.Ob(1307,"span",11),t.rc(1308,"("),t.Nb(),t.Ob(1309,"span",21),t.rc(1310,"req"),t.Ob(1311,"span",15),t.rc(1312,":"),t.Nb(),t.rc(1313," Request"),t.Nb(),t.Ob(1314,"span",11),t.rc(1315,")"),t.Nb(),t.rc(1316," "),t.Ob(1317,"span",11),t.rc(1318),t.Nb(),t.rc(1319,"\n    "),t.Ob(1320,"span",10),t.rc(1321,"return"),t.Nb(),t.rc(1322," "),t.Ob(1323,"span",10),t.rc(1324,"await"),t.Nb(),t.rc(1325," "),t.Ob(1326,"span",10),t.rc(1327,"this"),t.Nb(),t.Ob(1328,"span",11),t.rc(1329,"."),t.Nb(),t.rc(1330,"source"),t.Ob(1331,"span",11),t.rc(1332,"."),t.Nb(),t.Ob(1333,"span",3),t.rc(1334,"getById"),t.Nb(),t.Ob(1335,"span",11),t.rc(1336,"("),t.Nb(),t.rc(1337,"User"),t.Ob(1338,"span",11),t.rc(1339,","),t.Nb(),t.rc(1340," req"),t.Ob(1341,"span",11),t.rc(1342,"."),t.Nb(),t.rc(1343,"params"),t.Ob(1344,"span",11),t.rc(1345,"."),t.Nb(),t.rc(1346,"id"),t.Ob(1347,"span",11),t.rc(1348,")"),t.Nb(),t.Ob(1349,"span",11),t.rc(1350,";"),t.Nb(),t.rc(1351,"\n  "),t.Ob(1352,"span",11),t.rc(1353),t.Nb(),t.rc(1354,"\n\n  @"),t.Ob(1355,"span",13),t.rc(1356,"Delete"),t.Nb(),t.Ob(1357,"span",11),t.rc(1358,"("),t.Nb(),t.Ob(1359,"span",12),t.rc(1360,"':id'"),t.Nb(),t.Ob(1361,"span",11),t.rc(1362,")"),t.Nb(),t.rc(1363,"\n  "),t.Ob(1364,"span",10),t.rc(1365,"async"),t.Nb(),t.rc(1366," "),t.Ob(1367,"span",3),t.rc(1368,"deleteUser"),t.Nb(),t.Ob(1369,"span",11),t.rc(1370,"("),t.Nb(),t.Ob(1371,"span",21),t.rc(1372,"req"),t.Ob(1373,"span",15),t.rc(1374,":"),t.Nb(),t.rc(1375," Request"),t.Nb(),t.Ob(1376,"span",11),t.rc(1377,")"),t.Nb(),t.rc(1378," "),t.Ob(1379,"span",11),t.rc(1380),t.Nb(),t.rc(1381,"\n    "),t.Ob(1382,"span",10),t.rc(1383,"return"),t.Nb(),t.rc(1384," "),t.Ob(1385,"span",10),t.rc(1386,"await"),t.Nb(),t.rc(1387," "),t.Ob(1388,"span",10),t.rc(1389,"this"),t.Nb(),t.Ob(1390,"span",11),t.rc(1391,"."),t.Nb(),t.rc(1392,"source"),t.Ob(1393,"span",11),t.rc(1394,"."),t.Nb(),t.Ob(1395,"span",3),t.rc(1396,"deleteById"),t.Nb(),t.Ob(1397,"span",11),t.rc(1398,"("),t.Nb(),t.rc(1399,"User"),t.Ob(1400,"span",11),t.rc(1401,","),t.Nb(),t.rc(1402," req"),t.Ob(1403,"span",11),t.rc(1404,"."),t.Nb(),t.rc(1405,"params"),t.Ob(1406,"span",11),t.rc(1407,"."),t.Nb(),t.rc(1408,"id"),t.Ob(1409,"span",11),t.rc(1410,")"),t.Nb(),t.Ob(1411,"span",11),t.rc(1412,";"),t.Nb(),t.rc(1413,"\n  "),t.Ob(1414,"span",11),t.rc(1415),t.Nb(),t.rc(1416,"\n\n  @"),t.Ob(1417,"span",13),t.rc(1418,"Post"),t.Nb(),t.Ob(1419,"span",11),t.rc(1420,"("),t.Nb(),t.Ob(1421,"span",12),t.rc(1422,"''"),t.Nb(),t.Ob(1423,"span",11),t.rc(1424,")"),t.Nb(),t.rc(1425,"\n  "),t.Ob(1426,"span",10),t.rc(1427,"async"),t.Nb(),t.rc(1428," "),t.Ob(1429,"span",3),t.rc(1430,"saveUser"),t.Nb(),t.Ob(1431,"span",11),t.rc(1432,"("),t.Nb(),t.Ob(1433,"span",21),t.rc(1434,"@"),t.Ob(1435,"span",13),t.rc(1436,"SchemaBody"),t.Nb(),t.Ob(1437,"span",11),t.rc(1438,"("),t.Nb(),t.Ob(1439,"span",11),t.rc(1440,")"),t.Nb(),t.rc(1441," user"),t.Ob(1442,"span",15),t.rc(1443,":"),t.Nb(),t.rc(1444," User"),t.Nb(),t.Ob(1445,"span",11),t.rc(1446,")"),t.Nb(),t.rc(1447," "),t.Ob(1448,"span",11),t.rc(1449),t.Nb(),t.rc(1450,"\n    "),t.Ob(1451,"span",10),t.rc(1452,"return"),t.Nb(),t.rc(1453," "),t.Ob(1454,"span",10),t.rc(1455,"await"),t.Nb(),t.rc(1456," "),t.Ob(1457,"span",10),t.rc(1458,"this"),t.Nb(),t.Ob(1459,"span",11),t.rc(1460,"."),t.Nb(),t.rc(1461,"source"),t.Ob(1462,"span",11),t.rc(1463,"."),t.Nb(),t.Ob(1464,"span",3),t.rc(1465,"save"),t.Nb(),t.Ob(1466,"span",11),t.rc(1467,"("),t.Nb(),t.rc(1468,"User"),t.Ob(1469,"span",11),t.rc(1470,","),t.Nb(),t.rc(1471," user"),t.Ob(1472,"span",11),t.rc(1473,")"),t.Nb(),t.Ob(1474,"span",11),t.rc(1475,";"),t.Nb(),t.rc(1476,"\n  "),t.Ob(1477,"span",11),t.rc(1478),t.Nb(),t.rc(1479,"\n\n  @"),t.Ob(1480,"span",13),t.rc(1481,"Put"),t.Nb(),t.Ob(1482,"span",11),t.rc(1483,"("),t.Nb(),t.Ob(1484,"span",12),t.rc(1485,"''"),t.Nb(),t.Ob(1486,"span",11),t.rc(1487,")"),t.Nb(),t.rc(1488,"\n  "),t.Ob(1489,"span",10),t.rc(1490,"async"),t.Nb(),t.rc(1491," "),t.Ob(1492,"span",3),t.rc(1493,"updateUser"),t.Nb(),t.Ob(1494,"span",11),t.rc(1495,"("),t.Nb(),t.Ob(1496,"span",21),t.rc(1497,"@"),t.Ob(1498,"span",13),t.rc(1499,"SchemaBody"),t.Nb(),t.Ob(1500,"span",11),t.rc(1501,"("),t.Nb(),t.Ob(1502,"span",11),t.rc(1503,")"),t.Nb(),t.rc(1504," user"),t.Ob(1505,"span",15),t.rc(1506,":"),t.Nb(),t.rc(1507," User"),t.Nb(),t.Ob(1508,"span",11),t.rc(1509,")"),t.Nb(),t.rc(1510," "),t.Ob(1511,"span",11),t.rc(1512),t.Nb(),t.rc(1513,"\n    "),t.Ob(1514,"span",10),t.rc(1515,"return"),t.Nb(),t.rc(1516," "),t.Ob(1517,"span",10),t.rc(1518,"await"),t.Nb(),t.rc(1519," "),t.Ob(1520,"span",10),t.rc(1521,"this"),t.Nb(),t.Ob(1522,"span",11),t.rc(1523,"."),t.Nb(),t.rc(1524,"source"),t.Ob(1525,"span",11),t.rc(1526,"."),t.Nb(),t.Ob(1527,"span",3),t.rc(1528,"update"),t.Nb(),t.Ob(1529,"span",11),t.rc(1530,"("),t.Nb(),t.rc(1531,"User"),t.Ob(1532,"span",11),t.rc(1533,","),t.Nb(),t.rc(1534," user"),t.Ob(1535,"span",11),t.rc(1536,")"),t.Nb(),t.Ob(1537,"span",11),t.rc(1538,";"),t.Nb(),t.rc(1539,"\n  "),t.Ob(1540,"span",11),t.rc(1541),t.Nb(),t.rc(1542,"\n"),t.Ob(1543,"span",11),t.rc(1544),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(38),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(33),t.sc("{"),t.zb(29),t.sc("}"),t.zb(23),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(34),t.sc("{"),t.zb(41),t.sc("}"),t.zb(22),t.sc("{"),t.zb(41),t.sc("{"),t.zb(6),t.sc("}"),t.zb(20),t.sc("}"),t.zb(3),t.sc("}"),t.zb(28),t.uc("field: ","{"," $eq: T ","}",""),t.zb(4),t.uc("field: ","{"," $ne: T ","}",""),t.zb(4),t.uc("field: ","{"," $exists: boolean ","}",""),t.zb(11),t.uc("field: ","{"," $in: T[] ","}",""),t.zb(6),t.uc("field: ","{"," $nin: T[] ","}",""),t.zb(9),t.uc("field: ","{"," $lt: T ","}",""),t.zb(4),t.uc("field: ","{"," $lte: T ","}",""),t.zb(4),t.uc("field: ","{"," $gt: T ","}",""),t.zb(4),t.uc("field: ","{"," $gte: T ","}",""),t.zb(7),t.uc("field: ","{"," $all: T[]] ","}",""),t.zb(9),t.uc("field: ","{"," $regex: RegExp | string; ","}",""),t.zb(7),t.uc("field: ","{"," $geoWithin: Point[] ","}",""),t.zb(4),t.uc("field: ","{"," $near: Point, $maxDistance: number, $unit: 'km' | 'm' | 'mi' | 'ft' ","}",""),t.zb(7),t.uc("","{"," $and: [] ","}",""),t.zb(4),t.uc("","{"," $or: [] ","}",""),t.zb(4),t.vc("","{"," $not: ","{"," ","}"," ","}",""),t.zb(18),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(16),t.sc("{"),t.zb(21),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("{"),t.zb(6),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(5),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(6),t.sc("}"),t.zb(3),t.sc("}"),t.zb(7),t.sc("}"),t.zb(3),t.sc("}"),t.zb(199),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(16),t.sc("}"),t.zb(14),t.sc("{"),t.zb(24),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(40),t.sc("{"),t.zb(46),t.sc("}"),t.zb(57),t.sc("{"),t.zb(29),t.sc("}"),t.zb(27),t.sc("{"),t.zb(35),t.sc("}"),t.zb(27),t.sc("{"),t.zb(35),t.sc("}"),t.zb(34),t.sc("{"),t.zb(29),t.sc("}"),t.zb(34),t.sc("{"),t.zb(29),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),u=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-rest"]],decls:2299,vars:122,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://expressjs.com",1,"external-link"],["target","_blank","href","./src/types.d.ts#L11",1,"source-link"],["target","_blank","href","./src/types.d.ts#L87",1,"source-link"],["id","routes-controller"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/controller.ts#L10",1,"source-link"],[1,"item","input"],["href","/docs/di","title","Dependency registration/management and injection support.",1,"module-link"],["target","_blank","href","http://usejsdoc.org/about-getting-started.html",1,"external-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/src/simple-controller.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","meta"],[1,"token","class-name"],[1,"token","comment"],["id","routes-endpoints"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/endpoint.ts#L24",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/endpoint.ts#L30",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/endpoint.ts#L36",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/endpoint.ts#L48",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/endpoint.ts#L42",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/endpoint.ts#L54",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/endpoint.ts#L60",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/src/simple-route.ts"],[1,"token","operator"],[1,"note"],["id","parameters"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/param.ts#L49",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/param.ts#L55",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/param.ts#L67",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/param.ts#L61",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/param.ts#L43",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/param.ts#L30",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/src/simple-full.ts"],[1,"token","parameter"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],[1,"token","builtin"],[1,"token","boolean"],[1,"token","regex"],["id","input-output"],["href","/docs/base","title","Application phase management, environment config and common utilities for travetto applications.",1,"module-link"],["href","/docs/schema","title","Data type registry for runtime validation, reflection and binding. ",1,"module-link"],["id","interceptors"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/interceptor/interceptor.ts#L9",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/src/interceptor-hello-world.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/interceptor/serialize.ts#L16",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/interceptor/cors.ts#L39",1,"source-link"],[1,"item","path"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/interceptor/cors.ts#L12"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/interceptor/cookies.ts#L52",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/interceptor/cookies.ts#L17"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/interceptor/get-cache.ts#L12",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/interceptor/logging.ts#L61",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/resources/log.yml"],[1,"language-yaml"],[1,"token","important"],["id","creating-and-running-an-app"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/app/src/decorator.ts#L24",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/support/application.rest.ts#L10",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/src/custom-app.ts"],["href","/docs/app","title","Application registration/management and run support.",1,"module-link"],[1,"item","command"],["id","custom-interceptors"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/src/interceptor-logging.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/src/interceptor-controlled.ts"],[1,"token","function-variable","function"],["href","/docs/asset-rest","title","Provides integration between the travetto asset and rest module.",1,"module-link"],["href","/docs/auth-rest","title","Rest authentication integration support for the travetto framework",1,"module-link"],["id","cookie-support"],["target","_blank","href","https://www.npmjs.com/package/cookies",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/alt/docs/src/cookie-routes.ts"],["id","ssl-support"],["target","_blank","href","https://www.npmjs.com/package/node-forge",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/src/resource.ts",1,"source-link"],["id","full-config"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/server/config.ts#L13",1,"source-link"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"RESTful API "),t.Ob(3,"small"),t.rc(4,"Declarative api for RESTful APIs with support for the dependency injection module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/rest "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/rest"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The module provides a declarative API for creating and describing an RESTful application. Since the framework is declarative, decorators are used to configure almost everything. The module is framework agnostic (but resembles "),t.Ob(17,"a",4),t.rc(18,"express"),t.Nb(),t.rc(19," in the "),t.Ob(20,"a",5),t.rc(21,"Request"),t.Nb(),t.rc(22," and "),t.Ob(23,"a",6),t.rc(24,"Response"),t.Nb(),t.rc(25," objects). "),t.Ob(26,"h2",7),t.rc(27,"Routes: Controller"),t.Nb(),t.rc(28," To define a route, you must first declare a "),t.Ob(29,"a",8),t.rc(30,"@Controller"),t.Nb(),t.rc(31," which is only allowed on classes. Controllers can be configured with: "),t.Ob(32,"ul"),t.Ob(33,"li"),t.Ob(34,"code",9),t.rc(35,"title"),t.Nb(),t.rc(36," - The definition of the controller"),t.Nb(),t.Ob(37,"li"),t.Ob(38,"code",9),t.rc(39,"description"),t.Nb(),t.rc(40," - High level description fo the controller"),t.Nb(),t.Nb(),t.rc(41," Additionally, the module is predicated upon "),t.Ob(42,"a",10),t.rc(43,"Dependency Injection"),t.Nb(),t.rc(44,", and so all standard injection techniques (constructor, fields) work for registering dependencies. "),t.Ob(45,"a",11),t.rc(46,"JSDoc"),t.Nb(),t.rc(47," comments can also be used to define the "),t.Ob(48,"code",9),t.rc(49,"title"),t.Nb(),t.rc(50," attribute. "),t.Ob(51,"figure",12),t.Ob(52,"figcaption",12),t.rc(53,"Basic Controller Registration "),t.Ob(54,"cite"),t.Ob(55,"a",13),t.rc(56,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(57,"pre"),t.Ob(58,"code",14),t.Ob(59,"span",15),t.rc(60,"import"),t.Nb(),t.rc(61," "),t.Ob(62,"span",16),t.rc(63),t.Nb(),t.rc(64," Controller "),t.Ob(65,"span",16),t.rc(66),t.Nb(),t.rc(67," "),t.Ob(68,"span",15),t.rc(69,"from"),t.Nb(),t.rc(70," "),t.Ob(71,"span",17),t.rc(72,"'@travetto/rest/src/decorator/controller'"),t.Nb(),t.Ob(73,"span",16),t.rc(74,";"),t.Nb(),t.rc(75,"\n\n@"),t.Ob(76,"span",18),t.rc(77,"Controller"),t.Nb(),t.Ob(78,"span",16),t.rc(79,"("),t.Nb(),t.Ob(80,"span",17),t.rc(81,"'/simple'"),t.Nb(),t.Ob(82,"span",16),t.rc(83,")"),t.Nb(),t.rc(84,"\n"),t.Ob(85,"span",15),t.rc(86,"class"),t.Nb(),t.rc(87," "),t.Ob(88,"span",19),t.rc(89,"SimpleController"),t.Nb(),t.rc(90," "),t.Ob(91,"span",16),t.rc(92),t.Nb(),t.rc(93,"\n  "),t.Ob(94,"span",20),t.rc(95,"// routes"),t.Nb(),t.rc(96,"\n"),t.Ob(97,"span",16),t.rc(98),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(99,"h2",21),t.rc(100,"Routes: Endpoints"),t.Nb(),t.rc(101," Once the controller is declared, each method of the controller is a candidate for routing. By design, everything is asynchronous, and so async/await is natively supported. The HTTP methods that are supported via:\n"),t.Ob(102,"ul"),t.Ob(103,"li"),t.Ob(104,"a",22),t.rc(105,"@Get"),t.Nb(),t.Nb(),t.Ob(106,"li"),t.Ob(107,"a",23),t.rc(108,"@Post"),t.Nb(),t.Nb(),t.Ob(109,"li"),t.Ob(110,"a",24),t.rc(111,"@Put"),t.Nb(),t.Nb(),t.Ob(112,"li"),t.Ob(113,"a",25),t.rc(114,"@Delete"),t.Nb(),t.Nb(),t.Ob(115,"li"),t.Ob(116,"a",26),t.rc(117,"@Patch"),t.Nb(),t.Nb(),t.Ob(118,"li"),t.Ob(119,"a",27),t.rc(120,"@Head"),t.Nb(),t.Nb(),t.Ob(121,"li"),t.Ob(122,"a",28),t.rc(123,"@Options"),t.Nb(),t.Nb(),t.Nb(),t.rc(124," Each endpoint decorator handles the following config:\n"),t.Ob(125,"ul"),t.Ob(126,"li"),t.Ob(127,"code",9),t.rc(128,"title"),t.Nb(),t.rc(129," - The definition of the endpoint"),t.Nb(),t.Ob(130,"li"),t.Ob(131,"code",9),t.rc(132,"description"),t.Nb(),t.rc(133," - High level description fo the endpoint"),t.Nb(),t.Ob(134,"li"),t.Ob(135,"code",9),t.rc(136,"responseType?"),t.Nb(),t.rc(137," - Class describing the response type"),t.Nb(),t.Ob(138,"li"),t.Ob(139,"code",9),t.rc(140,"requestType?"),t.Nb(),t.rc(141," - Class describing the request body"),t.Nb(),t.Nb(),t.Ob(142,"a",11),t.rc(143,"JSDoc"),t.Nb(),t.rc(144," comments can also be used to define the "),t.Ob(145,"code",9),t.rc(146,"title"),t.Nb(),t.rc(147," attribute, as well as describing the parameters using "),t.Ob(148,"code",9),t.rc(149,"@param"),t.Nb(),t.rc(150," tags in the comment. Additionally, the return type of the method will also be used to describe the "),t.Ob(151,"code",9),t.rc(152,"responseType"),t.Nb(),t.rc(153," if not specified manually. "),t.Ob(154,"figure",12),t.Ob(155,"figcaption",12),t.rc(156,"Controller with Sample Route "),t.Ob(157,"cite"),t.Ob(158,"a",29),t.rc(159,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(160,"pre"),t.Ob(161,"code",14),t.Ob(162,"span",15),t.rc(163,"import"),t.Nb(),t.rc(164," "),t.Ob(165,"span",16),t.rc(166),t.Nb(),t.rc(167," Controller "),t.Ob(168,"span",16),t.rc(169),t.Nb(),t.rc(170," "),t.Ob(171,"span",15),t.rc(172,"from"),t.Nb(),t.rc(173," "),t.Ob(174,"span",17),t.rc(175,"'@travetto/rest/src/decorator/controller'"),t.Nb(),t.Ob(176,"span",16),t.rc(177,";"),t.Nb(),t.rc(178,"\n"),t.Ob(179,"span",15),t.rc(180,"import"),t.Nb(),t.rc(181," "),t.Ob(182,"span",16),t.rc(183),t.Nb(),t.rc(184," Get "),t.Ob(185,"span",16),t.rc(186),t.Nb(),t.rc(187," "),t.Ob(188,"span",15),t.rc(189,"from"),t.Nb(),t.rc(190," "),t.Ob(191,"span",17),t.rc(192,"'@travetto/rest/src/decorator/endpoint'"),t.Nb(),t.Ob(193,"span",16),t.rc(194,";"),t.Nb(),t.rc(195,"\n\n"),t.Ob(196,"span",15),t.rc(197,"class"),t.Nb(),t.rc(198," "),t.Ob(199,"span",19),t.rc(200,"Data"),t.Nb(),t.rc(201," "),t.Ob(202,"span",16),t.rc(203),t.Nb(),t.rc(204," "),t.Ob(205,"span",16),t.rc(206),t.Nb(),t.rc(207,"\n\n@"),t.Ob(208,"span",18),t.rc(209,"Controller"),t.Nb(),t.Ob(210,"span",16),t.rc(211,"("),t.Nb(),t.Ob(212,"span",17),t.rc(213,"'/simple'"),t.Nb(),t.Ob(214,"span",16),t.rc(215,")"),t.Nb(),t.rc(216,"\n"),t.Ob(217,"span",15),t.rc(218,"class"),t.Nb(),t.rc(219," "),t.Ob(220,"span",19),t.rc(221,"SimpleController"),t.Nb(),t.rc(222," "),t.Ob(223,"span",16),t.rc(224),t.Nb(),t.rc(225,"\n\n  "),t.Ob(226,"span",20),t.rc(227,"/**\n   * Gets the most basic of data\n   */"),t.Nb(),t.rc(228,"\n  @"),t.Ob(229,"span",18),t.rc(230,"Get"),t.Nb(),t.Ob(231,"span",16),t.rc(232,"("),t.Nb(),t.Ob(233,"span",17),t.rc(234,"'/'"),t.Nb(),t.Ob(235,"span",16),t.rc(236,")"),t.Nb(),t.rc(237,"\n  "),t.Ob(238,"span",15),t.rc(239,"async"),t.Nb(),t.rc(240," "),t.Ob(241,"span",3),t.rc(242,"simpleGet"),t.Nb(),t.Ob(243,"span",16),t.rc(244,"("),t.Nb(),t.Ob(245,"span",16),t.rc(246,")"),t.Nb(),t.rc(247," "),t.Ob(248,"span",16),t.rc(249),t.Nb(),t.rc(250,"\n    "),t.Ob(251,"span",15),t.rc(252,"let"),t.Nb(),t.rc(253," data"),t.Ob(254,"span",30),t.rc(255,":"),t.Nb(),t.rc(256," Data "),t.Ob(257,"span",30),t.rc(258,"|"),t.Nb(),t.rc(259," "),t.Ob(260,"span",15),t.rc(261,"undefined"),t.Nb(),t.Ob(262,"span",16),t.rc(263,";"),t.Nb(),t.rc(264,"\n    "),t.Ob(265,"span",20),t.rc(266,"//"),t.Nb(),t.rc(267,"\n    "),t.Ob(268,"span",15),t.rc(269,"return"),t.Nb(),t.rc(270," data"),t.Ob(271,"span",16),t.rc(272,";"),t.Nb(),t.rc(273,"\n  "),t.Ob(274,"span",16),t.rc(275),t.Nb(),t.rc(276,"\n"),t.Ob(277,"span",16),t.rc(278),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(279,"p",31),t.Ob(280,"strong"),t.rc(281,"Note"),t.Nb(),t.rc(282," In development mode the module supports hot reloading of "),t.Ob(283,"code",9),t.rc(284,"class"),t.Nb(),t.rc(285,"es. Routes can be added/modified/removed at runtime."),t.Nb(),t.Ob(286,"h3",32),t.rc(287,"Parameters"),t.Nb(),t.rc(288," Endpoints can be configured to describe and enforce parameter behavior. Request parameters can be defined in five areas:\n"),t.Ob(289,"ul"),t.Ob(290,"li"),t.Ob(291,"a",33),t.rc(292,"@Path"),t.Nb(),t.rc(293," - Path params"),t.Nb(),t.Ob(294,"li"),t.Ob(295,"a",34),t.rc(296,"@Query"),t.Nb(),t.rc(297," - Query params"),t.Nb(),t.Ob(298,"li"),t.Ob(299,"a",35),t.rc(300,"@Body"),t.Nb(),t.rc(301," - Request body (in it's entirety)"),t.Nb(),t.Ob(302,"li"),t.Ob(303,"a",36),t.rc(304,"@Header"),t.Nb(),t.rc(305," - Header values"),t.Nb(),t.Ob(306,"li"),t.Ob(307,"a",37),t.rc(308,"@Context"),t.Nb(),t.rc(309," - Special values exposed (e.g. "),t.Ob(310,"a",5),t.rc(311,"Request"),t.Nb(),t.rc(312,", "),t.Ob(313,"a",6),t.rc(314,"Response"),t.Nb(),t.rc(315,", Session, AuthContext, etc.)"),t.Nb(),t.Nb(),t.rc(316," Each "),t.Ob(317,"a",38),t.rc(318,"Param"),t.Nb(),t.rc(319," can be configured to indicate:\n"),t.Ob(320,"ul"),t.Ob(321,"li"),t.Ob(322,"code",9),t.rc(323,"name"),t.Nb(),t.rc(324," - Name of param, field name, defaults to handler parameter name if necessary"),t.Nb(),t.Ob(325,"li"),t.Ob(326,"code",9),t.rc(327,"description"),t.Nb(),t.rc(328," - Description of param, pulled from "),t.Ob(329,"a",11),t.rc(330,"JSDoc"),t.Nb(),t.rc(331,", or defaults to name if empty"),t.Nb(),t.Ob(332,"li"),t.Ob(333,"code",9),t.rc(334,"required?"),t.Nb(),t.rc(335," - Is the field required?, defaults to whether or not the parameter itself is optional"),t.Nb(),t.Ob(336,"li"),t.Ob(337,"code",9),t.rc(338,"type"),t.Nb(),t.rc(339," - The class of the type to be enforced, pulled from parameter type"),t.Nb(),t.Nb(),t.Ob(340,"a",11),t.rc(341,"JSDoc"),t.Nb(),t.rc(342," comments can also be used to describe parameters using "),t.Ob(343,"code",9),t.rc(344,"@param"),t.Nb(),t.rc(345," tags in the comment. "),t.Ob(346,"figure",12),t.Ob(347,"figcaption",12),t.rc(348,"Full-fledged Controller with Routes "),t.Ob(349,"cite"),t.Ob(350,"a",39),t.rc(351,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(352,"pre"),t.Ob(353,"code",14),t.Ob(354,"span",15),t.rc(355,"import"),t.Nb(),t.rc(356," "),t.Ob(357,"span",16),t.rc(358),t.Nb(),t.rc(359," Controller "),t.Ob(360,"span",16),t.rc(361),t.Nb(),t.rc(362," "),t.Ob(363,"span",15),t.rc(364,"from"),t.Nb(),t.rc(365," "),t.Ob(366,"span",17),t.rc(367,"'@travetto/rest/src/decorator/controller'"),t.Nb(),t.Ob(368,"span",16),t.rc(369,";"),t.Nb(),t.rc(370,"\n"),t.Ob(371,"span",15),t.rc(372,"import"),t.Nb(),t.rc(373," "),t.Ob(374,"span",16),t.rc(375),t.Nb(),t.rc(376," Get"),t.Ob(377,"span",16),t.rc(378,","),t.Nb(),t.rc(379," Post "),t.Ob(380,"span",16),t.rc(381),t.Nb(),t.rc(382," "),t.Ob(383,"span",15),t.rc(384,"from"),t.Nb(),t.rc(385," "),t.Ob(386,"span",17),t.rc(387,"'@travetto/rest/src/decorator/endpoint'"),t.Nb(),t.Ob(388,"span",16),t.rc(389,";"),t.Nb(),t.rc(390,"\n"),t.Ob(391,"span",15),t.rc(392,"import"),t.Nb(),t.rc(393," "),t.Ob(394,"span",16),t.rc(395),t.Nb(),t.rc(396," Path"),t.Ob(397,"span",16),t.rc(398,","),t.Nb(),t.rc(399," Body"),t.Ob(400,"span",16),t.rc(401,","),t.Nb(),t.rc(402," Context"),t.Ob(403,"span",16),t.rc(404,","),t.Nb(),t.rc(405," Query "),t.Ob(406,"span",16),t.rc(407),t.Nb(),t.rc(408," "),t.Ob(409,"span",15),t.rc(410,"from"),t.Nb(),t.rc(411," "),t.Ob(412,"span",17),t.rc(413,"'@travetto/rest/src/decorator/param'"),t.Nb(),t.Ob(414,"span",16),t.rc(415,";"),t.Nb(),t.rc(416,"\n"),t.Ob(417,"span",15),t.rc(418,"import"),t.Nb(),t.rc(419," "),t.Ob(420,"span",16),t.rc(421),t.Nb(),t.rc(422," Request "),t.Ob(423,"span",16),t.rc(424),t.Nb(),t.rc(425," "),t.Ob(426,"span",15),t.rc(427,"from"),t.Nb(),t.rc(428," "),t.Ob(429,"span",17),t.rc(430,"'@travetto/rest/src/types'"),t.Nb(),t.Ob(431,"span",16),t.rc(432,";"),t.Nb(),t.rc(433,"\n"),t.Ob(434,"span",15),t.rc(435,"import"),t.Nb(),t.rc(436," "),t.Ob(437,"span",16),t.rc(438),t.Nb(),t.rc(439," MockService "),t.Ob(440,"span",16),t.rc(441),t.Nb(),t.rc(442," "),t.Ob(443,"span",15),t.rc(444,"from"),t.Nb(),t.rc(445," "),t.Ob(446,"span",17),t.rc(447,"'./mock'"),t.Nb(),t.Ob(448,"span",16),t.rc(449,";"),t.Nb(),t.rc(450,"\n\n@"),t.Ob(451,"span",18),t.rc(452,"Controller"),t.Nb(),t.Ob(453,"span",16),t.rc(454,"("),t.Nb(),t.Ob(455,"span",17),t.rc(456,"'/simple'"),t.Nb(),t.Ob(457,"span",16),t.rc(458,")"),t.Nb(),t.rc(459,"\n"),t.Ob(460,"span",15),t.rc(461,"export"),t.Nb(),t.rc(462," "),t.Ob(463,"span",15),t.rc(464,"class"),t.Nb(),t.rc(465," "),t.Ob(466,"span",19),t.rc(467,"Simple"),t.Nb(),t.rc(468," "),t.Ob(469,"span",16),t.rc(470),t.Nb(),t.rc(471,"\n\n  "),t.Ob(472,"span",15),t.rc(473,"constructor"),t.Nb(),t.Ob(474,"span",16),t.rc(475,"("),t.Nb(),t.Ob(476,"span",40),t.Ob(477,"span",15),t.rc(478,"private"),t.Nb(),t.rc(479," service"),t.Ob(480,"span",30),t.rc(481,":"),t.Nb(),t.rc(482," MockService"),t.Nb(),t.Ob(483,"span",16),t.rc(484,")"),t.Nb(),t.rc(485," "),t.Ob(486,"span",16),t.rc(487),t.Nb(),t.rc(488," "),t.Ob(489,"span",16),t.rc(490),t.Nb(),t.rc(491,"\n\n  "),t.Ob(492,"span",20),t.rc(493,"/**\n   * Get a random user by name\n   */"),t.Nb(),t.rc(494,"\n  @"),t.Ob(495,"span",18),t.rc(496,"Get"),t.Nb(),t.Ob(497,"span",16),t.rc(498,"("),t.Nb(),t.Ob(499,"span",17),t.rc(500,"'/name'"),t.Nb(),t.Ob(501,"span",16),t.rc(502,")"),t.Nb(),t.rc(503,"\n  "),t.Ob(504,"span",15),t.rc(505,"async"),t.Nb(),t.rc(506," "),t.Ob(507,"span",3),t.rc(508,"getName"),t.Nb(),t.Ob(509,"span",16),t.rc(510,"("),t.Nb(),t.Ob(511,"span",16),t.rc(512,")"),t.Nb(),t.rc(513," "),t.Ob(514,"span",16),t.rc(515),t.Nb(),t.rc(516,"\n    "),t.Ob(517,"span",15),t.rc(518,"const"),t.Nb(),t.rc(519," user "),t.Ob(520,"span",30),t.rc(521,"="),t.Nb(),t.rc(522," "),t.Ob(523,"span",15),t.rc(524,"await"),t.Nb(),t.rc(525," "),t.Ob(526,"span",15),t.rc(527,"this"),t.Nb(),t.Ob(528,"span",16),t.rc(529,"."),t.Nb(),t.rc(530,"service"),t.Ob(531,"span",16),t.rc(532,"."),t.Nb(),t.Ob(533,"span",3),t.rc(534,"fetch"),t.Nb(),t.Ob(535,"span",16),t.rc(536,"("),t.Nb(),t.Ob(537,"span",16),t.rc(538,")"),t.Nb(),t.Ob(539,"span",16),t.rc(540,";"),t.Nb(),t.rc(541,"\n    "),t.Ob(542,"span",15),t.rc(543,"return"),t.Nb(),t.rc(544," "),t.Ob(545,"span",41),t.Ob(546,"span",42),t.rc(547,"`"),t.Nb(),t.Ob(548,"span",17),t.rc(549,"/simple/name => "),t.Nb(),t.Ob(550,"span",43),t.Ob(551,"span",44),t.rc(552),t.Nb(),t.rc(553,"user"),t.Ob(554,"span",16),t.rc(555,"."),t.Nb(),t.rc(556,"first"),t.Ob(557,"span",16),t.rc(558,"."),t.Nb(),t.Ob(559,"span",3),t.rc(560,"toLowerCase"),t.Nb(),t.Ob(561,"span",16),t.rc(562,"("),t.Nb(),t.Ob(563,"span",16),t.rc(564,")"),t.Nb(),t.Ob(565,"span",44),t.rc(566),t.Nb();t.Nb(),t.Ob(567,"span",42),t.rc(568,"`"),t.Nb(),t.Nb(),t.Ob(569,"span",16),t.rc(570,";"),t.Nb(),t.rc(571,"\n  "),t.Ob(572,"span",16),t.rc(573),t.Nb(),t.rc(574,"\n\n  "),t.Ob(575,"span",20),t.rc(576,"/**\n   * Get a user by id\n   */"),t.Nb(),t.rc(577,"\n  @"),t.Ob(578,"span",18),t.rc(579,"Get"),t.Nb(),t.Ob(580,"span",16),t.rc(581,"("),t.Nb(),t.Ob(582,"span",17),t.rc(583,"'/:id'"),t.Nb(),t.Ob(584,"span",16),t.rc(585,")"),t.Nb(),t.rc(586,"\n  "),t.Ob(587,"span",15),t.rc(588,"async"),t.Nb(),t.rc(589," "),t.Ob(590,"span",3),t.rc(591,"getById"),t.Nb(),t.Ob(592,"span",16),t.rc(593,"("),t.Nb(),t.Ob(594,"span",40),t.rc(595,"@"),t.Ob(596,"span",18),t.rc(597,"Path"),t.Nb(),t.Ob(598,"span",16),t.rc(599,"("),t.Nb(),t.Ob(600,"span",16),t.rc(601,")"),t.Nb(),t.rc(602," id"),t.Ob(603,"span",30),t.rc(604,":"),t.Nb(),t.rc(605," "),t.Ob(606,"span",45),t.rc(607,"number"),t.Nb(),t.Nb(),t.Ob(608,"span",16),t.rc(609,")"),t.Nb(),t.rc(610," "),t.Ob(611,"span",16),t.rc(612),t.Nb(),t.rc(613,"\n    "),t.Ob(614,"span",15),t.rc(615,"const"),t.Nb(),t.rc(616," user "),t.Ob(617,"span",30),t.rc(618,"="),t.Nb(),t.rc(619," "),t.Ob(620,"span",15),t.rc(621,"await"),t.Nb(),t.rc(622," "),t.Ob(623,"span",15),t.rc(624,"this"),t.Nb(),t.Ob(625,"span",16),t.rc(626,"."),t.Nb(),t.rc(627,"service"),t.Ob(628,"span",16),t.rc(629,"."),t.Nb(),t.Ob(630,"span",3),t.rc(631,"fetch"),t.Nb(),t.Ob(632,"span",16),t.rc(633,"("),t.Nb(),t.rc(634,"id"),t.Ob(635,"span",16),t.rc(636,")"),t.Nb(),t.Ob(637,"span",16),t.rc(638,";"),t.Nb(),t.rc(639,"\n    "),t.Ob(640,"span",15),t.rc(641,"return"),t.Nb(),t.rc(642," "),t.Ob(643,"span",41),t.Ob(644,"span",42),t.rc(645,"`"),t.Nb(),t.Ob(646,"span",17),t.rc(647,"/simple/id => "),t.Nb(),t.Ob(648,"span",43),t.Ob(649,"span",44),t.rc(650),t.Nb(),t.rc(651,"user"),t.Ob(652,"span",16),t.rc(653,"."),t.Nb(),t.rc(654,"first"),t.Ob(655,"span",16),t.rc(656,"."),t.Nb(),t.Ob(657,"span",3),t.rc(658,"toLowerCase"),t.Nb(),t.Ob(659,"span",16),t.rc(660,"("),t.Nb(),t.Ob(661,"span",16),t.rc(662,")"),t.Nb(),t.Ob(663,"span",44),t.rc(664),t.Nb(),t.Nb(),t.Ob(665,"span",42),t.rc(666,"`"),t.Nb(),t.Nb(),t.Ob(667,"span",16),t.rc(668,";"),t.Nb(),t.rc(669,"\n  "),t.Ob(670,"span",16),t.rc(671),t.Nb(),t.rc(672,"\n\n  @"),t.Ob(673,"span",18),t.rc(674,"Post"),t.Nb(),t.Ob(675,"span",16),t.rc(676,"("),t.Nb(),t.Ob(677,"span",17),t.rc(678,"'/name'"),t.Nb(),t.Ob(679,"span",16),t.rc(680,")"),t.Nb(),t.rc(681,"\n  "),t.Ob(682,"span",15),t.rc(683,"async"),t.Nb(),t.rc(684," "),t.Ob(685,"span",3),t.rc(686,"createName"),t.Nb(),t.Ob(687,"span",16),t.rc(688,"("),t.Nb(),t.Ob(689,"span",40),t.rc(690,"@"),t.Ob(691,"span",18),t.rc(692,"Body"),t.Nb(),t.Ob(693,"span",16),t.rc(694,"("),t.Nb(),t.Ob(695,"span",16),t.rc(696,")"),t.Nb(),t.rc(697," person"),t.Ob(698,"span",30),t.rc(699,":"),t.Nb(),t.rc(700," "),t.Ob(701,"span",16),t.rc(702),t.Nb(),t.rc(703," name"),t.Ob(704,"span",30),t.rc(705,":"),t.Nb(),t.rc(706," "),t.Ob(707,"span",45),t.rc(708,"string"),t.Nb(),t.rc(709," "),t.Ob(710,"span",16),t.rc(711),t.Nb(),t.Nb(),t.Ob(712,"span",16),t.rc(713,")"),t.Nb(),t.rc(714," "),t.Ob(715,"span",16),t.rc(716),t.Nb(),t.rc(717,"\n    "),t.Ob(718,"span",15),t.rc(719,"await"),t.Nb(),t.rc(720," "),t.Ob(721,"span",15),t.rc(722,"this"),t.Nb(),t.Ob(723,"span",16),t.rc(724,"."),t.Nb(),t.rc(725,"service"),t.Ob(726,"span",16),t.rc(727,"."),t.Nb(),t.Ob(728,"span",3),t.rc(729,"update"),t.Nb(),t.Ob(730,"span",16),t.rc(731,"("),t.Nb(),t.Ob(732,"span",16),t.rc(733),t.Nb(),t.rc(734," name"),t.Ob(735,"span",30),t.rc(736,":"),t.Nb(),t.rc(737," person"),t.Ob(738,"span",16),t.rc(739,"."),t.Nb(),t.rc(740,"name "),t.Ob(741,"span",16),t.rc(742),t.Nb(),t.Ob(743,"span",16),t.rc(744,")"),t.Nb(),t.Ob(745,"span",16),t.rc(746,";"),t.Nb(),t.rc(747,"\n    "),t.Ob(748,"span",15),t.rc(749,"return"),t.Nb(),t.rc(750," "),t.Ob(751,"span",16),t.rc(752),t.Nb(),t.rc(753," success"),t.Ob(754,"span",30),t.rc(755,":"),t.Nb(),t.rc(756," "),t.Ob(757,"span",46),t.rc(758,"true"),t.Nb(),t.rc(759," "),t.Ob(760,"span",16),t.rc(761),t.Nb(),t.Ob(762,"span",16),t.rc(763,";"),t.Nb(),t.rc(764,"\n  "),t.Ob(765,"span",16),t.rc(766),t.Nb(),t.rc(767,"\n\n  @"),t.Ob(768,"span",18),t.rc(769,"Get"),t.Nb(),t.Ob(770,"span",16),t.rc(771,"("),t.Nb(),t.Ob(772,"span",47),t.rc(773,"/\\/img(.*)[.](jpg|png|gif)/"),t.Nb(),t.Ob(774,"span",16),t.rc(775,")"),t.Nb(),t.rc(776,"\n  "),t.Ob(777,"span",15),t.rc(778,"async"),t.Nb(),t.rc(779," "),t.Ob(780,"span",3),t.rc(781,"getImage"),t.Nb(),t.Ob(782,"span",16),t.rc(783,"("),t.Nb(),t.rc(784,"@"),t.Ob(785,"span",18),t.rc(786,"Context"),t.Nb(),t.Ob(787,"span",16),t.rc(788,"("),t.Nb(),t.Ob(789,"span",16),t.rc(790,")"),t.Nb(),t.rc(791," req"),t.Ob(792,"span",30),t.rc(793,":"),t.Nb(),t.rc(794," Request"),t.Ob(795,"span",16),t.rc(796,","),t.Nb(),t.rc(797," @"),t.Ob(798,"span",18),t.rc(799,"Query"),t.Nb(),t.Ob(800,"span",16),t.rc(801,"("),t.Nb(),t.Ob(802,"span",17),t.rc(803,"'w'"),t.Nb(),t.Ob(804,"span",16),t.rc(805,")"),t.Nb(),t.rc(806," width"),t.Ob(807,"span",30),t.rc(808,"?"),t.Nb(),t.Ob(809,"span",30),t.rc(810,":"),t.Nb(),t.rc(811," "),t.Ob(812,"span",45),t.rc(813,"number"),t.Nb(),t.Ob(814,"span",16),t.rc(815,","),t.Nb(),t.rc(816," @"),t.Ob(817,"span",18),t.rc(818,"Query"),t.Nb(),t.Ob(819,"span",16),t.rc(820,"("),t.Nb(),t.Ob(821,"span",17),t.rc(822,"'h'"),t.Nb(),t.Ob(823,"span",16),t.rc(824,")"),t.Nb(),t.rc(825," height"),t.Ob(826,"span",30),t.rc(827,"?"),t.Nb(),t.Ob(828,"span",30),t.rc(829,":"),t.Nb(),t.rc(830," "),t.Ob(831,"span",45),t.rc(832,"number"),t.Nb(),t.Ob(833,"span",16),t.rc(834,")"),t.Nb(),t.rc(835," "),t.Ob(836,"span",16),t.rc(837),t.Nb(),t.rc(838,"\n    "),t.Ob(839,"span",15),t.rc(840,"const"),t.Nb(),t.rc(841," img "),t.Ob(842,"span",30),t.rc(843,"="),t.Nb(),t.rc(844," "),t.Ob(845,"span",15),t.rc(846,"await"),t.Nb(),t.rc(847," "),t.Ob(848,"span",15),t.rc(849,"this"),t.Nb(),t.Ob(850,"span",16),t.rc(851,"."),t.Nb(),t.rc(852,"service"),t.Ob(853,"span",16),t.rc(854,"."),t.Nb(),t.Ob(855,"span",3),t.rc(856,"fetchImage"),t.Nb(),t.Ob(857,"span",16),t.rc(858,"("),t.Nb(),t.rc(859,"req"),t.Ob(860,"span",16),t.rc(861,"."),t.Nb(),t.rc(862,"path"),t.Ob(863,"span",16),t.rc(864,","),t.Nb(),t.rc(865," "),t.Ob(866,"span",16),t.rc(867),t.Nb(),t.rc(868," width"),t.Ob(869,"span",16),t.rc(870,","),t.Nb(),t.rc(871," height "),t.Ob(872,"span",16),t.rc(873),t.Nb(),t.Ob(874,"span",16),t.rc(875,")"),t.Nb(),t.Ob(876,"span",16),t.rc(877,";"),t.Nb(),t.rc(878,"\n    "),t.Ob(879,"span",15),t.rc(880,"return"),t.Nb(),t.rc(881," img"),t.Ob(882,"span",16),t.rc(883,";"),t.Nb(),t.rc(884,"\n  "),t.Ob(885,"span",16),t.rc(886),t.Nb(),t.rc(887,"\n"),t.Ob(888,"span",16),t.rc(889),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(890,"h2",48),t.rc(891,"Input/Output"),t.Nb(),t.rc(892," The module provides standard structure for rendering content on the response. This includes:\n"),t.Ob(893,"ul"),t.Ob(894,"li"),t.rc(895,"JSON"),t.Nb(),t.Ob(896,"li"),t.rc(897,"String responses"),t.Nb(),t.Ob(898,"li"),t.rc(899,"Files"),t.Nb(),t.Nb(),t.rc(900," Per the "),t.Ob(901,"a",49),t.rc(902,"Base"),t.Nb(),t.rc(903," module, the following types automatically have rest support as well:\n"),t.Ob(904,"ul"),t.Ob(905,"li"),t.Ob(906,"code",9),t.rc(907,"Map"),t.Nb(),t.rc(908," - Serializes as a JSON object"),t.Nb(),t.Ob(909,"li"),t.Ob(910,"code",9),t.rc(911,"Set"),t.Nb(),t.rc(912," - Serializes as an array"),t.Nb(),t.Ob(913,"li"),t.Ob(914,"code",9),t.rc(915,"Error"),t.Nb(),t.rc(916," - Serializes to a standard object, with status, and the error message."),t.Nb(),t.Ob(917,"li"),t.Ob(918,"code",9),t.rc(919,"AppError"),t.Nb(),t.rc(920," - Serializes like "),t.Ob(921,"code",9),t.rc(922,"Error"),t.Nb(),t.rc(923," but translates the error category to an HTTP status"),t.Nb(),t.Nb(),t.rc(924," Additionally, the "),t.Ob(925,"a",50),t.rc(926,"Schema"),t.Nb(),t.rc(927," module supports typing requests and request bodies for run-time validation of requests. "),t.Ob(928,"h2",51),t.rc(929,"Interceptors"),t.Nb(),t.Ob(930,"a",52),t.rc(931,"RestInterceptor"),t.Nb(),t.rc(932,"s are a key part of the rest framework, to allow for conditional functions to be added, sometimes to every route, and other times to a select few. Express/Koa/Fastify are all built around the concept of middleware, and interceptors are a way of representing that. "),t.Ob(933,"figure",12),t.Ob(934,"figcaption",12),t.rc(935,"A Trivial Intereptor "),t.Ob(936,"cite"),t.Ob(937,"a",53),t.rc(938,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(939,"pre"),t.Ob(940,"code",14),t.Ob(941,"span",15),t.rc(942,"import"),t.Nb(),t.rc(943," "),t.Ob(944,"span",16),t.rc(945),t.Nb(),t.rc(946," Injectable "),t.Ob(947,"span",16),t.rc(948),t.Nb(),t.rc(949," "),t.Ob(950,"span",15),t.rc(951,"from"),t.Nb(),t.rc(952," "),t.Ob(953,"span",17),t.rc(954,"'@travetto/di'"),t.Nb(),t.Ob(955,"span",16),t.rc(956,";"),t.Nb(),t.rc(957,"\n"),t.Ob(958,"span",15),t.rc(959,"import"),t.Nb(),t.rc(960," "),t.Ob(961,"span",16),t.rc(962),t.Nb(),t.rc(963," RestInterceptor "),t.Ob(964,"span",16),t.rc(965),t.Nb(),t.rc(966," "),t.Ob(967,"span",15),t.rc(968,"from"),t.Nb(),t.rc(969," "),t.Ob(970,"span",17),t.rc(971,"'@travetto/rest/src/interceptor/interceptor'"),t.Nb(),t.Ob(972,"span",16),t.rc(973,";"),t.Nb(),t.rc(974,"\n"),t.Ob(975,"span",15),t.rc(976,"import"),t.Nb(),t.rc(977," "),t.Ob(978,"span",16),t.rc(979),t.Nb(),t.rc(980," Request"),t.Ob(981,"span",16),t.rc(982,","),t.Nb(),t.rc(983," Response "),t.Ob(984,"span",16),t.rc(985),t.Nb(),t.rc(986," "),t.Ob(987,"span",15),t.rc(988,"from"),t.Nb(),t.rc(989," "),t.Ob(990,"span",17),t.rc(991,"'@travetto/rest/src/types'"),t.Nb(),t.Ob(992,"span",16),t.rc(993,";"),t.Nb(),t.rc(994,"\n"),t.Ob(995,"span",15),t.rc(996,"import"),t.Nb(),t.rc(997," "),t.Ob(998,"span",16),t.rc(999),t.Nb(),t.rc(1e3," SerializeInterceptor "),t.Ob(1001,"span",16),t.rc(1002),t.Nb(),t.rc(1003," "),t.Ob(1004,"span",15),t.rc(1005,"from"),t.Nb(),t.rc(1006," "),t.Ob(1007,"span",17),t.rc(1008,"'@travetto/rest/src/interceptor/serialize'"),t.Nb(),t.Ob(1009,"span",16),t.rc(1010,";"),t.Nb(),t.rc(1011,"\n\n@"),t.Ob(1012,"span",18),t.rc(1013,"Injectable"),t.Nb(),t.Ob(1014,"span",16),t.rc(1015,"("),t.Nb(),t.Ob(1016,"span",16),t.rc(1017,")"),t.Nb(),t.rc(1018,"\n"),t.Ob(1019,"span",15),t.rc(1020,"export"),t.Nb(),t.rc(1021," "),t.Ob(1022,"span",15),t.rc(1023,"class"),t.Nb(),t.rc(1024," "),t.Ob(1025,"span",19),t.rc(1026,"HelloWorldInterceptor"),t.Nb(),t.rc(1027," "),t.Ob(1028,"span",15),t.rc(1029,"extends"),t.Nb(),t.rc(1030," "),t.Ob(1031,"span",19),t.rc(1032,"RestInterceptor"),t.Nb(),t.rc(1033," "),t.Ob(1034,"span",16),t.rc(1035),t.Nb(),t.rc(1036,"\n\n  after "),t.Ob(1037,"span",30),t.rc(1038,"="),t.Nb(),t.rc(1039," "),t.Ob(1040,"span",16),t.rc(1041,"["),t.Nb(),t.rc(1042,"SerializeInterceptor"),t.Ob(1043,"span",16),t.rc(1044,"]"),t.Nb(),t.Ob(1045,"span",16),t.rc(1046,";"),t.Nb(),t.rc(1047,"\n\n  "),t.Ob(1048,"span",3),t.rc(1049,"intercept"),t.Nb(),t.Ob(1050,"span",16),t.rc(1051,"("),t.Nb(),t.Ob(1052,"span",40),t.rc(1053,"req"),t.Ob(1054,"span",30),t.rc(1055,":"),t.Nb(),t.rc(1056," Request"),t.Ob(1057,"span",16),t.rc(1058,","),t.Nb(),t.rc(1059," res"),t.Ob(1060,"span",30),t.rc(1061,":"),t.Nb(),t.rc(1062," Response"),t.Nb(),t.Ob(1063,"span",16),t.rc(1064,")"),t.Nb(),t.rc(1065," "),t.Ob(1066,"span",16),t.rc(1067),t.Nb(),t.rc(1068,"\n    "),t.Ob(1069,"span",45),t.rc(1070,"console"),t.Nb(),t.Ob(1071,"span",16),t.rc(1072,"."),t.Nb(),t.Ob(1073,"span",3),t.rc(1074,"log"),t.Nb(),t.Ob(1075,"span",16),t.rc(1076,"("),t.Nb(),t.Ob(1077,"span",17),t.rc(1078,"'Hello world!'"),t.Nb(),t.Ob(1079,"span",16),t.rc(1080,")"),t.Nb(),t.Ob(1081,"span",16),t.rc(1082,";"),t.Nb(),t.rc(1083,"\n  "),t.Ob(1084,"span",16),t.rc(1085),t.Nb(),t.rc(1086,"\n"),t.Ob(1087,"span",16),t.rc(1088),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1089,"p",31),t.Ob(1090,"strong"),t.rc(1091,"Note"),t.Nb(),t.rc(1092," The example above defines the interceptor to run after another interceptor class. The framework will automatically sort the interceptors by the before/after reuirements to ensure the appropriate order of execution."),t.Nb(),t.rc(1093," Out of the box, the rest framework comes with a few interceptors, and more are contributed by other modules as needed. The default interceptor set is:\n"),t.Ob(1094,"ol"),t.Ob(1095,"li"),t.Ob(1096,"a",54),t.rc(1097,"SerializeInterceptor"),t.Nb(),t.rc(1098," - This is what actually sends the response to the requestor. Given the ability to prioritize interceptors, another interceptor can have higher priority and allow for complete customization of response handling."),t.Nb(),t.Ob(1099,"li"),t.Ob(1100,"a",55),t.rc(1101,"CorsInterceptor"),t.Nb(),t.rc(1102," - This interceptor allows cors functionality to be configured out of the box, by setting properties in your "),t.Ob(1103,"code",56),t.rc(1104,"application.yml"),t.Nb(),t.rc(1105,", specifically, "),t.Ob(1106,"code",9),t.rc(1107,"rest.cors.active: true"),t.Nb(),t.Ob(1108,"figure",12),t.Ob(1109,"figcaption",12),t.rc(1110,"Cors Config "),t.Ob(1111,"cite"),t.Ob(1112,"a",57),t.rc(1113,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1114,"pre"),t.Ob(1115,"code",14),t.Ob(1116,"span",15),t.rc(1117,"export"),t.Nb(),t.rc(1118," "),t.Ob(1119,"span",15),t.rc(1120,"class"),t.Nb(),t.rc(1121," "),t.Ob(1122,"span",19),t.rc(1123,"RestCorsConfig"),t.Nb(),t.rc(1124," "),t.Ob(1125,"span",16),t.rc(1126),t.Nb(),t.rc(1127,"\n  "),t.Ob(1128,"span",20),t.rc(1129,"/**\n   * Is cors active\n   */"),t.Nb(),t.rc(1130,"\n  active"),t.Ob(1131,"span",30),t.rc(1132,":"),t.Nb(),t.rc(1133," "),t.Ob(1134,"span",45),t.rc(1135,"boolean"),t.Nb();t.rc(1136," "),t.Ob(1137,"span",30),t.rc(1138,"="),t.Nb(),t.rc(1139," "),t.Ob(1140,"span",46),t.rc(1141,"false"),t.Nb(),t.Ob(1142,"span",16),t.rc(1143,";"),t.Nb(),t.rc(1144,"\n  "),t.Ob(1145,"span",20),t.rc(1146,"/**\n   * Allowed origins\n   */"),t.Nb(),t.rc(1147,"\n  origins"),t.Ob(1148,"span",30),t.rc(1149,"?"),t.Nb(),t.Ob(1150,"span",30),t.rc(1151,":"),t.Nb(),t.rc(1152," "),t.Ob(1153,"span",45),t.rc(1154,"string"),t.Nb(),t.Ob(1155,"span",16),t.rc(1156,"["),t.Nb(),t.Ob(1157,"span",16),t.rc(1158,"]"),t.Nb(),t.Ob(1159,"span",16),t.rc(1160,";"),t.Nb(),t.rc(1161,"\n  "),t.Ob(1162,"span",20),t.rc(1163,"/**\n   * Allowed http methods\n   */"),t.Nb(),t.rc(1164,"\n  methods"),t.Ob(1165,"span",30),t.rc(1166,"?"),t.Nb(),t.Ob(1167,"span",30),t.rc(1168,":"),t.Nb(),t.rc(1169," Request"),t.Ob(1170,"span",16),t.rc(1171,"["),t.Nb(),t.Ob(1172,"span",17),t.rc(1173,"'method'"),t.Nb(),t.Ob(1174,"span",16),t.rc(1175,"]"),t.Nb(),t.Ob(1176,"span",16),t.rc(1177,"["),t.Nb(),t.Ob(1178,"span",16),t.rc(1179,"]"),t.Nb(),t.Ob(1180,"span",16),t.rc(1181,";"),t.Nb(),t.rc(1182,"\n  "),t.Ob(1183,"span",20),t.rc(1184,"/**\n   * Allowed http headers\n   */"),t.Nb(),t.rc(1185,"\n  headers"),t.Ob(1186,"span",30),t.rc(1187,"?"),t.Nb(),t.Ob(1188,"span",30),t.rc(1189,":"),t.Nb(),t.rc(1190," "),t.Ob(1191,"span",45),t.rc(1192,"string"),t.Nb(),t.Ob(1193,"span",16),t.rc(1194,"["),t.Nb(),t.Ob(1195,"span",16),t.rc(1196,"]"),t.Nb(),t.Ob(1197,"span",16),t.rc(1198,";"),t.Nb(),t.rc(1199,"\n  "),t.Ob(1200,"span",20),t.rc(1201,"/**\n   * Support credentials?\n   */"),t.Nb(),t.rc(1202,"\n  credentials"),t.Ob(1203,"span",30),t.rc(1204,"?"),t.Nb(),t.Ob(1205,"span",30),t.rc(1206,":"),t.Nb(),t.rc(1207," "),t.Ob(1208,"span",45),t.rc(1209,"boolean"),t.Nb(),t.Ob(1210,"span",16),t.rc(1211,";"),t.Nb(),t.rc(1212,"\n"),t.Ob(1213,"span",16),t.rc(1214),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1215,"li"),t.Ob(1216,"a",58),t.rc(1217,"CookiesInterceptor"),t.Nb(),t.rc(1218," - This interceptor is responsible for processing inbound cookie headers and populating the appropriate data on the request, as well as sending the appropriate response data "),t.Ob(1219,"figure",12),t.Ob(1220,"figcaption",12),t.rc(1221,"Cookies Config "),t.Ob(1222,"cite"),t.Ob(1223,"a",59),t.rc(1224,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1225,"pre"),t.Ob(1226,"code",14),t.Ob(1227,"span",15),t.rc(1228,"export"),t.Nb(),t.rc(1229," "),t.Ob(1230,"span",15),t.rc(1231,"class"),t.Nb(),t.rc(1232," "),t.Ob(1233,"span",19),t.rc(1234,"RestCookieConfig"),t.Nb(),t.rc(1235," "),t.Ob(1236,"span",15),t.rc(1237,"implements"),t.Nb(),t.rc(1238," "),t.Ob(1239,"span",19),t.rc(1240,"cookies"),t.Ob(1241,"span",16),t.rc(1242,"."),t.Nb(),t.rc(1243,"SetOption"),t.Nb(),t.rc(1244," "),t.Ob(1245,"span",16),t.rc(1246),t.Nb(),t.rc(1247,"\n  "),t.Ob(1248,"span",20),t.rc(1249,"/**\n   * Are cookies supported\n   */"),t.Nb(),t.rc(1250,"\n  active "),t.Ob(1251,"span",30),t.rc(1252,"="),t.Nb(),t.rc(1253," "),t.Ob(1254,"span",46),t.rc(1255,"true"),t.Nb(),t.Ob(1256,"span",16),t.rc(1257,";"),t.Nb(),t.rc(1258,"\n  "),t.Ob(1259,"span",20),t.rc(1260,"/**\n   * Are they signed\n   */"),t.Nb(),t.rc(1261,"\n  signed "),t.Ob(1262,"span",30),t.rc(1263,"="),t.Nb(),t.rc(1264," "),t.Ob(1265,"span",46),t.rc(1266,"true"),t.Nb(),t.Ob(1267,"span",16),t.rc(1268,";"),t.Nb(),t.rc(1269,"\n  "),t.Ob(1270,"span",20),t.rc(1271,"/**\n   * Supported only via http (not in JS)\n   */"),t.Nb(),t.rc(1272,"\n  httpOnly "),t.Ob(1273,"span",30),t.rc(1274,"="),t.Nb(),t.rc(1275," "),t.Ob(1276,"span",46),t.rc(1277,"true"),t.Nb(),t.Ob(1278,"span",16),t.rc(1279,";"),t.Nb(),t.rc(1280,"\n  "),t.Ob(1281,"span",20),t.rc(1282,"/**\n   * Enforce same site policy\n   */"),t.Nb(),t.rc(1283,"\n  sameSite"),t.Ob(1284,"span",30),t.rc(1285,":"),t.Nb(),t.rc(1286," cookies"),t.Ob(1287,"span",16),t.rc(1288,"."),t.Nb(),t.rc(1289,"SetOption"),t.Ob(1290,"span",16),t.rc(1291,"["),t.Nb(),t.Ob(1292,"span",17),t.rc(1293,"'sameSite'"),t.Nb(),t.Ob(1294,"span",16),t.rc(1295,"]"),t.Nb(),t.rc(1296," "),t.Ob(1297,"span",30),t.rc(1298,"|"),t.Nb(),t.rc(1299," "),t.Ob(1300,"span",17),t.rc(1301,"'lax'"),t.Nb(),t.rc(1302," "),t.Ob(1303,"span",30),t.rc(1304,"="),t.Nb(),t.rc(1305," "),t.Ob(1306,"span",17),t.rc(1307,"'lax'"),t.Nb(),t.Ob(1308,"span",16),t.rc(1309,";"),t.Nb(),t.rc(1310,"\n  "),t.Ob(1311,"span",20),t.rc(1312,"/**\n   * The signing keys\n   */"),t.Nb(),t.rc(1313,"\n  keys "),t.Ob(1314,"span",30),t.rc(1315,"="),t.Nb(),t.rc(1316," "),t.Ob(1317,"span",16),t.rc(1318,"["),t.Nb(),t.Ob(1319,"span",17),t.rc(1320,"'default-insecure'"),t.Nb(),t.Ob(1321,"span",16),t.rc(1322,"]"),t.Nb(),t.Ob(1323,"span",16),t.rc(1324,";"),t.Nb(),t.rc(1325,"\n  "),t.Ob(1326,"span",20),t.rc(1327,"/**\n   * Is the cookie only valid for https\n   */"),t.Nb(),t.rc(1328,"\n  secure"),t.Ob(1329,"span",30),t.rc(1330,"?"),t.Nb(),t.Ob(1331,"span",30),t.rc(1332,":"),t.Nb(),t.rc(1333," "),t.Ob(1334,"span",45),t.rc(1335,"boolean"),t.Nb(),t.Ob(1336,"span",16),t.rc(1337,";"),t.Nb(),t.rc(1338,"\n  "),t.Ob(1339,"span",20),t.rc(1340,"/**\n   * The domain of the cookie\n   */"),t.Nb(),t.rc(1341,"\n  domain"),t.Ob(1342,"span",30),t.rc(1343,"?"),t.Nb(),t.Ob(1344,"span",30),t.rc(1345,":"),t.Nb(),t.rc(1346," "),t.Ob(1347,"span",45),t.rc(1348,"string"),t.Nb(),t.Ob(1349,"span",16),t.rc(1350,";"),t.Nb(),t.rc(1351,"\n"),t.Ob(1352,"span",16),t.rc(1353),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1354,"li"),t.Ob(1355,"a",60),t.rc(1356,"GetCacheInterceptor"),t.Nb(),t.rc(1357," - This interceptor, by default, disables caching for all GET requests if the response does not include caching headers. This can be disabled by setting "),t.Ob(1358,"code",9),t.rc(1359,"res.disableGetCache: true"),t.Nb(),t.rc(1360," in your config."),t.Nb(),t.Ob(1361,"li"),t.Ob(1362,"a",61),t.rc(1363,"LoggingInterceptor"),t.Nb(),t.rc(1364," - This interceptor allows for logging of all requests, and their response codes. You can deny/allow specific routes, by setting config like so "),t.Ob(1365,"figure",12),t.Ob(1366,"figcaption",12),t.rc(1367,"Control Logging "),t.Ob(1368,"cite"),t.Ob(1369,"a",62),t.rc(1370,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1371,"pre"),t.Ob(1372,"code",63),t.rc(1373,"rest.logRoutes."),t.Ob(1374,"span",16),t.rc(1375),t.Nb(),t.rc(1376,"deny"),t.Ob(1377,"span",16),t.rc(1378,"|"),t.Nb(),t.rc(1379,"allow"),t.Ob(1380,"span",16),t.rc(1381),t.Nb(),t.Ob(1382,"span",16),t.rc(1383,":"),t.Nb(),t.rc(1384,"\n"),t.Ob(1385,"span",16),t.rc(1386,"-"),t.Nb(),t.rc(1387," "),t.Ob(1388,"span",17),t.rc(1389,"'/controller1'"),t.Nb(),t.rc(1390,"\n"),t.Ob(1391,"span",16),t.rc(1392,"-"),t.Nb(),t.rc(1393," "),t.Ob(1394,"span",17),t.rc(1395,"'/controller1:*'"),t.Nb(),t.rc(1396,"\n"),t.Ob(1397,"span",16),t.rc(1398,"-"),t.Nb(),t.rc(1399," "),t.Ob(1400,"span",17),t.rc(1401,"'/controller2:/path'"),t.Nb(),t.rc(1402,"\n"),t.Ob(1403,"span",16),t.rc(1404,"-"),t.Nb(),t.rc(1405," '/controller3"),t.Ob(1406,"span",16),t.rc(1407,":"),t.Nb(),t.rc(1408,"/path/"),t.Ob(1409,"span",64),t.rc(1410,"*`"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1411,"h2",65),t.rc(1412,"Creating and Running an App"),t.Nb(),t.rc(1413," By default, the framework provices a default "),t.Ob(1414,"a",66),t.rc(1415,"@Application"),t.Nb(),t.rc(1416," at "),t.Ob(1417,"a",67),t.rc(1418,"DefaultRestApplication"),t.Nb(),t.rc(1419," that will follow default behaviors, and spin up the REST server. To customize a REST server, you may need to construct an entry point using the "),t.Ob(1420,"a",66),t.rc(1421,"@Application"),t.Nb(),t.rc(1422," decorator. This could look like: "),t.Ob(1423,"figure",12),t.Ob(1424,"figcaption",12),t.rc(1425,"Application entry point for Rest Applications "),t.Ob(1426,"cite"),t.Ob(1427,"a",68),t.rc(1428,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1429,"pre"),t.Ob(1430,"code",14),t.Ob(1431,"span",15),t.rc(1432,"import"),t.Nb(),t.rc(1433," "),t.Ob(1434,"span",16),t.rc(1435),t.Nb(),t.rc(1436," Application "),t.Ob(1437,"span",16),t.rc(1438),t.Nb(),t.rc(1439," "),t.Ob(1440,"span",15),t.rc(1441,"from"),t.Nb(),t.rc(1442," "),t.Ob(1443,"span",17),t.rc(1444,"'@travetto/app'"),t.Nb(),t.Ob(1445,"span",16),t.rc(1446,";"),t.Nb(),t.rc(1447,"\n\n"),t.Ob(1448,"span",15),t.rc(1449,"import"),t.Nb(),t.rc(1450," "),t.Ob(1451,"span",16),t.rc(1452),t.Nb(),t.rc(1453," RestServer "),t.Ob(1454,"span",16),t.rc(1455),t.Nb(),t.rc(1456," "),t.Ob(1457,"span",15),t.rc(1458,"from"),t.Nb(),t.rc(1459," "),t.Ob(1460,"span",17),t.rc(1461,"'@travetto/rest/src/server/server'"),t.Nb(),t.Ob(1462,"span",16),t.rc(1463,";"),t.Nb(),t.rc(1464,"\n\n@"),t.Ob(1465,"span",18),t.rc(1466,"Application"),t.Nb(),t.Ob(1467,"span",16),t.rc(1468,"("),t.Nb(),t.Ob(1469,"span",17),t.rc(1470,"'custom'"),t.Nb(),t.Ob(1471,"span",16),t.rc(1472,")"),t.Nb(),t.rc(1473,"\n"),t.Ob(1474,"span",15),t.rc(1475,"export"),t.Nb(),t.rc(1476," "),t.Ob(1477,"span",15),t.rc(1478,"class"),t.Nb(),t.rc(1479," "),t.Ob(1480,"span",19),t.rc(1481,"SampleApp"),t.Nb(),t.rc(1482," "),t.Ob(1483,"span",16),t.rc(1484),t.Nb(),t.rc(1485,"\n\n  "),t.Ob(1486,"span",15),t.rc(1487,"constructor"),t.Nb(),t.Ob(1488,"span",16),t.rc(1489,"("),t.Nb(),t.Ob(1490,"span",40),t.Ob(1491,"span",15),t.rc(1492,"private"),t.Nb(),t.rc(1493," server"),t.Ob(1494,"span",30),t.rc(1495,":"),t.Nb(),t.rc(1496," RestServer"),t.Nb(),t.Ob(1497,"span",16),t.rc(1498,")"),t.Nb(),t.rc(1499," "),t.Ob(1500,"span",16),t.rc(1501),t.Nb(),t.rc(1502," "),t.Ob(1503,"span",16),t.rc(1504),t.Nb(),t.rc(1505,"\n\n  "),t.Ob(1506,"span",3),t.rc(1507,"run"),t.Nb(),t.Ob(1508,"span",16),t.rc(1509,"("),t.Nb(),t.Ob(1510,"span",16),t.rc(1511,")"),t.Nb(),t.rc(1512," "),t.Ob(1513,"span",16),t.rc(1514),t.Nb(),t.rc(1515,"\n    "),t.Ob(1516,"span",20),t.rc(1517,"// Configure server before running"),t.Nb(),t.rc(1518,"\n\n    "),t.Ob(1519,"span",15),t.rc(1520,"return"),t.Nb(),t.rc(1521," "),t.Ob(1522,"span",15),t.rc(1523,"this"),t.Nb(),t.Ob(1524,"span",16),t.rc(1525,"."),t.Nb(),t.rc(1526,"server"),t.Ob(1527,"span",16),t.rc(1528,"."),t.Nb(),t.Ob(1529,"span",3),t.rc(1530,"run"),t.Nb(),t.Ob(1531,"span",16),t.rc(1532,"("),t.Nb(),t.Ob(1533,"span",16),t.rc(1534,")"),t.Nb(),t.Ob(1535,"span",16),t.rc(1536,";"),t.Nb(),t.rc(1537,"\n  "),t.Ob(1538,"span",16),t.rc(1539),t.Nb(),t.rc(1540,"\n"),t.Ob(1541,"span",16),t.rc(1542),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1543," And using the pattern established in the "),t.Ob(1544,"a",69),t.rc(1545,"Application"),t.Nb(),t.rc(1546," module, you would run your program using "),t.Mb(1547,"code",70),t.rc(1548,". "),t.Ob(1549,"h2",71),t.rc(1550,"Custom Interceptors"),t.Nb(),t.rc(1551,"\nAdditionally it is sometimes necessary to register custom interceptors. Interceptors can be registered with the "),t.Ob(1552,"a",10),t.rc(1553,"Dependency Injection"),t.Nb(),t.rc(1554," by extending the "),t.Ob(1555,"a",52),t.rc(1556,"RestInterceptor"),t.Nb(),t.rc(1557," class. The interceptors are tied to the defined "),t.Ob(1558,"a",5),t.rc(1559,"Request"),t.Nb(),t.rc(1560," and "),t.Ob(1561,"a",6),t.rc(1562,"Response"),t.Nb(),t.rc(1563," objects of the framework, and not the underlying app framework. This allows for Interceptors to be used across multiple frameworks as needed. A simple logging interceptor: "),t.Ob(1564,"figure",12),t.Ob(1565,"figcaption",12),t.rc(1566,"Defining a new Interceptor "),t.Ob(1567,"cite"),t.Ob(1568,"a",72),t.rc(1569,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1570,"pre"),t.Ob(1571,"code",14),t.Ob(1572,"span",15),t.rc(1573,"import"),t.Nb(),t.rc(1574," "),t.Ob(1575,"span",16),t.rc(1576),t.Nb(),t.rc(1577," Injectable "),t.Ob(1578,"span",16),t.rc(1579),t.Nb(),t.rc(1580," "),t.Ob(1581,"span",15),t.rc(1582,"from"),t.Nb(),t.rc(1583," "),t.Ob(1584,"span",17),t.rc(1585,"'@travetto/di'"),t.Nb(),t.Ob(1586,"span",16),t.rc(1587,";"),t.Nb(),t.rc(1588,"\n"),t.Ob(1589,"span",15),t.rc(1590,"import"),t.Nb(),t.rc(1591," "),t.Ob(1592,"span",16),t.rc(1593),t.Nb(),t.rc(1594," Request"),t.Ob(1595,"span",16),t.rc(1596,","),t.Nb(),t.rc(1597," Response "),t.Ob(1598,"span",16),t.rc(1599),t.Nb(),t.rc(1600," "),t.Ob(1601,"span",15),t.rc(1602,"from"),t.Nb(),t.rc(1603," "),t.Ob(1604,"span",17),t.rc(1605,"'@travetto/rest/src/types'"),t.Nb(),t.Ob(1606,"span",16),t.rc(1607,";"),t.Nb(),t.rc(1608,"\n"),t.Ob(1609,"span",15),t.rc(1610,"import"),t.Nb(),t.rc(1611," "),t.Ob(1612,"span",16),t.rc(1613),t.Nb(),t.rc(1614," RestInterceptor "),t.Ob(1615,"span",16),t.rc(1616),t.Nb(),t.rc(1617," "),t.Ob(1618,"span",15),t.rc(1619,"from"),t.Nb(),t.rc(1620," "),t.Ob(1621,"span",17),t.rc(1622,"'@travetto/rest/src/interceptor/interceptor'"),t.Nb(),t.Ob(1623,"span",16),t.rc(1624,";"),t.Nb(),t.rc(1625,"\n\n"),t.Ob(1626,"span",15),t.rc(1627,"class"),t.Nb(),t.rc(1628," "),t.Ob(1629,"span",19),t.rc(1630,"Appender"),t.Nb(),t.rc(1631," "),t.Ob(1632,"span",16),t.rc(1633),t.Nb(),t.rc(1634,"\n  "),t.Ob(1635,"span",3),t.rc(1636,"write"),t.Nb(),t.Ob(1637,"span",16),t.rc(1638,"("),t.Nb(),t.Ob(1639,"span",30),t.rc(1640,"..."),t.Nb(),t.rc(1641,"args"),t.Ob(1642,"span",30),t.rc(1643,":"),t.Nb(),t.rc(1644," "),t.Ob(1645,"span",45),t.rc(1646,"any"),t.Nb(),t.Ob(1647,"span",16),t.rc(1648,"["),t.Nb(),t.Ob(1649,"span",16),t.rc(1650,"]"),t.Nb(),t.Ob(1651,"span",16),t.rc(1652,")"),t.Nb(),t.Ob(1653,"span",30),t.rc(1654,":"),t.Nb(),t.rc(1655," "),t.Ob(1656,"span",15),t.rc(1657,"void"),t.Nb(),t.rc(1658," "),t.Ob(1659,"span",16),t.rc(1660),t.Nb(),t.rc(1661," "),t.Ob(1662,"span",16),t.rc(1663),t.Nb(),t.rc(1664,"\n"),t.Ob(1665,"span",16),t.rc(1666),t.Nb(),t.rc(1667,"\n\n@"),t.Ob(1668,"span",18),t.rc(1669,"Injectable"),t.Nb(),t.Ob(1670,"span",16),t.rc(1671,"("),t.Nb(),t.Ob(1672,"span",16),t.rc(1673,")"),t.Nb(),t.rc(1674,"\n"),t.Ob(1675,"span",15),t.rc(1676,"export"),t.Nb(),t.rc(1677," "),t.Ob(1678,"span",15),t.rc(1679,"class"),t.Nb(),t.rc(1680," "),t.Ob(1681,"span",19),t.rc(1682,"LoggingInterceptor"),t.Nb(),t.rc(1683," "),t.Ob(1684,"span",15),t.rc(1685,"extends"),t.Nb(),t.rc(1686," "),t.Ob(1687,"span",19),t.rc(1688,"RestInterceptor"),t.Nb(),t.rc(1689," "),t.Ob(1690,"span",16),t.rc(1691),t.Nb(),t.rc(1692,"\n\n  "),t.Ob(1693,"span",15),t.rc(1694,"constructor"),t.Nb(),t.Ob(1695,"span",16),t.rc(1696,"("),t.Nb(),t.Ob(1697,"span",40),t.Ob(1698,"span",15),t.rc(1699,"private"),t.Nb(),t.rc(1700," appender"),t.Ob(1701,"span",30),t.rc(1702,":"),t.Nb(),t.rc(1703," Appender"),t.Nb(),t.Ob(1704,"span",16),t.rc(1705,")"),t.Nb(),t.rc(1706," "),t.Ob(1707,"span",16);t.rc(1708),t.Nb(),t.rc(1709,"\n    "),t.Ob(1710,"span",15),t.rc(1711,"super"),t.Nb(),t.Ob(1712,"span",16),t.rc(1713,"("),t.Nb(),t.Ob(1714,"span",16),t.rc(1715,")"),t.Nb(),t.Ob(1716,"span",16),t.rc(1717,";"),t.Nb(),t.rc(1718,"\n  "),t.Ob(1719,"span",16),t.rc(1720),t.Nb(),t.rc(1721,"\n\n  "),t.Ob(1722,"span",15),t.rc(1723,"async"),t.Nb(),t.rc(1724," "),t.Ob(1725,"span",3),t.rc(1726,"intercept"),t.Nb(),t.Ob(1727,"span",16),t.rc(1728,"("),t.Nb(),t.Ob(1729,"span",40),t.rc(1730,"req"),t.Ob(1731,"span",30),t.rc(1732,":"),t.Nb(),t.rc(1733," Request"),t.Ob(1734,"span",16),t.rc(1735,","),t.Nb(),t.rc(1736," res"),t.Ob(1737,"span",30),t.rc(1738,":"),t.Nb(),t.rc(1739," Response"),t.Nb(),t.Ob(1740,"span",16),t.rc(1741,")"),t.Nb(),t.rc(1742," "),t.Ob(1743,"span",16),t.rc(1744),t.Nb(),t.rc(1745,"\n    "),t.Ob(1746,"span",20),t.rc(1747,"// Write request to database"),t.Nb(),t.rc(1748,"\n    "),t.Ob(1749,"span",15),t.rc(1750,"this"),t.Nb(),t.Ob(1751,"span",16),t.rc(1752,"."),t.Nb(),t.rc(1753,"appender"),t.Ob(1754,"span",16),t.rc(1755,"."),t.Nb(),t.Ob(1756,"span",3),t.rc(1757,"write"),t.Nb(),t.Ob(1758,"span",16),t.rc(1759,"("),t.Nb(),t.rc(1760,"req"),t.Ob(1761,"span",16),t.rc(1762,"."),t.Nb(),t.rc(1763,"method"),t.Ob(1764,"span",16),t.rc(1765,","),t.Nb(),t.rc(1766," req"),t.Ob(1767,"span",16),t.rc(1768,"."),t.Nb(),t.rc(1769,"path"),t.Ob(1770,"span",16),t.rc(1771,","),t.Nb(),t.rc(1772," req"),t.Ob(1773,"span",16),t.rc(1774,"."),t.Nb(),t.rc(1775,"query"),t.Ob(1776,"span",16),t.rc(1777,")"),t.Nb(),t.Ob(1778,"span",16),t.rc(1779,";"),t.Nb(),t.rc(1780,"\n  "),t.Ob(1781,"span",16),t.rc(1782),t.Nb(),t.rc(1783,"\n"),t.Ob(1784,"span",16),t.rc(1785),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1786," A "),t.Ob(1787,"code",9),t.rc(1788,"next"),t.Nb(),t.rc(1789," parameter is also available to allow for controlling the flow of the request, either by stopping the flow of interceptors, or being able to determine when a request starts, and when it is ending. "),t.Ob(1790,"figure",12),t.Ob(1791,"figcaption",12),t.rc(1792,"Defining a fully controlled Interceptor "),t.Ob(1793,"cite"),t.Ob(1794,"a",73),t.rc(1795,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1796,"pre"),t.Ob(1797,"code",14),t.Ob(1798,"span",15),t.rc(1799,"import"),t.Nb(),t.rc(1800," "),t.Ob(1801,"span",16),t.rc(1802),t.Nb(),t.rc(1803," Injectable "),t.Ob(1804,"span",16),t.rc(1805),t.Nb(),t.rc(1806," "),t.Ob(1807,"span",15),t.rc(1808,"from"),t.Nb(),t.rc(1809," "),t.Ob(1810,"span",17),t.rc(1811,"'@travetto/di'"),t.Nb(),t.Ob(1812,"span",16),t.rc(1813,";"),t.Nb(),t.rc(1814,"\n"),t.Ob(1815,"span",15),t.rc(1816,"import"),t.Nb(),t.rc(1817," "),t.Ob(1818,"span",16),t.rc(1819),t.Nb(),t.rc(1820," RestInterceptor "),t.Ob(1821,"span",16),t.rc(1822),t.Nb(),t.rc(1823," "),t.Ob(1824,"span",15),t.rc(1825,"from"),t.Nb(),t.rc(1826," "),t.Ob(1827,"span",17),t.rc(1828,"'@travetto/rest/src/interceptor/interceptor'"),t.Nb(),t.Ob(1829,"span",16),t.rc(1830,";"),t.Nb(),t.rc(1831,"\n"),t.Ob(1832,"span",15),t.rc(1833,"import"),t.Nb(),t.rc(1834," "),t.Ob(1835,"span",16),t.rc(1836),t.Nb(),t.rc(1837," Response"),t.Ob(1838,"span",16),t.rc(1839,","),t.Nb(),t.rc(1840," Request "),t.Ob(1841,"span",16),t.rc(1842),t.Nb(),t.rc(1843," "),t.Ob(1844,"span",15),t.rc(1845,"from"),t.Nb(),t.rc(1846," "),t.Ob(1847,"span",17),t.rc(1848,"'@travetto/rest/src/types'"),t.Nb(),t.Ob(1849,"span",16),t.rc(1850,";"),t.Nb(),t.rc(1851,"\n\n@"),t.Ob(1852,"span",18),t.rc(1853,"Injectable"),t.Nb(),t.Ob(1854,"span",16),t.rc(1855,"("),t.Nb(),t.Ob(1856,"span",16),t.rc(1857,")"),t.Nb(),t.rc(1858,"\n"),t.Ob(1859,"span",15),t.rc(1860,"export"),t.Nb(),t.rc(1861," "),t.Ob(1862,"span",15),t.rc(1863,"class"),t.Nb(),t.rc(1864," "),t.Ob(1865,"span",19),t.rc(1866,"LoggingInterceptor"),t.Nb(),t.rc(1867," "),t.Ob(1868,"span",15),t.rc(1869,"extends"),t.Nb(),t.rc(1870," "),t.Ob(1871,"span",19),t.rc(1872,"RestInterceptor"),t.Nb(),t.rc(1873," "),t.Ob(1874,"span",16),t.rc(1875),t.Nb(),t.rc(1876,"\n  "),t.Ob(1877,"span",15),t.rc(1878,"async"),t.Nb(),t.rc(1879," "),t.Ob(1880,"span",3),t.rc(1881,"intercept"),t.Nb(),t.Ob(1882,"span",16),t.rc(1883,"("),t.Nb(),t.rc(1884,"req"),t.Ob(1885,"span",30),t.rc(1886,":"),t.Nb(),t.rc(1887," Request"),t.Ob(1888,"span",16),t.rc(1889,","),t.Nb(),t.rc(1890," res"),t.Ob(1891,"span",30),t.rc(1892,":"),t.Nb(),t.rc(1893," Response"),t.Ob(1894,"span",16),t.rc(1895,","),t.Nb(),t.rc(1896," "),t.Ob(1897,"span",74),t.rc(1898,"next"),t.Nb(),t.Ob(1899,"span",30),t.rc(1900,":"),t.Nb(),t.rc(1901," "),t.Ob(1902,"span",16),t.rc(1903,"("),t.Nb(),t.Ob(1904,"span",16),t.rc(1905,")"),t.Nb(),t.rc(1906," "),t.Ob(1907,"span",30),t.rc(1908,"=>"),t.Nb(),t.rc(1909," "),t.Ob(1910,"span",45),t.rc(1911,"Promise"),t.Nb(),t.Ob(1912,"span",30),t.rc(1913,"<"),t.Nb(),t.Ob(1914,"span",45),t.rc(1915,"any"),t.Nb(),t.Ob(1916,"span",30),t.rc(1917,">"),t.Nb(),t.Ob(1918,"span",16),t.rc(1919,")"),t.Nb(),t.rc(1920," "),t.Ob(1921,"span",16),t.rc(1922),t.Nb(),t.rc(1923,"\n    "),t.Ob(1924,"span",15),t.rc(1925,"const"),t.Nb(),t.rc(1926," start "),t.Ob(1927,"span",30),t.rc(1928,"="),t.Nb(),t.rc(1929," Date"),t.Ob(1930,"span",16),t.rc(1931,"."),t.Nb(),t.Ob(1932,"span",3),t.rc(1933,"now"),t.Nb(),t.Ob(1934,"span",16),t.rc(1935,"("),t.Nb(),t.Ob(1936,"span",16),t.rc(1937,")"),t.Nb(),t.Ob(1938,"span",16),t.rc(1939,";"),t.Nb(),t.rc(1940,"\n    "),t.Ob(1941,"span",15),t.rc(1942,"try"),t.Nb(),t.rc(1943," "),t.Ob(1944,"span",16),t.rc(1945),t.Nb(),t.rc(1946,"\n      "),t.Ob(1947,"span",15),t.rc(1948,"await"),t.Nb(),t.rc(1949," "),t.Ob(1950,"span",3),t.rc(1951,"next"),t.Nb(),t.Ob(1952,"span",16),t.rc(1953,"("),t.Nb(),t.Ob(1954,"span",16),t.rc(1955,")"),t.Nb(),t.Ob(1956,"span",16),t.rc(1957,";"),t.Nb(),t.rc(1958,"\n    "),t.Ob(1959,"span",16),t.rc(1960),t.Nb(),t.rc(1961," "),t.Ob(1962,"span",15),t.rc(1963,"finally"),t.Nb(),t.rc(1964," "),t.Ob(1965,"span",16),t.rc(1966),t.Nb(),t.rc(1967,"\n      "),t.Ob(1968,"span",45),t.rc(1969,"console"),t.Nb(),t.Ob(1970,"span",16),t.rc(1971,"."),t.Nb(),t.Ob(1972,"span",3),t.rc(1973,"log"),t.Nb(),t.Ob(1974,"span",16),t.rc(1975,"("),t.Nb(),t.Ob(1976,"span",41),t.Ob(1977,"span",42),t.rc(1978,"`"),t.Nb(),t.Ob(1979,"span",17),t.rc(1980,"Request took "),t.Nb(),t.Ob(1981,"span",43),t.Ob(1982,"span",44),t.rc(1983),t.Nb(),t.rc(1984,"Date"),t.Ob(1985,"span",16),t.rc(1986,"."),t.Nb(),t.Ob(1987,"span",3),t.rc(1988,"now"),t.Nb(),t.Ob(1989,"span",16),t.rc(1990,"("),t.Nb(),t.Ob(1991,"span",16),t.rc(1992,")"),t.Nb(),t.rc(1993," "),t.Ob(1994,"span",30),t.rc(1995,"-"),t.Nb(),t.rc(1996," start"),t.Ob(1997,"span",44),t.rc(1998),t.Nb(),t.Nb(),t.Ob(1999,"span",17),t.rc(2e3,"ms"),t.Nb(),t.Ob(2001,"span",42),t.rc(2002,"`"),t.Nb(),t.Nb(),t.Ob(2003,"span",16),t.rc(2004,")"),t.Nb(),t.Ob(2005,"span",16),t.rc(2006,";"),t.Nb(),t.rc(2007,"\n    "),t.Ob(2008,"span",16),t.rc(2009),t.Nb(),t.rc(2010,"\n  "),t.Ob(2011,"span",16),t.rc(2012),t.Nb(),t.rc(2013,"\n"),t.Ob(2014,"span",16),t.rc(2015),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(2016," Currently "),t.Ob(2017,"a",75),t.rc(2018,"Asset Rest Support"),t.Nb(),t.rc(2019," is implemented in this fashion, as well as "),t.Ob(2020,"a",76),t.rc(2021,"Rest Auth"),t.Nb(),t.rc(2022,". "),t.Ob(2023,"h2",77),t.rc(2024,"Cookie Support"),t.Nb(),t.rc(2025,"\nExpress/Koa/Fastify all have their own cookie implementations that are common for each framework but are somewhat incompatible. To that end, cookies are supported for every platform, by using "),t.Ob(2026,"a",78),t.rc(2027,"cookies"),t.Nb(),t.rc(2028,". This functionality is exposed onto the "),t.Ob(2029,"a",5),t.rc(2030,"Request"),t.Nb(),t.rc(2031,"/"),t.Ob(2032,"a",6),t.rc(2033,"Response"),t.Nb(),t.rc(2034," object following the pattern set forth by Koa (this is the library Koa uses). This choice also enables better security support as we are able to rely upon standard behavior when it comes to cookies, and signing. "),t.Ob(2035,"figure",12),t.Ob(2036,"figcaption",12),t.rc(2037,"Sample Cookie Usage "),t.Ob(2038,"cite"),t.Ob(2039,"a",79),t.rc(2040,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(2041,"pre"),t.Ob(2042,"code",14),t.Ob(2043,"span",15),t.rc(2044,"import"),t.Nb(),t.rc(2045," "),t.Ob(2046,"span",16),t.rc(2047),t.Nb(),t.rc(2048," GetOption"),t.Ob(2049,"span",16),t.rc(2050,","),t.Nb(),t.rc(2051," SetOption "),t.Ob(2052,"span",16),t.rc(2053),t.Nb(),t.rc(2054," "),t.Ob(2055,"span",15),t.rc(2056,"from"),t.Nb(),t.rc(2057," "),t.Ob(2058,"span",17),t.rc(2059,"'cookies'"),t.Nb(),t.Ob(2060,"span",16),t.rc(2061,";"),t.Nb(),t.rc(2062,"\n\n"),t.Ob(2063,"span",15),t.rc(2064,"import"),t.Nb(),t.rc(2065," "),t.Ob(2066,"span",16),t.rc(2067),t.Nb(),t.rc(2068," Controller "),t.Ob(2069,"span",16),t.rc(2070),t.Nb(),t.rc(2071," "),t.Ob(2072,"span",15),t.rc(2073,"from"),t.Nb(),t.rc(2074," "),t.Ob(2075,"span",17),t.rc(2076,"'@travetto/rest/src/decorator/controller'"),t.Nb(),t.Ob(2077,"span",16),t.rc(2078,";"),t.Nb(),t.rc(2079,"\n"),t.Ob(2080,"span",15),t.rc(2081,"import"),t.Nb(),t.rc(2082," "),t.Ob(2083,"span",16),t.rc(2084),t.Nb(),t.rc(2085," Get "),t.Ob(2086,"span",16),t.rc(2087),t.Nb(),t.rc(2088," "),t.Ob(2089,"span",15),t.rc(2090,"from"),t.Nb(),t.rc(2091," "),t.Ob(2092,"span",17),t.rc(2093,"'@travetto/rest/src/decorator/endpoint'"),t.Nb(),t.Ob(2094,"span",16),t.rc(2095,";"),t.Nb(),t.rc(2096,"\n"),t.Ob(2097,"span",15),t.rc(2098,"import"),t.Nb(),t.rc(2099," "),t.Ob(2100,"span",16),t.rc(2101),t.Nb(),t.rc(2102," Request"),t.Ob(2103,"span",16),t.rc(2104,","),t.Nb(),t.rc(2105," Response "),t.Ob(2106,"span",16),t.rc(2107),t.Nb(),t.rc(2108," "),t.Ob(2109,"span",15),t.rc(2110,"from"),t.Nb(),t.rc(2111," "),t.Ob(2112,"span",17),t.rc(2113,"'@travetto/rest/src/types'"),t.Nb(),t.Ob(2114,"span",16),t.rc(2115,";"),t.Nb(),t.rc(2116,"\n"),t.Ob(2117,"span",15),t.rc(2118,"import"),t.Nb(),t.rc(2119," "),t.Ob(2120,"span",16),t.rc(2121),t.Nb(),t.rc(2122," Query "),t.Ob(2123,"span",16),t.rc(2124),t.Nb(),t.rc(2125," "),t.Ob(2126,"span",15),t.rc(2127,"from"),t.Nb(),t.rc(2128," "),t.Ob(2129,"span",17),t.rc(2130,"'@travetto/rest/src/decorator/param'"),t.Nb(),t.Ob(2131,"span",16),t.rc(2132,";"),t.Nb(),t.rc(2133,"\n\n@"),t.Ob(2134,"span",18),t.rc(2135,"Controller"),t.Nb(),t.Ob(2136,"span",16),t.rc(2137,"("),t.Nb(),t.Ob(2138,"span",17),t.rc(2139,"'/simple'"),t.Nb(),t.Ob(2140,"span",16),t.rc(2141,")"),t.Nb(),t.rc(2142,"\n"),t.Ob(2143,"span",15),t.rc(2144,"export"),t.Nb(),t.rc(2145," "),t.Ob(2146,"span",15),t.rc(2147,"class"),t.Nb(),t.rc(2148," "),t.Ob(2149,"span",19),t.rc(2150,"SimpleRoutes"),t.Nb(),t.rc(2151," "),t.Ob(2152,"span",16),t.rc(2153),t.Nb(),t.rc(2154,"\n\n  "),t.Ob(2155,"span",15),t.rc(2156,"private"),t.Nb(),t.rc(2157," getOptions"),t.Ob(2158,"span",30),t.rc(2159,":"),t.Nb(),t.rc(2160," GetOption"),t.Ob(2161,"span",16),t.rc(2162,";"),t.Nb(),t.rc(2163,"\n  "),t.Ob(2164,"span",15),t.rc(2165,"private"),t.Nb(),t.rc(2166," setOptions"),t.Ob(2167,"span",30),t.rc(2168,":"),t.Nb(),t.rc(2169," SetOption"),t.Ob(2170,"span",16),t.rc(2171,";"),t.Nb(),t.rc(2172,"\n\n  @"),t.Ob(2173,"span",18),t.rc(2174,"Get"),t.Nb(),t.Ob(2175,"span",16),t.rc(2176,"("),t.Nb(),t.Ob(2177,"span",17),t.rc(2178,"'/cookies'"),t.Nb(),t.Ob(2179,"span",16),t.rc(2180,")"),t.Nb(),t.rc(2181,"\n  "),t.Ob(2182,"span",3),t.rc(2183,"cookies"),t.Nb(),t.Ob(2184,"span",16),t.rc(2185,"("),t.Nb(),t.Ob(2186,"span",40),t.rc(2187,"req"),t.Ob(2188,"span",30),t.rc(2189,":"),t.Nb(),t.rc(2190," Request"),t.Ob(2191,"span",16),t.rc(2192,","),t.Nb(),t.rc(2193," res"),t.Ob(2194,"span",30),t.rc(2195,":"),t.Nb(),t.rc(2196," Response"),t.Ob(2197,"span",16),t.rc(2198,","),t.Nb(),t.rc(2199," @"),t.Ob(2200,"span",18),t.rc(2201,"Query"),t.Nb(),t.Ob(2202,"span",16),t.rc(2203,"("),t.Nb(),t.Ob(2204,"span",16),t.rc(2205,")"),t.Nb(),t.rc(2206," value"),t.Ob(2207,"span",30),t.rc(2208,":"),t.Nb(),t.rc(2209," "),t.Ob(2210,"span",45),t.rc(2211,"string"),t.Nb(),t.Nb(),t.Ob(2212,"span",16),t.rc(2213,")"),t.Nb(),t.rc(2214," "),t.Ob(2215,"span",16),t.rc(2216),t.Nb(),t.rc(2217,"\n    req"),t.Ob(2218,"span",16),t.rc(2219,"."),t.Nb(),t.rc(2220,"cookies"),t.Ob(2221,"span",16),t.rc(2222,"."),t.Nb(),t.Ob(2223,"span",15),t.rc(2224,"get"),t.Nb(),t.Ob(2225,"span",16),t.rc(2226,"("),t.Nb(),t.Ob(2227,"span",17),t.rc(2228,"'name'"),t.Nb(),t.Ob(2229,"span",16),t.rc(2230,","),t.Nb(),t.rc(2231," "),t.Ob(2232,"span",15),t.rc(2233,"this"),t.Nb(),t.Ob(2234,"span",16),t.rc(2235,"."),t.Nb(),t.rc(2236,"getOptions"),t.Ob(2237,"span",16),t.rc(2238,")"),t.Nb(),t.Ob(2239,"span",16),t.rc(2240,";"),t.Nb(),t.rc(2241,"\n    res"),t.Ob(2242,"span",16),t.rc(2243,"."),t.Nb(),t.rc(2244,"cookies"),t.Ob(2245,"span",16),t.rc(2246,"."),t.Nb(),t.Ob(2247,"span",15),t.rc(2248,"set"),t.Nb(),t.Ob(2249,"span",16),t.rc(2250,"("),t.Nb(),t.Ob(2251,"span",17),t.rc(2252,"'name'"),t.Nb(),t.Ob(2253,"span",16),t.rc(2254,","),t.Nb(),t.rc(2255," value"),t.Ob(2256,"span",16),t.rc(2257,","),t.Nb(),t.rc(2258," "),t.Ob(2259,"span",15),t.rc(2260,"this"),t.Nb(),t.Ob(2261,"span",16),t.rc(2262,"."),t.Nb(),t.rc(2263,"setOptions"),t.Ob(2264,"span",16),t.rc(2265,")"),t.Nb(),t.Ob(2266,"span",16),t.rc(2267,";"),t.Nb(),t.rc(2268,"\n\n  "),t.Ob(2269,"span",16),t.rc(2270),t.Nb(),t.rc(2271,"\n"),t.Ob(2272,"span",16),t.rc(2273),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(2274,"h2",80),t.rc(2275,"SSL Support"),t.Nb(),t.rc(2276," Additionally the framework supports SSL out of the box, by allowing you to specify your public and private keys for the cert. In dev mode, the framework will also automatically generate a self-signed cert if:\n"),t.Ob(2277,"ul"),t.Ob(2278,"li"),t.rc(2279,"SSL support is configured"),t.Nb(),t.Ob(2280,"li"),t.Ob(2281,"a",81);t.rc(2282,"node-forge"),t.Nb(),t.rc(2283," is installed"),t.Nb(),t.Ob(2284,"li"),t.rc(2285,"No keys provided"),t.Nb(),t.Nb(),t.rc(2286," This is useful for local development where you implicitly trust the cert. SSL support can be enabled by setting "),t.Ob(2287,"code",9),t.rc(2288,"rest.ssl.active: true"),t.Nb(),t.rc(2289," in your config. The key/cert can be specified as string directly in the config file/environment variables. The key/cert can also be specified as a path to be picked up by the "),t.Ob(2290,"a",82),t.rc(2291,"ResourceManager"),t.Nb(),t.rc(2292,". "),t.Ob(2293,"h2",83),t.rc(2294,"Full Config"),t.Nb(),t.rc(2295,"\nThe entire "),t.Ob(2296,"a",84),t.rc(2297,"RestConfig"),t.Nb(),t.rc(2298," which will show the full set of valid configuration parameters for the rest module. "),t.Nb()}2&r&&(t.zb(63),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(6),t.sc("}"),t.zb(68),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(18),t.sc("{"),t.zb(25),t.sc("{"),t.zb(26),t.sc("}"),t.zb(3),t.sc("}"),t.zb(80),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(12),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(25),t.sc("{"),t.zb(37),t.tc("$","{",""),t.zb(14),t.sc("}"),t.zb(7),t.sc("}"),t.zb(39),t.sc("{"),t.zb(38),t.tc("$","{",""),t.zb(14),t.sc("}"),t.zb(7),t.sc("}"),t.zb(31),t.sc("{"),t.zb(9),t.sc("}"),t.zb(5),t.sc("{"),t.zb(17),t.sc("{"),t.zb(9),t.sc("}"),t.zb(10),t.sc("{"),t.zb(9),t.sc("}"),t.zb(5),t.sc("}"),t.zb(71),t.sc("{"),t.zb(30),t.sc("{"),t.zb(6),t.sc("}"),t.zb(13),t.sc("}"),t.zb(3),t.sc("}"),t.zb(56),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(33),t.sc("{"),t.zb(32),t.sc("{"),t.zb(18),t.sc("}"),t.zb(3),t.sc("}"),t.zb(38),t.sc("{"),t.zb(88),t.sc("}"),t.zb(32),t.sc("{"),t.zb(107),t.sc("}"),t.zb(22),t.sc("{"),t.zb(6),t.sc("}"),t.zb(54),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(10),t.sc("{"),t.zb(25),t.sc("}"),t.zb(3),t.sc("}"),t.zb(34),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(27),t.sc("{"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(25),t.sc("{"),t.zb(17),t.sc("{"),t.zb(12),t.sc("}"),t.zb(24),t.sc("{"),t.zb(38),t.sc("}"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(33),t.sc("{"),t.zb(47),t.sc("{"),t.zb(23),t.sc("{"),t.zb(15),t.sc("}"),t.zb(6),t.sc("{"),t.zb(17),t.tc("$","{",""),t.zb(15),t.sc("}"),t.zb(11),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(32),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(63),t.sc("{"),t.zb(54),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),O=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-test"]],decls:1845,vars:102,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://testanything.org/tap-version-13-specification.html",1,"external-link"],["target","_blank","href","https://www.json.org",1,"external-link"],["target","_blank","href","https://en.wikipedia.org/wiki/XUnit",1,"external-link"],[1,"note"],[1,"item","path"],["id","definition"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/src/decorator/suite.ts#L12",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/src/decorator/test.ts#L9",1,"source-link"],[1,"item","input"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/alt/docs/src/example.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","operator"],[1,"token","string"],[1,"token","punctuation"],[1,"token","meta"],[1,"token","class-name"],[1,"token","builtin"],[1,"token","number"],[1,"token","regex"],["id","assertions"],["target","_blank","href","https://nodejs.org",1,"external-link"],["target","_blank","href","https://nodejs.org/api/assert.html",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/alt/docs/src/test/assert-example.ts"],[1,"language-javascript"],[1,"token","boolean"],[1,"item","method"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/alt/docs/src/throws.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/alt/docs/src/rejects.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/test/alt/docs/src/error-types.ts"],[1,"token","parameter"],["id","running-tests"],["href","/docs/cli","title","CLI infrastructure for travetto framework",1,"module-link"],[1,"terminal"],[1,"token","builtin","class-name"],["id","travetto-plugin"],["target","_blank","href","https://marketplace.visualstudio.com/items?itemName=arcsine.travetto-plugin",1,"external-link"],["id","additional-considerations"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Testing "),t.Ob(3,"small"),t.rc(4,"Declarative test framework that provides hooks for high levels of integration with the travetto framework and test plugin"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/test "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/test"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides unit testing functionality that integrates with the framework. It is a declarative framework, using decorators to define tests and suites. The test produces results in the following formats: "),t.Ob(17,"ul"),t.Ob(18,"li"),t.Ob(19,"a",4),t.rc(20,"TAP 13"),t.Nb(),t.rc(21,", default and human-readable"),t.Nb(),t.Ob(22,"li"),t.Ob(23,"a",5),t.rc(24,"JSON"),t.Nb(),t.rc(25,", best for integrating with at a code level"),t.Nb(),t.Ob(26,"li"),t.Ob(27,"a",6),t.rc(28,"xUnit"),t.Nb(),t.rc(29,", standard format for CI/CD systems e.g. Jenkins, Bamboo, etc."),t.Nb(),t.Nb(),t.Ob(30,"p",7),t.Ob(31,"strong"),t.rc(32,"Note"),t.Nb(),t.rc(33," All tests should be under the "),t.Ob(34,"code",8),t.rc(35,"test/.*"),t.Nb(),t.rc(36," folders. The pattern for tests is defined as a regex and not standard globbing."),t.Nb(),t.Ob(37,"h2",9),t.rc(38,"Definition"),t.Nb(),t.rc(39," A test suite is a collection of individual tests. All test suites are classes with the "),t.Ob(40,"a",10),t.rc(41,"@Suite"),t.Nb(),t.rc(42," decorator. Tests are defined as methods on the suite class, using the "),t.Ob(43,"a",11),t.rc(44,"@Test"),t.Nb(),t.rc(45," decorator. All tests intrinsically support "),t.Ob(46,"code",12),t.rc(47,"async"),t.Nb(),t.rc(48,"/"),t.Ob(49,"code",12),t.rc(50,"await"),t.Nb(),t.rc(51,". A simple example would be: "),t.Ob(52,"figure",13),t.Ob(53,"figcaption",13),t.rc(54,"Example Test Suite "),t.Ob(55,"cite"),t.Ob(56,"a",14),t.rc(57,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(58,"pre"),t.Ob(59,"code",15),t.Ob(60,"span",16),t.rc(61,"import"),t.Nb(),t.rc(62," "),t.Ob(63,"span",17),t.rc(64,"*"),t.Nb(),t.rc(65," "),t.Ob(66,"span",16),t.rc(67,"as"),t.Nb(),t.rc(68," assert "),t.Ob(69,"span",16),t.rc(70,"from"),t.Nb(),t.rc(71," "),t.Ob(72,"span",18),t.rc(73,"'assert'"),t.Nb(),t.Ob(74,"span",19),t.rc(75,";"),t.Nb(),t.rc(76,"\n\n"),t.Ob(77,"span",16),t.rc(78,"import"),t.Nb(),t.rc(79," "),t.Ob(80,"span",19),t.rc(81),t.Nb(),t.rc(82," Suite "),t.Ob(83,"span",19),t.rc(84),t.Nb(),t.rc(85," "),t.Ob(86,"span",16),t.rc(87,"from"),t.Nb(),t.rc(88," "),t.Ob(89,"span",18),t.rc(90,"'@travetto/test/src/decorator/suite'"),t.Nb(),t.Ob(91,"span",19),t.rc(92,";"),t.Nb(),t.rc(93,"\n"),t.Ob(94,"span",16),t.rc(95,"import"),t.Nb(),t.rc(96," "),t.Ob(97,"span",19),t.rc(98),t.Nb(),t.rc(99," Test "),t.Ob(100,"span",19),t.rc(101),t.Nb(),t.rc(102," "),t.Ob(103,"span",16),t.rc(104,"from"),t.Nb(),t.rc(105," "),t.Ob(106,"span",18),t.rc(107,"'@travetto/test/src/decorator/test'"),t.Nb(),t.Ob(108,"span",19),t.rc(109,";"),t.Nb(),t.rc(110,"\n\n@"),t.Ob(111,"span",20),t.rc(112,"Suite"),t.Nb(),t.Ob(113,"span",19),t.rc(114,"("),t.Nb(),t.Ob(115,"span",19),t.rc(116,")"),t.Nb(),t.rc(117,"\n"),t.Ob(118,"span",16),t.rc(119,"class"),t.Nb(),t.rc(120," "),t.Ob(121,"span",21),t.rc(122,"SimpleTest"),t.Nb(),t.rc(123," "),t.Ob(124,"span",19),t.rc(125),t.Nb(),t.rc(126,"\n\n  "),t.Ob(127,"span",16),t.rc(128,"private"),t.Nb(),t.rc(129," complexService"),t.Ob(130,"span",17),t.rc(131,":"),t.Nb(),t.rc(132," "),t.Ob(133,"span",22),t.rc(134,"any"),t.Nb(),t.Ob(135,"span",19),t.rc(136,";"),t.Nb(),t.rc(137,"\n\n  @"),t.Ob(138,"span",20),t.rc(139,"Test"),t.Nb(),t.Ob(140,"span",19),t.rc(141,"("),t.Nb(),t.Ob(142,"span",19),t.rc(143,")"),t.Nb(),t.rc(144,"\n  "),t.Ob(145,"span",16),t.rc(146,"async"),t.Nb(),t.rc(147," "),t.Ob(148,"span",3),t.rc(149,"test1"),t.Nb(),t.Ob(150,"span",19),t.rc(151,"("),t.Nb(),t.Ob(152,"span",19),t.rc(153,")"),t.Nb(),t.rc(154," "),t.Ob(155,"span",19),t.rc(156),t.Nb(),t.rc(157,"\n    "),t.Ob(158,"span",16),t.rc(159,"const"),t.Nb(),t.rc(160," val "),t.Ob(161,"span",17),t.rc(162,"="),t.Nb(),t.rc(163," "),t.Ob(164,"span",16),t.rc(165,"await"),t.Nb(),t.rc(166," "),t.Ob(167,"span",16),t.rc(168,"this"),t.Nb(),t.Ob(169,"span",19),t.rc(170,"."),t.Nb(),t.rc(171,"complexService"),t.Ob(172,"span",19),t.rc(173,"."),t.Nb(),t.Ob(174,"span",3),t.rc(175,"doLongOp"),t.Nb(),t.Ob(176,"span",19),t.rc(177,"("),t.Nb(),t.Ob(178,"span",19),t.rc(179,")"),t.Nb(),t.Ob(180,"span",19),t.rc(181,";"),t.Nb(),t.rc(182,"\n    "),t.Ob(183,"span",3),t.rc(184,"assert"),t.Nb(),t.Ob(185,"span",19),t.rc(186,"("),t.Nb(),t.rc(187,"val "),t.Ob(188,"span",17),t.rc(189,"==="),t.Nb(),t.rc(190," "),t.Ob(191,"span",23),t.rc(192,"5"),t.Nb(),t.Ob(193,"span",19),t.rc(194,")"),t.Nb(),t.Ob(195,"span",19),t.rc(196,";"),t.Nb(),t.rc(197,"\n  "),t.Ob(198,"span",19),t.rc(199),t.Nb(),t.rc(200,"\n\n  @"),t.Ob(201,"span",20),t.rc(202,"Test"),t.Nb(),t.Ob(203,"span",19),t.rc(204,"("),t.Nb(),t.Ob(205,"span",19),t.rc(206,")"),t.Nb(),t.rc(207,"\n  "),t.Ob(208,"span",3),t.rc(209,"test2"),t.Nb(),t.Ob(210,"span",19),t.rc(211,"("),t.Nb(),t.Ob(212,"span",19),t.rc(213,")"),t.Nb(),t.rc(214," "),t.Ob(215,"span",19),t.rc(216),t.Nb(),t.rc(217,"\n    "),t.Ob(218,"span",16),t.rc(219,"const"),t.Nb(),t.rc(220," text "),t.Ob(221,"span",17),t.rc(222,"="),t.Nb(),t.rc(223," "),t.Ob(224,"span",16),t.rc(225,"this"),t.Nb(),t.Ob(226,"span",19),t.rc(227,"."),t.Nb(),t.rc(228,"complexService"),t.Ob(229,"span",19),t.rc(230,"."),t.Nb(),t.Ob(231,"span",3),t.rc(232,"getText"),t.Nb(),t.Ob(233,"span",19),t.rc(234,"("),t.Nb(),t.Ob(235,"span",19),t.rc(236,")"),t.Nb(),t.Ob(237,"span",19),t.rc(238,";"),t.Nb(),t.rc(239,"\n    "),t.Ob(240,"span",3),t.rc(241,"assert"),t.Nb(),t.Ob(242,"span",19),t.rc(243,"("),t.Nb(),t.Ob(244,"span",24),t.rc(245,"/abc/"),t.Nb(),t.Ob(246,"span",19),t.rc(247,"."),t.Nb(),t.Ob(248,"span",3),t.rc(249,"test"),t.Nb(),t.Ob(250,"span",19),t.rc(251,"("),t.Nb(),t.rc(252,"text"),t.Ob(253,"span",19),t.rc(254,")"),t.Nb(),t.Ob(255,"span",19),t.rc(256,")"),t.Nb(),t.Ob(257,"span",19),t.rc(258,";"),t.Nb(),t.rc(259,"\n  "),t.Ob(260,"span",19),t.rc(261),t.Nb(),t.rc(262,"\n"),t.Ob(263,"span",19),t.rc(264),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(265,"h2",25),t.rc(266,"Assertions"),t.Nb(),t.rc(267,"\nA common aspect of the tests themselves are the assertions that are made. "),t.Ob(268,"a",26),t.rc(269,"Node"),t.Nb(),t.rc(270," provides a built-in "),t.Ob(271,"a",27),t.rc(272,"assert"),t.Nb(),t.rc(273," library. The framework uses AST transformations to modify the assertions to provide integration with the test module, and to provide a much higher level of detail in the failed assertions. For example: "),t.Ob(274,"figure",13),t.Ob(275,"figcaption",13),t.rc(276,"Example assertion for deep comparison "),t.Ob(277,"cite"),t.Ob(278,"a",28),t.rc(279,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(280,"pre"),t.Ob(281,"code",15),t.Ob(282,"span",16),t.rc(283,"import"),t.Nb(),t.rc(284," "),t.Ob(285,"span",17),t.rc(286,"*"),t.Nb(),t.rc(287," "),t.Ob(288,"span",16),t.rc(289,"as"),t.Nb(),t.rc(290," assert "),t.Ob(291,"span",16),t.rc(292,"from"),t.Nb(),t.rc(293," "),t.Ob(294,"span",18),t.rc(295,"'assert'"),t.Nb(),t.Ob(296,"span",19),t.rc(297,";"),t.Nb(),t.rc(298,"\n\n"),t.Ob(299,"span",16),t.rc(300,"import"),t.Nb(),t.rc(301," "),t.Ob(302,"span",19),t.rc(303),t.Nb(),t.rc(304," Suite "),t.Ob(305,"span",19),t.rc(306),t.Nb(),t.rc(307," "),t.Ob(308,"span",16),t.rc(309,"from"),t.Nb(),t.rc(310," "),t.Ob(311,"span",18),t.rc(312,"'@travetto/test/src/decorator/suite'"),t.Nb(),t.Ob(313,"span",19),t.rc(314,";"),t.Nb(),t.rc(315,"\n"),t.Ob(316,"span",16),t.rc(317,"import"),t.Nb(),t.rc(318," "),t.Ob(319,"span",19),t.rc(320),t.Nb(),t.rc(321," Test "),t.Ob(322,"span",19),t.rc(323),t.Nb(),t.rc(324," "),t.Ob(325,"span",16),t.rc(326,"from"),t.Nb(),t.rc(327," "),t.Ob(328,"span",18),t.rc(329,"'@travetto/test/src/decorator/test'"),t.Nb(),t.Ob(330,"span",19),t.rc(331,";"),t.Nb(),t.rc(332,"\n\n@"),t.Ob(333,"span",20),t.rc(334,"Suite"),t.Nb(),t.Ob(335,"span",19),t.rc(336,"("),t.Nb(),t.Ob(337,"span",19),t.rc(338,")"),t.Nb(),t.rc(339,"\n"),t.Ob(340,"span",16),t.rc(341,"class"),t.Nb(),t.rc(342," "),t.Ob(343,"span",21),t.rc(344,"SimpleTest"),t.Nb(),t.rc(345," "),t.Ob(346,"span",19),t.rc(347),t.Nb(),t.rc(348,"\n\n  @"),t.Ob(349,"span",20),t.rc(350,"Test"),t.Nb(),t.Ob(351,"span",19),t.rc(352,"("),t.Nb(),t.Ob(353,"span",19),t.rc(354,")"),t.Nb(),t.rc(355,"\n  "),t.Ob(356,"span",16),t.rc(357,"async"),t.Nb(),t.rc(358," "),t.Ob(359,"span",3),t.rc(360,"test"),t.Nb(),t.Ob(361,"span",19),t.rc(362,"("),t.Nb(),t.Ob(363,"span",19),t.rc(364,")"),t.Nb(),t.rc(365," "),t.Ob(366,"span",19),t.rc(367),t.Nb(),t.rc(368,"\n    "),t.Ob(369,"span",3),t.rc(370,"assert"),t.Nb(),t.Ob(371,"span",19),t.rc(372,"("),t.Nb(),t.Ob(373,"span",19),t.rc(374),t.Nb(),t.rc(375," size"),t.Ob(376,"span",17),t.rc(377,":"),t.Nb(),t.rc(378," "),t.Ob(379,"span",23),t.rc(380,"20"),t.Nb(),t.Ob(381,"span",19),t.rc(382,","),t.Nb(),t.rc(383," address"),t.Ob(384,"span",17),t.rc(385,":"),t.Nb(),t.rc(386," "),t.Ob(387,"span",19),t.rc(388),t.Nb(),t.rc(389," state"),t.Ob(390,"span",17),t.rc(391,":"),t.Nb(),t.rc(392," "),t.Ob(393,"span",18),t.rc(394,"'VA'"),t.Nb(),t.rc(395," "),t.Ob(396,"span",19),t.rc(397),t.Nb(),t.rc(398," "),t.Ob(399,"span",19),t.rc(400),t.Nb(),t.rc(401," "),t.Ob(402,"span",17),t.rc(403,"==="),t.Nb(),t.rc(404," "),t.Ob(405,"span",19),t.rc(406),t.Nb(),t.Ob(407,"span",19),t.rc(408),t.Nb(),t.Ob(409,"span",19),t.rc(410,")"),t.Nb(),t.Ob(411,"span",19),t.rc(412,";"),t.Nb(),t.rc(413,"\n  "),t.Ob(414,"span",19),t.rc(415),t.Nb(),t.rc(416,"\n"),t.Ob(417,"span",19),t.rc(418),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(419," would translate to: "),t.Ob(420,"figure",13),t.Ob(421,"figcaption",13),t.rc(422,"Transpiled test Code "),t.Nb(),t.Ob(423,"pre"),t.Ob(424,"code",29),t.Ob(425,"span",18),t.rc(426,'"use strict"'),t.Nb(),t.Ob(427,"span",19),t.rc(428,";"),t.Nb(),t.rc(429,"\nObject"),t.Ob(430,"span",19),t.rc(431,"."),t.Nb(),t.Ob(432,"span",3),t.rc(433,"defineProperty"),t.Nb(),t.Ob(434,"span",19),t.rc(435,"("),t.Nb(),t.rc(436,"exports"),t.Ob(437,"span",19),t.rc(438,","),t.Nb(),t.rc(439," "),t.Ob(440,"span",18),t.rc(441,'"__esModule"'),t.Nb(),t.Ob(442,"span",19),t.rc(443,","),t.Nb(),t.rc(444," "),t.Ob(445,"span",19),t.rc(446),t.Nb(),t.rc(447," value"),t.Ob(448,"span",17),t.rc(449,":"),t.Nb(),t.rc(450," "),t.Ob(451,"span",30),t.rc(452,"true"),t.Nb(),t.rc(453," "),t.Ob(454,"span",19),t.rc(455),t.Nb(),t.Ob(456,"span",19),t.rc(457,")"),t.Nb(),t.Ob(458,"span",19),t.rc(459,";"),t.Nb(),t.rc(460,"\n"),t.Ob(461,"span",16),t.rc(462,"const"),t.Nb(),t.rc(463," tslib_1 "),t.Ob(464,"span",17),t.rc(465,"="),t.Nb(),t.rc(466," "),t.Ob(467,"span",3),t.rc(468,"require"),t.Nb(),t.Ob(469,"span",19),t.rc(470,"("),t.Nb(),t.Ob(471,"span",18),t.rc(472,'"tslib"'),t.Nb(),t.Ob(473,"span",19),t.rc(474,")"),t.Nb(),t.Ob(475,"span",19),t.rc(476,";"),t.Nb(),t.rc(477,"\n"),t.Ob(478,"span",16),t.rc(479,"const"),t.Nb(),t.rc(480," \u1695_check_1 "),t.Ob(481,"span",17),t.rc(482,"="),t.Nb(),t.rc(483," "),t.Ob(484,"span",3),t.rc(485,"require"),t.Nb(),t.Ob(486,"span",19),t.rc(487,"("),t.Nb(),t.Ob(488,"span",18),t.rc(489,'"@app/src/assert/check.ts"'),t.Nb(),t.Ob(490,"span",19),t.rc(491,")"),t.Nb(),t.Ob(492,"span",19),t.rc(493,";"),t.Nb(),t.rc(494,"\n"),t.Ob(495,"span",16),t.rc(496,"const"),t.Nb(),t.rc(497," \u1695_decorator_1 "),t.Ob(498,"span",17),t.rc(499,"="),t.Nb(),t.rc(500," "),t.Ob(501,"span",3),t.rc(502,"require"),t.Nb(),t.Ob(503,"span",19),t.rc(504,"("),t.Nb(),t.Ob(505,"span",18),t.rc(506,'"@travetto/registry/src/decorator.ts"'),t.Nb(),t.Ob(507,"span",19),t.rc(508,")"),t.Nb(),t.Ob(509,"span",19),t.rc(510,";"),t.Nb(),t.rc(511,"\n"),t.Ob(512,"span",16),t.rc(513,"const"),t.Nb(),t.rc(514," assert "),t.Ob(515,"span",17),t.rc(516,"="),t.Nb(),t.rc(517," "),t.Ob(518,"span",3),t.rc(519,"require"),t.Nb(),t.Ob(520,"span",19),t.rc(521,"("),t.Nb(),t.Ob(522,"span",18),t.rc(523,'"assert"'),t.Nb(),t.Ob(524,"span",19),t.rc(525,")"),t.Nb(),t.Ob(526,"span",19),t.rc(527,";"),t.Nb(),t.rc(528,"\n"),t.Ob(529,"span",16),t.rc(530,"const"),t.Nb(),t.rc(531," suite_1 "),t.Ob(532,"span",17),t.rc(533,"="),t.Nb(),t.rc(534," "),t.Ob(535,"span",3),t.rc(536,"require"),t.Nb(),t.Ob(537,"span",19),t.rc(538,"("),t.Nb(),t.Ob(539,"span",18),t.rc(540,'"../../../../src/decorator/suite"'),t.Nb(),t.Ob(541,"span",19),t.rc(542,")"),t.Nb(),t.Ob(543,"span",19),t.rc(544,";"),t.Nb(),t.rc(545,"\n"),t.Ob(546,"span",16),t.rc(547,"const"),t.Nb(),t.rc(548," test_1 "),t.Ob(549,"span",17),t.rc(550,"="),t.Nb(),t.rc(551," "),t.Ob(552,"span",3),t.rc(553,"require"),t.Nb(),t.Ob(554,"span",19),t.rc(555,"("),t.Nb(),t.Ob(556,"span",18),t.rc(557,'"../../../../src/decorator/test"'),t.Nb(),t.Ob(558,"span",19),t.rc(559,")"),t.Nb(),t.Ob(560,"span",19),t.rc(561,";"),t.Nb(),t.rc(562,"\n"),t.Ob(563,"span",16),t.rc(564,"let"),t.Nb(),t.rc(565," SimpleTest "),t.Ob(566,"span",17),t.rc(567,"="),t.Nb(),t.rc(568," "),t.Ob(569,"span",16),t.rc(570,"class"),t.Nb();t.rc(571," "),t.Ob(572,"span",21),t.rc(573,"SimpleTest"),t.Nb(),t.rc(574," "),t.Ob(575,"span",19),t.rc(576),t.Nb(),t.rc(577,"\n    "),t.Ob(578,"span",16),t.rc(579,"async"),t.Nb(),t.rc(580," "),t.Ob(581,"span",3),t.rc(582,"test"),t.Nb(),t.Ob(583,"span",19),t.rc(584,"("),t.Nb(),t.Ob(585,"span",19),t.rc(586,")"),t.Nb(),t.rc(587," "),t.Ob(588,"span",19),t.rc(589),t.Nb(),t.rc(590,"\n        \u1695_check_1"),t.Ob(591,"span",19),t.rc(592,"."),t.Nb(),t.rc(593,"AssertCheck"),t.Ob(594,"span",19),t.rc(595,"."),t.Nb(),t.Ob(596,"span",3),t.rc(597,"check"),t.Nb(),t.Ob(598,"span",19),t.rc(599,"("),t.Nb(),t.rc(600,"__filename"),t.Ob(601,"span",19),t.rc(602,"."),t.Nb(),t.rc(603,"\u1695unix"),t.Ob(604,"span",19),t.rc(605,","),t.Nb(),t.rc(606," "),t.Ob(607,"span",18),t.rc(608),t.Nb(),t.Ob(609,"span",19),t.rc(610,","),t.Nb(),t.rc(611," "),t.Ob(612,"span",18),t.rc(613,'"deepStrictEqual"'),t.Nb(),t.Ob(614,"span",19),t.rc(615,","),t.Nb(),t.rc(616," "),t.Ob(617,"span",30),t.rc(618,"true"),t.Nb(),t.Ob(619,"span",19),t.rc(620,","),t.Nb(),t.rc(621," "),t.Ob(622,"span",19),t.rc(623),t.Nb(),t.rc(624," size"),t.Ob(625,"span",17),t.rc(626,":"),t.Nb(),t.rc(627," "),t.Ob(628,"span",23),t.rc(629,"20"),t.Nb(),t.Ob(630,"span",19),t.rc(631,","),t.Nb(),t.rc(632," address"),t.Ob(633,"span",17),t.rc(634,":"),t.Nb(),t.rc(635," "),t.Ob(636,"span",19),t.rc(637),t.Nb(),t.rc(638," state"),t.Ob(639,"span",17),t.rc(640,":"),t.Nb(),t.rc(641," "),t.Ob(642,"span",18),t.rc(643,"'VA'"),t.Nb(),t.rc(644," "),t.Ob(645,"span",19),t.rc(646),t.Nb(),t.rc(647," "),t.Ob(648,"span",19),t.rc(649),t.Nb(),t.Ob(650,"span",19),t.rc(651,","),t.Nb(),t.rc(652," "),t.Ob(653,"span",19),t.rc(654),t.Nb(),t.Ob(655,"span",19),t.rc(656),t.Nb(),t.Ob(657,"span",19),t.rc(658,")"),t.Nb(),t.Ob(659,"span",19),t.rc(660,";"),t.Nb(),t.rc(661,"\n    "),t.Ob(662,"span",19),t.rc(663),t.Nb(),t.rc(664,"\n"),t.Ob(665,"span",19),t.rc(666),t.Nb(),t.Ob(667,"span",19),t.rc(668,";"),t.Nb(),t.rc(669,"\nSimpleTest"),t.Ob(670,"span",19),t.rc(671,"."),t.Nb(),t.rc(672,"\u1695init "),t.Ob(673,"span",17),t.rc(674,"="),t.Nb(),t.rc(675," \u1695_decorator_1"),t.Ob(676,"span",19),t.rc(677,"."),t.Nb(),t.rc(678,"Register"),t.Ob(679,"span",19),t.rc(680,"."),t.Nb(),t.Ob(681,"span",3),t.rc(682,"initMeta"),t.Nb(),t.Ob(683,"span",19),t.rc(684,"("),t.Nb(),t.rc(685,"SimpleTest"),t.Ob(686,"span",19),t.rc(687,","),t.Nb(),t.rc(688," __filename"),t.Ob(689,"span",19),t.rc(690,"."),t.Nb(),t.rc(691,"\u1695unix"),t.Ob(692,"span",19),t.rc(693,","),t.Nb(),t.rc(694," "),t.Ob(695,"span",23),t.rc(696,"471606460"),t.Nb(),t.Ob(697,"span",19),t.rc(698,","),t.Nb(),t.rc(699," "),t.Ob(700,"span",19),t.rc(701),t.Nb(),t.rc(702," test"),t.Ob(703,"span",17),t.rc(704,":"),t.Nb(),t.rc(705," "),t.Ob(706,"span",19),t.rc(707),t.Nb(),t.rc(708," hash"),t.Ob(709,"span",17),t.rc(710,":"),t.Nb(),t.rc(711," "),t.Ob(712,"span",23),t.rc(713,"1747552309"),t.Nb(),t.rc(714," "),t.Ob(715,"span",19),t.rc(716),t.Nb(),t.rc(717," "),t.Ob(718,"span",19),t.rc(719),t.Nb(),t.Ob(720,"span",19),t.rc(721,","),t.Nb(),t.rc(722," "),t.Ob(723,"span",30),t.rc(724,"false"),t.Nb(),t.Ob(725,"span",19),t.rc(726,","),t.Nb(),t.rc(727," "),t.Ob(728,"span",30),t.rc(729,"false"),t.Nb(),t.Ob(730,"span",19),t.rc(731,")"),t.Nb(),t.Ob(732,"span",19),t.rc(733,";"),t.Nb(),t.rc(734,"\ntslib_1"),t.Ob(735,"span",19),t.rc(736,"."),t.Nb(),t.Ob(737,"span",3),t.rc(738,"__decorate"),t.Nb(),t.Ob(739,"span",19),t.rc(740,"("),t.Nb(),t.Ob(741,"span",19),t.rc(742,"["),t.Nb(),t.rc(743,"\n    test_1"),t.Ob(744,"span",19),t.rc(745,"."),t.Nb(),t.Ob(746,"span",3),t.rc(747,"Test"),t.Nb(),t.Ob(748,"span",19),t.rc(749,"("),t.Nb(),t.Ob(750,"span",19),t.rc(751),t.Nb(),t.rc(752," lines"),t.Ob(753,"span",17),t.rc(754,":"),t.Nb(),t.rc(755," "),t.Ob(756,"span",19),t.rc(757),t.Nb(),t.rc(758," start"),t.Ob(759,"span",17),t.rc(760,":"),t.Nb(),t.rc(761," "),t.Ob(762,"span",23),t.rc(763,"9"),t.Nb(),t.Ob(764,"span",19),t.rc(765,","),t.Nb(),t.rc(766," end"),t.Ob(767,"span",17),t.rc(768,":"),t.Nb(),t.rc(769," "),t.Ob(770,"span",23),t.rc(771,"12"),t.Nb(),t.Ob(772,"span",19),t.rc(773,","),t.Nb(),t.rc(774," codeStart"),t.Ob(775,"span",17),t.rc(776,":"),t.Nb(),t.rc(777," "),t.Ob(778,"span",23),t.rc(779,"11"),t.Nb(),t.rc(780," "),t.Ob(781,"span",19),t.rc(782),t.Nb(),t.rc(783," "),t.Ob(784,"span",19),t.rc(785),t.Nb(),t.Ob(786,"span",19),t.rc(787,")"),t.Nb(),t.rc(788,"\n"),t.Ob(789,"span",19),t.rc(790,"]"),t.Nb(),t.Ob(791,"span",19),t.rc(792,","),t.Nb(),t.rc(793," "),t.Ob(794,"span",21),t.rc(795,"SimpleTest"),t.Nb(),t.Ob(796,"span",19),t.rc(797,"."),t.Nb(),t.rc(798,"prototype"),t.Ob(799,"span",19),t.rc(800,","),t.Nb(),t.rc(801," "),t.Ob(802,"span",18),t.rc(803,'"test"'),t.Nb(),t.Ob(804,"span",19),t.rc(805,","),t.Nb(),t.rc(806," "),t.Ob(807,"span",16),t.rc(808,"null"),t.Nb(),t.Ob(809,"span",19),t.rc(810,")"),t.Nb(),t.Ob(811,"span",19),t.rc(812,";"),t.Nb(),t.rc(813,"\nSimpleTest "),t.Ob(814,"span",17),t.rc(815,"="),t.Nb(),t.rc(816," tslib_1"),t.Ob(817,"span",19),t.rc(818,"."),t.Nb(),t.Ob(819,"span",3),t.rc(820,"__decorate"),t.Nb(),t.Ob(821,"span",19),t.rc(822,"("),t.Nb(),t.Ob(823,"span",19),t.rc(824,"["),t.Nb(),t.rc(825,"\n    \u1695_decorator_1"),t.Ob(826,"span",19),t.rc(827,"."),t.Nb(),t.Ob(828,"span",3),t.rc(829,"Register"),t.Nb(),t.Ob(830,"span",19),t.rc(831,"("),t.Nb(),t.Ob(832,"span",19),t.rc(833,")"),t.Nb(),t.Ob(834,"span",19),t.rc(835,","),t.Nb(),t.rc(836,"\n    suite_1"),t.Ob(837,"span",19),t.rc(838,"."),t.Nb(),t.Ob(839,"span",3),t.rc(840,"Suite"),t.Nb(),t.Ob(841,"span",19),t.rc(842,"("),t.Nb(),t.Ob(843,"span",19),t.rc(844),t.Nb(),t.rc(845," lines"),t.Ob(846,"span",17),t.rc(847,":"),t.Nb(),t.rc(848," "),t.Ob(849,"span",19),t.rc(850),t.Nb(),t.rc(851," start"),t.Ob(852,"span",17),t.rc(853,":"),t.Nb(),t.rc(854," "),t.Ob(855,"span",23),t.rc(856,"6"),t.Nb(),t.Ob(857,"span",19),t.rc(858,","),t.Nb(),t.rc(859," end"),t.Ob(860,"span",17),t.rc(861,":"),t.Nb(),t.rc(862," "),t.Ob(863,"span",23),t.rc(864,"13"),t.Nb(),t.rc(865," "),t.Ob(866,"span",19),t.rc(867),t.Nb(),t.rc(868," "),t.Ob(869,"span",19),t.rc(870),t.Nb(),t.Ob(871,"span",19),t.rc(872,")"),t.Nb(),t.rc(873,"\n"),t.Ob(874,"span",19),t.rc(875,"]"),t.Nb(),t.Ob(876,"span",19),t.rc(877,","),t.Nb(),t.rc(878," SimpleTest"),t.Ob(879,"span",19),t.rc(880,")"),t.Nb(),t.Ob(881,"span",19),t.rc(882,";"),t.Nb(),t.rc(883,"\nObject"),t.Ob(884,"span",19),t.rc(885,"."),t.Nb(),t.Ob(886,"span",3),t.rc(887,"defineProperty"),t.Nb(),t.Ob(888,"span",19),t.rc(889,"("),t.Nb(),t.rc(890,"exports"),t.Ob(891,"span",19),t.rc(892,","),t.Nb(),t.rc(893," "),t.Ob(894,"span",18),t.rc(895,"'\u1695trv'"),t.Nb(),t.Ob(896,"span",19),t.rc(897,","),t.Nb(),t.rc(898," "),t.Ob(899,"span",19),t.rc(900),t.Nb(),t.rc(901," configurable"),t.Ob(902,"span",17),t.rc(903,":"),t.Nb(),t.rc(904," "),t.Ob(905,"span",30),t.rc(906,"true"),t.Nb(),t.Ob(907,"span",19),t.rc(908,","),t.Nb(),t.rc(909," value"),t.Ob(910,"span",17),t.rc(911,":"),t.Nb(),t.rc(912," "),t.Ob(913,"span",30),t.rc(914,"true"),t.Nb(),t.rc(915," "),t.Ob(916,"span",19),t.rc(917),t.Nb(),t.Ob(918,"span",19),t.rc(919,")"),t.Nb(),t.Ob(920,"span",19),t.rc(921,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(922," This would ultimately produce the error like: "),t.Ob(923,"figure",13),t.Ob(924,"figcaption",13),t.rc(925,"Sample Validation Error "),t.Nb(),t.Ob(926,"pre"),t.Ob(927,"code",15),t.Ob(928,"span",3),t.rc(929,"AssertionError"),t.Nb(),t.Ob(930,"span",19),t.rc(931,"("),t.Nb(),t.rc(932,"\n  message"),t.Ob(933,"span",17),t.rc(934,"="),t.Nb(),t.Ob(935,"span",18),t.rc(936),t.Nb(),t.rc(937,"\n"),t.Ob(938,"span",19),t.rc(939,")"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(940," The equivalences for all of the "),t.Ob(941,"a",27),t.rc(942,"assert"),t.Nb(),t.rc(943," operations are: "),t.Ob(944,"ul"),t.Ob(945,"li"),t.Ob(946,"code",31),t.rc(947,"assert(a == b)"),t.Nb(),t.rc(948," as "),t.Ob(949,"code",31),t.rc(950,"assert.equal(a, b)"),t.Nb(),t.Nb(),t.Ob(951,"li"),t.Ob(952,"code",31),t.rc(953,"assert(a !== b)"),t.Nb(),t.rc(954," as "),t.Ob(955,"code",31),t.rc(956,"assert.notEqual(a, b)"),t.Nb(),t.Nb(),t.Ob(957,"li"),t.Ob(958,"code",31),t.rc(959,"assert(a === b)"),t.Nb(),t.rc(960," as "),t.Ob(961,"code",31),t.rc(962,"assert.strictEqual(a, b)"),t.Nb(),t.Nb(),t.Ob(963,"li"),t.Ob(964,"code",31),t.rc(965,"assert(a !== b)"),t.Nb(),t.rc(966," as "),t.Ob(967,"code",31),t.rc(968,"assert.notStrictEqual(a, b)"),t.Nb(),t.Nb(),t.Ob(969,"li"),t.Ob(970,"code",31),t.rc(971,"assert(a >= b)"),t.Nb(),t.rc(972," as "),t.Ob(973,"code",31),t.rc(974,"assert.greaterThanEqual(a, b)"),t.Nb(),t.Nb(),t.Ob(975,"li"),t.Ob(976,"code",31),t.rc(977,"assert(a > b)"),t.Nb(),t.rc(978," as "),t.Ob(979,"code",31),t.rc(980,"assert.greaterThan(a, b)"),t.Nb(),t.Nb(),t.Ob(981,"li"),t.Ob(982,"code",31),t.rc(983,"assert(a <= b)"),t.Nb(),t.rc(984," as "),t.Ob(985,"code",31),t.rc(986,"assert.lessThanEqual(a, b)"),t.Nb(),t.Nb(),t.Ob(987,"li"),t.Ob(988,"code",31),t.rc(989,"assert(a < b)"),t.Nb(),t.rc(990," as "),t.Ob(991,"code",31),t.rc(992,"assert.lessThan(a, b)"),t.Nb(),t.Nb(),t.Ob(993,"li"),t.Ob(994,"code",31),t.rc(995,"assert(a instanceof b)"),t.Nb(),t.rc(996," as "),t.Ob(997,"code",31),t.rc(998,"assert.instanceOf(a, b)"),t.Nb(),t.Nb(),t.Ob(999,"li"),t.Ob(1e3,"code",31),t.rc(1001,"assert(a.includes(b))"),t.Nb(),t.rc(1002," as "),t.Ob(1003,"code",31),t.rc(1004,"assert.ok(a.includes(b))"),t.Nb(),t.Nb(),t.Ob(1005,"li"),t.Ob(1006,"code",31),t.rc(1007,"assert(/a/.test(b))"),t.Nb(),t.rc(1008," as "),t.Ob(1009,"code",31),t.rc(1010,"assert.ok(/a/.test(b))"),t.Nb(),t.Nb(),t.Nb(),t.rc(1011," In addition to the standard operations, there is support for throwing/rejecting errors (or the inverse). This is useful for testing error states or ensuring errors do not occur. "),t.Ob(1012,"ul"),t.Ob(1013,"li"),t.Ob(1014,"code",31),t.rc(1015,"throws"),t.Nb(),t.rc(1016,"/"),t.Ob(1017,"code",31),t.rc(1018,"doesNotThrow"),t.Nb(),t.rc(1019," is for catching synchronous rejections "),t.Ob(1020,"figure",13),t.Ob(1021,"figcaption",13),t.rc(1022,"Throws vs Does Not Throw "),t.Ob(1023,"cite"),t.Ob(1024,"a",32),t.rc(1025,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1026,"pre"),t.Ob(1027,"code",15),t.Ob(1028,"span",16),t.rc(1029,"import"),t.Nb(),t.rc(1030," "),t.Ob(1031,"span",17),t.rc(1032,"*"),t.Nb(),t.rc(1033," "),t.Ob(1034,"span",16),t.rc(1035,"as"),t.Nb(),t.rc(1036," assert "),t.Ob(1037,"span",16),t.rc(1038,"from"),t.Nb(),t.rc(1039," "),t.Ob(1040,"span",18),t.rc(1041,"'assert'"),t.Nb(),t.Ob(1042,"span",19),t.rc(1043,";"),t.Nb(),t.rc(1044,"\n\n"),t.Ob(1045,"span",16),t.rc(1046,"import"),t.Nb(),t.rc(1047," "),t.Ob(1048,"span",19),t.rc(1049),t.Nb(),t.rc(1050," Suite "),t.Ob(1051,"span",19),t.rc(1052),t.Nb(),t.rc(1053," "),t.Ob(1054,"span",16),t.rc(1055,"from"),t.Nb(),t.rc(1056," "),t.Ob(1057,"span",18),t.rc(1058,"'@travetto/test/src/decorator/suite'"),t.Nb(),t.Ob(1059,"span",19),t.rc(1060,";"),t.Nb(),t.rc(1061,"\n"),t.Ob(1062,"span",16),t.rc(1063,"import"),t.Nb(),t.rc(1064," "),t.Ob(1065,"span",19),t.rc(1066),t.Nb(),t.rc(1067," Test "),t.Ob(1068,"span",19),t.rc(1069),t.Nb(),t.rc(1070," "),t.Ob(1071,"span",16),t.rc(1072,"from"),t.Nb(),t.rc(1073," "),t.Ob(1074,"span",18),t.rc(1075,"'@travetto/test/src/decorator/test'"),t.Nb(),t.Ob(1076,"span",19),t.rc(1077,";"),t.Nb(),t.rc(1078,"\n\n@"),t.Ob(1079,"span",20),t.rc(1080,"Suite"),t.Nb(),t.Ob(1081,"span",19),t.rc(1082,"("),t.Nb(),t.Ob(1083,"span",19),t.rc(1084,")"),t.Nb(),t.rc(1085,"\n"),t.Ob(1086,"span",16),t.rc(1087,"class"),t.Nb(),t.rc(1088," "),t.Ob(1089,"span",21),t.rc(1090,"SimpleTest"),t.Nb(),t.rc(1091," "),t.Ob(1092,"span",19),t.rc(1093),t.Nb(),t.rc(1094,"\n\n  @"),t.Ob(1095,"span",20),t.rc(1096,"Test"),t.Nb(),t.Ob(1097,"span",19),t.rc(1098,"("),t.Nb(),t.Ob(1099,"span",19),t.rc(1100,")"),t.Nb(),t.rc(1101,"\n  "),t.Ob(1102,"span",16),t.rc(1103,"async"),t.Nb(),t.rc(1104," "),t.Ob(1105,"span",3),t.rc(1106,"testThrows"),t.Nb(),t.Ob(1107,"span",19),t.rc(1108,"("),t.Nb(),t.Ob(1109,"span",19),t.rc(1110,")"),t.Nb(),t.rc(1111," "),t.Ob(1112,"span",19),t.rc(1113),t.Nb(),t.rc(1114,"\n    assert"),t.Ob(1115,"span",19),t.rc(1116,"."),t.Nb(),t.Ob(1117,"span",3),t.rc(1118,"throws"),t.Nb(),t.Ob(1119,"span",19),t.rc(1120,"("),t.Nb(),t.Ob(1121,"span",19),t.rc(1122,"("),t.Nb(),t.Ob(1123,"span",19),t.rc(1124,")"),t.Nb(),t.rc(1125," "),t.Ob(1126,"span",17),t.rc(1127,"=>"),t.Nb(),t.rc(1128," "),t.Ob(1129,"span",19),t.rc(1130),t.Nb(),t.rc(1131,"\n      "),t.Ob(1132,"span",16),t.rc(1133,"throw"),t.Nb(),t.rc(1134," "),t.Ob(1135,"span",16),t.rc(1136,"new"),t.Nb(),t.rc(1137," "),t.Ob(1138,"span",21),t.rc(1139,"Error"),t.Nb(),t.Ob(1140,"span",19),t.rc(1141,"(");t.Nb(),t.Ob(1142,"span",19),t.rc(1143,")"),t.Nb(),t.Ob(1144,"span",19),t.rc(1145,";"),t.Nb(),t.rc(1146,"\n    "),t.Ob(1147,"span",19),t.rc(1148),t.Nb(),t.Ob(1149,"span",19),t.rc(1150,")"),t.Nb(),t.Ob(1151,"span",19),t.rc(1152,";"),t.Nb(),t.rc(1153,"\n\n    assert"),t.Ob(1154,"span",19),t.rc(1155,"."),t.Nb(),t.Ob(1156,"span",3),t.rc(1157,"doesNotThrow"),t.Nb(),t.Ob(1158,"span",19),t.rc(1159,"("),t.Nb(),t.Ob(1160,"span",19),t.rc(1161,"("),t.Nb(),t.Ob(1162,"span",19),t.rc(1163,")"),t.Nb(),t.rc(1164," "),t.Ob(1165,"span",17),t.rc(1166,"=>"),t.Nb(),t.rc(1167," "),t.Ob(1168,"span",19),t.rc(1169),t.Nb(),t.rc(1170,"\n      "),t.Ob(1171,"span",16),t.rc(1172,"let"),t.Nb(),t.rc(1173," a "),t.Ob(1174,"span",17),t.rc(1175,"="),t.Nb(),t.rc(1176," "),t.Ob(1177,"span",23),t.rc(1178,"5"),t.Nb(),t.Ob(1179,"span",19),t.rc(1180,";"),t.Nb(),t.rc(1181,"\n    "),t.Ob(1182,"span",19),t.rc(1183),t.Nb(),t.Ob(1184,"span",19),t.rc(1185,")"),t.Nb(),t.Ob(1186,"span",19),t.rc(1187,";"),t.Nb(),t.rc(1188,"\n  "),t.Ob(1189,"span",19),t.rc(1190),t.Nb(),t.rc(1191,"\n"),t.Ob(1192,"span",19),t.rc(1193),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1194,"li"),t.Ob(1195,"code",31),t.rc(1196,"rejects"),t.Nb(),t.rc(1197,"/"),t.Ob(1198,"code",31),t.rc(1199,"doesNotReject"),t.Nb(),t.rc(1200," is for catching asynchronous rejections "),t.Ob(1201,"figure",13),t.Ob(1202,"figcaption",13),t.rc(1203,"Rejects vs Does Not Reject "),t.Ob(1204,"cite"),t.Ob(1205,"a",33),t.rc(1206,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1207,"pre"),t.Ob(1208,"code",15),t.Ob(1209,"span",16),t.rc(1210,"import"),t.Nb(),t.rc(1211," "),t.Ob(1212,"span",17),t.rc(1213,"*"),t.Nb(),t.rc(1214," "),t.Ob(1215,"span",16),t.rc(1216,"as"),t.Nb(),t.rc(1217," assert "),t.Ob(1218,"span",16),t.rc(1219,"from"),t.Nb(),t.rc(1220," "),t.Ob(1221,"span",18),t.rc(1222,"'assert'"),t.Nb(),t.Ob(1223,"span",19),t.rc(1224,";"),t.Nb(),t.rc(1225,"\n\n"),t.Ob(1226,"span",16),t.rc(1227,"import"),t.Nb(),t.rc(1228," "),t.Ob(1229,"span",19),t.rc(1230),t.Nb(),t.rc(1231," Suite "),t.Ob(1232,"span",19),t.rc(1233),t.Nb(),t.rc(1234," "),t.Ob(1235,"span",16),t.rc(1236,"from"),t.Nb(),t.rc(1237," "),t.Ob(1238,"span",18),t.rc(1239,"'@travetto/test/src/decorator/suite'"),t.Nb(),t.Ob(1240,"span",19),t.rc(1241,";"),t.Nb(),t.rc(1242,"\n"),t.Ob(1243,"span",16),t.rc(1244,"import"),t.Nb(),t.rc(1245," "),t.Ob(1246,"span",19),t.rc(1247),t.Nb(),t.rc(1248," Test "),t.Ob(1249,"span",19),t.rc(1250),t.Nb(),t.rc(1251," "),t.Ob(1252,"span",16),t.rc(1253,"from"),t.Nb(),t.rc(1254," "),t.Ob(1255,"span",18),t.rc(1256,"'@travetto/test/src/decorator/test'"),t.Nb(),t.Ob(1257,"span",19),t.rc(1258,";"),t.Nb(),t.rc(1259,"\n\n@"),t.Ob(1260,"span",20),t.rc(1261,"Suite"),t.Nb(),t.Ob(1262,"span",19),t.rc(1263,"("),t.Nb(),t.Ob(1264,"span",19),t.rc(1265,")"),t.Nb(),t.rc(1266,"\n"),t.Ob(1267,"span",16),t.rc(1268,"class"),t.Nb(),t.rc(1269," "),t.Ob(1270,"span",21),t.rc(1271,"SimpleTest"),t.Nb(),t.rc(1272," "),t.Ob(1273,"span",19),t.rc(1274),t.Nb(),t.rc(1275,"\n\n  @"),t.Ob(1276,"span",20),t.rc(1277,"Test"),t.Nb(),t.Ob(1278,"span",19),t.rc(1279,"("),t.Nb(),t.Ob(1280,"span",19),t.rc(1281,")"),t.Nb(),t.rc(1282,"\n  "),t.Ob(1283,"span",16),t.rc(1284,"async"),t.Nb(),t.rc(1285," "),t.Ob(1286,"span",3),t.rc(1287,"testRejects"),t.Nb(),t.Ob(1288,"span",19),t.rc(1289,"("),t.Nb(),t.Ob(1290,"span",19),t.rc(1291,")"),t.Nb(),t.rc(1292," "),t.Ob(1293,"span",19),t.rc(1294),t.Nb(),t.rc(1295,"\n    "),t.Ob(1296,"span",16),t.rc(1297,"await"),t.Nb(),t.rc(1298," assert"),t.Ob(1299,"span",19),t.rc(1300,"."),t.Nb(),t.Ob(1301,"span",3),t.rc(1302,"rejects"),t.Nb(),t.Ob(1303,"span",19),t.rc(1304,"("),t.Nb(),t.Ob(1305,"span",16),t.rc(1306,"async"),t.Nb(),t.rc(1307," "),t.Ob(1308,"span",19),t.rc(1309,"("),t.Nb(),t.Ob(1310,"span",19),t.rc(1311,")"),t.Nb(),t.rc(1312," "),t.Ob(1313,"span",17),t.rc(1314,"=>"),t.Nb(),t.rc(1315," "),t.Ob(1316,"span",19),t.rc(1317),t.Nb(),t.rc(1318,"\n      "),t.Ob(1319,"span",16),t.rc(1320,"throw"),t.Nb(),t.rc(1321," "),t.Ob(1322,"span",16),t.rc(1323,"new"),t.Nb(),t.rc(1324," "),t.Ob(1325,"span",21),t.rc(1326,"Error"),t.Nb(),t.Ob(1327,"span",19),t.rc(1328,"("),t.Nb(),t.Ob(1329,"span",19),t.rc(1330,")"),t.Nb(),t.Ob(1331,"span",19),t.rc(1332,";"),t.Nb(),t.rc(1333,"\n    "),t.Ob(1334,"span",19),t.rc(1335),t.Nb(),t.Ob(1336,"span",19),t.rc(1337,")"),t.Nb(),t.Ob(1338,"span",19),t.rc(1339,";"),t.Nb(),t.rc(1340,"\n\n    "),t.Ob(1341,"span",16),t.rc(1342,"await"),t.Nb(),t.rc(1343," assert"),t.Ob(1344,"span",19),t.rc(1345,"."),t.Nb(),t.Ob(1346,"span",3),t.rc(1347,"doesNotReject"),t.Nb(),t.Ob(1348,"span",19),t.rc(1349,"("),t.Nb(),t.Ob(1350,"span",16),t.rc(1351,"async"),t.Nb(),t.rc(1352," "),t.Ob(1353,"span",19),t.rc(1354,"("),t.Nb(),t.Ob(1355,"span",19),t.rc(1356,")"),t.Nb(),t.rc(1357," "),t.Ob(1358,"span",17),t.rc(1359,"=>"),t.Nb(),t.rc(1360," "),t.Ob(1361,"span",19),t.rc(1362),t.Nb(),t.rc(1363,"\n      "),t.Ob(1364,"span",16),t.rc(1365,"let"),t.Nb(),t.rc(1366," a "),t.Ob(1367,"span",17),t.rc(1368,"="),t.Nb(),t.rc(1369," "),t.Ob(1370,"span",23),t.rc(1371,"5"),t.Nb(),t.Ob(1372,"span",19),t.rc(1373,";"),t.Nb(),t.rc(1374,"\n    "),t.Ob(1375,"span",19),t.rc(1376),t.Nb(),t.Ob(1377,"span",19),t.rc(1378,")"),t.Nb(),t.Ob(1379,"span",19),t.rc(1380,";"),t.Nb(),t.rc(1381,"\n  "),t.Ob(1382,"span",19),t.rc(1383),t.Nb(),t.rc(1384,"\n"),t.Ob(1385,"span",19),t.rc(1386),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1387," Additionally, the "),t.Ob(1388,"code",31),t.rc(1389,"throws"),t.Nb(),t.rc(1390,"/"),t.Ob(1391,"code",31),t.rc(1392,"rejects"),t.Nb(),t.rc(1393," assertions take in a secondary parameter to allow for specification of the type of error expected. This can be:\n"),t.Ob(1394,"ul"),t.Ob(1395,"li"),t.rc(1396,"A regular expression or string to match against the error's message"),t.Nb(),t.Ob(1397,"li"),t.rc(1398,"A class to ensure the returned error is an instance of the class passed in"),t.Nb(),t.Ob(1399,"li"),t.rc(1400,"A function to allow for whatever custom verification of the error is needed"),t.Nb(),t.Nb(),t.Ob(1401,"figure",13),t.Ob(1402,"figcaption",13),t.rc(1403,"Example of different Error matching paradigms "),t.Ob(1404,"cite"),t.Ob(1405,"a",34),t.rc(1406,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1407,"pre"),t.Ob(1408,"code",15),t.Ob(1409,"span",16),t.rc(1410,"import"),t.Nb(),t.rc(1411," "),t.Ob(1412,"span",17),t.rc(1413,"*"),t.Nb(),t.rc(1414," "),t.Ob(1415,"span",16),t.rc(1416,"as"),t.Nb(),t.rc(1417," assert "),t.Ob(1418,"span",16),t.rc(1419,"from"),t.Nb(),t.rc(1420," "),t.Ob(1421,"span",18),t.rc(1422,"'assert'"),t.Nb(),t.Ob(1423,"span",19),t.rc(1424,";"),t.Nb(),t.rc(1425,"\n\n"),t.Ob(1426,"span",16),t.rc(1427,"import"),t.Nb(),t.rc(1428," "),t.Ob(1429,"span",19),t.rc(1430),t.Nb(),t.rc(1431," Suite "),t.Ob(1432,"span",19),t.rc(1433),t.Nb(),t.rc(1434," "),t.Ob(1435,"span",16),t.rc(1436,"from"),t.Nb(),t.rc(1437," "),t.Ob(1438,"span",18),t.rc(1439,"'@travetto/test/src/decorator/suite'"),t.Nb(),t.Ob(1440,"span",19),t.rc(1441,";"),t.Nb(),t.rc(1442,"\n"),t.Ob(1443,"span",16),t.rc(1444,"import"),t.Nb(),t.rc(1445," "),t.Ob(1446,"span",19),t.rc(1447),t.Nb(),t.rc(1448," Test "),t.Ob(1449,"span",19),t.rc(1450),t.Nb(),t.rc(1451," "),t.Ob(1452,"span",16),t.rc(1453,"from"),t.Nb(),t.rc(1454," "),t.Ob(1455,"span",18),t.rc(1456,"'@travetto/test/src/decorator/test'"),t.Nb(),t.Ob(1457,"span",19),t.rc(1458,";"),t.Nb(),t.rc(1459,"\n\n@"),t.Ob(1460,"span",20),t.rc(1461,"Suite"),t.Nb(),t.Ob(1462,"span",19),t.rc(1463,"("),t.Nb(),t.Ob(1464,"span",19),t.rc(1465,")"),t.Nb(),t.rc(1466,"\n"),t.Ob(1467,"span",16),t.rc(1468,"class"),t.Nb(),t.rc(1469," "),t.Ob(1470,"span",21),t.rc(1471,"SimpleTest"),t.Nb(),t.rc(1472," "),t.Ob(1473,"span",19),t.rc(1474),t.Nb(),t.rc(1475,"\n\n  @"),t.Ob(1476,"span",20),t.rc(1477,"Test"),t.Nb(),t.Ob(1478,"span",19),t.rc(1479,"("),t.Nb(),t.Ob(1480,"span",19),t.rc(1481,")"),t.Nb(),t.rc(1482,"\n  "),t.Ob(1483,"span",16),t.rc(1484,"async"),t.Nb(),t.rc(1485," "),t.Ob(1486,"span",3),t.rc(1487,"errorTypes"),t.Nb(),t.Ob(1488,"span",19),t.rc(1489,"("),t.Nb(),t.Ob(1490,"span",19),t.rc(1491,")"),t.Nb(),t.rc(1492," "),t.Ob(1493,"span",19),t.rc(1494),t.Nb(),t.rc(1495,"\n    assert"),t.Ob(1496,"span",19),t.rc(1497,"."),t.Nb(),t.Ob(1498,"span",3),t.rc(1499,"throws"),t.Nb(),t.Ob(1500,"span",19),t.rc(1501,"("),t.Nb(),t.Ob(1502,"span",19),t.rc(1503,"("),t.Nb(),t.Ob(1504,"span",19),t.rc(1505,")"),t.Nb(),t.rc(1506," "),t.Ob(1507,"span",17),t.rc(1508,"=>"),t.Nb(),t.rc(1509," "),t.Ob(1510,"span",19),t.rc(1511),t.Nb(),t.rc(1512,"\n      "),t.Ob(1513,"span",16),t.rc(1514,"throw"),t.Nb(),t.rc(1515," "),t.Ob(1516,"span",16),t.rc(1517,"new"),t.Nb(),t.rc(1518," "),t.Ob(1519,"span",21),t.rc(1520,"Error"),t.Nb(),t.Ob(1521,"span",19),t.rc(1522,"("),t.Nb(),t.Ob(1523,"span",18),t.rc(1524,"'Big Error'"),t.Nb(),t.Ob(1525,"span",19),t.rc(1526,")"),t.Nb(),t.Ob(1527,"span",19),t.rc(1528,";"),t.Nb(),t.rc(1529,"\n    "),t.Ob(1530,"span",19),t.rc(1531),t.Nb(),t.Ob(1532,"span",19),t.rc(1533,","),t.Nb(),t.rc(1534," "),t.Ob(1535,"span",18),t.rc(1536,"'Big Error'"),t.Nb(),t.Ob(1537,"span",19),t.rc(1538,")"),t.Nb(),t.Ob(1539,"span",19),t.rc(1540,";"),t.Nb(),t.rc(1541,"\n\n    assert"),t.Ob(1542,"span",19),t.rc(1543,"."),t.Nb(),t.Ob(1544,"span",3),t.rc(1545,"throws"),t.Nb(),t.Ob(1546,"span",19),t.rc(1547,"("),t.Nb(),t.Ob(1548,"span",19),t.rc(1549,"("),t.Nb(),t.Ob(1550,"span",19),t.rc(1551,")"),t.Nb(),t.rc(1552," "),t.Ob(1553,"span",17),t.rc(1554,"=>"),t.Nb(),t.rc(1555," "),t.Ob(1556,"span",19),t.rc(1557),t.Nb(),t.rc(1558,"\n      "),t.Ob(1559,"span",16),t.rc(1560,"throw"),t.Nb(),t.rc(1561," "),t.Ob(1562,"span",16),t.rc(1563,"new"),t.Nb(),t.rc(1564," "),t.Ob(1565,"span",21),t.rc(1566,"Error"),t.Nb(),t.Ob(1567,"span",19),t.rc(1568,"("),t.Nb(),t.Ob(1569,"span",18),t.rc(1570,"'Big Error'"),t.Nb(),t.Ob(1571,"span",19),t.rc(1572,")"),t.Nb(),t.Ob(1573,"span",19),t.rc(1574,";"),t.Nb(),t.rc(1575,"\n    "),t.Ob(1576,"span",19),t.rc(1577),t.Nb(),t.Ob(1578,"span",19),t.rc(1579,","),t.Nb(),t.rc(1580," "),t.Ob(1581,"span",24),t.rc(1582,"/B.*Error/"),t.Nb(),t.Ob(1583,"span",19),t.rc(1584,")"),t.Nb(),t.Ob(1585,"span",19),t.rc(1586,";"),t.Nb(),t.rc(1587,"\n\n    "),t.Ob(1588,"span",16),t.rc(1589,"await"),t.Nb(),t.rc(1590," assert"),t.Ob(1591,"span",19),t.rc(1592,"."),t.Nb(),t.Ob(1593,"span",3),t.rc(1594,"rejects"),t.Nb(),t.Ob(1595,"span",19),t.rc(1596,"("),t.Nb(),t.Ob(1597,"span",19),t.rc(1598,"("),t.Nb(),t.Ob(1599,"span",19),t.rc(1600,")"),t.Nb(),t.rc(1601," "),t.Ob(1602,"span",17),t.rc(1603,"=>"),t.Nb(),t.rc(1604," "),t.Ob(1605,"span",19),t.rc(1606),t.Nb(),t.rc(1607,"\n      "),t.Ob(1608,"span",16),t.rc(1609,"throw"),t.Nb(),t.rc(1610," "),t.Ob(1611,"span",16),t.rc(1612,"new"),t.Nb(),t.rc(1613," "),t.Ob(1614,"span",21),t.rc(1615,"Error"),t.Nb(),t.Ob(1616,"span",19),t.rc(1617,"("),t.Nb(),t.Ob(1618,"span",18),t.rc(1619,"'Big Error'"),t.Nb(),t.Ob(1620,"span",19),t.rc(1621,")"),t.Nb(),t.Ob(1622,"span",19),t.rc(1623,";"),t.Nb(),t.rc(1624,"\n    "),t.Ob(1625,"span",19),t.rc(1626),t.Nb(),t.Ob(1627,"span",19),t.rc(1628,","),t.Nb(),t.rc(1629," Error"),t.Ob(1630,"span",19),t.rc(1631,")"),t.Nb(),t.Ob(1632,"span",19),t.rc(1633,";"),t.Nb(),t.rc(1634,"\n\n    "),t.Ob(1635,"span",16),t.rc(1636,"await"),t.Nb(),t.rc(1637," assert"),t.Ob(1638,"span",19),t.rc(1639,"."),t.Nb(),t.Ob(1640,"span",3),t.rc(1641,"rejects"),t.Nb(),t.Ob(1642,"span",19),t.rc(1643,"("),t.Nb(),t.Ob(1644,"span",19),t.rc(1645,"("),t.Nb(),t.Ob(1646,"span",19),t.rc(1647,")"),t.Nb(),t.rc(1648," "),t.Ob(1649,"span",17),t.rc(1650,"=>"),t.Nb(),t.rc(1651," "),t.Ob(1652,"span",19),t.rc(1653),t.Nb(),t.rc(1654,"\n      "),t.Ob(1655,"span",16),t.rc(1656,"throw"),t.Nb(),t.rc(1657," "),t.Ob(1658,"span",16),t.rc(1659,"new"),t.Nb(),t.rc(1660," "),t.Ob(1661,"span",21),t.rc(1662,"Error"),t.Nb(),t.Ob(1663,"span",19),t.rc(1664,"("),t.Nb(),t.Ob(1665,"span",18),t.rc(1666,"'Big Error'"),t.Nb(),t.Ob(1667,"span",19),t.rc(1668,")"),t.Nb(),t.Ob(1669,"span",19),t.rc(1670,";"),t.Nb(),t.rc(1671,"\n    "),t.Ob(1672,"span",19),t.rc(1673),t.Nb(),t.Ob(1674,"span",19),t.rc(1675,","),t.Nb(),t.rc(1676," "),t.Ob(1677,"span",19),t.rc(1678,"("),t.Nb(),t.Ob(1679,"span",35),t.rc(1680,"err"),t.Ob(1681,"span",17),t.rc(1682,":"),t.Nb(),t.rc(1683," "),t.Ob(1684,"span",22),t.rc(1685,"any"),t.Nb(),t.Nb(),t.Ob(1686,"span",19),t.rc(1687,")"),t.Nb(),t.rc(1688," "),t.Ob(1689,"span",17),t.rc(1690,"=>"),t.Nb(),t.rc(1691,"\n      err"),t.Ob(1692,"span",19),t.rc(1693,"."),t.Nb(),t.rc(1694,"message"),t.Ob(1695,"span",19),t.rc(1696,"."),t.Nb(),t.Ob(1697,"span",3),t.rc(1698,"startsWith"),t.Nb(),t.Ob(1699,"span",19),t.rc(1700,"("),t.Nb(),t.Ob(1701,"span",18),t.rc(1702,"'Big'"),t.Nb(),t.Ob(1703,"span",19),t.rc(1704,")"),t.Nb(),t.rc(1705," "),t.Ob(1706,"span",17),t.rc(1707,"&&"),t.Nb(),t.rc(1708," err"),t.Ob(1709,"span",19);t.rc(1710,"."),t.Nb(),t.rc(1711,"message"),t.Ob(1712,"span",19),t.rc(1713,"."),t.Nb(),t.rc(1714,"length "),t.Ob(1715,"span",17),t.rc(1716,">"),t.Nb(),t.rc(1717," "),t.Ob(1718,"span",23),t.rc(1719,"4"),t.Nb(),t.rc(1720," "),t.Ob(1721,"span",17),t.rc(1722,"?"),t.Nb(),t.rc(1723," "),t.Ob(1724,"span",16),t.rc(1725,"undefined"),t.Nb(),t.rc(1726," "),t.Ob(1727,"span",17),t.rc(1728,":"),t.Nb(),t.rc(1729," err\n    "),t.Ob(1730,"span",19),t.rc(1731,")"),t.Nb(),t.Ob(1732,"span",19),t.rc(1733,";"),t.Nb(),t.rc(1734,"\n  "),t.Ob(1735,"span",19),t.rc(1736),t.Nb(),t.rc(1737,"\n"),t.Ob(1738,"span",19),t.rc(1739),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1740,"h2",36),t.rc(1741,"Running Tests"),t.Nb(),t.rc(1742," To run the tests you can either call the "),t.Ob(1743,"a",37),t.rc(1744,"Command Line Interface"),t.Nb(),t.rc(1745," by invoking "),t.Ob(1746,"figure",38),t.Ob(1747,"figcaption",38),t.rc(1748,"Test Help Output "),t.Nb(),t.Ob(1749,"pre"),t.Ob(1750,"code",2),t.rc(1751,"$ travetto travetto "),t.Ob(1752,"span",39),t.rc(1753,"test"),t.Nb(),t.rc(1754," --help\n\nUsage:  "),t.Ob(1755,"span",39),t.rc(1756,"test"),t.Nb(),t.rc(1757," "),t.Ob(1758,"span",19),t.rc(1759,"["),t.Nb(),t.rc(1760,"options"),t.Ob(1761,"span",19),t.rc(1762,"]"),t.Nb(),t.rc(1763," "),t.Ob(1764,"span",19),t.rc(1765,"["),t.Nb(),t.rc(1766,"regexes"),t.Ob(1767,"span",19),t.rc(1768,".."),t.Nb(),t.rc(1769,"."),t.Ob(1770,"span",19),t.rc(1771,"]"),t.Nb(),t.rc(1772,"\n\nOptions:\n  -f, --format "),t.Ob(1773,"span",17),t.rc(1774,"<"),t.Nb(),t.rc(1775,"format"),t.Ob(1776,"span",17),t.rc(1777,">"),t.Nb(),t.rc(1778,"            Output "),t.Ob(1779,"span",3),t.rc(1780,"format"),t.Nb(),t.rc(1781," "),t.Ob(1782,"span",16),t.rc(1783,"for"),t.Nb(),t.rc(1784," "),t.Ob(1785,"span",39),t.rc(1786,"test"),t.Nb(),t.rc(1787," results "),t.Ob(1788,"span",19),t.rc(1789,"("),t.Nb(),t.rc(1790,"default:\n                                   "),t.Ob(1791,"span",18),t.rc(1792,'"tap"'),t.Nb(),t.Ob(1793,"span",19),t.rc(1794,")"),t.Nb(),t.rc(1795,"\n  -c, --concurrency "),t.Ob(1796,"span",17),t.rc(1797,"<"),t.Nb(),t.rc(1798,"concurrency"),t.Ob(1799,"span",17),t.rc(1800,">"),t.Nb(),t.rc(1801,"  Number of tests to run concurrently\n                                   "),t.Ob(1802,"span",19),t.rc(1803,"("),t.Nb(),t.rc(1804,"default: "),t.Ob(1805,"span",18),t.rc(1806,'"4"'),t.Nb(),t.Ob(1807,"span",19),t.rc(1808,")"),t.Nb(),t.rc(1809,"\n  -m, --mode "),t.Ob(1810,"span",17),t.rc(1811,"<"),t.Nb(),t.rc(1812,"mode"),t.Ob(1813,"span",17),t.rc(1814,">"),t.Nb(),t.rc(1815,"                Test run mode "),t.Ob(1816,"span",19),t.rc(1817,"("),t.Nb(),t.rc(1818,"default: "),t.Ob(1819,"span",18),t.rc(1820,'"all"'),t.Nb(),t.Ob(1821,"span",19),t.rc(1822,")"),t.Nb(),t.rc(1823,"\n  -h, --help                       display "),t.Ob(1824,"span",39),t.rc(1825,"help"),t.Nb(),t.rc(1826," "),t.Ob(1827,"span",16),t.rc(1828,"for"),t.Nb(),t.rc(1829," "),t.Ob(1830,"span",39),t.rc(1831,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1832," The regexes are the patterns of tests you want to run, and all tests must be found under the "),t.Ob(1833,"code",8),t.rc(1834,"test/"),t.Nb(),t.rc(1835," folder. "),t.Ob(1836,"h3",40),t.rc(1837,"Travetto Plugin"),t.Nb(),t.rc(1838," The "),t.Ob(1839,"a",41),t.rc(1840,"VSCode plugin"),t.Nb(),t.rc(1841," also supports test running, which will provide even more functionality for real-time testing and debugging. "),t.Ob(1842,"h2",42),t.rc(1843,"Additional Considerations"),t.Nb(),t.rc(1844,"\nDuring the test execution, a few things additionally happen that should be helpful. The primary addition, is that all console output is captured, and will be exposed in the test output. This allows for investigation at a later point in time by analyzing the output. Like output, all promises are also intercepted. This allows the code to ensure that all promises have been resolved before completing the test. Any uncompleted promises will automatically trigger an error state and fail the test. "),t.Nb()}2&r&&(t.zb(81),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(31),t.sc("{"),t.zb(43),t.sc("}"),t.zb(17),t.sc("{"),t.zb(45),t.sc("}"),t.zb(3),t.sc("}"),t.zb(39),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(20),t.sc("{"),t.zb(7),t.sc("{"),t.zb(14),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(6),t.sc("{"),t.zb(2),t.sc("}"),t.zb(7),t.sc("}"),t.zb(3),t.sc("}"),t.zb(28),t.sc("{"),t.zb(9),t.sc("}"),t.zb(121),t.sc("{"),t.zb(13),t.sc("{"),t.zb(19),t.wc('"',"{"," size: 20, address: ","{"," state: 'VA' ","}"," ","}"," === ","{","","}",'"'),t.zb(15),t.sc("{"),t.zb(14),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(5),t.sc("{"),t.zb(2),t.sc("}"),t.zb(7),t.sc("}"),t.zb(3),t.sc("}"),t.zb(35),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(32),t.sc("{"),t.zb(6),t.sc("{"),t.zb(25),t.sc("}"),t.zb(3),t.sc("}"),t.zb(59),t.sc("{"),t.zb(6),t.sc("{"),t.zb(17),t.sc("}"),t.zb(3),t.sc("}"),t.zb(30),t.sc("{"),t.zb(17),t.sc("}"),t.zb(19),t.wc('"',"{","size: 20, address: ","{","state: 'VA' ","}","","}"," should deeply strictly equal ","{","","}",'"'),t.zb(113),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(20),t.sc("{"),t.zb(17),t.sc("{"),t.zb(18),t.sc("}"),t.zb(21),t.sc("{"),t.zb(14),t.sc("}"),t.zb(7),t.sc("}"),t.zb(3),t.sc("}"),t.zb(37),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(20),t.sc("{"),t.zb(23),t.sc("{"),t.zb(18),t.sc("}"),t.zb(27),t.sc("{"),t.zb(14),t.sc("}"),t.zb(7),t.sc("}"),t.zb(3),t.sc("}"),t.zb(44),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(20),t.sc("{"),t.zb(17),t.sc("{"),t.zb(20),t.sc("}"),t.zb(26),t.sc("{"),t.zb(20),t.sc("}"),t.zb(29),t.sc("{"),t.zb(20),t.sc("}"),t.zb(27),t.sc("{"),t.zb(20),t.sc("}"),t.zb(63),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),N=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-asset"]],decls:731,vars:30,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/src/source.ts#L6",1,"source-link"],[1,"token","punctuation"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/src/service.ts#L14",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/alt/image/src/user-profile.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","string"],[1,"token","class-name"],[1,"token","parameter"],[1,"token","operator"],[1,"token","builtin"],["id","naming-strategies"],["target","_blank","href","./src/types.ts#L5",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/src/naming.ts#L8",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/src/naming.ts#L8"],[1,"token","comment"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/src/decorator.ts#L29",1,"source-link"],["id","advanced-usage"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/src/types.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/alt/image/src/user-profile-tags.ts"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Asset "),t.Ob(3,"small"),t.rc(4,"Modular library for storing and retrieving binary assets"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/asset "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/asset"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The asset module requires an "),t.Ob(17,"a",4),t.rc(18,"AssetSource"),t.Nb(),t.rc(19," to provide functionality for reading and writing files. You will need to select one of the available providers to serve as your "),t.Ob(20,"a",4),t.rc(21,"AssetSource"),t.Nb(),t.rc(22,". "),t.Ob(23,"figure",1),t.Ob(24,"figcaption",1),t.rc(25,"provider "),t.Nb(),t.Ob(26,"pre"),t.Ob(27,"code",2),t.Ob(28,"span",3),t.rc(29,"npm"),t.Nb(),t.rc(30," "),t.Ob(31,"span",3),t.rc(32,"install"),t.Nb(),t.rc(33," @travetto/asset-"),t.Ob(34,"span",5),t.rc(35),t.Nb(),t.rc(36,"provider"),t.Ob(37,"span",5),t.rc(38),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(39," Reading of and writing assets uses the "),t.Ob(40,"a",6),t.rc(41,"AssetService"),t.Nb(),t.rc(42,". Below you can see an example dealing with a user's profile image. "),t.Ob(43,"figure",7),t.Ob(44,"figcaption",7),t.rc(45,"User Profile Images "),t.Ob(46,"cite"),t.Ob(47,"a",8),t.rc(48,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(49,"pre"),t.Ob(50,"code",9),t.Ob(51,"span",10),t.rc(52,"import"),t.Nb(),t.rc(53," "),t.Ob(54,"span",5),t.rc(55),t.Nb(),t.rc(56," ModelService "),t.Ob(57,"span",5),t.rc(58),t.Nb(),t.rc(59," "),t.Ob(60,"span",10),t.rc(61,"from"),t.Nb(),t.rc(62," "),t.Ob(63,"span",11),t.rc(64,"'@travetto/model'"),t.Nb(),t.Ob(65,"span",5),t.rc(66,";"),t.Nb(),t.rc(67,"\n"),t.Ob(68,"span",10),t.rc(69,"import"),t.Nb(),t.rc(70," "),t.Ob(71,"span",5),t.rc(72),t.Nb(),t.rc(73," AssetService "),t.Ob(74,"span",5),t.rc(75),t.Nb(),t.rc(76," "),t.Ob(77,"span",10),t.rc(78,"from"),t.Nb(),t.rc(79," "),t.Ob(80,"span",11),t.rc(81,"'@travetto/asset/src/service'"),t.Nb(),t.Ob(82,"span",5),t.rc(83,";"),t.Nb(),t.rc(84,"\n"),t.Ob(85,"span",10),t.rc(86,"import"),t.Nb(),t.rc(87," "),t.Ob(88,"span",5),t.rc(89),t.Nb(),t.rc(90," Asset "),t.Ob(91,"span",5),t.rc(92),t.Nb(),t.rc(93," "),t.Ob(94,"span",10),t.rc(95,"from"),t.Nb(),t.rc(96," "),t.Ob(97,"span",11),t.rc(98,"'@travetto/asset/src/types'"),t.Nb(),t.Ob(99,"span",5),t.rc(100,";"),t.Nb(),t.rc(101,"\n"),t.Ob(102,"span",10),t.rc(103,"import"),t.Nb(),t.rc(104," "),t.Ob(105,"span",5),t.rc(106),t.Nb(),t.rc(107," User "),t.Ob(108,"span",5),t.rc(109),t.Nb(),t.rc(110," "),t.Ob(111,"span",10),t.rc(112,"from"),t.Nb(),t.rc(113," "),t.Ob(114,"span",11),t.rc(115,"'../user'"),t.Nb(),t.Ob(116,"span",5),t.rc(117,";"),t.Nb(),t.rc(118,"\n\n"),t.Ob(119,"span",10),t.rc(120,"export"),t.Nb(),t.rc(121," "),t.Ob(122,"span",10),t.rc(123,"class"),t.Nb(),t.rc(124," "),t.Ob(125,"span",12),t.rc(126,"UserProfileService"),t.Nb(),t.rc(127," "),t.Ob(128,"span",5),t.rc(129),t.Nb(),t.rc(130,"\n\n  "),t.Ob(131,"span",10),t.rc(132,"constructor"),t.Nb(),t.Ob(133,"span",5),t.rc(134,"("),t.Nb(),t.rc(135,"\n    "),t.Ob(136,"span",13),t.Ob(137,"span",10),t.rc(138,"public"),t.Nb(),t.rc(139," asset"),t.Ob(140,"span",14),t.rc(141,":"),t.Nb(),t.rc(142," AssetService"),t.Ob(143,"span",5),t.rc(144,","),t.Nb(),t.rc(145,"\n    "),t.Ob(146,"span",10),t.rc(147,"public"),t.Nb(),t.rc(148," model"),t.Ob(149,"span",14),t.rc(150,":"),t.Nb(),t.rc(151," ModelService"),t.Nb(),t.rc(152,"\n  "),t.Ob(153,"span",5),t.rc(154,")"),t.Nb(),t.rc(155," "),t.Ob(156,"span",5),t.rc(157),t.Nb(),t.rc(158," "),t.Ob(159,"span",5),t.rc(160),t.Nb(),t.rc(161,"\n\n  "),t.Ob(162,"span",10),t.rc(163,"async"),t.Nb(),t.rc(164," "),t.Ob(165,"span",3),t.rc(166,"saveProfileImage"),t.Nb(),t.Ob(167,"span",5),t.rc(168,"("),t.Nb(),t.Ob(169,"span",13),t.rc(170,"userId"),t.Ob(171,"span",14),t.rc(172,":"),t.Nb(),t.rc(173," "),t.Ob(174,"span",15),t.rc(175,"string"),t.Nb(),t.Ob(176,"span",5),t.rc(177,","),t.Nb(),t.rc(178," image"),t.Ob(179,"span",14),t.rc(180,":"),t.Nb(),t.rc(181," Asset"),t.Nb(),t.Ob(182,"span",5),t.rc(183,")"),t.Nb(),t.rc(184," "),t.Ob(185,"span",5),t.rc(186),t.Nb(),t.rc(187,"\n    "),t.Ob(188,"span",10),t.rc(189,"const"),t.Nb(),t.rc(190," path "),t.Ob(191,"span",14),t.rc(192,"="),t.Nb(),t.rc(193," "),t.Ob(194,"span",10),t.rc(195,"await"),t.Nb(),t.rc(196," "),t.Ob(197,"span",10),t.rc(198,"this"),t.Nb(),t.Ob(199,"span",5),t.rc(200,"."),t.Nb(),t.rc(201,"asset"),t.Ob(202,"span",5),t.rc(203,"."),t.Nb(),t.Ob(204,"span",3),t.rc(205,"write"),t.Nb(),t.Ob(206,"span",5),t.rc(207,"("),t.Nb(),t.rc(208,"image"),t.Ob(209,"span",5),t.rc(210,")"),t.Nb(),t.Ob(211,"span",5),t.rc(212,";"),t.Nb(),t.rc(213,"\n    "),t.Ob(214,"span",10),t.rc(215,"const"),t.Nb(),t.rc(216," user "),t.Ob(217,"span",14),t.rc(218,"="),t.Nb(),t.rc(219," "),t.Ob(220,"span",10),t.rc(221,"await"),t.Nb(),t.rc(222," "),t.Ob(223,"span",10),t.rc(224,"this"),t.Nb(),t.Ob(225,"span",5),t.rc(226,"."),t.Nb(),t.rc(227,"model"),t.Ob(228,"span",5),t.rc(229,"."),t.Nb(),t.Ob(230,"span",3),t.rc(231,"getById"),t.Nb(),t.Ob(232,"span",5),t.rc(233,"("),t.Nb(),t.rc(234,"User"),t.Ob(235,"span",5),t.rc(236,","),t.Nb(),t.rc(237," userId"),t.Ob(238,"span",5),t.rc(239,")"),t.Nb(),t.Ob(240,"span",5),t.rc(241,";"),t.Nb(),t.rc(242,"\n    user"),t.Ob(243,"span",5),t.rc(244,"."),t.Nb(),t.rc(245,"profileImage "),t.Ob(246,"span",14),t.rc(247,"="),t.Nb(),t.rc(248," path"),t.Ob(249,"span",5),t.rc(250,";"),t.Nb(),t.rc(251,"\n    "),t.Ob(252,"span",10),t.rc(253,"await"),t.Nb(),t.rc(254," "),t.Ob(255,"span",10),t.rc(256,"this"),t.Nb(),t.Ob(257,"span",5),t.rc(258,"."),t.Nb(),t.rc(259,"model"),t.Ob(260,"span",5),t.rc(261,"."),t.Nb(),t.Ob(262,"span",3),t.rc(263,"update"),t.Nb(),t.Ob(264,"span",5),t.rc(265,"("),t.Nb(),t.rc(266,"User"),t.Ob(267,"span",5),t.rc(268,","),t.Nb(),t.rc(269," user"),t.Ob(270,"span",5),t.rc(271,")"),t.Nb(),t.Ob(272,"span",5),t.rc(273,";"),t.Nb(),t.rc(274,"\n  "),t.Ob(275,"span",5),t.rc(276),t.Nb(),t.rc(277,"\n\n  "),t.Ob(278,"span",10),t.rc(279,"async"),t.Nb(),t.rc(280," "),t.Ob(281,"span",3),t.rc(282,"getProfileImage"),t.Nb(),t.Ob(283,"span",5),t.rc(284,"("),t.Nb(),t.Ob(285,"span",13),t.rc(286,"userId"),t.Ob(287,"span",14),t.rc(288,":"),t.Nb(),t.rc(289," "),t.Ob(290,"span",15),t.rc(291,"string"),t.Nb(),t.Nb(),t.Ob(292,"span",5),t.rc(293,")"),t.Nb(),t.rc(294," "),t.Ob(295,"span",5),t.rc(296),t.Nb(),t.rc(297,"\n    "),t.Ob(298,"span",10),t.rc(299,"const"),t.Nb(),t.rc(300," user "),t.Ob(301,"span",14),t.rc(302,"="),t.Nb(),t.rc(303," "),t.Ob(304,"span",10),t.rc(305,"await"),t.Nb(),t.rc(306," "),t.Ob(307,"span",10),t.rc(308,"this"),t.Nb(),t.Ob(309,"span",5),t.rc(310,"."),t.Nb(),t.rc(311,"model"),t.Ob(312,"span",5),t.rc(313,"."),t.Nb(),t.Ob(314,"span",3),t.rc(315,"getById"),t.Nb(),t.Ob(316,"span",5),t.rc(317,"("),t.Nb(),t.rc(318,"userId"),t.Ob(319,"span",5),t.rc(320,")"),t.Nb(),t.Ob(321,"span",5),t.rc(322,";"),t.Nb(),t.rc(323,"\n    "),t.Ob(324,"span",10),t.rc(325,"return"),t.Nb(),t.rc(326," "),t.Ob(327,"span",10),t.rc(328,"await"),t.Nb(),t.rc(329," "),t.Ob(330,"span",10),t.rc(331,"this"),t.Nb(),t.Ob(332,"span",5),t.rc(333,"."),t.Nb(),t.rc(334,"asset"),t.Ob(335,"span",5),t.rc(336,"."),t.Nb(),t.Ob(337,"span",3),t.rc(338,"read"),t.Nb(),t.Ob(339,"span",5),t.rc(340,"("),t.Nb(),t.rc(341,"user"),t.Ob(342,"span",5),t.rc(343,"."),t.Nb(),t.rc(344,"profileImage"),t.Ob(345,"span",5),t.rc(346,")"),t.Nb(),t.Ob(347,"span",5),t.rc(348,";"),t.Nb(),t.rc(349,"\n  "),t.Ob(350,"span",5),t.rc(351),t.Nb(),t.rc(352,"\n"),t.Ob(353,"span",5),t.rc(354),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(355,"h2",16),t.rc(356,"Naming Strategies"),t.Nb(),t.rc(357," By default, the assets are stored by path, as specified in the "),t.Ob(358,"a",17),t.rc(359,"Asset"),t.Nb(),t.rc(360," object. This is standard, and expected, but some finer control may be desired. In addition to standard naming, the module also supports naming by hash, to prevent duplicate storage of the same files with different hashes. This is generally useful when surfacing a lot of public (within the application) user-generated content. The underlying contract for a "),t.Ob(361,"a",18),t.rc(362,"AssetNamingStrategy"),t.Nb(),t.rc(363," looks like: "),t.Ob(364,"figure",7),t.Ob(365,"figcaption",7),t.rc(366,"Asset Naming Strategy "),t.Ob(367,"cite"),t.Ob(368,"a",19),t.rc(369,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(370,"pre"),t.Ob(371,"code",9),t.Ob(372,"span",10),t.rc(373,"export"),t.Nb(),t.rc(374," "),t.Ob(375,"span",10),t.rc(376,"abstract"),t.Nb(),t.rc(377," "),t.Ob(378,"span",10),t.rc(379,"class"),t.Nb(),t.rc(380," "),t.Ob(381,"span",12),t.rc(382,"AssetNamingStrategy"),t.Nb(),t.rc(383," "),t.Ob(384,"span",5),t.rc(385),t.Nb(),t.rc(386,"\n  "),t.Ob(387,"span",10),t.rc(388,"public"),t.Nb(),t.rc(389," "),t.Ob(390,"span",10),t.rc(391,"readonly"),t.Nb(),t.rc(392," prefix"),t.Ob(393,"span",14),t.rc(394,":"),t.Nb(),t.rc(395," "),t.Ob(396,"span",15),t.rc(397,"string"),t.Nb(),t.Ob(398,"span",5),t.rc(399,";"),t.Nb(),t.rc(400,"\n  "),t.Ob(401,"span",20),t.rc(402,"/**\n   * Produce a path for a given asset\n   * @param Asset Get path from an asset\n   */"),t.Nb(),t.rc(403,"\n  "),t.Ob(404,"span",10),t.rc(405,"abstract"),t.Nb(),t.rc(406," "),t.Ob(407,"span",3),t.rc(408,"getPath"),t.Nb(),t.Ob(409,"span",5),t.rc(410,"("),t.Nb(),t.rc(411,"Asset"),t.Ob(412,"span",14),t.rc(413,":"),t.Nb(),t.rc(414," Asset"),t.Ob(415,"span",5),t.rc(416,")"),t.Nb(),t.Ob(417,"span",14),t.rc(418,":"),t.Nb(),t.rc(419," "),t.Ob(420,"span",15),t.rc(421,"string"),t.Nb(),t.Ob(422,"span",5),t.rc(423,";"),t.Nb(),t.rc(424,"\n"),t.Ob(425,"span",5),t.rc(426),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(427," By extending this, and making it "),t.Ob(428,"a",21),t.rc(429,"@Injectable"),t.Nb(),t.rc(430,", the naming strategy will become the default for the system. "),t.Ob(431,"h2",22),t.rc(432,"Advanced Usage"),t.Nb(),t.rc(433," In addition to reading and writing, you can also retrieve information on the saved asset, including basic information, and additional meta data. The structure of the "),t.Ob(434,"a",17),t.rc(435,"Asset"),t.Nb(),t.rc(436," looks like: "),t.Ob(437,"figure",7),t.Ob(438,"figcaption",7),t.rc(439,"Asset Structure "),t.Ob(440,"cite"),t.Ob(441,"a",23),t.rc(442,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(443,"pre"),t.Ob(444,"code",9),t.Ob(445,"span",20),t.rc(446,"/**\n * A retrieval/storable asset\n *\n * @concrete ./internal/types:AssetImpl\n */"),t.Nb(),t.rc(447,"\n"),t.Ob(448,"span",10),t.rc(449,"export"),t.Nb(),t.rc(450," "),t.Ob(451,"span",10),t.rc(452,"interface"),t.Nb(),t.rc(453," "),t.Ob(454,"span",12),t.rc(455,"Asset"),t.Nb(),t.rc(456," "),t.Ob(457,"span",5),t.rc(458),t.Nb(),t.rc(459,"\n  "),t.Ob(460,"span",20),t.rc(461,"/**\n   * Stream of the asset contents\n   */"),t.Nb(),t.rc(462,"\n  stream"),t.Ob(463,"span",14),t.rc(464,":"),t.Nb(),t.rc(465," NodeJS"),t.Ob(466,"span",5),t.rc(467,"."),t.Nb(),t.rc(468,"ReadableStream"),t.Ob(469,"span",5),t.rc(470,";"),t.Nb(),t.rc(471,"\n  "),t.Ob(472,"span",20),t.rc(473,"/**\n   * Size in bytes\n   */"),t.Nb(),t.rc(474,"\n  size"),t.Ob(475,"span",14),t.rc(476,":"),t.Nb(),t.rc(477," "),t.Ob(478,"span",15),t.rc(479,"number"),t.Nb(),t.Ob(480,"span",5),t.rc(481,";"),t.Nb(),t.rc(482,"\n  "),t.Ob(483,"span",20),t.rc(484,"/**\n   * Path within the remote store\n   */"),t.Nb(),t.rc(485,"\n  path"),t.Ob(486,"span",14),t.rc(487,":"),t.Nb(),t.rc(488," "),t.Ob(489,"span",15),t.rc(490,"string"),t.Nb(),t.Ob(491,"span",5),t.rc(492,";"),t.Nb(),t.rc(493,"\n  "),t.Ob(494,"span",20),t.rc(495,"/**\n   * Mime type of the content\n   */"),t.Nb(),t.rc(496,"\n  contentType"),t.Ob(497,"span",14),t.rc(498,":"),t.Nb(),t.rc(499," "),t.Ob(500,"span",15),t.rc(501,"string"),t.Nb(),t.Ob(502,"span",5),t.rc(503,";"),t.Nb(),t.rc(504,"\n  "),t.Ob(505,"span",20),t.rc(506,"/**\n   * Supplemental information\n   */"),t.Nb(),t.rc(507,"\n  metadata"),t.Ob(508,"span",14),t.rc(509,":"),t.Nb(),t.rc(510," "),t.Ob(511,"span",5),t.rc(512),t.Nb(),t.rc(513,"\n    "),t.Ob(514,"span",20),t.rc(515,"/**\n     * The filename of the asset\n     */"),t.Nb(),t.rc(516,"\n    name"),t.Ob(517,"span",14),t.rc(518,":"),t.Nb(),t.rc(519," "),t.Ob(520,"span",15),t.rc(521,"string"),t.Nb(),t.Ob(522,"span",5),t.rc(523,";"),t.Nb(),t.rc(524,"\n    "),t.Ob(525,"span",20),t.rc(526,"/**\n     * A readable title of the asset\n     */"),t.Nb(),t.rc(527,"\n    title"),t.Ob(528,"span",14),t.rc(529,":"),t.Nb(),t.rc(530," "),t.Ob(531,"span",15),t.rc(532,"string"),t.Nb(),t.Ob(533,"span",5),t.rc(534,";"),t.Nb(),t.rc(535,"\n    "),t.Ob(536,"span",20),t.rc(537,"/**\n     * Hash of the file contents.  Different files with the same name, will have the same hash\n     */"),t.Nb(),t.rc(538,"\n    hash"),t.Ob(539,"span",14),t.rc(540,":"),t.Nb(),t.rc(541," "),t.Ob(542,"span",15),t.rc(543,"string"),t.Nb(),t.Ob(544,"span",5),t.rc(545,";"),t.Nb(),t.rc(546,"\n    "),t.Ob(547,"span",20),t.rc(548,"/**\n     * Date of creation\n     */"),t.Nb(),t.rc(549,"\n    createdDate"),t.Ob(550,"span",14),t.rc(551,":"),t.Nb(),t.rc(552," Date"),t.Ob(553,"span",5),t.rc(554,";"),t.Nb(),t.rc(555,"\n    "),t.Ob(556,"span",20),t.rc(557,"/**\n     * Optional tags, can be used for access control\n     */"),t.Nb(),t.rc(558,"\n    tags"),t.Ob(559,"span",14),t.rc(560,"?"),t.Nb(),t.Ob(561,"span",14),t.rc(562,":"),t.Nb(),t.rc(563," "),t.Ob(564,"span",15),t.rc(565,"string"),t.Nb(),t.Ob(566,"span",5),t.rc(567,"["),t.Nb(),t.Ob(568,"span",5),t.rc(569,"]"),t.Nb(),t.Ob(570,"span",5),t.rc(571,";"),t.Nb(),t.rc(572,"\n  "),t.Ob(573,"span",5),t.rc(574),t.Nb(),t.Ob(575,"span",5),t.rc(576,";"),t.Nb(),t.rc(577,"\n"),t.Ob(578,"span",5);t.rc(579),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(580," To get the asset information, you would call: "),t.Ob(581,"figure",7),t.Ob(582,"figcaption",7),t.rc(583,"Fetching Asset Info "),t.Ob(584,"cite"),t.Ob(585,"a",24),t.rc(586,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(587,"pre"),t.Ob(588,"code",9),t.Ob(589,"span",10),t.rc(590,"import"),t.Nb(),t.rc(591," "),t.Ob(592,"span",5),t.rc(593),t.Nb(),t.rc(594," UserProfileService "),t.Ob(595,"span",5),t.rc(596),t.Nb(),t.rc(597," "),t.Ob(598,"span",10),t.rc(599,"from"),t.Nb(),t.rc(600," "),t.Ob(601,"span",11),t.rc(602,"'./user-profile'"),t.Nb(),t.Ob(603,"span",5),t.rc(604,";"),t.Nb(),t.rc(605,"\n\n"),t.Ob(606,"span",10),t.rc(607,"export"),t.Nb(),t.rc(608," "),t.Ob(609,"span",10),t.rc(610,"class"),t.Nb(),t.rc(611," "),t.Ob(612,"span",12),t.rc(613,"UserProfileTagService"),t.Nb(),t.rc(614," "),t.Ob(615,"span",10),t.rc(616,"extends"),t.Nb(),t.rc(617," "),t.Ob(618,"span",12),t.rc(619,"UserProfileService"),t.Nb(),t.rc(620," "),t.Ob(621,"span",5),t.rc(622),t.Nb(),t.rc(623,"\n  "),t.Ob(624,"span",10),t.rc(625,"async"),t.Nb(),t.rc(626," "),t.Ob(627,"span",3),t.rc(628,"checkImageGroup"),t.Nb(),t.Ob(629,"span",5),t.rc(630,"("),t.Nb(),t.Ob(631,"span",13),t.rc(632,"userId"),t.Ob(633,"span",14),t.rc(634,":"),t.Nb(),t.rc(635," "),t.Ob(636,"span",15),t.rc(637,"string"),t.Nb(),t.Nb(),t.Ob(638,"span",5),t.rc(639,")"),t.Nb(),t.rc(640," "),t.Ob(641,"span",5),t.rc(642),t.Nb(),t.rc(643,"\n    "),t.Ob(644,"span",10),t.rc(645,"const"),t.Nb(),t.rc(646," user "),t.Ob(647,"span",14),t.rc(648,"="),t.Nb(),t.rc(649," "),t.Ob(650,"span",10),t.rc(651,"await"),t.Nb(),t.rc(652," "),t.Ob(653,"span",10),t.rc(654,"this"),t.Nb(),t.Ob(655,"span",5),t.rc(656,"."),t.Nb(),t.rc(657,"model"),t.Ob(658,"span",5),t.rc(659,"."),t.Nb(),t.Ob(660,"span",3),t.rc(661,"getById"),t.Nb(),t.Ob(662,"span",5),t.rc(663,"("),t.Nb(),t.rc(664,"userId"),t.Ob(665,"span",5),t.rc(666,")"),t.Nb(),t.Ob(667,"span",5),t.rc(668,";"),t.Nb(),t.rc(669,"\n    "),t.Ob(670,"span",10),t.rc(671,"const"),t.Nb(),t.rc(672," info "),t.Ob(673,"span",14),t.rc(674,"="),t.Nb(),t.rc(675," "),t.Ob(676,"span",10),t.rc(677,"await"),t.Nb(),t.rc(678," "),t.Ob(679,"span",10),t.rc(680,"this"),t.Nb(),t.Ob(681,"span",5),t.rc(682,"."),t.Nb(),t.rc(683,"asset"),t.Ob(684,"span",5),t.rc(685,"."),t.Nb(),t.Ob(686,"span",3),t.rc(687,"info"),t.Nb(),t.Ob(688,"span",5),t.rc(689,"("),t.Nb(),t.rc(690,"user"),t.Ob(691,"span",5),t.rc(692,"."),t.Nb(),t.rc(693,"profileImage"),t.Ob(694,"span",5),t.rc(695,")"),t.Nb(),t.Ob(696,"span",5),t.rc(697,";"),t.Nb(),t.rc(698,"\n\n    "),t.Ob(699,"span",20),t.rc(700,"// Check asset's tags for a specific group"),t.Nb(),t.rc(701,"\n    "),t.Ob(702,"span",10),t.rc(703,"return"),t.Nb(),t.rc(704," info"),t.Ob(705,"span",5),t.rc(706,"."),t.Nb(),t.rc(707,"metadata"),t.Ob(708,"span",14),t.rc(709,"?."),t.Nb(),t.rc(710,"tags"),t.Ob(711,"span",14),t.rc(712,"?."),t.Nb(),t.Ob(713,"span",3),t.rc(714,"includes"),t.Nb(),t.Ob(715,"span",5),t.rc(716,"("),t.Nb(),t.rc(717,"user"),t.Ob(718,"span",5),t.rc(719,"."),t.Nb(),t.rc(720,"group"),t.Ob(721,"span",5),t.rc(722,")"),t.Nb(),t.Ob(723,"span",5),t.rc(724,";"),t.Nb(),t.rc(725,"\n  "),t.Ob(726,"span",5),t.rc(727),t.Nb(),t.rc(728,"\n"),t.Ob(729,"span",5),t.rc(730),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(35),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(28),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(90),t.sc("}"),t.zb(20),t.sc("{"),t.zb(55),t.sc("}"),t.zb(3),t.sc("}"),t.zb(31),t.sc("{"),t.zb(41),t.sc("}"),t.zb(32),t.sc("{"),t.zb(54),t.sc("{"),t.zb(62),t.sc("}"),t.zb(5),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(20),t.sc("{"),t.zb(85),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),h=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-auth"]],decls:1102,vars:22,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","./src/types.ts#L4",1,"source-link"],["id","interfaces-primitives"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth/src/context.ts#L11",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth/src/context.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","comment"],[1,"token","class-name"],[1,"token","operator"],[1,"token","constant"],[1,"token","builtin"],["target","_blank","href","./src/types.ts#L26",1,"source-link"],["id","customization"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth/src/principal.ts#L9",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth/src/principal.ts"],[1,"item","method"],[1,"item","input"],["href","/docs/auth-model","title","Model-based authentication and registration support for the travetto framework",1,"module-link"],["id","common-utilities"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth/src/util.ts#L18",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth/src/util.ts"],[1,"token","function-variable","function"],[1,"token","parameter"],[1,"token","number"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Authentication "),t.Ob(3,"small"),t.rc(4,"Authentication scaffolding for the travetto framework"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/auth "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/auth"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides the high-level backdrop for managing security principals. The goal of this module is to be a centralized location for various security frameworks to plug into. The primary contributions are: "),t.Ob(17,"ul"),t.Ob(18,"li"),t.rc(19,"Interfaces for standard security primitive"),t.Nb(),t.Ob(20,"li"),t.rc(21,"Patterns for producing a "),t.Ob(22,"a",4),t.rc(23,"Principal"),t.Nb(),t.Nb(),t.Ob(24,"li"),t.rc(25,"Common security-related utilities for "),t.Ob(26,"ul"),t.Ob(27,"li"),t.rc(28,"Checking permissions"),t.Nb(),t.Ob(29,"li"),t.rc(30,"Generating passwords"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(31,"h2",5),t.rc(32,"Interfaces / Primitives"),t.Nb(),t.rc(33,"\nThe module's goal is to be as flexible as possible. To that end, the primary contract that this module defines, is that of the "),t.Ob(34,"a",6),t.rc(35,"AuthContext"),t.Nb(),t.rc(36,". "),t.Ob(37,"figure",7),t.Ob(38,"figcaption",7),t.rc(39,"Auth context structure "),t.Ob(40,"cite"),t.Ob(41,"a",8),t.rc(42,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(43,"pre"),t.Ob(44,"code",9),t.Ob(45,"span",10),t.rc(46,"import"),t.Nb(),t.rc(47," "),t.Ob(48,"span",11),t.rc(49),t.Nb(),t.rc(50," AppError "),t.Ob(51,"span",11),t.rc(52),t.Nb(),t.rc(53," "),t.Ob(54,"span",10),t.rc(55,"from"),t.Nb(),t.rc(56," "),t.Ob(57,"span",12),t.rc(58,"'@travetto/base'"),t.Nb(),t.Ob(59,"span",11),t.rc(60,";"),t.Nb(),t.rc(61,"\n"),t.Ob(62,"span",10),t.rc(63,"import"),t.Nb(),t.rc(64," "),t.Ob(65,"span",11),t.rc(66),t.Nb(),t.rc(67," AuthUtil "),t.Ob(68,"span",11),t.rc(69),t.Nb(),t.rc(70," "),t.Ob(71,"span",10),t.rc(72,"from"),t.Nb(),t.rc(73," "),t.Ob(74,"span",12),t.rc(75,"'./util'"),t.Nb(),t.Ob(76,"span",11),t.rc(77,";"),t.Nb(),t.rc(78,"\n"),t.Ob(79,"span",10),t.rc(80,"import"),t.Nb(),t.rc(81," "),t.Ob(82,"span",11),t.rc(83),t.Nb(),t.rc(84," Principal"),t.Ob(85,"span",11),t.rc(86,","),t.Nb(),t.rc(87," Identity "),t.Ob(88,"span",11),t.rc(89),t.Nb(),t.rc(90," "),t.Ob(91,"span",10),t.rc(92,"from"),t.Nb(),t.rc(93," "),t.Ob(94,"span",12),t.rc(95,"'./types'"),t.Nb(),t.Ob(96,"span",11),t.rc(97,";"),t.Nb(),t.rc(98,"\n"),t.Ob(99,"span",13),t.rc(100,"/**\n * Combination of an identity and a principal, to be used for\n * authorizing. Provides simple access to permissions and\n * additional principal details.\n */"),t.Nb(),t.rc(101,"\n"),t.Ob(102,"span",10),t.rc(103,"export"),t.Nb(),t.rc(104," "),t.Ob(105,"span",10),t.rc(106,"class"),t.Nb(),t.rc(107," "),t.Ob(108,"span",14),t.rc(109,"AuthContext"),t.Nb(),t.Ob(110,"span",15),t.rc(111,"<"),t.Nb(),t.rc(112,"\n  "),t.Ob(113,"span",16),t.rc(114,"U"),t.Nb(),t.rc(115," "),t.Ob(116,"span",15),t.rc(117,"="),t.Nb(),t.rc(118," "),t.Ob(119,"span",17),t.rc(120,"any"),t.Nb(),t.Ob(121,"span",11),t.rc(122,","),t.Nb(),t.rc(123,"\n  "),t.Ob(124,"span",16),t.rc(125,"I"),t.Nb(),t.rc(126," "),t.Ob(127,"span",10),t.rc(128,"extends"),t.Nb(),t.rc(129," "),t.Ob(130,"span",14),t.rc(131,"Identity"),t.Nb(),t.rc(132," "),t.Ob(133,"span",15),t.rc(134,"="),t.Nb(),t.rc(135," Identity"),t.Ob(136,"span",11),t.rc(137,","),t.Nb(),t.rc(138,"\n  "),t.Ob(139,"span",16),t.rc(140,"P"),t.Nb(),t.rc(141," "),t.Ob(142,"span",10),t.rc(143,"extends"),t.Nb(),t.rc(144," "),t.Ob(145,"span",14),t.rc(146,"Principal"),t.Nb(),t.rc(147," "),t.Ob(148,"span",15),t.rc(149,"="),t.Nb(),t.rc(150," Principal"),t.Ob(151,"span",15),t.rc(152,">"),t.Nb(),t.rc(153," "),t.Ob(154,"span",11),t.rc(155),t.Nb(),t.rc(156,"\n  "),t.Ob(157,"span",10),t.rc(158,"private"),t.Nb(),t.rc(159," permsSet"),t.Ob(160,"span",15),t.rc(161,":"),t.Nb(),t.rc(162," Set"),t.Ob(163,"span",15),t.rc(164,"<"),t.Nb(),t.Ob(165,"span",17),t.rc(166,"string"),t.Nb(),t.Ob(167,"span",15),t.rc(168,">"),t.Nb(),t.Ob(169,"span",11),t.rc(170,";"),t.Nb(),t.rc(171,"\n  "),t.Ob(172,"span",10),t.rc(173,"private"),t.Nb(),t.rc(174," permsArr"),t.Ob(175,"span",15),t.rc(176,":"),t.Nb(),t.rc(177," "),t.Ob(178,"span",17),t.rc(179,"string"),t.Nb(),t.Ob(180,"span",11),t.rc(181,"["),t.Nb(),t.Ob(182,"span",11),t.rc(183,"]"),t.Nb(),t.Ob(184,"span",11),t.rc(185,";"),t.Nb(),t.rc(186,"\n  "),t.Ob(187,"span",13),t.rc(188,"/**\n   * Identity of the context\n   */"),t.Nb(),t.rc(189,"\n  "),t.Ob(190,"span",10),t.rc(191,"public"),t.Nb(),t.rc(192," identity"),t.Ob(193,"span",15),t.rc(194,":"),t.Nb(),t.rc(195," "),t.Ob(196,"span",16),t.rc(197,"I"),t.Nb(),t.Ob(198,"span",11),t.rc(199,";"),t.Nb(),t.rc(200,"\n  "),t.Ob(201,"span",13),t.rc(202,"/**\n   * The principal of the context\n   */"),t.Nb(),t.rc(203,"\n  "),t.Ob(204,"span",10),t.rc(205,"public"),t.Nb(),t.rc(206," principal"),t.Ob(207,"span",15),t.rc(208,":"),t.Nb(),t.rc(209," "),t.Ob(210,"span",16),t.rc(211,"P"),t.Nb(),t.Ob(212,"span",11),t.rc(213,";"),t.Nb(),t.rc(214,"\n  "),t.Ob(215,"span",10),t.rc(216,"constructor"),t.Nb(),t.Ob(217,"span",11),t.rc(218,"("),t.Nb(),t.rc(219,"identity"),t.Ob(220,"span",15),t.rc(221,":"),t.Nb(),t.rc(222," "),t.Ob(223,"span",16),t.rc(224,"I"),t.Nb(),t.Ob(225,"span",11),t.rc(226,","),t.Nb(),t.rc(227," principal"),t.Ob(228,"span",15),t.rc(229,"?"),t.Nb(),t.Ob(230,"span",15),t.rc(231,":"),t.Nb(),t.rc(232," "),t.Ob(233,"span",16),t.rc(234,"P"),t.Nb(),t.Ob(235,"span",11),t.rc(236,")"),t.Nb(),t.rc(237," "),t.Ob(238,"span",11),t.rc(239,";"),t.Nb(),t.rc(240,"\n  "),t.Ob(241,"span",13),t.rc(242,"/**\n   * Get the principal/identity id\n   */"),t.Nb(),t.rc(243,"\n  "),t.Ob(244,"span",10),t.rc(245,"get"),t.Nb(),t.rc(246," "),t.Ob(247,"span",3),t.rc(248,"id"),t.Nb(),t.Ob(249,"span",11),t.rc(250,"("),t.Nb(),t.Ob(251,"span",11),t.rc(252,")"),t.Nb(),t.rc(253," "),t.Ob(254,"span",11),t.rc(255,";"),t.Nb(),t.rc(256,"\n  "),t.Ob(257,"span",13),t.rc(258,"/**\n   * Get list of permissions\n   */"),t.Nb(),t.rc(259,"\n  "),t.Ob(260,"span",10),t.rc(261,"get"),t.Nb(),t.rc(262," "),t.Ob(263,"span",3),t.rc(264,"permissions"),t.Nb(),t.Ob(265,"span",11),t.rc(266,"("),t.Nb(),t.Ob(267,"span",11),t.rc(268,")"),t.Nb(),t.Ob(269,"span",15),t.rc(270,":"),t.Nb(),t.rc(271," Readonly"),t.Ob(272,"span",15),t.rc(273,"<"),t.Nb(),t.Ob(274,"span",17),t.rc(275,"string"),t.Nb(),t.Ob(276,"span",11),t.rc(277,"["),t.Nb(),t.Ob(278,"span",11),t.rc(279,"]"),t.Nb(),t.Ob(280,"span",15),t.rc(281,">"),t.Nb(),t.rc(282," "),t.Ob(283,"span",11),t.rc(284,";"),t.Nb(),t.rc(285,"\n  "),t.Ob(286,"span",13),t.rc(287,"/**\n   * Set list of permissions\n   */"),t.Nb(),t.rc(288,"\n  "),t.Ob(289,"span",10),t.rc(290,"set"),t.Nb(),t.rc(291," "),t.Ob(292,"span",3),t.rc(293,"permissions"),t.Nb(),t.Ob(294,"span",11),t.rc(295,"("),t.Nb(),t.rc(296,"perms"),t.Ob(297,"span",15),t.rc(298,":"),t.Nb(),t.rc(299," Readonly"),t.Ob(300,"span",15),t.rc(301,"<"),t.Nb(),t.Ob(302,"span",17),t.rc(303,"string"),t.Nb(),t.Ob(304,"span",11),t.rc(305,"["),t.Nb(),t.Ob(306,"span",11),t.rc(307,"]"),t.Nb(),t.Ob(308,"span",15),t.rc(309,">"),t.Nb(),t.Ob(310,"span",11),t.rc(311,")"),t.Nb(),t.rc(312," "),t.Ob(313,"span",11),t.rc(314,";"),t.Nb(),t.rc(315,"\n  "),t.Ob(316,"span",13),t.rc(317,"/**\n   * Get permissions as a set\n   */"),t.Nb(),t.rc(318,"\n  "),t.Ob(319,"span",10),t.rc(320,"get"),t.Nb(),t.rc(321," "),t.Ob(322,"span",3),t.rc(323,"permissionSet"),t.Nb(),t.Ob(324,"span",11),t.rc(325,"("),t.Nb(),t.Ob(326,"span",11),t.rc(327,")"),t.Nb(),t.Ob(328,"span",15),t.rc(329,":"),t.Nb(),t.rc(330," ReadonlySet"),t.Ob(331,"span",15),t.rc(332,"<"),t.Nb(),t.Ob(333,"span",17),t.rc(334,"string"),t.Nb(),t.Ob(335,"span",15),t.rc(336,">"),t.Nb(),t.rc(337," "),t.Ob(338,"span",11),t.rc(339,";"),t.Nb(),t.rc(340,"\n  "),t.Ob(341,"span",13),t.rc(342,"/**\n   * Get principal's details\n   */"),t.Nb(),t.rc(343,"\n  "),t.Ob(344,"span",10),t.rc(345,"get"),t.Nb(),t.rc(346," "),t.Ob(347,"span",3),t.rc(348,"principalDetails"),t.Nb(),t.Ob(349,"span",11),t.rc(350,"("),t.Nb(),t.Ob(351,"span",11),t.rc(352,")"),t.Nb(),t.rc(353," "),t.Ob(354,"span",11),t.rc(355,";"),t.Nb(),t.rc(356,"\n  "),t.Ob(357,"span",13),t.rc(358,"/**\n   * Set principal's details\n   * @param details Details to set\n   */"),t.Nb(),t.rc(359,"\n  "),t.Ob(360,"span",10),t.rc(361,"set"),t.Nb(),t.rc(362," "),t.Ob(363,"span",3),t.rc(364,"principalDetails"),t.Nb(),t.Ob(365,"span",11),t.rc(366,"("),t.Nb(),t.rc(367,"details"),t.Ob(368,"span",15),t.rc(369,":"),t.Nb(),t.rc(370," "),t.Ob(371,"span",16),t.rc(372,"U"),t.Nb(),t.Ob(373,"span",11),t.rc(374,")"),t.Nb(),t.rc(375," "),t.Ob(376,"span",11),t.rc(377,";"),t.Nb(),t.rc(378,"\n  "),t.Ob(379,"span",13),t.rc(380,"/**\n   * Update the principal's details\n   * @param details Details to update\n   */"),t.Nb(),t.rc(381,"\n  "),t.Ob(382,"span",3),t.rc(383,"updatePrincipalDetails"),t.Nb(),t.Ob(384,"span",11),t.rc(385,"("),t.Nb(),t.rc(386,"details"),t.Ob(387,"span",15),t.rc(388,":"),t.Nb(),t.rc(389," "),t.Ob(390,"span",16),t.rc(391,"U"),t.Nb(),t.Ob(392,"span",11),t.rc(393,")"),t.Nb(),t.rc(394," "),t.Ob(395,"span",11),t.rc(396,";"),t.Nb(),t.rc(397,"\n  "),t.Ob(398,"span",13),t.rc(399,"/**\n   * Check permissions for a given principal\n   *\n   * @param include The list of permissions that should be included.\n   * @param exclude The list of permissions that should be excluded.\n   * @param matchAll Do all permissions need to be matched or any?\n   */"),t.Nb(),t.rc(400,"\n  "),t.Ob(401,"span",3),t.rc(402,"checkPermissions"),t.Nb(),t.Ob(403,"span",11),t.rc(404,"("),t.Nb(),t.rc(405,"include"),t.Ob(406,"span",15),t.rc(407,":"),t.Nb(),t.rc(408," Iterable"),t.Ob(409,"span",15),t.rc(410,"<"),t.Nb(),t.Ob(411,"span",17),t.rc(412,"string"),t.Nb(),t.Ob(413,"span",15),t.rc(414,">"),t.Nb(),t.Ob(415,"span",11),t.rc(416,","),t.Nb(),t.rc(417," exclude"),t.Ob(418,"span",15),t.rc(419,":"),t.Nb(),t.rc(420," Iterable"),t.Ob(421,"span",15),t.rc(422,"<"),t.Nb(),t.Ob(423,"span",17),t.rc(424,"string"),t.Nb(),t.Ob(425,"span",15),t.rc(426,">"),t.Nb(),t.Ob(427,"span",11),t.rc(428,","),t.Nb(),t.rc(429," mode"),t.Ob(430,"span",15),t.rc(431,":"),t.Nb(),t.rc(432," "),t.Ob(433,"span",12),t.rc(434,"'all'"),t.Nb(),t.rc(435," "),t.Ob(436,"span",15),t.rc(437,"|"),t.Nb(),t.rc(438," "),t.Ob(439,"span",12),t.rc(440,"'any'"),t.Nb(),t.rc(441," "),t.Ob(442,"span",15),t.rc(443,"="),t.Nb(),t.rc(444," "),t.Ob(445,"span",12),t.rc(446,"'any'"),t.Nb(),t.Ob(447,"span",11),t.rc(448,")"),t.Nb(),t.rc(449," "),t.Ob(450,"span",11),t.rc(451,";"),t.Nb(),t.rc(452,"\n"),t.Ob(453,"span",11),t.rc(454),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(455," As referenced above, a "),t.Ob(456,"a",4),t.rc(457,"Principal"),t.Nb(),t.rc(458," is defined as a user with respect to a security context. This is generally understood to be the information that the application knows about a user, specifically the configuration the application has about a user. Comparatively, "),t.Ob(459,"a",18),t.rc(460,"Identity"),t.Nb(),t.rc(461," is defined as an authenticated user session that can be provided by the application or derived from some other source. In simpler systems the identity will be equal to the principal, but in systems where you support 3rd party logins (e.g. Google/Facebook/Twitter/etc.) your identity will be external to the system. Overall, the structure is simple, but drives home the primary use cases of the framework. The goals are:\n"),t.Ob(462,"ul"),t.Ob(463,"li"),t.rc(464,"Be able to identify a user uniquely"),t.Nb(),t.Ob(465,"li"),t.rc(466,"To have a reference to a user's set of permissions"),t.Nb(),t.Ob(467,"li"),t.rc(468,"To have access to the raw principal"),t.Nb(),t.Ob(469,"li"),t.rc(470,"To have access to the raw identity"),t.Nb(),t.Nb(),t.Ob(471,"h2",19),t.rc(472,"Customization"),t.Nb(),t.rc(473,"\nBy default, the module does not provide an implementation for the "),t.Ob(474,"a",20),t.rc(475,"PrincipalSource"),t.Nb(),t.rc(476,". By default the structure of the provider can be boiled down to: "),t.Ob(477,"figure",7),t.Ob(478,"figcaption",7),t.rc(479,"Principal Source "),t.Ob(480,"cite"),t.Ob(481,"a",21),t.rc(482,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(483,"pre"),t.Ob(484,"code",9),t.Ob(485,"span",10),t.rc(486,"import"),t.Nb(),t.rc(487," "),t.Ob(488,"span",11),t.rc(489),t.Nb(),t.rc(490," AppError "),t.Ob(491,"span",11),t.rc(492),t.Nb(),t.rc(493," "),t.Ob(494,"span",10),t.rc(495,"from"),t.Nb(),t.rc(496," "),t.Ob(497,"span",12),t.rc(498,"'@travetto/base'"),t.Nb(),t.Ob(499,"span",11),t.rc(500,";"),t.Nb(),t.rc(501,"\n"),t.Ob(502,"span",10),t.rc(503,"import"),t.Nb(),t.rc(504," "),t.Ob(505,"span",11),t.rc(506),t.Nb(),t.rc(507," Identity"),t.Ob(508,"span",11),t.rc(509,","),t.Nb(),t.rc(510," Principal "),t.Ob(511,"span",11),t.rc(512),t.Nb(),t.rc(513," "),t.Ob(514,"span",10),t.rc(515,"from"),t.Nb(),t.rc(516," "),t.Ob(517,"span",12),t.rc(518,"'./types'"),t.Nb(),t.Ob(519,"span",11),t.rc(520,";"),t.Nb(),t.rc(521,"\n"),t.Ob(522,"span",10),t.rc(523,"import"),t.Nb(),t.rc(524," "),t.Ob(525,"span",11),t.rc(526),t.Nb(),t.rc(527," AuthContext "),t.Ob(528,"span",11),t.rc(529),t.Nb(),t.rc(530," "),t.Ob(531,"span",10),t.rc(532,"from"),t.Nb(),t.rc(533," "),t.Ob(534,"span",12),t.rc(535,"'./context'"),t.Nb(),t.Ob(536,"span",11),t.rc(537,";"),t.Nb(),t.rc(538,"\n"),t.Ob(539,"span",13),t.rc(540,"/**\n * Produces a principal from an identity\n */"),t.Nb(),t.rc(541,"\n"),t.Ob(542,"span",10),t.rc(543,"export"),t.Nb(),t.rc(544," "),t.Ob(545,"span",10),t.rc(546,"abstract"),t.Nb(),t.rc(547," "),t.Ob(548,"span",10),t.rc(549,"class"),t.Nb(),t.rc(550," "),t.Ob(551,"span",14),t.rc(552,"PrincipalSource"),t.Nb(),t.rc(553," "),t.Ob(554,"span",11),t.rc(555),t.Nb(),t.rc(556,"\n  "),t.Ob(557,"span",13),t.rc(558,"/**\n   * Optional ability to create a principal as opposed to just reading\n   * @param principal The principal to create\n   */"),t.Nb(),t.rc(559,"\n  createPrincipal"),t.Ob(560,"span",15),t.rc(561,"?"),t.Nb(),t.Ob(562,"span",11),t.rc(563,"("),t.Nb(),t.rc(564,"principal"),t.Ob(565,"span",15),t.rc(566,":"),t.Nb(),t.rc(567," Principal"),t.Ob(568,"span",11),t.rc(569,")"),t.Nb(),t.Ob(570,"span",15),t.rc(571,":"),t.Nb(),t.rc(572," "),t.Ob(573,"span",17),t.rc(574,"Promise"),t.Nb(),t.Ob(575,"span",15),t.rc(576,"<"),t.Nb();t.rc(577,"Principal"),t.Ob(578,"span",15),t.rc(579,">"),t.Nb(),t.Ob(580,"span",11),t.rc(581,";"),t.Nb(),t.rc(582,"\n  "),t.Ob(583,"span",13),t.rc(584,"/**\n   * Authorizes an identity to produce an AuthContext\n   * @param ident The identity to authorize\n   */"),t.Nb(),t.rc(585,"\n  "),t.Ob(586,"span",10),t.rc(587,"async"),t.Nb(),t.rc(588," "),t.Ob(589,"span",3),t.rc(590,"authorize"),t.Nb(),t.Ob(591,"span",11),t.rc(592,"("),t.Nb(),t.rc(593,"ident"),t.Ob(594,"span",15),t.rc(595,":"),t.Nb(),t.rc(596," Identity"),t.Ob(597,"span",11),t.rc(598,")"),t.Nb(),t.Ob(599,"span",15),t.rc(600,":"),t.Nb(),t.rc(601," "),t.Ob(602,"span",17),t.rc(603,"Promise"),t.Nb(),t.Ob(604,"span",15),t.rc(605,"<"),t.Nb(),t.rc(606,"AuthContext"),t.Ob(607,"span",15),t.rc(608,">"),t.Nb(),t.rc(609," "),t.Ob(610,"span",11),t.rc(611,";"),t.Nb(),t.rc(612,"\n"),t.Ob(613,"span",11),t.rc(614),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(615," The provider only requires one method to be defined, and that is "),t.Ob(616,"code",22),t.rc(617,"resolvePrincipal"),t.Nb(),t.rc(618,". This method receives an identity as an input, and is responsible for converting that to a principal (external user to internal user). If you want to be able to auto-provision users from a remote source, you can set "),t.Ob(619,"code",23),t.rc(620,"autoCreate"),t.Nb(),t.rc(621," to "),t.Ob(622,"code",23),t.rc(623,"true"),t.Nb(),t.rc(624,", and supply "),t.Ob(625,"code",22),t.rc(626,"createPrincipal"),t.Nb(),t.rc(627,"'s functionality for storing the user as well. The "),t.Ob(628,"a",24),t.rc(629,"Model Auth Source"),t.Nb(),t.rc(630," module is a good example of a principal provider that is also an identity source. This is a common use case for simple internal auth. "),t.Ob(631,"h2",25),t.rc(632,"Common Utilities"),t.Nb(),t.rc(633,"\nThe "),t.Ob(634,"a",26),t.rc(635,"AuthUtil"),t.Nb(),t.rc(636," provides the following functionality: "),t.Ob(637,"figure",7),t.Ob(638,"figcaption",7),t.rc(639,"Auth util structure "),t.Ob(640,"cite"),t.Ob(641,"a",27),t.rc(642,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(643,"pre"),t.Ob(644,"code",9),t.Ob(645,"span",10),t.rc(646,"import"),t.Nb(),t.rc(647," "),t.Ob(648,"span",15),t.rc(649,"*"),t.Nb(),t.rc(650," "),t.Ob(651,"span",10),t.rc(652,"as"),t.Nb(),t.rc(653," crypto "),t.Ob(654,"span",10),t.rc(655,"from"),t.Nb(),t.rc(656," "),t.Ob(657,"span",12),t.rc(658,"'crypto'"),t.Nb(),t.Ob(659,"span",11),t.rc(660,";"),t.Nb(),t.rc(661,"\n"),t.Ob(662,"span",10),t.rc(663,"import"),t.Nb(),t.rc(664," "),t.Ob(665,"span",15),t.rc(666,"*"),t.Nb(),t.rc(667," "),t.Ob(668,"span",10),t.rc(669,"as"),t.Nb(),t.rc(670," util "),t.Ob(671,"span",10),t.rc(672,"from"),t.Nb(),t.rc(673," "),t.Ob(674,"span",12),t.rc(675,"'util'"),t.Nb(),t.Ob(676,"span",11),t.rc(677,";"),t.Nb(),t.rc(678,"\n"),t.Ob(679,"span",10),t.rc(680,"import"),t.Nb(),t.rc(681," "),t.Ob(682,"span",11),t.rc(683),t.Nb(),t.rc(684," Util"),t.Ob(685,"span",11),t.rc(686,","),t.Nb(),t.rc(687," AppError "),t.Ob(688,"span",11),t.rc(689),t.Nb(),t.rc(690," "),t.Ob(691,"span",10),t.rc(692,"from"),t.Nb(),t.rc(693," "),t.Ob(694,"span",12),t.rc(695,"'@travetto/base'"),t.Nb(),t.Ob(696,"span",11),t.rc(697,";"),t.Nb(),t.rc(698,"\n"),t.Ob(699,"span",10),t.rc(700,"const"),t.Nb(),t.rc(701," pbkdf2 "),t.Ob(702,"span",15),t.rc(703,"="),t.Nb(),t.rc(704," util"),t.Ob(705,"span",11),t.rc(706,"."),t.Nb(),t.Ob(707,"span",3),t.rc(708,"promisify"),t.Nb(),t.Ob(709,"span",11),t.rc(710,"("),t.Nb(),t.rc(711,"crypto"),t.Ob(712,"span",11),t.rc(713,"."),t.Nb(),t.rc(714,"pbkdf2"),t.Ob(715,"span",11),t.rc(716,")"),t.Nb(),t.Ob(717,"span",11),t.rc(718,";"),t.Nb(),t.rc(719,"\n"),t.Ob(720,"span",10),t.rc(721,"type"),t.Nb(),t.rc(722," PermSet "),t.Ob(723,"span",15),t.rc(724,"="),t.Nb(),t.rc(725," Set"),t.Ob(726,"span",15),t.rc(727,"<"),t.Nb(),t.Ob(728,"span",17),t.rc(729,"string"),t.Nb(),t.Ob(730,"span",15),t.rc(731,">"),t.Nb(),t.rc(732," "),t.Ob(733,"span",15),t.rc(734,"|"),t.Nb(),t.rc(735," ReadonlySet"),t.Ob(736,"span",15),t.rc(737,"<"),t.Nb(),t.Ob(738,"span",17),t.rc(739,"string"),t.Nb(),t.Ob(740,"span",15),t.rc(741,">"),t.Nb(),t.Ob(742,"span",11),t.rc(743,";"),t.Nb(),t.rc(744,"\n"),t.Ob(745,"span",10),t.rc(746,"type"),t.Nb(),t.rc(747," PermissionChecker "),t.Ob(748,"span",15),t.rc(749,"="),t.Nb(),t.rc(750," "),t.Ob(751,"span",11),t.rc(752),t.Nb(),t.rc(753,"\n  "),t.Ob(754,"span",28),t.rc(755,"all"),t.Nb(),t.Ob(756,"span",15),t.rc(757,":"),t.Nb(),t.rc(758," "),t.Ob(759,"span",11),t.rc(760,"("),t.Nb(),t.Ob(761,"span",29),t.rc(762,"perms"),t.Ob(763,"span",15),t.rc(764,":"),t.Nb(),t.rc(765," PermSet"),t.Nb(),t.Ob(766,"span",11),t.rc(767,")"),t.Nb(),t.rc(768," "),t.Ob(769,"span",15),t.rc(770,"=>"),t.Nb(),t.rc(771," "),t.Ob(772,"span",17),t.rc(773,"boolean"),t.Nb(),t.Ob(774,"span",11),t.rc(775,";"),t.Nb(),t.rc(776,"\n  "),t.Ob(777,"span",28),t.rc(778,"any"),t.Nb(),t.Ob(779,"span",15),t.rc(780,":"),t.Nb(),t.rc(781," "),t.Ob(782,"span",11),t.rc(783,"("),t.Nb(),t.Ob(784,"span",29),t.rc(785,"perms"),t.Ob(786,"span",15),t.rc(787,":"),t.Nb(),t.rc(788," PermSet"),t.Nb(),t.Ob(789,"span",11),t.rc(790,")"),t.Nb(),t.rc(791," "),t.Ob(792,"span",15),t.rc(793,"=>"),t.Nb(),t.rc(794," "),t.Ob(795,"span",17),t.rc(796,"boolean"),t.Nb(),t.Ob(797,"span",11),t.rc(798,";"),t.Nb(),t.rc(799,"\n"),t.Ob(800,"span",11),t.rc(801),t.Nb(),t.Ob(802,"span",11),t.rc(803,";"),t.Nb(),t.rc(804,"\n"),t.Ob(805,"span",13),t.rc(806,"/**\n * Standard auth utilities\n */"),t.Nb(),t.rc(807,"\n"),t.Ob(808,"span",10),t.rc(809,"export"),t.Nb(),t.rc(810," "),t.Ob(811,"span",10),t.rc(812,"class"),t.Nb(),t.rc(813," "),t.Ob(814,"span",14),t.rc(815,"AuthUtil"),t.Nb(),t.rc(816," "),t.Ob(817,"span",11),t.rc(818),t.Nb(),t.rc(819,"\n  "),t.Ob(820,"span",10),t.rc(821,"private"),t.Nb(),t.rc(822," "),t.Ob(823,"span",10),t.rc(824,"static"),t.Nb(),t.rc(825," "),t.Ob(826,"span",16),t.rc(827,"CHECK_EXC_CACHE"),t.Nb(),t.rc(828," "),t.Ob(829,"span",15),t.rc(830,"="),t.Nb(),t.rc(831," "),t.Ob(832,"span",10),t.rc(833,"new"),t.Nb(),t.rc(834," "),t.Ob(835,"span",14),t.rc(836,"Map"),t.Nb(),t.Ob(837,"span",15),t.rc(838,"<"),t.Nb(),t.Ob(839,"span",17),t.rc(840,"string"),t.Nb(),t.Ob(841,"span",11),t.rc(842,","),t.Nb(),t.rc(843," PermissionChecker"),t.Ob(844,"span",15),t.rc(845,">"),t.Nb(),t.Ob(846,"span",11),t.rc(847,"("),t.Nb(),t.Ob(848,"span",11),t.rc(849,")"),t.Nb(),t.Ob(850,"span",11),t.rc(851,";"),t.Nb(),t.rc(852,"\n  "),t.Ob(853,"span",10),t.rc(854,"private"),t.Nb(),t.rc(855," "),t.Ob(856,"span",10),t.rc(857,"static"),t.Nb(),t.rc(858," "),t.Ob(859,"span",16),t.rc(860,"CHECK_INC_CACHE"),t.Nb(),t.rc(861," "),t.Ob(862,"span",15),t.rc(863,"="),t.Nb(),t.rc(864," "),t.Ob(865,"span",10),t.rc(866,"new"),t.Nb(),t.rc(867," "),t.Ob(868,"span",14),t.rc(869,"Map"),t.Nb(),t.Ob(870,"span",15),t.rc(871,"<"),t.Nb(),t.Ob(872,"span",17),t.rc(873,"string"),t.Nb(),t.Ob(874,"span",11),t.rc(875,","),t.Nb(),t.rc(876," PermissionChecker"),t.Ob(877,"span",15),t.rc(878,">"),t.Nb(),t.Ob(879,"span",11),t.rc(880,"("),t.Nb(),t.Ob(881,"span",11),t.rc(882,")"),t.Nb(),t.Ob(883,"span",11),t.rc(884,";"),t.Nb(),t.rc(885,"\n  "),t.Ob(886,"span",13),t.rc(887,"/**\n   * Build a permission checker against the provided permissions\n   *\n   * @param perms Set of permissions to check\n   * @param defaultIfEmpty If no perms passed, default to empty\n   */"),t.Nb(),t.rc(888,"\n  "),t.Ob(889,"span",10),t.rc(890,"private"),t.Nb(),t.rc(891," "),t.Ob(892,"span",10),t.rc(893,"static"),t.Nb(),t.rc(894," "),t.Ob(895,"span",3),t.rc(896,"buildChecker"),t.Nb(),t.Ob(897,"span",11),t.rc(898,"("),t.Nb(),t.rc(899,"perms"),t.Ob(900,"span",15),t.rc(901,":"),t.Nb(),t.rc(902," Iterable"),t.Ob(903,"span",15),t.rc(904,"<"),t.Nb(),t.Ob(905,"span",17),t.rc(906,"string"),t.Nb(),t.Ob(907,"span",15),t.rc(908,">"),t.Nb(),t.Ob(909,"span",11),t.rc(910,","),t.Nb(),t.rc(911," defaultIfEmpty"),t.Ob(912,"span",15),t.rc(913,":"),t.Nb(),t.rc(914," "),t.Ob(915,"span",17),t.rc(916,"boolean"),t.Nb(),t.Ob(917,"span",11),t.rc(918,")"),t.Nb(),t.Ob(919,"span",15),t.rc(920,":"),t.Nb(),t.rc(921," PermissionChecker "),t.Ob(922,"span",11),t.rc(923,";"),t.Nb(),t.rc(924,"\n  "),t.Ob(925,"span",13),t.rc(926,"/**\n   * Generate a hash for a given value\n   *\n   * @param value Value to hash\n   * @param salt The salt value\n   * @param iterations Number of iterations on hashing\n   * @param keylen Length of hash\n   * @param digest Digest method\n   */"),t.Nb(),t.rc(927,"\n  "),t.Ob(928,"span",10),t.rc(929,"static"),t.Nb(),t.rc(930," "),t.Ob(931,"span",3),t.rc(932,"generateHash"),t.Nb(),t.Ob(933,"span",11),t.rc(934,"("),t.Nb(),t.rc(935,"value"),t.Ob(936,"span",15),t.rc(937,":"),t.Nb(),t.rc(938," "),t.Ob(939,"span",17),t.rc(940,"string"),t.Nb(),t.Ob(941,"span",11),t.rc(942,","),t.Nb(),t.rc(943," salt"),t.Ob(944,"span",15),t.rc(945,":"),t.Nb(),t.rc(946," "),t.Ob(947,"span",17),t.rc(948,"string"),t.Nb(),t.Ob(949,"span",11),t.rc(950,","),t.Nb(),t.rc(951," iterations "),t.Ob(952,"span",15),t.rc(953,"="),t.Nb(),t.rc(954," "),t.Ob(955,"span",30),t.rc(956,"25000"),t.Nb(),t.Ob(957,"span",11),t.rc(958,","),t.Nb(),t.rc(959," keylen "),t.Ob(960,"span",15),t.rc(961,"="),t.Nb(),t.rc(962," "),t.Ob(963,"span",30),t.rc(964,"256"),t.Nb(),t.Ob(965,"span",11),t.rc(966,","),t.Nb(),t.rc(967," digest "),t.Ob(968,"span",15),t.rc(969,"="),t.Nb(),t.rc(970," "),t.Ob(971,"span",12),t.rc(972,"'sha256'"),t.Nb(),t.Ob(973,"span",11),t.rc(974,")"),t.Nb(),t.rc(975," "),t.Ob(976,"span",11),t.rc(977,";"),t.Nb(),t.rc(978,"\n  "),t.Ob(979,"span",13),t.rc(980,"/**\n   * Generate a salted password, with the ability to validate the password\n   *\n   * @param password\n   * @param saltLen Length of salt\n   * @param validator Optional function to validate your password\n   */"),t.Nb(),t.rc(981,"\n  "),t.Ob(982,"span",10),t.rc(983,"static"),t.Nb(),t.rc(984," "),t.Ob(985,"span",10),t.rc(986,"async"),t.Nb(),t.rc(987," "),t.Ob(988,"span",3),t.rc(989,"generatePassword"),t.Nb(),t.Ob(990,"span",11),t.rc(991,"("),t.Nb(),t.rc(992,"password"),t.Ob(993,"span",15),t.rc(994,":"),t.Nb(),t.rc(995," "),t.Ob(996,"span",17),t.rc(997,"string"),t.Nb(),t.Ob(998,"span",11),t.rc(999,","),t.Nb(),t.rc(1e3," saltLen "),t.Ob(1001,"span",15),t.rc(1002,"="),t.Nb(),t.rc(1003," "),t.Ob(1004,"span",30),t.rc(1005,"32"),t.Nb(),t.Ob(1006,"span",11),t.rc(1007,")"),t.Nb(),t.rc(1008," "),t.Ob(1009,"span",11),t.rc(1010,";"),t.Nb(),t.rc(1011,"\n  "),t.Ob(1012,"span",13),t.rc(1013,"/**\n   * Build a permission checker off of an include, and exclude set\n   *\n   * @param include Which permissions to include\n   * @param exclude Which permissions to exclude\n   * @param matchAll Whether not all permissions should be matched\n   */"),t.Nb(),t.rc(1014,"\n  "),t.Ob(1015,"span",10),t.rc(1016,"static"),t.Nb(),t.rc(1017," "),t.Ob(1018,"span",3),t.rc(1019,"permissionSetChecker"),t.Nb(),t.Ob(1020,"span",11),t.rc(1021,"("),t.Nb(),t.rc(1022,"include"),t.Ob(1023,"span",15),t.rc(1024,":"),t.Nb(),t.rc(1025," Iterable"),t.Ob(1026,"span",15),t.rc(1027,"<"),t.Nb(),t.Ob(1028,"span",17),t.rc(1029,"string"),t.Nb(),t.Ob(1030,"span",15),t.rc(1031,">"),t.Nb(),t.Ob(1032,"span",11),t.rc(1033,","),t.Nb(),t.rc(1034," exclude"),t.Ob(1035,"span",15),t.rc(1036,":"),t.Nb(),t.rc(1037," Iterable"),t.Ob(1038,"span",15),t.rc(1039,"<"),t.Nb(),t.Ob(1040,"span",17),t.rc(1041,"string"),t.Nb(),t.Ob(1042,"span",15),t.rc(1043,">"),t.Nb(),t.Ob(1044,"span",11),t.rc(1045,","),t.Nb(),t.rc(1046," mode"),t.Ob(1047,"span",15),t.rc(1048,":"),t.Nb(),t.rc(1049," "),t.Ob(1050,"span",12),t.rc(1051,"'all'"),t.Nb(),t.rc(1052," "),t.Ob(1053,"span",15),t.rc(1054,"|"),t.Nb(),t.rc(1055," "),t.Ob(1056,"span",12),t.rc(1057,"'any'"),t.Nb(),t.rc(1058," "),t.Ob(1059,"span",15),t.rc(1060,"="),t.Nb(),t.rc(1061," "),t.Ob(1062,"span",12),t.rc(1063,"'any'"),t.Nb(),t.Ob(1064,"span",11),t.rc(1065,")"),t.Nb(),t.rc(1066," "),t.Ob(1067,"span",11),t.rc(1068,";"),t.Nb(),t.rc(1069,"\n"),t.Ob(1070,"span",11),t.rc(1071),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1072,"code",22),t.rc(1073,"permissionSetChecker"),t.Nb(),t.rc(1074," is probably the only functionality that needs to be explained. The function operates in a "),t.Ob(1075,"code",23),t.rc(1076,"DENY"),t.Nb(),t.rc(1077," / "),t.Ob(1078,"code",23),t.rc(1079,"ALLOW"),t.Nb(),t.rc(1080," mode. This means that a permission check will succeed only if: "),t.Ob(1081,"ul"),t.Ob(1082,"li"),t.rc(1083,"The user is logged in "),t.Ob(1084,"ul"),t.Ob(1085,"li"),t.rc(1086,"If "),t.Ob(1087,"code",23),t.rc(1088,"matchAll"),t.Nb(),t.rc(1089," is false: "),t.Ob(1090,"ul"),t.Ob(1091,"li"),t.rc(1092,"The user does not have any permissions in the exclusion list"),t.Nb(),t.Ob(1093,"li"),t.rc(1094,"The include list is empty, or the user has at least one permission in the include list."),t.Nb(),t.Nb(),t.Nb(),t.Ob(1095,"li"),t.rc(1096,"Else "),t.Ob(1097,"ul"),t.Ob(1098,"li"),t.rc(1099,"The user does not have all permissions in the exclusion list"),t.Nb(),t.Ob(1100,"li"),t.rc(1101,"The include list is empty, or the user has all permissions in the include list."),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(49),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(66),t.sc("{"),t.zb(299),t.sc("}"),t.zb(35),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(59),t.sc("}"),t.zb(69),t.sc("{"),t.zb(6),t.sc("}"),t.zb(63),t.sc("{"),t.zb(49),t.sc("}"),t.zb(17),t.sc("{"),t.zb(253),t.sc("}"))},styles:[""]}),r}(),d=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-email"]],decls:436,vars:32,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email/src/transport.ts#L13",1,"source-link"],["target","_blank","href","https://nodemailer.com/about/",1,"external-link"],["target","_blank","href","src/types.ts#L36",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email/alt/docs/src/null.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","meta"],[1,"item","input"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email/src/config.ts#L7",1,"source-link"],["id","nodmailer-extension"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email/alt/docs/src/sendmail.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email/alt/docs/src/smtp.ts"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email/alt/docs/src/ses.ts"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Email "),t.Ob(3,"small"),t.rc(4,"Email transmission module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/email "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/email"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," A standard API for sending and rendering emails. The mail transport must be defined to allow for mail to be sent properly. Out of the box, the only transport available by default is the "),t.Ob(17,"a",4),t.rc(18,"NullTransport"),t.Nb(),t.rc(19," which will just drop emails. The structure of the API is derived from "),t.Ob(20,"a",5),t.rc(21,"nodemailer"),t.Nb(),t.rc(22,", but is compatible with any library that can handle the "),t.Ob(23,"a",6),t.rc(24,"MessageOptions"),t.Nb(),t.rc(25," input. To expose the necessary email transport, the following pattern is commonly used: "),t.Ob(26,"figure",7),t.Ob(27,"figcaption",7),t.rc(28,"Declaring the null transport for development "),t.Ob(29,"cite"),t.Ob(30,"a",8),t.rc(31,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(32,"pre"),t.Ob(33,"code",9),t.Ob(34,"span",10),t.rc(35,"import"),t.Nb(),t.rc(36," "),t.Ob(37,"span",11),t.rc(38),t.Nb(),t.rc(39," InjectableFactory "),t.Ob(40,"span",11),t.rc(41),t.Nb(),t.rc(42," "),t.Ob(43,"span",10),t.rc(44,"from"),t.Nb(),t.rc(45," "),t.Ob(46,"span",12),t.rc(47,"'@travetto/di'"),t.Nb(),t.Ob(48,"span",11),t.rc(49,";"),t.Nb(),t.rc(50,"\n"),t.Ob(51,"span",10),t.rc(52,"import"),t.Nb(),t.rc(53," "),t.Ob(54,"span",11),t.rc(55),t.Nb(),t.rc(56," NullTransport "),t.Ob(57,"span",11),t.rc(58),t.Nb(),t.rc(59," "),t.Ob(60,"span",10),t.rc(61,"from"),t.Nb(),t.rc(62," "),t.Ob(63,"span",12),t.rc(64,"'@travetto/email/src/transport'"),t.Nb(),t.Ob(65,"span",11),t.rc(66,";"),t.Nb(),t.rc(67,"\n\n"),t.Ob(68,"span",10),t.rc(69,"class"),t.Nb(),t.rc(70," "),t.Ob(71,"span",13),t.rc(72,"Config"),t.Nb(),t.rc(73," "),t.Ob(74,"span",11),t.rc(75),t.Nb(),t.rc(76,"\n  @"),t.Ob(77,"span",14),t.rc(78,"InjectableFactory"),t.Nb(),t.Ob(79,"span",11),t.rc(80,"("),t.Nb(),t.Ob(81,"span",11),t.rc(82,")"),t.Nb(),t.rc(83,"\n  "),t.Ob(84,"span",10),t.rc(85,"static"),t.Nb(),t.rc(86," "),t.Ob(87,"span",3),t.rc(88,"getTransport"),t.Nb(),t.Ob(89,"span",11),t.rc(90,"("),t.Nb(),t.Ob(91,"span",11),t.rc(92,")"),t.Nb(),t.rc(93," "),t.Ob(94,"span",11),t.rc(95),t.Nb(),t.rc(96,"\n    "),t.Ob(97,"span",10),t.rc(98,"return"),t.Nb(),t.rc(99," "),t.Ob(100,"span",10),t.rc(101,"new"),t.Nb(),t.rc(102," "),t.Ob(103,"span",13),t.rc(104,"NullTransport"),t.Nb(),t.Ob(105,"span",11),t.rc(106,"("),t.Nb(),t.Ob(107,"span",11),t.rc(108,")"),t.Nb(),t.Ob(109,"span",11),t.rc(110,";"),t.Nb(),t.rc(111,"\n  "),t.Ob(112,"span",11),t.rc(113),t.Nb(),t.rc(114,"\n"),t.Ob(115,"span",11),t.rc(116),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(117," Given the amorphous nature of transports, the "),t.Ob(118,"code",15),t.rc(119,"transport"),t.Nb(),t.rc(120," field in "),t.Ob(121,"a",16),t.rc(122,"MailConfig"),t.Nb(),t.rc(123," is open for any configuration that you may want there. Additionally, the templating engine is optional. The code will only fail if you attempt to send a templated email without declaring the dependency first. "),t.Ob(124,"h2",17),t.rc(125,"Nodmailer - Extension"),t.Nb(),t.rc(126," Due to the connection with "),t.Ob(127,"a",5),t.rc(128,"nodemailer"),t.Nb(),t.rc(129,", all extensions should be usable out of the box. The primary "),t.Ob(130,"a",5),t.rc(131,"nodemailer"),t.Nb(),t.rc(132," modules are provided (assuming dependencies are installed): "),t.Ob(133,"figure",7),t.Ob(134,"figcaption",7),t.Ob(135,"code",15),t.rc(136,"sendmail"),t.Nb(),t.rc(137," to send all messages via the sendmail operation "),t.Ob(138,"cite"),t.Ob(139,"a",18),t.rc(140,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(141,"pre"),t.Ob(142,"code",9),t.Ob(143,"span",10),t.rc(144,"import"),t.Nb(),t.rc(145," "),t.Ob(146,"span",11),t.rc(147),t.Nb(),t.rc(148," NodemailerTransport "),t.Ob(149,"span",11),t.rc(150),t.Nb(),t.rc(151," "),t.Ob(152,"span",10),t.rc(153,"from"),t.Nb(),t.rc(154," "),t.Ob(155,"span",12),t.rc(156,"'@travetto/email'"),t.Nb(),t.Ob(157,"span",11),t.rc(158,";"),t.Nb(),t.rc(159,"\n"),t.Ob(160,"span",10),t.rc(161,"import"),t.Nb(),t.rc(162," "),t.Ob(163,"span",11),t.rc(164),t.Nb(),t.rc(165," InjectableFactory "),t.Ob(166,"span",11),t.rc(167),t.Nb(),t.rc(168," "),t.Ob(169,"span",10),t.rc(170,"from"),t.Nb(),t.rc(171," "),t.Ob(172,"span",12),t.rc(173,"'@travetto/di'"),t.Nb(),t.Ob(174,"span",11),t.rc(175,";"),t.Nb(),t.rc(176,"\n\n"),t.Ob(177,"span",10),t.rc(178,"class"),t.Nb(),t.rc(179," "),t.Ob(180,"span",13),t.rc(181,"Config"),t.Nb(),t.rc(182," "),t.Ob(183,"span",11),t.rc(184),t.Nb(),t.rc(185,"\n  @"),t.Ob(186,"span",14),t.rc(187,"InjectableFactory"),t.Nb(),t.Ob(188,"span",11),t.rc(189,"("),t.Nb(),t.Ob(190,"span",11),t.rc(191,")"),t.Nb(),t.rc(192,"\n  "),t.Ob(193,"span",10),t.rc(194,"static"),t.Nb(),t.rc(195," "),t.Ob(196,"span",3),t.rc(197,"getTransport"),t.Nb(),t.Ob(198,"span",11),t.rc(199,"("),t.Nb(),t.Ob(200,"span",11),t.rc(201,")"),t.Nb(),t.rc(202," "),t.Ob(203,"span",11),t.rc(204),t.Nb(),t.rc(205,"\n    "),t.Ob(206,"span",10),t.rc(207,"return"),t.Nb(),t.rc(208," "),t.Ob(209,"span",10),t.rc(210,"new"),t.Nb(),t.rc(211," "),t.Ob(212,"span",13),t.rc(213,"NodemailerTransport"),t.Nb(),t.Ob(214,"span",11),t.rc(215,"("),t.Nb(),t.Ob(216,"span",10),t.rc(217,"require"),t.Nb(),t.Ob(218,"span",11),t.rc(219,"("),t.Nb(),t.Ob(220,"span",12),t.rc(221,"'nodemailer-sendmail-transport'"),t.Nb(),t.Ob(222,"span",11),t.rc(223,")"),t.Nb(),t.Ob(224,"span",11),t.rc(225,")"),t.Nb(),t.Ob(226,"span",11),t.rc(227,";"),t.Nb(),t.rc(228,"\n  "),t.Ob(229,"span",11),t.rc(230),t.Nb(),t.rc(231,"\n"),t.Ob(232,"span",11),t.rc(233),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(234,"figure",7),t.Ob(235,"figcaption",7),t.Ob(236,"code",15),t.rc(237,"smtp"),t.Nb(),t.rc(238," to send all messages via the smtp operation "),t.Ob(239,"cite"),t.Ob(240,"a",19),t.rc(241,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(242,"pre"),t.Ob(243,"code",9),t.Ob(244,"span",10),t.rc(245,"import"),t.Nb(),t.rc(246," "),t.Ob(247,"span",11),t.rc(248),t.Nb(),t.rc(249," NodemailerTransport "),t.Ob(250,"span",11),t.rc(251),t.Nb(),t.rc(252," "),t.Ob(253,"span",10),t.rc(254,"from"),t.Nb(),t.rc(255," "),t.Ob(256,"span",12),t.rc(257,"'@travetto/email'"),t.Nb(),t.Ob(258,"span",11),t.rc(259,";"),t.Nb(),t.rc(260,"\n"),t.Ob(261,"span",10),t.rc(262,"import"),t.Nb(),t.rc(263," "),t.Ob(264,"span",11),t.rc(265),t.Nb(),t.rc(266," InjectableFactory "),t.Ob(267,"span",11),t.rc(268),t.Nb(),t.rc(269," "),t.Ob(270,"span",10),t.rc(271,"from"),t.Nb(),t.rc(272," "),t.Ob(273,"span",12),t.rc(274,"'@travetto/di'"),t.Nb(),t.Ob(275,"span",11),t.rc(276,";"),t.Nb(),t.rc(277,"\n\n"),t.Ob(278,"span",10),t.rc(279,"class"),t.Nb(),t.rc(280," "),t.Ob(281,"span",13),t.rc(282,"Config"),t.Nb(),t.rc(283," "),t.Ob(284,"span",11),t.rc(285),t.Nb(),t.rc(286,"\n  @"),t.Ob(287,"span",14),t.rc(288,"InjectableFactory"),t.Nb(),t.Ob(289,"span",11),t.rc(290,"("),t.Nb(),t.Ob(291,"span",11),t.rc(292,")"),t.Nb(),t.rc(293,"\n  "),t.Ob(294,"span",10),t.rc(295,"static"),t.Nb(),t.rc(296," "),t.Ob(297,"span",3),t.rc(298,"getTransport"),t.Nb(),t.Ob(299,"span",11),t.rc(300,"("),t.Nb(),t.Ob(301,"span",11),t.rc(302,")"),t.Nb(),t.rc(303," "),t.Ob(304,"span",11),t.rc(305),t.Nb(),t.rc(306,"\n    "),t.Ob(307,"span",10),t.rc(308,"return"),t.Nb(),t.rc(309," "),t.Ob(310,"span",10),t.rc(311,"new"),t.Nb(),t.rc(312," "),t.Ob(313,"span",13),t.rc(314,"NodemailerTransport"),t.Nb(),t.Ob(315,"span",11),t.rc(316,"("),t.Nb(),t.Ob(317,"span",10),t.rc(318,"require"),t.Nb(),t.Ob(319,"span",11),t.rc(320,"("),t.Nb(),t.Ob(321,"span",12),t.rc(322,"'nodemailer-smtp-transport'"),t.Nb(),t.Ob(323,"span",11),t.rc(324,")"),t.Nb(),t.Ob(325,"span",11),t.rc(326,")"),t.Nb(),t.Ob(327,"span",11),t.rc(328,";"),t.Nb(),t.rc(329,"\n  "),t.Ob(330,"span",11),t.rc(331),t.Nb(),t.rc(332,"\n"),t.Ob(333,"span",11),t.rc(334),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(335,"figure",7),t.Ob(336,"figcaption",7),t.Ob(337,"code",15),t.rc(338,"ses"),t.Nb(),t.rc(339," to send all messages via the ses operation "),t.Ob(340,"cite"),t.Ob(341,"a",20),t.rc(342,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(343,"pre"),t.Ob(344,"code",9),t.Ob(345,"span",10),t.rc(346,"import"),t.Nb(),t.rc(347," "),t.Ob(348,"span",11),t.rc(349),t.Nb(),t.rc(350," NodemailerTransport "),t.Ob(351,"span",11),t.rc(352),t.Nb(),t.rc(353," "),t.Ob(354,"span",10),t.rc(355,"from"),t.Nb(),t.rc(356," "),t.Ob(357,"span",12),t.rc(358,"'@travetto/email'"),t.Nb(),t.Ob(359,"span",11),t.rc(360,";"),t.Nb(),t.rc(361,"\n"),t.Ob(362,"span",10),t.rc(363,"import"),t.Nb(),t.rc(364," "),t.Ob(365,"span",11),t.rc(366),t.Nb(),t.rc(367," InjectableFactory "),t.Ob(368,"span",11),t.rc(369),t.Nb(),t.rc(370," "),t.Ob(371,"span",10),t.rc(372,"from"),t.Nb(),t.rc(373," "),t.Ob(374,"span",12),t.rc(375,"'@travetto/di'"),t.Nb(),t.Ob(376,"span",11),t.rc(377,";"),t.Nb(),t.rc(378,"\n\n"),t.Ob(379,"span",10),t.rc(380,"class"),t.Nb(),t.rc(381," "),t.Ob(382,"span",13),t.rc(383,"Config"),t.Nb(),t.rc(384," "),t.Ob(385,"span",11),t.rc(386),t.Nb(),t.rc(387,"\n  @"),t.Ob(388,"span",14),t.rc(389,"InjectableFactory"),t.Nb(),t.Ob(390,"span",11),t.rc(391,"("),t.Nb(),t.Ob(392,"span",11),t.rc(393,")"),t.Nb(),t.rc(394,"\n  "),t.Ob(395,"span",10),t.rc(396,"static"),t.Nb(),t.rc(397," "),t.Ob(398,"span",3),t.rc(399,"getTransport"),t.Nb(),t.Ob(400,"span",11),t.rc(401,"("),t.Nb(),t.Ob(402,"span",11),t.rc(403,")"),t.Nb(),t.rc(404," "),t.Ob(405,"span",11),t.rc(406),t.Nb(),t.rc(407,"\n    "),t.Ob(408,"span",10),t.rc(409,"return"),t.Nb(),t.rc(410," "),t.Ob(411,"span",10),t.rc(412,"new"),t.Nb(),t.rc(413," "),t.Ob(414,"span",13),t.rc(415,"NodemailerTransport"),t.Nb(),t.Ob(416,"span",11),t.rc(417,"("),t.Nb(),t.Ob(418,"span",10),t.rc(419,"require"),t.Nb(),t.Ob(420,"span",11),t.rc(421,"("),t.Nb(),t.Ob(422,"span",12),t.rc(423,"'nodemailer-ses-transport'"),t.Nb(),t.Ob(424,"span",11),t.rc(425,")"),t.Nb(),t.Ob(426,"span",11),t.rc(427,")"),t.Nb(),t.Ob(428,"span",11),t.rc(429,";"),t.Nb(),t.rc(430,"\n  "),t.Ob(431,"span",11),t.rc(432),t.Nb(),t.rc(433,"\n"),t.Ob(434,"span",11),t.rc(435),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(38),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(20),t.sc("{"),t.zb(18),t.sc("}"),t.zb(3),t.sc("}"),t.zb(31),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(20),t.sc("{"),t.zb(26),t.sc("}"),t.zb(3),t.sc("}"),t.zb(15),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(20),t.sc("{"),t.zb(26),t.sc("}"),t.zb(3),t.sc("}"),t.zb(15),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(20),t.sc("{"),t.zb(26),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),f=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-model-elasticsearch"]],decls:595,vars:34,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://elastic.co",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/service/source.ts#L58",1,"source-link"],["href","/docs/model","title","Datastore abstraction for CRUD operations with advanced query support.",1,"module-link"],["href","/docs/di","title","Dependency registration/management and injection support.",1,"module-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-elasticsearch/alt/docs/src/source.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","meta"],[1,"token","operator"],[1,"token","boolean"],[1,"token","parameter"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-elasticsearch/src/config.ts#L9",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-elasticsearch/src/config.ts"],[1,"token","comment"],[1,"token","number"],[1,"token","builtin"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],["href","/docs/config","title","Environment-aware config management using yaml files",1,"module-link"],["id","cli-model-es-schema"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/registry/decorator.ts#L12",1,"source-link"],["target","_blank","href","https://www.json.org",1,"external-link"],[1,"terminal"],[1,"token","builtin","class-name"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Elasticsearch Model Source "),t.Ob(3,"small"),t.rc(4,"Elasticsearch backing for the travetto model module, with real-time modeling support for Elasticsearch mappings."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/model-elasticsearch "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/model-elasticsearch"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides an "),t.Ob(17,"a",4),t.rc(18,"elasticsearch"),t.Nb(),t.rc(19,"-based implementation of "),t.Ob(20,"a",5),t.rc(21,"ModelSource"),t.Nb(),t.rc(22," for the "),t.Ob(23,"a",6),t.rc(24,"Data Modeling"),t.Nb(),t.rc(25,". This source allows the "),t.Ob(26,"a",6),t.rc(27,"Data Modeling"),t.Nb(),t.rc(28," module to read, write and query against "),t.Ob(29,"a",4),t.rc(30,"elasticsearch"),t.Nb(),t.rc(31,". In development mode, the "),t.Ob(32,"a",5),t.rc(33,"ModelSource"),t.Nb(),t.rc(34," will also modify the "),t.Ob(35,"a",4),t.rc(36,"elasticsearch"),t.Nb(),t.rc(37," schema in real time to minimize impact to development. Out of the box, by installing the module, everything should be wired up by default. If you need to customize any aspect of the source or config, you can override and register it with the "),t.Ob(38,"a",7),t.rc(39,"Dependency Injection"),t.Nb(),t.rc(40," module. "),t.Ob(41,"figure",8),t.Ob(42,"figcaption",8),t.rc(43,"Wiring up a custom Model Source "),t.Ob(44,"cite"),t.Ob(45,"a",9),t.rc(46,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(47,"pre"),t.Ob(48,"code",10),t.Ob(49,"span",11),t.rc(50,"import"),t.Nb(),t.rc(51," "),t.Ob(52,"span",12),t.rc(53),t.Nb(),t.rc(54," InjectableFactory "),t.Ob(55,"span",12),t.rc(56),t.Nb(),t.rc(57," "),t.Ob(58,"span",11),t.rc(59,"from"),t.Nb(),t.rc(60," "),t.Ob(61,"span",13),t.rc(62,"'@travetto/di'"),t.Nb(),t.Ob(63,"span",12),t.rc(64,";"),t.Nb(),t.rc(65,"\n"),t.Ob(66,"span",11),t.rc(67,"import"),t.Nb(),t.rc(68," "),t.Ob(69,"span",12),t.rc(70),t.Nb(),t.rc(71," ElasticsearchModelConfig "),t.Ob(72,"span",12),t.rc(73),t.Nb(),t.rc(74," "),t.Ob(75,"span",11),t.rc(76,"from"),t.Nb(),t.rc(77," "),t.Ob(78,"span",13),t.rc(79,"'@travetto/model-elasticsearch/src/config'"),t.Nb(),t.Ob(80,"span",12),t.rc(81,";"),t.Nb(),t.rc(82,"\n"),t.Ob(83,"span",11),t.rc(84,"import"),t.Nb(),t.rc(85," "),t.Ob(86,"span",12),t.rc(87),t.Nb(),t.rc(88," ElasticsearchModelSource "),t.Ob(89,"span",12),t.rc(90),t.Nb(),t.rc(91," "),t.Ob(92,"span",11),t.rc(93,"from"),t.Nb(),t.rc(94," "),t.Ob(95,"span",13),t.rc(96,"'@travetto/model-elasticsearch/src/source'"),t.Nb(),t.Ob(97,"span",12),t.rc(98,";"),t.Nb(),t.rc(99,"\n\n"),t.Ob(100,"span",11),t.rc(101,"export"),t.Nb(),t.rc(102," "),t.Ob(103,"span",11),t.rc(104,"class"),t.Nb(),t.rc(105," "),t.Ob(106,"span",14),t.rc(107,"Init"),t.Nb(),t.rc(108," "),t.Ob(109,"span",12),t.rc(110),t.Nb(),t.rc(111,"\n  @"),t.Ob(112,"span",15),t.rc(113,"InjectableFactory"),t.Nb(),t.Ob(114,"span",12),t.rc(115,"("),t.Nb(),t.Ob(116,"span",12),t.rc(117),t.Nb(),t.rc(118,"\n    primary"),t.Ob(119,"span",16),t.rc(120,":"),t.Nb(),t.rc(121," "),t.Ob(122,"span",17),t.rc(123,"true"),t.Nb(),t.rc(124,"\n  "),t.Ob(125,"span",12),t.rc(126),t.Nb(),t.Ob(127,"span",12),t.rc(128,")"),t.Nb(),t.rc(129,"\n  "),t.Ob(130,"span",11),t.rc(131,"static"),t.Nb(),t.rc(132," "),t.Ob(133,"span",3),t.rc(134,"getModelSource"),t.Nb(),t.Ob(135,"span",12),t.rc(136,"("),t.Nb(),t.Ob(137,"span",18),t.rc(138,"conf"),t.Ob(139,"span",16),t.rc(140,":"),t.Nb(),t.rc(141," ElasticsearchModelConfig"),t.Nb(),t.Ob(142,"span",12),t.rc(143,")"),t.Nb(),t.rc(144," "),t.Ob(145,"span",12),t.rc(146),t.Nb(),t.rc(147,"\n    "),t.Ob(148,"span",11),t.rc(149,"return"),t.Nb(),t.rc(150," "),t.Ob(151,"span",11),t.rc(152,"new"),t.Nb(),t.rc(153," "),t.Ob(154,"span",14),t.rc(155,"ElasticsearchModelSource"),t.Nb(),t.Ob(156,"span",12),t.rc(157,"("),t.Nb(),t.rc(158,"conf"),t.Ob(159,"span",12),t.rc(160,")"),t.Nb(),t.Ob(161,"span",12),t.rc(162,";"),t.Nb(),t.rc(163,"\n  "),t.Ob(164,"span",12),t.rc(165),t.Nb(),t.rc(166,"\n"),t.Ob(167,"span",12),t.rc(168),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(169," where the "),t.Ob(170,"a",19),t.rc(171,"ElasticsearchModelConfig"),t.Nb(),t.rc(172," is defined by: "),t.Ob(173,"figure",8),t.Ob(174,"figcaption",8),t.rc(175,"Structure of ElasticsearchModelConfig "),t.Ob(176,"cite"),t.Ob(177,"a",20),t.rc(178,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(179,"pre"),t.Ob(180,"code",10),t.Ob(181,"span",11),t.rc(182,"import"),t.Nb(),t.rc(183," "),t.Ob(184,"span",12),t.rc(185),t.Nb(),t.rc(186," EnvUtil "),t.Ob(187,"span",12),t.rc(188),t.Nb(),t.rc(189," "),t.Ob(190,"span",11),t.rc(191,"from"),t.Nb(),t.rc(192," "),t.Ob(193,"span",13),t.rc(194,"'@travetto/boot'"),t.Nb(),t.Ob(195,"span",12),t.rc(196,";"),t.Nb(),t.rc(197,"\n"),t.Ob(198,"span",11),t.rc(199,"import"),t.Nb(),t.rc(200," "),t.Ob(201,"span",12),t.rc(202),t.Nb(),t.rc(203," Config "),t.Ob(204,"span",12),t.rc(205),t.Nb(),t.rc(206," "),t.Ob(207,"span",11),t.rc(208,"from"),t.Nb(),t.rc(209," "),t.Ob(210,"span",13),t.rc(211,"'@travetto/config'"),t.Nb(),t.Ob(212,"span",12),t.rc(213,";"),t.Nb(),t.rc(214,"\n"),t.Ob(215,"span",11),t.rc(216,"import"),t.Nb(),t.rc(217," "),t.Ob(218,"span",12),t.rc(219),t.Nb(),t.rc(220," EsSchemaConfig "),t.Ob(221,"span",12),t.rc(222),t.Nb(),t.rc(223," "),t.Ob(224,"span",11),t.rc(225,"from"),t.Nb(),t.rc(226," "),t.Ob(227,"span",13),t.rc(228,"'./internal/types'"),t.Nb(),t.Ob(229,"span",12),t.rc(230,";"),t.Nb(),t.rc(231,"\n\n"),t.Ob(232,"span",21),t.rc(233,"/**\n * Elasticsearch model config\n */"),t.Nb(),t.rc(234,"\n@"),t.Ob(235,"span",15),t.rc(236,"Config"),t.Nb(),t.Ob(237,"span",12),t.rc(238,"("),t.Nb(),t.Ob(239,"span",13),t.rc(240,"'elasticsearch.model'"),t.Nb(),t.Ob(241,"span",12),t.rc(242,")"),t.Nb(),t.rc(243,"\n"),t.Ob(244,"span",11),t.rc(245,"export"),t.Nb(),t.rc(246," "),t.Ob(247,"span",11),t.rc(248,"class"),t.Nb(),t.rc(249," "),t.Ob(250,"span",14),t.rc(251,"ElasticsearchModelConfig"),t.Nb(),t.rc(252," "),t.Ob(253,"span",12),t.rc(254),t.Nb(),t.rc(255,"\n  "),t.Ob(256,"span",21),t.rc(257,"/**\n   * List of hosts to support\n   */"),t.Nb(),t.rc(258,"\n  hosts "),t.Ob(259,"span",16),t.rc(260,"="),t.Nb(),t.rc(261," "),t.Ob(262,"span",12),t.rc(263,"["),t.Nb(),t.Ob(264,"span",13),t.rc(265,"'127.0.0.1'"),t.Nb(),t.Ob(266,"span",12),t.rc(267,"]"),t.Nb(),t.Ob(268,"span",12),t.rc(269,";"),t.Nb(),t.rc(270,"\n  "),t.Ob(271,"span",21),t.rc(272,"/**\n   * Port to listen on\n   */"),t.Nb(),t.rc(273,"\n  port "),t.Ob(274,"span",16),t.rc(275,"="),t.Nb(),t.rc(276," "),t.Ob(277,"span",22),t.rc(278,"9200"),t.Nb(),t.Ob(279,"span",12),t.rc(280,";"),t.Nb(),t.rc(281,"\n  "),t.Ob(282,"span",21),t.rc(283,"/**\n   * Raw elasticsearch options\n   */"),t.Nb(),t.rc(284,"\n  options "),t.Ob(285,"span",16),t.rc(286,"="),t.Nb(),t.rc(287," "),t.Ob(288,"span",12),t.rc(289),t.Nb(),t.Ob(290,"span",12),t.rc(291),t.Nb(),t.Ob(292,"span",12),t.rc(293,";"),t.Nb(),t.rc(294,"\n  "),t.Ob(295,"span",21),t.rc(296,"/**\n   * Index prefix\n   */"),t.Nb(),t.rc(297,"\n  "),t.Ob(298,"span",11),t.rc(299,"namespace"),t.Nb(),t.rc(300," "),t.Ob(301,"span",16),t.rc(302,"="),t.Nb(),t.rc(303," "),t.Ob(304,"span",13),t.rc(305,"'app'"),t.Nb(),t.Ob(306,"span",12),t.rc(307,";"),t.Nb(),t.rc(308,"\n  "),t.Ob(309,"span",21),t.rc(310,"/**\n   * Auto-create, disabled in prod by default\n   */"),t.Nb(),t.rc(311,"\n  autoCreate "),t.Ob(312,"span",16),t.rc(313,"="),t.Nb(),t.rc(314," "),t.Ob(315,"span",16),t.rc(316,"!"),t.Nb(),t.rc(317,"EnvUtil"),t.Ob(318,"span",12),t.rc(319,"."),t.Nb(),t.Ob(320,"span",3),t.rc(321,"isReadonly"),t.Nb(),t.Ob(322,"span",12),t.rc(323,"("),t.Nb(),t.Ob(324,"span",12),t.rc(325,")"),t.Nb(),t.Ob(326,"span",12),t.rc(327,";"),t.Nb(),t.rc(328,"\n  "),t.Ob(329,"span",21),t.rc(330,"/**\n   * Base schema config for elasticsearch\n   */"),t.Nb(),t.rc(331,"\n  schemaConfig"),t.Ob(332,"span",16),t.rc(333,":"),t.Nb(),t.rc(334," EsSchemaConfig "),t.Ob(335,"span",16),t.rc(336,"="),t.Nb(),t.rc(337," "),t.Ob(338,"span",12),t.rc(339),t.Nb(),t.rc(340,"\n    caseSensitive"),t.Ob(341,"span",16),t.rc(342,":"),t.Nb(),t.rc(343," "),t.Ob(344,"span",17),t.rc(345,"false"),t.Nb(),t.rc(346,"\n  "),t.Ob(347,"span",12),t.rc(348),t.Nb(),t.Ob(349,"span",12),t.rc(350,";"),t.Nb(),t.rc(351,"\n\n  "),t.Ob(352,"span",21),t.rc(353,"/**\n   * Base index create settings\n   */"),t.Nb(),t.rc(354,"\n  indexCreate "),t.Ob(355,"span",16),t.rc(356,"="),t.Nb(),t.rc(357," "),t.Ob(358,"span",12),t.rc(359),t.Nb(),t.rc(360,"\n    "),t.Ob(361,"span",12),t.rc(362,"["),t.Nb(),t.Ob(363,"span",13),t.rc(364,"'number_of_replicas'"),t.Nb(),t.Ob(365,"span",12),t.rc(366,"]"),t.Nb(),t.Ob(367,"span",16),t.rc(368,":"),t.Nb(),t.rc(369," "),t.Ob(370,"span",22),t.rc(371,"0"),t.Nb(),t.Ob(372,"span",12),t.rc(373,","),t.Nb(),t.rc(374,"\n    "),t.Ob(375,"span",12),t.rc(376,"["),t.Nb(),t.Ob(377,"span",13),t.rc(378,"'number_of_shards'"),t.Nb(),t.Ob(379,"span",12),t.rc(380,"]"),t.Nb(),t.Ob(381,"span",16),t.rc(382,":"),t.Nb(),t.rc(383," "),t.Ob(384,"span",22),t.rc(385,"1"),t.Nb(),t.rc(386,"\n  "),t.Ob(387,"span",12),t.rc(388),t.Nb(),t.Ob(389,"span",12),t.rc(390,";"),t.Nb(),t.rc(391,"\n\n  "),t.Ob(392,"span",21),t.rc(393,"/**\n   * Build final hosts\n   */"),t.Nb(),t.rc(394,"\n  "),t.Ob(395,"span",3),t.rc(396,"postConstruct"),t.Nb(),t.Ob(397,"span",12),t.rc(398,"("),t.Nb(),t.Ob(399,"span",12),t.rc(400,")"),t.Nb(),t.rc(401," "),t.Ob(402,"span",12),t.rc(403),t.Nb(),t.rc(404,"\n    "),t.Ob(405,"span",23),t.rc(406,"console"),t.Nb(),t.Ob(407,"span",12),t.rc(408,"."),t.Nb(),t.Ob(409,"span",3),t.rc(410,"debug"),t.Nb(),t.Ob(411,"span",12),t.rc(412,"("),t.Nb(),t.Ob(413,"span",13),t.rc(414,"'Constructed'"),t.Nb(),t.Ob(415,"span",12),t.rc(416,","),t.Nb(),t.rc(417," "),t.Ob(418,"span",11),t.rc(419,"this"),t.Nb(),t.Ob(420,"span",12),t.rc(421,")"),t.Nb(),t.Ob(422,"span",12),t.rc(423,";"),t.Nb(),t.rc(424,"\n    "),t.Ob(425,"span",11),t.rc(426,"this"),t.Nb(),t.Ob(427,"span",12),t.rc(428,"."),t.Nb(),t.rc(429,"hosts "),t.Ob(430,"span",16),t.rc(431,"="),t.Nb(),t.rc(432," "),t.Ob(433,"span",11),t.rc(434,"this"),t.Nb(),t.Ob(435,"span",12),t.rc(436,"."),t.Nb(),t.rc(437,"hosts\n      "),t.Ob(438,"span",12),t.rc(439,"."),t.Nb(),t.Ob(440,"span",3),t.rc(441,"map"),t.Nb(),t.Ob(442,"span",12),t.rc(443,"("),t.Nb(),t.Ob(444,"span",18),t.rc(445,"x"),t.Nb(),t.rc(446," "),t.Ob(447,"span",16),t.rc(448,"=>"),t.Nb(),t.rc(449," x"),t.Ob(450,"span",12),t.rc(451,"."),t.Nb(),t.Ob(452,"span",3),t.rc(453,"includes"),t.Nb(),t.Ob(454,"span",12),t.rc(455,"("),t.Nb(),t.Ob(456,"span",13),t.rc(457,"':'"),t.Nb(),t.Ob(458,"span",12),t.rc(459,")"),t.Nb(),t.rc(460," "),t.Ob(461,"span",16),t.rc(462,"?"),t.Nb(),t.rc(463," x "),t.Ob(464,"span",16),t.rc(465,":"),t.Nb(),t.rc(466," "),t.Ob(467,"span",24),t.Ob(468,"span",25),t.rc(469,"`"),t.Nb(),t.Ob(470,"span",26),t.Ob(471,"span",27),t.rc(472),t.Nb(),t.rc(473,"x"),t.Ob(474,"span",27),t.rc(475),t.Nb(),t.Nb(),t.Ob(476,"span",13),t.rc(477,":"),t.Nb(),t.Ob(478,"span",26),t.Ob(479,"span",27),t.rc(480),t.Nb(),t.Ob(481,"span",11),t.rc(482,"this"),t.Nb(),t.Ob(483,"span",12),t.rc(484,"."),t.Nb(),t.rc(485,"port"),t.Ob(486,"span",27),t.rc(487),t.Nb(),t.Nb(),t.Ob(488,"span",25),t.rc(489,"`"),t.Nb(),t.Nb(),t.Ob(490,"span",12),t.rc(491,")"),t.Nb(),t.rc(492,"\n      "),t.Ob(493,"span",12),t.rc(494,"."),t.Nb(),t.Ob(495,"span",3),t.rc(496,"map"),t.Nb(),t.Ob(497,"span",12),t.rc(498,"("),t.Nb(),t.Ob(499,"span",18),t.rc(500,"x"),t.Nb(),t.rc(501," "),t.Ob(502,"span",16),t.rc(503,"=>"),t.Nb(),t.rc(504," x"),t.Ob(505,"span",12),t.rc(506,"."),t.Nb(),t.Ob(507,"span",3),t.rc(508,"startsWith"),t.Nb(),t.Ob(509,"span",12),t.rc(510,"("),t.Nb(),t.Ob(511,"span",13),t.rc(512,"'http'"),t.Nb(),t.Ob(513,"span",12),t.rc(514,")"),t.Nb(),t.rc(515," "),t.Ob(516,"span",16),t.rc(517,"?"),t.Nb(),t.rc(518," x "),t.Ob(519,"span",16),t.rc(520,":"),t.Nb(),t.rc(521," "),t.Ob(522,"span",24),t.Ob(523,"span",25),t.rc(524,"`"),t.Nb(),t.Ob(525,"span",13),t.rc(526,"http://"),t.Nb(),t.Ob(527,"span",26),t.Ob(528,"span",27),t.rc(529),t.Nb(),t.rc(530,"x"),t.Ob(531,"span",27),t.rc(532),t.Nb(),t.Nb(),t.Ob(533,"span",25),t.rc(534,"`"),t.Nb(),t.Nb(),t.Ob(535,"span",12),t.rc(536,")"),t.Nb(),t.Ob(537,"span",12),t.rc(538,";"),t.Nb(),t.rc(539,"\n  "),t.Ob(540,"span",12),t.rc(541),t.Nb(),t.rc(542,"\n"),t.Ob(543,"span",12),t.rc(544),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(545," and can be overridden via environment variables or config files, as defined in "),t.Ob(546,"a",28),t.rc(547,"Configuration"),t.Nb(),t.rc(548,". "),t.Ob(549,"h2",29),t.rc(550,"CLI - model:es-schema"),t.Nb(),t.rc(551," The module provides the ability to generate the full "),t.Ob(552,"a",4),t.rc(553,"elasticsearch"),t.Nb(),t.rc(554," schema from all the various "),t.Ob(555,"a",30),t.rc(556,"@Model"),t.Nb(),t.rc(557,"s within the application. This is useful for being able to generate the appropriate "),t.Ob(558,"a",31),t.rc(559,"JSON"),t.Nb(),t.rc(560," files to define your schemas in production. "),t.Ob(561,"figure",32),t.Ob(562,"figcaption",32),t.rc(563,"Running schema generate "),t.Nb(),t.Ob(564,"pre"),t.Ob(565,"code",2),t.rc(566,"$ travetto travetto model:es-schema --help\n\nUsage:  model:es-schema "),t.Ob(567,"span",12),t.rc(568,"["),t.Nb(),t.rc(569,"options"),t.Ob(570,"span",12),t.rc(571,"]"),t.Nb(),t.rc(572,"\n\nOptions:\n  -a, --app ");t.Ob(573,"span",12),t.rc(574,"["),t.Nb(),t.rc(575,"app"),t.Ob(576,"span",12),t.rc(577,"]"),t.Nb(),t.rc(578,"  Application to export, "),t.Ob(579,"span",12),t.rc(580,"("),t.Nb(),t.rc(581,"default: "),t.Ob(582,"span",33),t.rc(583,"."),t.Nb(),t.Ob(584,"span",12),t.rc(585,")"),t.Nb(),t.rc(586,"\n  -h, --help       display "),t.Ob(587,"span",33),t.rc(588,"help"),t.Nb(),t.rc(589," "),t.Ob(590,"span",11),t.rc(591,"for"),t.Nb(),t.rc(592," "),t.Ob(593,"span",33),t.rc(594,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(53),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(7),t.sc("{"),t.zb(9),t.sc("}"),t.zb(20),t.sc("{"),t.zb(19),t.sc("}"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(32),t.sc("{"),t.zb(35),t.sc("{"),t.zb(2),t.sc("}"),t.zb(48),t.sc("{"),t.zb(9),t.sc("}"),t.zb(11),t.sc("{"),t.zb(29),t.sc("}"),t.zb(15),t.sc("{"),t.zb(69),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(7),t.sc("}"),t.zb(42),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),m=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-model-mongo"]],decls:1056,vars:56,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://mongodb.com",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/service/source.ts#L58",1,"source-link"],["href","/docs/model","title","Datastore abstraction for CRUD operations with advanced query support.",1,"module-link"],["href","/docs/di","title","Dependency registration/management and injection support.",1,"module-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-mongo/alt/docs/src/source.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","meta"],[1,"token","operator"],[1,"token","boolean"],[1,"token","parameter"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-mongo/src/config.ts#L15",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-mongo/src/config.ts"],[1,"token","comment"],[1,"token","number"],[1,"token","builtin"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],["href","/docs/config","title","Environment-aware config management using yaml files",1,"module-link"],[1,"item","input"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/src/resource.ts#L-1",1,"source-link"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"MongoDB Model Source "),t.Ob(3,"small"),t.rc(4,"Mongo backing for the travetto model module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/model-mongo "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/model-mongo"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides an "),t.Ob(17,"a",4),t.rc(18,"mongodb"),t.Nb(),t.rc(19,"-based implementation of "),t.Ob(20,"a",5),t.rc(21,"ModelSource"),t.Nb(),t.rc(22," for the "),t.Ob(23,"a",6),t.rc(24,"Data Modeling"),t.Nb(),t.rc(25,". This source allows the "),t.Ob(26,"a",6),t.rc(27,"Data Modeling"),t.Nb(),t.rc(28," module to read, write and query against "),t.Ob(29,"a",4),t.rc(30,"mongodb"),t.Nb(),t.rc(31,".. Given the dynamic nature of "),t.Ob(32,"a",4),t.rc(33,"mongodb"),t.Nb(),t.rc(34,", during development when models are modified, nothing needs to be done to adapt to the latest schema. Out of the box, by installing the module, everything should be wired up by default. If you need to customize any aspect of the source or config, you can override and register it with the "),t.Ob(35,"a",7),t.rc(36,"Dependency Injection"),t.Nb(),t.rc(37," module. "),t.Ob(38,"figure",8),t.Ob(39,"figcaption",8),t.rc(40,"Wiring up a custom Model Source "),t.Ob(41,"cite"),t.Ob(42,"a",9),t.rc(43,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(44,"pre"),t.Ob(45,"code",10),t.Ob(46,"span",11),t.rc(47,"import"),t.Nb(),t.rc(48," "),t.Ob(49,"span",12),t.rc(50),t.Nb(),t.rc(51," InjectableFactory "),t.Ob(52,"span",12),t.rc(53),t.Nb(),t.rc(54," "),t.Ob(55,"span",11),t.rc(56,"from"),t.Nb(),t.rc(57," "),t.Ob(58,"span",13),t.rc(59,"'@travetto/di'"),t.Nb(),t.Ob(60,"span",12),t.rc(61,";"),t.Nb(),t.rc(62,"\n"),t.Ob(63,"span",11),t.rc(64,"import"),t.Nb(),t.rc(65," "),t.Ob(66,"span",12),t.rc(67),t.Nb(),t.rc(68," MongoModelConfig "),t.Ob(69,"span",12),t.rc(70),t.Nb(),t.rc(71," "),t.Ob(72,"span",11),t.rc(73,"from"),t.Nb(),t.rc(74," "),t.Ob(75,"span",13),t.rc(76,"'@travetto/model-mongo/src/config'"),t.Nb(),t.Ob(77,"span",12),t.rc(78,";"),t.Nb(),t.rc(79,"\n"),t.Ob(80,"span",11),t.rc(81,"import"),t.Nb(),t.rc(82," "),t.Ob(83,"span",12),t.rc(84),t.Nb(),t.rc(85," MongoModelSource "),t.Ob(86,"span",12),t.rc(87),t.Nb(),t.rc(88," "),t.Ob(89,"span",11),t.rc(90,"from"),t.Nb(),t.rc(91," "),t.Ob(92,"span",13),t.rc(93,"'@travetto/model-mongo/src/source'"),t.Nb(),t.Ob(94,"span",12),t.rc(95,";"),t.Nb(),t.rc(96,"\n\n"),t.Ob(97,"span",11),t.rc(98,"export"),t.Nb(),t.rc(99," "),t.Ob(100,"span",11),t.rc(101,"class"),t.Nb(),t.rc(102," "),t.Ob(103,"span",14),t.rc(104,"Init"),t.Nb(),t.rc(105," "),t.Ob(106,"span",12),t.rc(107),t.Nb(),t.rc(108,"\n  @"),t.Ob(109,"span",15),t.rc(110,"InjectableFactory"),t.Nb(),t.Ob(111,"span",12),t.rc(112,"("),t.Nb(),t.Ob(113,"span",12),t.rc(114),t.Nb(),t.rc(115,"\n    primary"),t.Ob(116,"span",16),t.rc(117,":"),t.Nb(),t.rc(118," "),t.Ob(119,"span",17),t.rc(120,"true"),t.Nb(),t.rc(121,"\n  "),t.Ob(122,"span",12),t.rc(123),t.Nb(),t.Ob(124,"span",12),t.rc(125,")"),t.Nb(),t.rc(126,"\n  "),t.Ob(127,"span",11),t.rc(128,"static"),t.Nb(),t.rc(129," "),t.Ob(130,"span",3),t.rc(131,"getModelSource"),t.Nb(),t.Ob(132,"span",12),t.rc(133,"("),t.Nb(),t.Ob(134,"span",18),t.rc(135,"conf"),t.Ob(136,"span",16),t.rc(137,":"),t.Nb(),t.rc(138," MongoModelConfig"),t.Nb(),t.Ob(139,"span",12),t.rc(140,")"),t.Nb(),t.rc(141," "),t.Ob(142,"span",12),t.rc(143),t.Nb(),t.rc(144,"\n    "),t.Ob(145,"span",11),t.rc(146,"return"),t.Nb(),t.rc(147," "),t.Ob(148,"span",11),t.rc(149,"new"),t.Nb(),t.rc(150," "),t.Ob(151,"span",14),t.rc(152,"MongoModelSource"),t.Nb(),t.Ob(153,"span",12),t.rc(154,"("),t.Nb(),t.rc(155,"conf"),t.Ob(156,"span",12),t.rc(157,")"),t.Nb(),t.Ob(158,"span",12),t.rc(159,";"),t.Nb(),t.rc(160,"\n  "),t.Ob(161,"span",12),t.rc(162),t.Nb(),t.rc(163,"\n"),t.Ob(164,"span",12),t.rc(165),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(166," where the "),t.Ob(167,"a",19),t.rc(168,"MongoModelConfig"),t.Nb(),t.rc(169," is defined by: "),t.Ob(170,"figure",8),t.Ob(171,"figcaption",8),t.rc(172,"Structure of MongoModelConfig "),t.Ob(173,"cite"),t.Ob(174,"a",20),t.rc(175,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(176,"pre"),t.Ob(177,"code",10),t.Ob(178,"span",11),t.rc(179,"import"),t.Nb(),t.rc(180," "),t.Ob(181,"span",16),t.rc(182,"*"),t.Nb(),t.rc(183," "),t.Ob(184,"span",11),t.rc(185,"as"),t.Nb(),t.rc(186," mongo "),t.Ob(187,"span",11),t.rc(188,"from"),t.Nb(),t.rc(189," "),t.Ob(190,"span",13),t.rc(191,"'mongodb'"),t.Nb(),t.Ob(192,"span",12),t.rc(193,";"),t.Nb(),t.rc(194,"\n"),t.Ob(195,"span",11),t.rc(196,"import"),t.Nb(),t.rc(197," "),t.Ob(198,"span",16),t.rc(199,"*"),t.Nb(),t.rc(200," "),t.Ob(201,"span",11),t.rc(202,"as"),t.Nb(),t.rc(203," fs "),t.Ob(204,"span",11),t.rc(205,"from"),t.Nb(),t.rc(206," "),t.Ob(207,"span",13),t.rc(208,"'fs'"),t.Nb(),t.Ob(209,"span",12),t.rc(210,";"),t.Nb(),t.rc(211,"\n"),t.Ob(212,"span",11),t.rc(213,"import"),t.Nb(),t.rc(214," "),t.Ob(215,"span",16),t.rc(216,"*"),t.Nb(),t.rc(217," "),t.Ob(218,"span",11),t.rc(219,"as"),t.Nb(),t.rc(220," util "),t.Ob(221,"span",11),t.rc(222,"from"),t.Nb(),t.rc(223," "),t.Ob(224,"span",13),t.rc(225,"'util'"),t.Nb(),t.Ob(226,"span",12),t.rc(227,";"),t.Nb(),t.rc(228,"\n\n"),t.Ob(229,"span",11),t.rc(230,"import"),t.Nb(),t.rc(231," "),t.Ob(232,"span",12),t.rc(233),t.Nb(),t.rc(234," ResourceManager "),t.Ob(235,"span",12),t.rc(236),t.Nb(),t.rc(237," "),t.Ob(238,"span",11),t.rc(239,"from"),t.Nb(),t.rc(240," "),t.Ob(241,"span",13),t.rc(242,"'@travetto/base'"),t.Nb(),t.Ob(243,"span",12),t.rc(244,";"),t.Nb(),t.rc(245,"\n"),t.Ob(246,"span",11),t.rc(247,"import"),t.Nb(),t.rc(248," "),t.Ob(249,"span",12),t.rc(250),t.Nb(),t.rc(251," Config "),t.Ob(252,"span",12),t.rc(253),t.Nb(),t.rc(254," "),t.Ob(255,"span",11),t.rc(256,"from"),t.Nb(),t.rc(257," "),t.Ob(258,"span",13),t.rc(259,"'@travetto/config'"),t.Nb(),t.Ob(260,"span",12),t.rc(261,";"),t.Nb(),t.rc(262,"\n\n"),t.Ob(263,"span",11),t.rc(264,"const"),t.Nb(),t.rc(265," exists "),t.Ob(266,"span",16),t.rc(267,"="),t.Nb(),t.rc(268," util"),t.Ob(269,"span",12),t.rc(270,"."),t.Nb(),t.Ob(271,"span",3),t.rc(272,"promisify"),t.Nb(),t.Ob(273,"span",12),t.rc(274,"("),t.Nb(),t.rc(275,"fs"),t.Ob(276,"span",12),t.rc(277,"."),t.Nb(),t.rc(278,"exists"),t.Ob(279,"span",12),t.rc(280,")"),t.Nb(),t.Ob(281,"span",12),t.rc(282,";"),t.Nb(),t.rc(283,"\n"),t.Ob(284,"span",11),t.rc(285,"const"),t.Nb(),t.rc(286," read "),t.Ob(287,"span",16),t.rc(288,"="),t.Nb(),t.rc(289," util"),t.Ob(290,"span",12),t.rc(291,"."),t.Nb(),t.Ob(292,"span",3),t.rc(293,"promisify"),t.Nb(),t.Ob(294,"span",12),t.rc(295,"("),t.Nb(),t.rc(296,"fs"),t.Ob(297,"span",12),t.rc(298,"."),t.Nb(),t.rc(299,"readFile"),t.Ob(300,"span",12),t.rc(301,")"),t.Nb(),t.Ob(302,"span",12),t.rc(303,";"),t.Nb(),t.rc(304,"\n\n"),t.Ob(305,"span",21),t.rc(306,"/**\n * Mongo model config\n */"),t.Nb(),t.rc(307,"\n@"),t.Ob(308,"span",15),t.rc(309,"Config"),t.Nb(),t.Ob(310,"span",12),t.rc(311,"("),t.Nb(),t.Ob(312,"span",13),t.rc(313,"'mongo.model'"),t.Nb(),t.Ob(314,"span",12),t.rc(315,")"),t.Nb(),t.rc(316,"\n"),t.Ob(317,"span",11),t.rc(318,"export"),t.Nb(),t.rc(319," "),t.Ob(320,"span",11),t.rc(321,"class"),t.Nb(),t.rc(322," "),t.Ob(323,"span",14),t.rc(324,"MongoModelConfig"),t.Nb(),t.rc(325," "),t.Ob(326,"span",12),t.rc(327),t.Nb(),t.rc(328,"\n  "),t.Ob(329,"span",21),t.rc(330,"/**\n   * Hosts\n   */"),t.Nb(),t.rc(331,"\n  hosts "),t.Ob(332,"span",16),t.rc(333,"="),t.Nb(),t.rc(334," "),t.Ob(335,"span",12),t.rc(336,"["),t.Nb(),t.Ob(337,"span",13),t.rc(338,"'localhost'"),t.Nb(),t.Ob(339,"span",12),t.rc(340,"]"),t.Nb(),t.Ob(341,"span",12),t.rc(342,";"),t.Nb(),t.rc(343,"\n  "),t.Ob(344,"span",21),t.rc(345,"/**\n   * Collection prefix\n   */"),t.Nb(),t.rc(346,"\n  "),t.Ob(347,"span",11),t.rc(348,"namespace"),t.Nb(),t.rc(349," "),t.Ob(350,"span",16),t.rc(351,"="),t.Nb(),t.rc(352," "),t.Ob(353,"span",13),t.rc(354,"'app'"),t.Nb(),t.Ob(355,"span",12),t.rc(356,";"),t.Nb(),t.rc(357,"\n  "),t.Ob(358,"span",21),t.rc(359,"/**\n   * Username\n   */"),t.Nb(),t.rc(360,"\n  username "),t.Ob(361,"span",16),t.rc(362,"="),t.Nb(),t.rc(363," "),t.Ob(364,"span",13),t.rc(365,"''"),t.Nb(),t.Ob(366,"span",12),t.rc(367,";"),t.Nb(),t.rc(368,"\n  "),t.Ob(369,"span",21),t.rc(370,"/**\n   * Password\n   */"),t.Nb(),t.rc(371,"\n  password "),t.Ob(372,"span",16),t.rc(373,"="),t.Nb(),t.rc(374," "),t.Ob(375,"span",13),t.rc(376,"''"),t.Nb(),t.Ob(377,"span",12),t.rc(378,";"),t.Nb(),t.rc(379,"\n  "),t.Ob(380,"span",21),t.rc(381,"/**\n   * Server port\n   */"),t.Nb(),t.rc(382,"\n  port "),t.Ob(383,"span",16),t.rc(384,"="),t.Nb(),t.rc(385," "),t.Ob(386,"span",22),t.rc(387,"27017"),t.Nb(),t.Ob(388,"span",12),t.rc(389,";"),t.Nb(),t.rc(390,"\n  "),t.Ob(391,"span",21),t.rc(392,"/**\n   * Direct mongo connection options\n   */"),t.Nb(),t.rc(393,"\n  connectionOptions "),t.Ob(394,"span",16),t.rc(395,"="),t.Nb(),t.rc(396," "),t.Ob(397,"span",12),t.rc(398),t.Nb(),t.Ob(399,"span",12),t.rc(400),t.Nb(),t.Ob(401,"span",12),t.rc(402,";"),t.Nb(),t.rc(403,"\n  "),t.Ob(404,"span",21),t.rc(405,"/**\n   * Mongo client options\n   */"),t.Nb(),t.rc(406,"\n  clientOptions "),t.Ob(407,"span",16),t.rc(408,"="),t.Nb(),t.rc(409," "),t.Ob(410,"span",12),t.rc(411),t.Nb(),t.rc(412,"\n    useNewUrlParser"),t.Ob(413,"span",16),t.rc(414,":"),t.Nb(),t.rc(415," "),t.Ob(416,"span",17),t.rc(417,"true"),t.Nb(),t.Ob(418,"span",12),t.rc(419,","),t.Nb(),t.rc(420,"\n    useUnifiedTopology"),t.Ob(421,"span",16),t.rc(422,":"),t.Nb(),t.rc(423," "),t.Ob(424,"span",17),t.rc(425,"true"),t.Nb(),t.rc(426,"\n  "),t.Ob(427,"span",12),t.rc(428),t.Nb(),t.rc(429," "),t.Ob(430,"span",11),t.rc(431,"as"),t.Nb(),t.rc(432," mongo"),t.Ob(433,"span",12),t.rc(434,"."),t.Nb(),t.rc(435,"MongoClientOptions"),t.Ob(436,"span",12),t.rc(437,";"),t.Nb(),t.rc(438,"\n\n  "),t.Ob(439,"span",21),t.rc(440,"/**\n   * Load a resource\n   */"),t.Nb(),t.rc(441,"\n  "),t.Ob(442,"span",11),t.rc(443,"async"),t.Nb(),t.rc(444," "),t.Ob(445,"span",3),t.rc(446,"fetch"),t.Nb(),t.Ob(447,"span",12),t.rc(448,"("),t.Nb(),t.Ob(449,"span",18),t.rc(450,"val"),t.Ob(451,"span",16),t.rc(452,":"),t.Nb(),t.rc(453," "),t.Ob(454,"span",23),t.rc(455,"string"),t.Nb(),t.Nb(),t.Ob(456,"span",12),t.rc(457,")"),t.Nb(),t.rc(458," "),t.Ob(459,"span",12),t.rc(460),t.Nb(),t.rc(461,"\n    "),t.Ob(462,"span",11),t.rc(463,"try"),t.Nb(),t.rc(464," "),t.Ob(465,"span",12),t.rc(466),t.Nb(),t.rc(467,"\n      "),t.Ob(468,"span",11),t.rc(469,"return"),t.Nb(),t.rc(470," "),t.Ob(471,"span",12),t.rc(472,"("),t.Nb(),t.Ob(473,"span",11),t.rc(474,"await"),t.Nb(),t.rc(475," "),t.Ob(476,"span",3),t.rc(477,"exists"),t.Nb(),t.Ob(478,"span",12),t.rc(479,"("),t.Nb(),t.rc(480,"val"),t.Ob(481,"span",12),t.rc(482,")"),t.Nb(),t.Ob(483,"span",12),t.rc(484,")"),t.Nb(),t.rc(485," "),t.Ob(486,"span",16),t.rc(487,"?"),t.Nb(),t.rc(488," "),t.Ob(489,"span",3),t.rc(490,"read"),t.Nb(),t.Ob(491,"span",12),t.rc(492,"("),t.Nb(),t.rc(493,"val"),t.Ob(494,"span",12),t.rc(495,")"),t.Nb(),t.rc(496," "),t.Ob(497,"span",16),t.rc(498,":"),t.Nb(),t.rc(499," ResourceManager"),t.Ob(500,"span",12),t.rc(501,"."),t.Nb(),t.Ob(502,"span",3),t.rc(503,"read"),t.Nb(),t.Ob(504,"span",12),t.rc(505,"("),t.Nb(),t.rc(506,"val"),t.Ob(507,"span",12),t.rc(508,")"),t.Nb(),t.Ob(509,"span",12),t.rc(510,";"),t.Nb(),t.rc(511,"\n    "),t.Ob(512,"span",12),t.rc(513),t.Nb(),t.rc(514," "),t.Ob(515,"span",11),t.rc(516,"catch"),t.Nb(),t.rc(517," "),t.Ob(518,"span",12),t.rc(519),t.Nb(),t.rc(520,"\n      "),t.Ob(521,"span",11),t.rc(522,"return"),t.Nb(),t.rc(523," val"),t.Ob(524,"span",12),t.rc(525,";"),t.Nb(),t.rc(526,"\n    "),t.Ob(527,"span",12),t.rc(528),t.Nb(),t.rc(529,"\n  "),t.Ob(530,"span",12),t.rc(531),t.Nb(),t.rc(532,"\n\n  "),t.Ob(533,"span",21),t.rc(534,"/**\n   * Load all the ssl certs as needed\n   */"),t.Nb(),t.rc(535,"\n  "),t.Ob(536,"span",11),t.rc(537,"async"),t.Nb(),t.rc(538," "),t.Ob(539,"span",3),t.rc(540,"postConstruct"),t.Nb(),t.Ob(541,"span",12),t.rc(542,"("),t.Nb(),t.Ob(543,"span",12),t.rc(544,")"),t.Nb(),t.rc(545," "),t.Ob(546,"span",12),t.rc(547),t.Nb(),t.rc(548,"\n    "),t.Ob(549,"span",11),t.rc(550,"const"),t.Nb(),t.rc(551," opts "),t.Ob(552,"span",16),t.rc(553,"="),t.Nb(),t.rc(554," "),t.Ob(555,"span",11),t.rc(556,"this"),t.Nb(),t.Ob(557,"span",12),t.rc(558,"."),t.Nb(),t.rc(559,"clientOptions"),t.Ob(560,"span",12),t.rc(561,";"),t.Nb(),t.rc(562,"\n    "),t.Ob(563,"span",11),t.rc(564,"if"),t.Nb(),t.rc(565," "),t.Ob(566,"span",12),t.rc(567,"("),t.Nb(),t.rc(568,"opts"),t.Ob(569,"span",12),t.rc(570,"."),t.Nb(),t.rc(571,"ssl"),t.Ob(572,"span",12),t.rc(573,")"),t.Nb(),t.rc(574," "),t.Ob(575,"span",12),t.rc(576),t.Nb(),t.rc(577,"\n      "),t.Ob(578,"span",11),t.rc(579,"if"),t.Nb(),t.rc(580," "),t.Ob(581,"span",12),t.rc(582,"("),t.Nb();t.rc(583,"opts"),t.Ob(584,"span",12),t.rc(585,"."),t.Nb(),t.rc(586,"sslCert"),t.Ob(587,"span",12),t.rc(588,")"),t.Nb(),t.rc(589," "),t.Ob(590,"span",12),t.rc(591),t.Nb(),t.rc(592,"\n        opts"),t.Ob(593,"span",12),t.rc(594,"."),t.Nb(),t.rc(595,"sslCert "),t.Ob(596,"span",16),t.rc(597,"="),t.Nb(),t.rc(598," "),t.Ob(599,"span",11),t.rc(600,"await"),t.Nb(),t.rc(601," "),t.Ob(602,"span",11),t.rc(603,"this"),t.Nb(),t.Ob(604,"span",12),t.rc(605,"."),t.Nb(),t.Ob(606,"span",3),t.rc(607,"fetch"),t.Nb(),t.Ob(608,"span",12),t.rc(609,"("),t.Nb(),t.rc(610,"opts"),t.Ob(611,"span",12),t.rc(612,"."),t.Nb(),t.rc(613,"sslCert "),t.Ob(614,"span",11),t.rc(615,"as"),t.Nb(),t.rc(616," "),t.Ob(617,"span",23),t.rc(618,"string"),t.Nb(),t.Ob(619,"span",12),t.rc(620,")"),t.Nb(),t.Ob(621,"span",12),t.rc(622,";"),t.Nb(),t.rc(623,"\n      "),t.Ob(624,"span",12),t.rc(625),t.Nb(),t.rc(626,"\n      "),t.Ob(627,"span",11),t.rc(628,"if"),t.Nb(),t.rc(629," "),t.Ob(630,"span",12),t.rc(631,"("),t.Nb(),t.rc(632,"opts"),t.Ob(633,"span",12),t.rc(634,"."),t.Nb(),t.rc(635,"sslKey"),t.Ob(636,"span",12),t.rc(637,")"),t.Nb(),t.rc(638," "),t.Ob(639,"span",12),t.rc(640),t.Nb(),t.rc(641,"\n        opts"),t.Ob(642,"span",12),t.rc(643,"."),t.Nb(),t.rc(644,"sslKey "),t.Ob(645,"span",16),t.rc(646,"="),t.Nb(),t.rc(647," "),t.Ob(648,"span",11),t.rc(649,"await"),t.Nb(),t.rc(650," "),t.Ob(651,"span",11),t.rc(652,"this"),t.Nb(),t.Ob(653,"span",12),t.rc(654,"."),t.Nb(),t.Ob(655,"span",3),t.rc(656,"fetch"),t.Nb(),t.Ob(657,"span",12),t.rc(658,"("),t.Nb(),t.rc(659,"opts"),t.Ob(660,"span",12),t.rc(661,"."),t.Nb(),t.rc(662,"sslKey "),t.Ob(663,"span",11),t.rc(664,"as"),t.Nb(),t.rc(665," "),t.Ob(666,"span",23),t.rc(667,"string"),t.Nb(),t.Ob(668,"span",12),t.rc(669,")"),t.Nb(),t.Ob(670,"span",12),t.rc(671,";"),t.Nb(),t.rc(672,"\n      "),t.Ob(673,"span",12),t.rc(674),t.Nb(),t.rc(675,"\n      "),t.Ob(676,"span",11),t.rc(677,"if"),t.Nb(),t.rc(678," "),t.Ob(679,"span",12),t.rc(680,"("),t.Nb(),t.rc(681,"opts"),t.Ob(682,"span",12),t.rc(683,"."),t.Nb(),t.rc(684,"sslCA"),t.Ob(685,"span",12),t.rc(686,")"),t.Nb(),t.rc(687," "),t.Ob(688,"span",12),t.rc(689),t.Nb(),t.rc(690,"\n        opts"),t.Ob(691,"span",12),t.rc(692,"."),t.Nb(),t.rc(693,"sslCA "),t.Ob(694,"span",16),t.rc(695,"="),t.Nb(),t.rc(696," "),t.Ob(697,"span",11),t.rc(698,"await"),t.Nb(),t.rc(699," "),t.Ob(700,"span",23),t.rc(701,"Promise"),t.Nb(),t.Ob(702,"span",12),t.rc(703,"."),t.Nb(),t.Ob(704,"span",3),t.rc(705,"all"),t.Nb(),t.Ob(706,"span",12),t.rc(707,"("),t.Nb(),t.rc(708,"opts"),t.Ob(709,"span",12),t.rc(710,"."),t.Nb(),t.rc(711,"sslCA"),t.Ob(712,"span",12),t.rc(713,"."),t.Nb(),t.Ob(714,"span",3),t.rc(715,"map"),t.Nb(),t.Ob(716,"span",12),t.rc(717,"("),t.Nb(),t.Ob(718,"span",18),t.rc(719,"k"),t.Nb(),t.rc(720," "),t.Ob(721,"span",16),t.rc(722,"=>"),t.Nb(),t.rc(723," "),t.Ob(724,"span",11),t.rc(725,"this"),t.Nb(),t.Ob(726,"span",12),t.rc(727,"."),t.Nb(),t.Ob(728,"span",3),t.rc(729,"fetch"),t.Nb(),t.Ob(730,"span",12),t.rc(731,"("),t.Nb(),t.rc(732,"k "),t.Ob(733,"span",11),t.rc(734,"as"),t.Nb(),t.rc(735," "),t.Ob(736,"span",23),t.rc(737,"string"),t.Nb(),t.Ob(738,"span",12),t.rc(739,")"),t.Nb(),t.Ob(740,"span",12),t.rc(741,")"),t.Nb(),t.Ob(742,"span",12),t.rc(743,")"),t.Nb(),t.Ob(744,"span",12),t.rc(745,";"),t.Nb(),t.rc(746,"\n      "),t.Ob(747,"span",12),t.rc(748),t.Nb(),t.rc(749,"\n      "),t.Ob(750,"span",11),t.rc(751,"if"),t.Nb(),t.rc(752," "),t.Ob(753,"span",12),t.rc(754,"("),t.Nb(),t.rc(755,"opts"),t.Ob(756,"span",12),t.rc(757,"."),t.Nb(),t.rc(758,"sslCRL"),t.Ob(759,"span",12),t.rc(760,")"),t.Nb(),t.rc(761," "),t.Ob(762,"span",12),t.rc(763),t.Nb(),t.rc(764,"\n        opts"),t.Ob(765,"span",12),t.rc(766,"."),t.Nb(),t.rc(767,"sslCRL "),t.Ob(768,"span",16),t.rc(769,"="),t.Nb(),t.rc(770," "),t.Ob(771,"span",11),t.rc(772,"await"),t.Nb(),t.rc(773," "),t.Ob(774,"span",23),t.rc(775,"Promise"),t.Nb(),t.Ob(776,"span",12),t.rc(777,"."),t.Nb(),t.Ob(778,"span",3),t.rc(779,"all"),t.Nb(),t.Ob(780,"span",12),t.rc(781,"("),t.Nb(),t.rc(782,"opts"),t.Ob(783,"span",12),t.rc(784,"."),t.Nb(),t.rc(785,"sslCRL"),t.Ob(786,"span",12),t.rc(787,"."),t.Nb(),t.Ob(788,"span",3),t.rc(789,"map"),t.Nb(),t.Ob(790,"span",12),t.rc(791,"("),t.Nb(),t.Ob(792,"span",18),t.rc(793,"k"),t.Nb(),t.rc(794," "),t.Ob(795,"span",16),t.rc(796,"=>"),t.Nb(),t.rc(797," "),t.Ob(798,"span",11),t.rc(799,"this"),t.Nb(),t.Ob(800,"span",12),t.rc(801,"."),t.Nb(),t.Ob(802,"span",3),t.rc(803,"fetch"),t.Nb(),t.Ob(804,"span",12),t.rc(805,"("),t.Nb(),t.rc(806,"k "),t.Ob(807,"span",11),t.rc(808,"as"),t.Nb(),t.rc(809," "),t.Ob(810,"span",23),t.rc(811,"string"),t.Nb(),t.Ob(812,"span",12),t.rc(813,")"),t.Nb(),t.Ob(814,"span",12),t.rc(815,")"),t.Nb(),t.Ob(816,"span",12),t.rc(817,")"),t.Nb(),t.Ob(818,"span",12),t.rc(819,";"),t.Nb(),t.rc(820,"\n      "),t.Ob(821,"span",12),t.rc(822),t.Nb(),t.rc(823,"\n    "),t.Ob(824,"span",12),t.rc(825),t.Nb(),t.rc(826,"\n  "),t.Ob(827,"span",12),t.rc(828),t.Nb(),t.rc(829,"\n\n  "),t.Ob(830,"span",21),t.rc(831,"/**\n   * Build connection URLs\n   */"),t.Nb(),t.rc(832,"\n  "),t.Ob(833,"span",11),t.rc(834,"get"),t.Nb(),t.rc(835," "),t.Ob(836,"span",3),t.rc(837,"url"),t.Nb(),t.Ob(838,"span",12),t.rc(839,"("),t.Nb(),t.Ob(840,"span",12),t.rc(841,")"),t.Nb(),t.rc(842," "),t.Ob(843,"span",12),t.rc(844),t.Nb(),t.rc(845,"\n    "),t.Ob(846,"span",11),t.rc(847,"const"),t.Nb(),t.rc(848," hosts "),t.Ob(849,"span",16),t.rc(850,"="),t.Nb(),t.rc(851," "),t.Ob(852,"span",11),t.rc(853,"this"),t.Nb(),t.Ob(854,"span",12),t.rc(855,"."),t.Nb(),t.rc(856,"hosts\n      "),t.Ob(857,"span",12),t.rc(858,"."),t.Nb(),t.Ob(859,"span",3),t.rc(860,"map"),t.Nb(),t.Ob(861,"span",12),t.rc(862,"("),t.Nb(),t.Ob(863,"span",18),t.rc(864,"h"),t.Nb(),t.rc(865," "),t.Ob(866,"span",16),t.rc(867,"=>"),t.Nb(),t.rc(868," h"),t.Ob(869,"span",12),t.rc(870,"."),t.Nb(),t.Ob(871,"span",3),t.rc(872,"includes"),t.Nb(),t.Ob(873,"span",12),t.rc(874,"("),t.Nb(),t.Ob(875,"span",13),t.rc(876,"':'"),t.Nb(),t.Ob(877,"span",12),t.rc(878,")"),t.Nb(),t.rc(879," "),t.Ob(880,"span",16),t.rc(881,"?"),t.Nb(),t.rc(882," h "),t.Ob(883,"span",16),t.rc(884,":"),t.Nb(),t.rc(885," "),t.Ob(886,"span",24),t.Ob(887,"span",25),t.rc(888,"`"),t.Nb(),t.Ob(889,"span",26),t.Ob(890,"span",27),t.rc(891),t.Nb(),t.rc(892,"h"),t.Ob(893,"span",27),t.rc(894),t.Nb(),t.Nb(),t.Ob(895,"span",13),t.rc(896,":"),t.Nb(),t.Ob(897,"span",26),t.Ob(898,"span",27),t.rc(899),t.Nb(),t.Ob(900,"span",11),t.rc(901,"this"),t.Nb(),t.Ob(902,"span",12),t.rc(903,"."),t.Nb(),t.rc(904,"port"),t.Ob(905,"span",27),t.rc(906),t.Nb(),t.Nb(),t.Ob(907,"span",25),t.rc(908,"`"),t.Nb(),t.Nb(),t.Ob(909,"span",12),t.rc(910,")"),t.Nb(),t.rc(911,"\n      "),t.Ob(912,"span",12),t.rc(913,"."),t.Nb(),t.Ob(914,"span",3),t.rc(915,"join"),t.Nb(),t.Ob(916,"span",12),t.rc(917,"("),t.Nb(),t.Ob(918,"span",13),t.rc(919,"','"),t.Nb(),t.Ob(920,"span",12),t.rc(921,")"),t.Nb(),t.Ob(922,"span",12),t.rc(923,";"),t.Nb(),t.rc(924,"\n    "),t.Ob(925,"span",11),t.rc(926,"const"),t.Nb(),t.rc(927," opts "),t.Ob(928,"span",16),t.rc(929,"="),t.Nb(),t.rc(930," Object"),t.Ob(931,"span",12),t.rc(932,"."),t.Nb(),t.Ob(933,"span",3),t.rc(934,"entries"),t.Nb(),t.Ob(935,"span",12),t.rc(936,"("),t.Nb(),t.Ob(937,"span",11),t.rc(938,"this"),t.Nb(),t.Ob(939,"span",12),t.rc(940,"."),t.Nb(),t.rc(941,"connectionOptions"),t.Ob(942,"span",12),t.rc(943,")"),t.Nb(),t.Ob(944,"span",12),t.rc(945,"."),t.Nb(),t.Ob(946,"span",3),t.rc(947,"map"),t.Nb(),t.Ob(948,"span",12),t.rc(949,"("),t.Nb(),t.Ob(950,"span",12),t.rc(951,"("),t.Nb(),t.Ob(952,"span",18),t.Ob(953,"span",12),t.rc(954,"["),t.Nb(),t.rc(955,"k"),t.Ob(956,"span",12),t.rc(957,","),t.Nb(),t.rc(958," v"),t.Ob(959,"span",12),t.rc(960,"]"),t.Nb(),t.Nb(),t.Ob(961,"span",12),t.rc(962,")"),t.Nb(),t.rc(963," "),t.Ob(964,"span",16),t.rc(965,"=>"),t.Nb(),t.rc(966," "),t.Ob(967,"span",24),t.Ob(968,"span",25),t.rc(969,"`"),t.Nb(),t.Ob(970,"span",26),t.Ob(971,"span",27),t.rc(972),t.Nb(),t.rc(973,"k"),t.Ob(974,"span",27),t.rc(975),t.Nb(),t.Nb(),t.Ob(976,"span",13),t.rc(977,"="),t.Nb(),t.Ob(978,"span",26),t.Ob(979,"span",27),t.rc(980),t.Nb(),t.rc(981,"v"),t.Ob(982,"span",27),t.rc(983),t.Nb(),t.Nb(),t.Ob(984,"span",25),t.rc(985,"`"),t.Nb(),t.Nb(),t.Ob(986,"span",12),t.rc(987,")"),t.Nb(),t.Ob(988,"span",12),t.rc(989,"."),t.Nb(),t.Ob(990,"span",3),t.rc(991,"join"),t.Nb(),t.Ob(992,"span",12),t.rc(993,"("),t.Nb(),t.Ob(994,"span",13),t.rc(995,"'&'"),t.Nb(),t.Ob(996,"span",12),t.rc(997,")"),t.Nb(),t.Ob(998,"span",12),t.rc(999,";"),t.Nb(),t.rc(1e3,"\n    "),t.Ob(1001,"span",11),t.rc(1002,"return"),t.Nb(),t.rc(1003," "),t.Ob(1004,"span",24),t.Ob(1005,"span",25),t.rc(1006,"`"),t.Nb(),t.Ob(1007,"span",13),t.rc(1008,"mongodb://"),t.Nb(),t.Ob(1009,"span",26),t.Ob(1010,"span",27),t.rc(1011),t.Nb(),t.rc(1012,"hosts"),t.Ob(1013,"span",27),t.rc(1014),t.Nb(),t.Nb(),t.Ob(1015,"span",13),t.rc(1016,"/"),t.Nb(),t.Ob(1017,"span",26),t.Ob(1018,"span",27),t.rc(1019),t.Nb(),t.Ob(1020,"span",11),t.rc(1021,"this"),t.Nb(),t.Ob(1022,"span",12),t.rc(1023,"."),t.Nb(),t.Ob(1024,"span",11),t.rc(1025,"namespace"),t.Nb(),t.Ob(1026,"span",27),t.rc(1027),t.Nb(),t.Nb(),t.Ob(1028,"span",13),t.rc(1029,"?"),t.Nb(),t.Ob(1030,"span",26),t.Ob(1031,"span",27),t.rc(1032),t.Nb(),t.rc(1033,"opts"),t.Ob(1034,"span",27),t.rc(1035),t.Nb(),t.Nb(),t.Ob(1036,"span",25),t.rc(1037,"`"),t.Nb(),t.Nb(),t.Ob(1038,"span",12),t.rc(1039,";"),t.Nb(),t.rc(1040,"\n  "),t.Ob(1041,"span",12),t.rc(1042),t.Nb(),t.rc(1043,"\n"),t.Ob(1044,"span",12),t.rc(1045),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1046," and can be overridden via environment variables or config files, as defined in "),t.Ob(1047,"a",28),t.rc(1048,"Configuration"),t.Nb(),t.rc(1049,". The SSL file options in "),t.Ob(1050,"code",29),t.rc(1051,"clientOptions"),t.Nb(),t.rc(1052," will automatically be resolved to files when given a path. This path can be a "),t.Ob(1053,"a",30),t.rc(1054,"ResourceManager"),t.Nb(),t.rc(1055," path or just a standard file path. "),t.Nb()}2&r&&(t.zb(50),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(7),t.sc("{"),t.zb(9),t.sc("}"),t.zb(20),t.sc("{"),t.zb(19),t.sc("}"),t.zb(3),t.sc("}"),t.zb(68),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(74),t.sc("{"),t.zb(71),t.sc("{"),t.zb(2),t.sc("}"),t.zb(11),t.sc("{"),t.zb(17),t.sc("}"),t.zb(32),t.sc("{"),t.zb(6),t.sc("{"),t.zb(47),t.sc("}"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(16),t.sc("{"),t.zb(29),t.sc("{"),t.zb(15),t.sc("{"),t.zb(34),t.sc("}"),t.zb(15),t.sc("{"),t.zb(34),t.sc("}"),t.zb(15),t.sc("{"),t.zb(59),t.sc("}"),t.zb(15),t.sc("{"),t.zb(59),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(16),t.sc("{"),t.zb(47),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(7),t.sc("}"),t.zb(66),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(28),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(8),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(7),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),v=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-model-sql"]],decls:528,vars:24,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://en.wikipedia.org/wiki/SQL",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/service/source.ts#L58",1,"source-link"],["href","/docs/model","title","Datastore abstraction for CRUD operations with advanced query support.",1,"module-link"],[1,"item","input"],["target","_blank","href","https://www.mysql.com/",1,"external-link"],["target","_blank","href","https://postgresql.org",1,"external-link"],[1,"note"],["href","/docs/di","title","Dependency registration/management and injection support.",1,"module-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-sql/alt/docs/src/source.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","meta"],[1,"token","operator"],[1,"token","boolean"],[1,"token","parameter"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-sql/src/config.ts#L8",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-sql/src/config.ts"],[1,"token","comment"],[1,"token","number"],["href","/docs/config","title","Environment-aware config management using yaml files",1,"module-link"],["id","cli-model-sql-schema"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/registry/decorator.ts#L12",1,"source-link"],[1,"terminal"],[1,"token","builtin","class-name"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"SQL Model Source "),t.Ob(3,"small"),t.rc(4,"SQL backing for the travetto model module, with real-time modeling support for SQL schemas."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/model-sql "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/model-sql"),t.Nb(),t.Nb(),t.Nb(),t.Ob(16,"figure",1),t.Ob(17,"figcaption",1),t.rc(18,"Specific SQL Client: mysql "),t.Nb(),t.Ob(19,"pre"),t.Ob(20,"code",2),t.Ob(21,"span",3),t.rc(22,"npm"),t.Nb(),t.rc(23," "),t.Ob(24,"span",3),t.rc(25,"install"),t.Nb(),t.rc(26," mysql"),t.Nb(),t.Nb(),t.Nb(),t.rc(27," or "),t.Ob(28,"figure",1),t.Ob(29,"figcaption",1),t.rc(30,"Specific SQL Client: postgres "),t.Nb(),t.Ob(31,"pre"),t.Ob(32,"code",2),t.Ob(33,"span",3),t.rc(34,"npm"),t.Nb(),t.rc(35," "),t.Ob(36,"span",3),t.rc(37,"install"),t.Nb(),t.rc(38," pg"),t.Nb(),t.Nb(),t.Nb(),t.rc(39," This module provides a "),t.Ob(40,"a",4),t.rc(41,"SQL"),t.Nb(),t.rc(42,"-based implementation of "),t.Ob(43,"a",5),t.rc(44,"ModelSource"),t.Nb(),t.rc(45," for the "),t.Ob(46,"a",6),t.rc(47,"Data Modeling"),t.Nb(),t.rc(48," module. This source allows the "),t.Ob(49,"a",6),t.rc(50,"Data Modeling"),t.Nb(),t.rc(51," module to read, write and query against "),t.Ob(52,"a",4),t.rc(53,"SQL"),t.Nb(),t.rc(54," databases. In development mode, the "),t.Ob(55,"a",5),t.rc(56,"ModelSource"),t.Nb(),t.rc(57," will also modify the database schema in real time to minimize impact to development. The schema generated will not generally map to existing tables as it is attempting to produce a document store like experience on top of\na "),t.Ob(58,"a",4),t.rc(59,"SQL"),t.Nb(),t.rc(60," database. Every table generated will have a "),t.Ob(61,"code",7),t.rc(62,"path_id"),t.Nb(),t.rc(63," which determines it's location in the document hierarchy as well as sub tables will have a "),t.Ob(64,"code",7),t.rc(65,"parent_path_id"),t.Nb(),t.rc(66," to associate records with the parent values. The current SQL client support stands at:\n"),t.Ob(67,"ul"),t.Ob(68,"li"),t.Ob(69,"a",8),t.rc(70,"MySQL"),t.Nb(),t.rc(71," - 5.6 and 5.7"),t.Nb(),t.Ob(72,"li"),t.Ob(73,"a",9),t.rc(74,"Postgres"),t.Nb(),t.rc(75," - 11+"),t.Nb(),t.Ob(76,"li"),t.Ob(77,"code",7),t.rc(78,"SQL Server"),t.Nb(),t.rc(79," - Currently unsupported"),t.Nb(),t.Ob(80,"li"),t.Ob(81,"code",7),t.rc(82,"Oracle"),t.Nb(),t.rc(83," - Currently unsupported"),t.Nb(),t.Nb(),t.Ob(84,"p",10),t.Ob(85,"strong"),t.rc(86,"Note"),t.Nb(),t.rc(87," Wider client support will roll out as usage increases."),t.Nb(),t.rc(88," Out of the box, by installing the module, everything should be wired up by default. If you need to customize any aspect of the source or config, you can override and register it with the "),t.Ob(89,"a",11),t.rc(90,"Dependency Injection"),t.Nb(),t.rc(91," module. "),t.Ob(92,"figure",12),t.Ob(93,"figcaption",12),t.rc(94,"Wiring up a custom Model Source "),t.Ob(95,"cite"),t.Ob(96,"a",13),t.rc(97,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(98,"pre"),t.Ob(99,"code",14),t.Ob(100,"span",15),t.rc(101,"import"),t.Nb(),t.rc(102," "),t.Ob(103,"span",16),t.rc(104),t.Nb(),t.rc(105," AsyncContext "),t.Ob(106,"span",16),t.rc(107),t.Nb(),t.rc(108," "),t.Ob(109,"span",15),t.rc(110,"from"),t.Nb(),t.rc(111," "),t.Ob(112,"span",17),t.rc(113,"'@travetto/context'"),t.Nb(),t.Ob(114,"span",16),t.rc(115,";"),t.Nb(),t.rc(116,"\n"),t.Ob(117,"span",15),t.rc(118,"import"),t.Nb(),t.rc(119," "),t.Ob(120,"span",16),t.rc(121),t.Nb(),t.rc(122," InjectableFactory "),t.Ob(123,"span",16),t.rc(124),t.Nb(),t.rc(125," "),t.Ob(126,"span",15),t.rc(127,"from"),t.Nb(),t.rc(128," "),t.Ob(129,"span",17),t.rc(130,"'@travetto/di'"),t.Nb(),t.Ob(131,"span",16),t.rc(132,";"),t.Nb(),t.rc(133,"\n\n"),t.Ob(134,"span",15),t.rc(135,"import"),t.Nb(),t.rc(136," "),t.Ob(137,"span",16),t.rc(138),t.Nb(),t.rc(139," SQLModelConfig "),t.Ob(140,"span",16),t.rc(141),t.Nb(),t.rc(142," "),t.Ob(143,"span",15),t.rc(144,"from"),t.Nb(),t.rc(145," "),t.Ob(146,"span",17),t.rc(147,"'@travetto/model-sql/src/config'"),t.Nb(),t.Ob(148,"span",16),t.rc(149,";"),t.Nb(),t.rc(150,"\n"),t.Ob(151,"span",15),t.rc(152,"import"),t.Nb(),t.rc(153," "),t.Ob(154,"span",16),t.rc(155),t.Nb(),t.rc(156," SQLModelSource "),t.Ob(157,"span",16),t.rc(158),t.Nb(),t.rc(159," "),t.Ob(160,"span",15),t.rc(161,"from"),t.Nb(),t.rc(162," "),t.Ob(163,"span",17),t.rc(164,"'@travetto/model-sql/src/source'"),t.Nb(),t.Ob(165,"span",16),t.rc(166,";"),t.Nb(),t.rc(167,"\n"),t.Ob(168,"span",15),t.rc(169,"import"),t.Nb(),t.rc(170," "),t.Ob(171,"span",16),t.rc(172),t.Nb(),t.rc(173," MySQLDialect "),t.Ob(174,"span",16),t.rc(175),t.Nb(),t.rc(176," "),t.Ob(177,"span",15),t.rc(178,"from"),t.Nb(),t.rc(179," "),t.Ob(180,"span",17),t.rc(181,"'@travetto/model-sql/src/dialects/mysql/dialect'"),t.Nb(),t.Ob(182,"span",16),t.rc(183,";"),t.Nb(),t.rc(184,"\n\n"),t.Ob(185,"span",15),t.rc(186,"export"),t.Nb(),t.rc(187," "),t.Ob(188,"span",15),t.rc(189,"class"),t.Nb(),t.rc(190," "),t.Ob(191,"span",18),t.rc(192,"Init"),t.Nb(),t.rc(193," "),t.Ob(194,"span",16),t.rc(195),t.Nb(),t.rc(196,"\n  @"),t.Ob(197,"span",19),t.rc(198,"InjectableFactory"),t.Nb(),t.Ob(199,"span",16),t.rc(200,"("),t.Nb(),t.Ob(201,"span",16),t.rc(202),t.Nb(),t.rc(203," primary"),t.Ob(204,"span",20),t.rc(205,":"),t.Nb(),t.rc(206," "),t.Ob(207,"span",21),t.rc(208,"true"),t.Nb(),t.rc(209," "),t.Ob(210,"span",16),t.rc(211),t.Nb(),t.Ob(212,"span",16),t.rc(213,")"),t.Nb(),t.rc(214,"\n  "),t.Ob(215,"span",15),t.rc(216,"static"),t.Nb(),t.rc(217," "),t.Ob(218,"span",3),t.rc(219,"getModelSource"),t.Nb(),t.Ob(220,"span",16),t.rc(221,"("),t.Nb(),t.Ob(222,"span",22),t.rc(223,"ctx"),t.Ob(224,"span",20),t.rc(225,":"),t.Nb(),t.rc(226," AsyncContext"),t.Ob(227,"span",16),t.rc(228,","),t.Nb(),t.rc(229," conf"),t.Ob(230,"span",20),t.rc(231,":"),t.Nb(),t.rc(232," SQLModelConfig"),t.Nb(),t.Ob(233,"span",16),t.rc(234,")"),t.Nb(),t.rc(235," "),t.Ob(236,"span",16),t.rc(237),t.Nb(),t.rc(238,"\n    "),t.Ob(239,"span",15),t.rc(240,"return"),t.Nb(),t.rc(241," "),t.Ob(242,"span",15),t.rc(243,"new"),t.Nb(),t.rc(244," "),t.Ob(245,"span",18),t.rc(246,"SQLModelSource"),t.Nb(),t.Ob(247,"span",16),t.rc(248,"("),t.Nb(),t.rc(249,"ctx"),t.Ob(250,"span",16),t.rc(251,","),t.Nb(),t.rc(252," conf"),t.Ob(253,"span",16),t.rc(254,","),t.Nb(),t.rc(255," "),t.Ob(256,"span",15),t.rc(257,"new"),t.Nb(),t.rc(258," "),t.Ob(259,"span",18),t.rc(260,"MySQLDialect"),t.Nb(),t.Ob(261,"span",16),t.rc(262,"("),t.Nb(),t.rc(263,"ctx"),t.Ob(264,"span",16),t.rc(265,","),t.Nb(),t.rc(266," conf"),t.Ob(267,"span",16),t.rc(268,")"),t.Nb(),t.Ob(269,"span",16),t.rc(270,")"),t.Nb(),t.Ob(271,"span",16),t.rc(272,";"),t.Nb(),t.rc(273,"\n  "),t.Ob(274,"span",16),t.rc(275),t.Nb(),t.rc(276,"\n"),t.Ob(277,"span",16),t.rc(278),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(279," where the "),t.Ob(280,"a",23),t.rc(281,"SQLModelConfig"),t.Nb(),t.rc(282," is defined by: "),t.Ob(283,"figure",12),t.Ob(284,"figcaption",12),t.rc(285,"Structure of SQLModelConfig "),t.Ob(286,"cite"),t.Ob(287,"a",24),t.rc(288,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(289,"pre"),t.Ob(290,"code",14),t.Ob(291,"span",15),t.rc(292,"import"),t.Nb(),t.rc(293," "),t.Ob(294,"span",16),t.rc(295),t.Nb(),t.rc(296," EnvUtil "),t.Ob(297,"span",16),t.rc(298),t.Nb(),t.rc(299," "),t.Ob(300,"span",15),t.rc(301,"from"),t.Nb(),t.rc(302," "),t.Ob(303,"span",17),t.rc(304,"'@travetto/boot'"),t.Nb(),t.Ob(305,"span",16),t.rc(306,";"),t.Nb(),t.rc(307,"\n"),t.Ob(308,"span",15),t.rc(309,"import"),t.Nb(),t.rc(310," "),t.Ob(311,"span",16),t.rc(312),t.Nb(),t.rc(313," Config "),t.Ob(314,"span",16),t.rc(315),t.Nb(),t.rc(316," "),t.Ob(317,"span",15),t.rc(318,"from"),t.Nb(),t.rc(319," "),t.Ob(320,"span",17),t.rc(321,"'@travetto/config'"),t.Nb(),t.Ob(322,"span",16),t.rc(323,";"),t.Nb(),t.rc(324,"\n\n"),t.Ob(325,"span",25),t.rc(326,"/**\n * SQL Model Config\n */"),t.Nb(),t.rc(327,"\n@"),t.Ob(328,"span",19),t.rc(329,"Config"),t.Nb(),t.Ob(330,"span",16),t.rc(331,"("),t.Nb(),t.Ob(332,"span",17),t.rc(333,"'sql.model'"),t.Nb(),t.Ob(334,"span",16),t.rc(335,")"),t.Nb(),t.rc(336,"\n"),t.Ob(337,"span",15),t.rc(338,"export"),t.Nb(),t.rc(339," "),t.Ob(340,"span",15),t.rc(341,"class"),t.Nb(),t.rc(342," "),t.Ob(343,"span",18),t.rc(344,"SQLModelConfig"),t.Nb(),t.rc(345," "),t.Ob(346,"span",16),t.rc(347),t.Nb(),t.rc(348,"\n  "),t.Ob(349,"span",25),t.rc(350,"/**\n   * Host to connect to\n   */"),t.Nb(),t.rc(351,"\n  host "),t.Ob(352,"span",20),t.rc(353,"="),t.Nb(),t.rc(354," "),t.Ob(355,"span",17),t.rc(356,"'127.0.0.1'"),t.Nb(),t.Ob(357,"span",16),t.rc(358,";"),t.Nb(),t.rc(359,"\n  "),t.Ob(360,"span",25),t.rc(361,"/**\n   * Default port\n   */"),t.Nb(),t.rc(362,"\n  port "),t.Ob(363,"span",20),t.rc(364,"="),t.Nb(),t.rc(365," "),t.Ob(366,"span",26),t.rc(367,"0"),t.Nb(),t.Ob(368,"span",16),t.rc(369,";"),t.Nb(),t.rc(370,"\n  "),t.Ob(371,"span",25),t.rc(372,"/**\n   * Username\n   */"),t.Nb(),t.rc(373,"\n  user "),t.Ob(374,"span",20),t.rc(375,"="),t.Nb(),t.rc(376," "),t.Ob(377,"span",17),t.rc(378,"''"),t.Nb(),t.Ob(379,"span",16),t.rc(380,";"),t.Nb(),t.rc(381,"\n  "),t.Ob(382,"span",25),t.rc(383,"/**\n   * Password\n   */"),t.Nb(),t.rc(384,"\n  password "),t.Ob(385,"span",20),t.rc(386,"="),t.Nb(),t.rc(387," "),t.Ob(388,"span",17),t.rc(389,"''"),t.Nb(),t.Ob(390,"span",16),t.rc(391,";"),t.Nb(),t.rc(392,"\n  "),t.Ob(393,"span",25),t.rc(394,"/**\n   * Table prefix\n   */"),t.Nb(),t.rc(395,"\n  "),t.Ob(396,"span",15),t.rc(397,"namespace"),t.Nb(),t.rc(398," "),t.Ob(399,"span",20),t.rc(400,"="),t.Nb(),t.rc(401," "),t.Ob(402,"span",17),t.rc(403,"''"),t.Nb(),t.Ob(404,"span",16),t.rc(405,";"),t.Nb(),t.rc(406,"\n  "),t.Ob(407,"span",25),t.rc(408,"/**\n   * Database name\n   */"),t.Nb(),t.rc(409,"\n  database "),t.Ob(410,"span",20),t.rc(411,"="),t.Nb(),t.rc(412," "),t.Ob(413,"span",17),t.rc(414,"'app'"),t.Nb(),t.Ob(415,"span",16),t.rc(416,";"),t.Nb(),t.rc(417,"\n  "),t.Ob(418,"span",25),t.rc(419,"/**\n   * Auto schema creation\n   */"),t.Nb(),t.rc(420,"\n  autoCreate "),t.Ob(421,"span",20),t.rc(422,"="),t.Nb(),t.rc(423," "),t.Ob(424,"span",20),t.rc(425,"!"),t.Nb(),t.rc(426,"EnvUtil"),t.Ob(427,"span",16),t.rc(428,"."),t.Nb(),t.Ob(429,"span",3),t.rc(430,"isReadonly"),t.Nb(),t.Ob(431,"span",16),t.rc(432,"("),t.Nb(),t.Ob(433,"span",16),t.rc(434,")"),t.Nb(),t.Ob(435,"span",16),t.rc(436,";"),t.Nb(),t.rc(437,"\n  "),t.Ob(438,"span",25),t.rc(439,"/**\n   * Db version\n   */"),t.Nb(),t.rc(440,"\n  version "),t.Ob(441,"span",20),t.rc(442,"="),t.Nb(),t.rc(443," "),t.Ob(444,"span",17),t.rc(445,"''"),t.Nb(),t.Ob(446,"span",16),t.rc(447,";"),t.Nb(),t.rc(448,"\n  "),t.Ob(449,"span",25),t.rc(450,"/**\n   * Raw client options\n   */"),t.Nb(),t.rc(451,"\n  options "),t.Ob(452,"span",20),t.rc(453,"="),t.Nb(),t.rc(454," "),t.Ob(455,"span",16),t.rc(456),t.Nb(),t.Ob(457,"span",16),t.rc(458),t.Nb(),t.Ob(459,"span",16),t.rc(460,";"),t.Nb(),t.rc(461,"\n"),t.Ob(462,"span",16),t.rc(463),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(464," and can be overridden via environment variables or config files, as defined in "),t.Ob(465,"a",27),t.rc(466,"Configuration"),t.Nb(),t.rc(467,". "),t.Ob(468,"h2",28),t.rc(469,"CLI - model:sql-schema"),t.Nb(),t.rc(470," The module provides the ability to generate the full "),t.Ob(471,"a",4),t.rc(472,"SQL"),t.Nb(),t.rc(473," schema from all the various "),t.Ob(474,"a",29),t.rc(475,"@Model"),t.Nb(),t.rc(476,"s within the application. This is useful for being able to generate the appropriate "),t.Ob(477,"a",4),t.rc(478,"SQL"),t.Nb(),t.rc(479," commands to define your schemas in production. "),t.Ob(480,"figure",30),t.Ob(481,"figcaption",30),t.rc(482,"Running schema generate "),t.Nb(),t.Ob(483,"pre"),t.Ob(484,"code",2),t.rc(485,"$ travetto travetto model:sql-schema --help\n\nUsage:  model:sql-schema "),t.Ob(486,"span",16),t.rc(487,"["),t.Nb(),t.rc(488,"options"),t.Ob(489,"span",16),t.rc(490,"]"),t.Nb(),t.rc(491,"\n\nOptions:\n  -a, --app "),t.Ob(492,"span",16),t.rc(493,"["),t.Nb(),t.rc(494,"app"),t.Ob(495,"span",16),t.rc(496,"]"),t.Nb(),t.rc(497,"      Application root to export, "),t.Ob(498,"span",16),t.rc(499,"("),t.Nb(),t.rc(500,"default: "),t.Ob(501,"span",31),t.rc(502,"."),t.Nb(),t.Ob(503,"span",16),t.rc(504,")"),t.Nb(),t.rc(505,"\n  -c, --clear "),t.Ob(506,"span",16),t.rc(507,"["),t.Nb(),t.rc(508,"clear"),t.Ob(509,"span",16),t.rc(510,"]"),t.Nb(),t.rc(511,"  Whether or not to generate DROP statements first\n                       "),t.Ob(512,"span",16),t.rc(513,"("),t.Nb(),t.rc(514,"default: "),t.Ob(515,"span",21),t.rc(516,"true"),t.Nb(),t.Ob(517,"span",16),t.rc(518,")"),t.Nb(),t.rc(519,"\n  -h, --help           display "),t.Ob(520,"span",31),t.rc(521,"help"),t.Nb(),t.rc(522," "),t.Ob(523,"span",15),t.rc(524,"for"),t.Nb(),t.rc(525," "),t.Ob(526,"span",31),t.rc(527,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(104),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(7),t.sc("{"),t.zb(9),t.sc("}"),t.zb(26),t.sc("{"),t.zb(38),t.sc("}"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(32),t.sc("{"),t.zb(109),t.sc("{"),t.zb(2),t.sc("}"),t.zb(5),t.sc("}"))},styles:[""]}),r}(),g=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-openapi"]],decls:645,vars:24,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["target","_blank","href","https://github.com/OAI/OpenAPI-Specification",1,"external-link"],["href","/docs/schema","title","Data type registry for runtime validation, reflection and binding. ",1,"module-link"],["id","configuration"],[1,"item","path"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/openapi/src/config.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","operator"],[1,"token","string"],[1,"token","punctuation"],[1,"token","comment"],[1,"token","meta"],[1,"token","class-name"],[1,"token","builtin"],[1,"token","boolean"],[1,"token","regex"],["id","spec-generation"],["target","_blank","href","https://www.json.org",1,"external-link"],["target","_blank","href","https://en.wikipedia.org/wiki/YAML",1,"external-link"],[1,"item","input"],["id","client-generation"],["target","_blank","href","https://github.com/OpenAPITools/openapi-generator",1,"external-link"],["id","cli-openapi-spec"],["href","/docs/cli","title","CLI infrastructure for travetto framework",1,"module-link"],[1,"terminal"],[1,"token","builtin","class-name"],[1,"note"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"OpenAPI Specification "),t.Ob(3,"small"),t.rc(4,"OpenAPI integration support for the travetto framework"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/openapi "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/openapi"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," In the "),t.Ob(17,"a",4),t.rc(18,"RESTful API"),t.Nb(),t.rc(19," module, the controllers and endpoints can be described via decorators, comments, or typings. This only provides the general metadata internally. This is not sufficient to generate a usable API doc, and so this module exists to bridge that gap. The module is provides an "),t.Ob(20,"a",5),t.rc(21,"OpenAPI"),t.Nb(),t.rc(22," v3.x representation of the API metadata provided via the "),t.Ob(23,"a",4),t.rc(24,"RESTful API"),t.Nb(),t.rc(25," and "),t.Ob(26,"a",6),t.rc(27,"Schema"),t.Nb(),t.rc(28," modules. "),t.Ob(29,"h2",7),t.rc(30,"Configuration"),t.Nb(),t.rc(31,"\nBy installing the dependency, the "),t.Ob(32,"a",5),t.rc(33,"OpenAPI"),t.Nb(),t.rc(34," endpoint is automatically generated and exposed at the root of the application as "),t.Ob(35,"code",8),t.rc(36,"/openapi.yml"),t.Nb(),t.rc(37," or "),t.Ob(38,"code",8),t.rc(39,"/openapi.json"),t.Nb(),t.rc(40," (by default). All of the high level configurations can be found in the following structure: "),t.Ob(41,"figure",9),t.Ob(42,"figcaption",9),t.rc(43,"Config: OpenAPI Configuration "),t.Ob(44,"cite"),t.Ob(45,"a",10),t.rc(46,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(47,"pre"),t.Ob(48,"code",11),t.Ob(49,"span",12),t.rc(50,"import"),t.Nb(),t.rc(51," "),t.Ob(52,"span",13),t.rc(53,"*"),t.Nb(),t.rc(54," "),t.Ob(55,"span",12),t.rc(56,"as"),t.Nb(),t.rc(57," path "),t.Ob(58,"span",12),t.rc(59,"from"),t.Nb(),t.rc(60," "),t.Ob(61,"span",14),t.rc(62,"'path'"),t.Nb(),t.Ob(63,"span",15),t.rc(64,";"),t.Nb(),t.rc(65,"\n"),t.Ob(66,"span",12),t.rc(67,"import"),t.Nb(),t.rc(68," "),t.Ob(69,"span",15),t.rc(70),t.Nb(),t.rc(71," ServerObject"),t.Ob(72,"span",15),t.rc(73,","),t.Nb(),t.rc(74," ContactObject"),t.Ob(75,"span",15),t.rc(76,","),t.Nb(),t.rc(77," LicenseObject "),t.Ob(78,"span",15),t.rc(79),t.Nb(),t.rc(80," "),t.Ob(81,"span",12),t.rc(82,"from"),t.Nb(),t.rc(83," "),t.Ob(84,"span",14),t.rc(85,"'openapi3-ts'"),t.Nb(),t.Ob(86,"span",15),t.rc(87,";"),t.Nb(),t.rc(88,"\n\n"),t.Ob(89,"span",12),t.rc(90,"import"),t.Nb(),t.rc(91," "),t.Ob(92,"span",15),t.rc(93),t.Nb(),t.rc(94," Config "),t.Ob(95,"span",15),t.rc(96),t.Nb(),t.rc(97," "),t.Ob(98,"span",12),t.rc(99,"from"),t.Nb(),t.rc(100," "),t.Ob(101,"span",14),t.rc(102,"'@travetto/config'"),t.Nb(),t.Ob(103,"span",15),t.rc(104,";"),t.Nb(),t.rc(105,"\n"),t.Ob(106,"span",12),t.rc(107,"import"),t.Nb(),t.rc(108," "),t.Ob(109,"span",15),t.rc(110),t.Nb(),t.rc(111," FsUtil"),t.Ob(112,"span",15),t.rc(113,","),t.Nb(),t.rc(114," EnvUtil "),t.Ob(115,"span",15),t.rc(116),t.Nb(),t.rc(117," "),t.Ob(118,"span",12),t.rc(119,"from"),t.Nb(),t.rc(120," "),t.Ob(121,"span",14),t.rc(122,"'@travetto/boot'"),t.Nb(),t.Ob(123,"span",15),t.rc(124,";"),t.Nb(),t.rc(125,"\n"),t.Ob(126,"span",12),t.rc(127,"import"),t.Nb(),t.rc(128," "),t.Ob(129,"span",15),t.rc(130),t.Nb(),t.rc(131," AppManifest "),t.Ob(132,"span",15),t.rc(133),t.Nb(),t.rc(134," "),t.Ob(135,"span",12),t.rc(136,"from"),t.Nb(),t.rc(137," "),t.Ob(138,"span",14),t.rc(139,"'@travetto/base'"),t.Nb(),t.Ob(140,"span",15),t.rc(141,";"),t.Nb(),t.rc(142,"\n\n"),t.Ob(143,"span",16),t.rc(144,"/**\n * API Information, infers as much as possible from the package.json\n */"),t.Nb(),t.rc(145,"\n@"),t.Ob(146,"span",17),t.rc(147,"Config"),t.Nb(),t.Ob(148,"span",15),t.rc(149,"("),t.Nb(),t.Ob(150,"span",14),t.rc(151,"'api.info'"),t.Nb(),t.Ob(152,"span",15),t.rc(153,")"),t.Nb(),t.rc(154,"\n"),t.Ob(155,"span",12),t.rc(156,"export"),t.Nb(),t.rc(157," "),t.Ob(158,"span",12),t.rc(159,"class"),t.Nb(),t.rc(160," "),t.Ob(161,"span",18),t.rc(162,"ApiInfoConfig"),t.Nb(),t.rc(163," "),t.Ob(164,"span",15),t.rc(165),t.Nb(),t.rc(166,"\n  contact"),t.Ob(167,"span",13),t.rc(168,":"),t.Nb(),t.rc(169," ContactObject "),t.Ob(170,"span",13),t.rc(171,"="),t.Nb(),t.rc(172," AppManifest"),t.Ob(173,"span",15),t.rc(174,"."),t.Nb(),t.rc(175,"author "),t.Ob(176,"span",13),t.rc(177,"??"),t.Nb(),t.rc(178," "),t.Ob(179,"span",15),t.rc(180),t.Nb(),t.Ob(181,"span",15),t.rc(182),t.Nb(),t.Ob(183,"span",15),t.rc(184,";"),t.Nb(),t.rc(185,"\n  description"),t.Ob(186,"span",13),t.rc(187,":"),t.Nb(),t.rc(188," "),t.Ob(189,"span",19),t.rc(190,"string"),t.Nb(),t.rc(191," "),t.Ob(192,"span",13),t.rc(193,"="),t.Nb(),t.rc(194," AppManifest"),t.Ob(195,"span",15),t.rc(196,"."),t.Nb(),t.rc(197,"description"),t.Ob(198,"span",15),t.rc(199,";"),t.Nb(),t.rc(200,"\n  license"),t.Ob(201,"span",13),t.rc(202,":"),t.Nb(),t.rc(203," LicenseObject "),t.Ob(204,"span",13),t.rc(205,"="),t.Nb(),t.rc(206," "),t.Ob(207,"span",15),t.rc(208),t.Nb(),t.rc(209," name"),t.Ob(210,"span",13),t.rc(211,":"),t.Nb(),t.rc(212," AppManifest"),t.Ob(213,"span",15),t.rc(214,"."),t.Nb(),t.rc(215,"license"),t.Ob(216,"span",13),t.rc(217,"!"),t.Nb(),t.rc(218," "),t.Ob(219,"span",15),t.rc(220),t.Nb(),t.Ob(221,"span",15),t.rc(222,";"),t.Nb(),t.rc(223,"\n  termsOfService"),t.Ob(224,"span",13),t.rc(225,"?"),t.Nb(),t.Ob(226,"span",13),t.rc(227,":"),t.Nb(),t.rc(228," "),t.Ob(229,"span",19),t.rc(230,"string"),t.Nb(),t.Ob(231,"span",15),t.rc(232,";"),t.Nb(),t.rc(233,"\n  title"),t.Ob(234,"span",13),t.rc(235,":"),t.Nb(),t.rc(236," "),t.Ob(237,"span",19),t.rc(238,"string"),t.Nb(),t.rc(239," "),t.Ob(240,"span",13),t.rc(241,"="),t.Nb(),t.rc(242," AppManifest"),t.Ob(243,"span",15),t.rc(244,"."),t.Nb(),t.rc(245,"name"),t.Ob(246,"span",15),t.rc(247,";"),t.Nb(),t.rc(248,"\n  version"),t.Ob(249,"span",13),t.rc(250,":"),t.Nb(),t.rc(251," "),t.Ob(252,"span",19),t.rc(253,"string"),t.Nb(),t.rc(254," "),t.Ob(255,"span",13),t.rc(256,"="),t.Nb(),t.rc(257," AppManifest"),t.Ob(258,"span",15),t.rc(259,"."),t.Nb(),t.rc(260,"version"),t.Ob(261,"span",15),t.rc(262,";"),t.Nb(),t.rc(263,"\n"),t.Ob(264,"span",15),t.rc(265),t.Nb(),t.rc(266,"\n\n"),t.Ob(267,"span",16),t.rc(268,"/**\n * The API host, infers from rest host configuration\n */"),t.Nb(),t.rc(269,"\n@"),t.Ob(270,"span",17),t.rc(271,"Config"),t.Nb(),t.Ob(272,"span",15),t.rc(273,"("),t.Nb(),t.Ob(274,"span",14),t.rc(275,"'api.host'"),t.Nb(),t.Ob(276,"span",15),t.rc(277,")"),t.Nb(),t.rc(278,"\n"),t.Ob(279,"span",12),t.rc(280,"export"),t.Nb(),t.rc(281," "),t.Ob(282,"span",12),t.rc(283,"class"),t.Nb(),t.rc(284," "),t.Ob(285,"span",18),t.rc(286,"ApiHostConfig"),t.Nb(),t.rc(287," "),t.Ob(288,"span",15),t.rc(289),t.Nb(),t.rc(290,"\n  "),t.Ob(291,"span",16),t.rc(292,"/**\n   * List of servers\n   */"),t.Nb(),t.rc(293,"\n  servers"),t.Ob(294,"span",13),t.rc(295,"?"),t.Nb(),t.Ob(296,"span",13),t.rc(297,":"),t.Nb(),t.rc(298," ServerObject"),t.Ob(299,"span",15),t.rc(300,"["),t.Nb(),t.Ob(301,"span",15),t.rc(302,"]"),t.Nb(),t.Ob(303,"span",15),t.rc(304,";"),t.Nb(),t.rc(305,"\n  "),t.Ob(306,"span",16),t.rc(307,"/**\n   * OpenAPI Version\n   */"),t.Nb(),t.rc(308,"\n  openapi "),t.Ob(309,"span",13),t.rc(310,"="),t.Nb(),t.rc(311," "),t.Ob(312,"span",14),t.rc(313,"'3.0.1'"),t.Nb(),t.Ob(314,"span",15),t.rc(315,";"),t.Nb(),t.rc(316,"\n"),t.Ob(317,"span",15),t.rc(318),t.Nb(),t.rc(319,"\n\n"),t.Ob(320,"span",16),t.rc(321,"/**\n * The spec file configuration\n */"),t.Nb(),t.rc(322,"\n@"),t.Ob(323,"span",17),t.rc(324,"Config"),t.Nb(),t.Ob(325,"span",15),t.rc(326,"("),t.Nb(),t.Ob(327,"span",14),t.rc(328,"'api.spec'"),t.Nb(),t.Ob(329,"span",15),t.rc(330,")"),t.Nb(),t.rc(331,"\n"),t.Ob(332,"span",12),t.rc(333,"export"),t.Nb(),t.rc(334," "),t.Ob(335,"span",12),t.rc(336,"class"),t.Nb(),t.rc(337," "),t.Ob(338,"span",18),t.rc(339,"ApiSpecConfig"),t.Nb(),t.rc(340," "),t.Ob(341,"span",15),t.rc(342),t.Nb(),t.rc(343,"\n  "),t.Ob(344,"span",16),t.rc(345,"/**\n   * Where to output file to\n   */"),t.Nb(),t.rc(346,"\n  output"),t.Ob(347,"span",13),t.rc(348,":"),t.Nb(),t.rc(349," "),t.Ob(350,"span",19),t.rc(351,"string"),t.Nb(),t.rc(352," "),t.Ob(353,"span",13),t.rc(354,"="),t.Nb(),t.rc(355," "),t.Ob(356,"span",14),t.rc(357,"'openapi.json'"),t.Nb(),t.Ob(358,"span",15),t.rc(359,";"),t.Nb(),t.rc(360,"\n  "),t.Ob(361,"span",16),t.rc(362,"/**\n   * Should file be generated at runtime\n   */"),t.Nb(),t.rc(363,"\n  persist"),t.Ob(364,"span",13),t.rc(365,":"),t.Nb(),t.rc(366," "),t.Ob(367,"span",19),t.rc(368,"boolean"),t.Nb(),t.rc(369," "),t.Ob(370,"span",13),t.rc(371,"="),t.Nb(),t.rc(372," "),t.Ob(373,"span",13),t.rc(374,"!"),t.Nb(),t.rc(375,"EnvUtil"),t.Ob(376,"span",15),t.rc(377,"."),t.Nb(),t.Ob(378,"span",3),t.rc(379,"isReadonly"),t.Nb(),t.Ob(380,"span",15),t.rc(381,"("),t.Nb(),t.Ob(382,"span",15),t.rc(383,")"),t.Nb(),t.Ob(384,"span",15),t.rc(385,";"),t.Nb(),t.rc(386,"\n  "),t.Ob(387,"span",16),t.rc(388,"/**\n   * Skip emitting all routes\n   */"),t.Nb(),t.rc(389,"\n  skipRoutes"),t.Ob(390,"span",13),t.rc(391,":"),t.Nb(),t.rc(392," "),t.Ob(393,"span",19),t.rc(394,"boolean"),t.Nb(),t.rc(395," "),t.Ob(396,"span",13),t.rc(397,"="),t.Nb(),t.rc(398," "),t.Ob(399,"span",20),t.rc(400,"false"),t.Nb(),t.Ob(401,"span",15),t.rc(402,";"),t.Nb(),t.rc(403,"\n  "),t.Ob(404,"span",16),t.rc(405,"/**\n   * Expose all schemas, even if not referenced\n   */"),t.Nb(),t.rc(406,"\n  exposeAllSchemas"),t.Ob(407,"span",13),t.rc(408,":"),t.Nb(),t.rc(409," "),t.Ob(410,"span",19),t.rc(411,"boolean"),t.Nb(),t.rc(412," "),t.Ob(413,"span",13),t.rc(414,"="),t.Nb(),t.rc(415," "),t.Ob(416,"span",20),t.rc(417,"false"),t.Nb(),t.Ob(418,"span",15),t.rc(419,";"),t.Nb(),t.rc(420,"\n\n  "),t.Ob(421,"span",12),t.rc(422,"async"),t.Nb(),t.rc(423," "),t.Ob(424,"span",3),t.rc(425,"postConstruct"),t.Nb(),t.Ob(426,"span",15),t.rc(427,"("),t.Nb(),t.Ob(428,"span",15),t.rc(429,")"),t.Nb(),t.rc(430," "),t.Ob(431,"span",15),t.rc(432),t.Nb(),t.rc(433,"\n    "),t.Ob(434,"span",12),t.rc(435,"this"),t.Nb(),t.Ob(436,"span",15),t.rc(437,"."),t.Nb(),t.rc(438,"output "),t.Ob(439,"span",13),t.rc(440,"="),t.Nb(),t.rc(441," FsUtil"),t.Ob(442,"span",15),t.rc(443,"."),t.Nb(),t.Ob(444,"span",3),t.rc(445,"toUnix"),t.Nb(),t.Ob(446,"span",15),t.rc(447,"("),t.Nb(),t.Ob(448,"span",12),t.rc(449,"this"),t.Nb(),t.Ob(450,"span",15),t.rc(451,"."),t.Nb(),t.rc(452,"output"),t.Ob(453,"span",15),t.rc(454,")"),t.Nb(),t.Ob(455,"span",15),t.rc(456,";"),t.Nb(),t.rc(457,"\n    "),t.Ob(458,"span",12),t.rc(459,"if"),t.Nb(),t.rc(460," "),t.Ob(461,"span",15),t.rc(462,"("),t.Nb(),t.Ob(463,"span",12),t.rc(464,"this"),t.Nb(),t.Ob(465,"span",15),t.rc(466,"."),t.Nb(),t.rc(467,"persist"),t.Ob(468,"span",15),t.rc(469,")"),t.Nb(),t.rc(470," "),t.Ob(471,"span",15),t.rc(472),t.Nb(),t.rc(473,"\n      "),t.Ob(474,"span",12),t.rc(475,"if"),t.Nb(),t.rc(476," "),t.Ob(477,"span",15),t.rc(478,"("),t.Nb(),t.Ob(479,"span",13),t.rc(480,"!"),t.Nb(),t.Ob(481,"span",21),t.rc(482,"/[.](json|ya?ml)$/"),t.Nb(),t.Ob(483,"span",15),t.rc(484,"."),t.Nb(),t.Ob(485,"span",3),t.rc(486,"test"),t.Nb(),t.Ob(487,"span",15),t.rc(488,"("),t.Nb(),t.Ob(489,"span",12),t.rc(490,"this"),t.Nb(),t.Ob(491,"span",15),t.rc(492,"."),t.Nb(),t.rc(493,"output"),t.Ob(494,"span",15),t.rc(495,")"),t.Nb(),t.Ob(496,"span",15),t.rc(497,")"),t.Nb(),t.rc(498," "),t.Ob(499,"span",15),t.rc(500),t.Nb(),t.rc(501," "),t.Ob(502,"span",16),t.rc(503,"// Assume a folder"),t.Nb(),t.rc(504,"\n        "),t.Ob(505,"span",12),t.rc(506,"this"),t.Nb(),t.Ob(507,"span",15),t.rc(508,"."),t.Nb(),t.rc(509,"output "),t.Ob(510,"span",13),t.rc(511,"="),t.Nb(),t.rc(512," FsUtil"),t.Ob(513,"span",15),t.rc(514,"."),t.Nb(),t.Ob(515,"span",3),t.rc(516,"resolveUnix"),t.Nb(),t.Ob(517,"span",15),t.rc(518,"("),t.Nb(),t.Ob(519,"span",12),t.rc(520,"this"),t.Nb(),t.Ob(521,"span",15),t.rc(522,"."),t.Nb(),t.rc(523,"output"),t.Ob(524,"span",15),t.rc(525,","),t.Nb(),t.rc(526," "),t.Ob(527,"span",14),t.rc(528,"'api.spec.yml'"),t.Nb(),t.Ob(529,"span",15),t.rc(530,")"),t.Nb(),t.Ob(531,"span",15),t.rc(532,";"),t.Nb(),t.rc(533,"\n      "),t.Ob(534,"span",15),t.rc(535),t.Nb(),t.rc(536,"\n      "),t.Ob(537,"span",12),t.rc(538,"await"),t.Nb(),t.rc(539," FsUtil"),t.Ob(540,"span",15),t.rc(541,"."),t.Nb(),t.Ob(542,"span",3),t.rc(543,"mkdirp"),t.Nb(),t.Ob(544,"span",15),t.rc(545,"("),t.Nb(),t.rc(546,"path"),t.Ob(547,"span",15),t.rc(548,"."),t.Nb(),t.Ob(549,"span",3),t.rc(550,"dirname"),t.Nb(),t.Ob(551,"span",15),t.rc(552,"("),t.Nb(),t.Ob(553,"span",12),t.rc(554,"this"),t.Nb(),t.Ob(555,"span",15),t.rc(556,"."),t.Nb(),t.rc(557,"output"),t.Ob(558,"span",15),t.rc(559,")"),t.Nb(),t.Ob(560,"span",15),t.rc(561,")"),t.Nb(),t.Ob(562,"span",15),t.rc(563,";"),t.Nb(),t.rc(564,"\n    "),t.Ob(565,"span",15),t.rc(566),t.Nb(),t.rc(567,"\n  "),t.Ob(568,"span",15),t.rc(569),t.Nb(),t.rc(570,"\n"),t.Ob(571,"span",15),t.rc(572),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(573,"h2",22),t.rc(574,"Spec Generation"),t.Nb(),t.rc(575,"\nThe framework, when in watch mode, will generate the "),t.Ob(576,"a",5),t.rc(577,"OpenAPI"),t.Nb(),t.rc(578," specification in either "),t.Ob(579,"a",23);t.rc(580,"JSON"),t.Nb(),t.rc(581," or "),t.Ob(582,"a",24),t.rc(583,"YAML"),t.Nb(),t.rc(584,". This module integrates with the file watching paradigm and can regenerate the openapi spec as changes to endpoints and models are made during development. The output format is defined by the suffix of the output file, "),t.Ob(585,"code",25),t.rc(586,".yaml"),t.Nb(),t.rc(587," or "),t.Ob(588,"code",25),t.rc(589,".json"),t.Nb(),t.rc(590,". "),t.Ob(591,"h2",26),t.rc(592,"Client Generation"),t.Nb(),t.rc(593,"\nThe outputted spec can be consumed using the "),t.Ob(594,"a",27),t.rc(595,"OpenAPI client generation tools"),t.Nb(),t.rc(596,". "),t.Ob(597,"h2",28),t.rc(598,"CLI - openapi:spec"),t.Nb(),t.rc(599," The module provides a plugin for the "),t.Ob(600,"a",29),t.rc(601,"Command Line Interface"),t.Nb(),t.rc(602," to allow scripting file generation. "),t.Ob(603,"figure",30),t.Ob(604,"figcaption",30),t.rc(605,"OpenAPI usage "),t.Nb(),t.Ob(606,"pre"),t.Ob(607,"code",2),t.rc(608,"$ travetto travetto openapi:spec --help\n\nUsage:  openapi:spec "),t.Ob(609,"span",15),t.rc(610,"["),t.Nb(),t.rc(611,"options"),t.Ob(612,"span",15),t.rc(613,"]"),t.Nb(),t.rc(614,"\n\nOptions:\n  -o, --output "),t.Ob(615,"span",15),t.rc(616,"["),t.Nb(),t.rc(617,"output"),t.Ob(618,"span",15),t.rc(619,"]"),t.Nb(),t.rc(620,"  Output files "),t.Ob(621,"span",15),t.rc(622,"("),t.Nb(),t.rc(623,"default: "),t.Ob(624,"span",14),t.rc(625,'"./openapi.yml"'),t.Nb(),t.Ob(626,"span",15),t.rc(627,")"),t.Nb(),t.rc(628,"\n  -h, --help             display "),t.Ob(629,"span",31),t.rc(630,"help"),t.Nb(),t.rc(631," "),t.Ob(632,"span",12),t.rc(633,"for"),t.Nb(),t.rc(634," "),t.Ob(635,"span",31),t.rc(636,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(637," The command will run your application, in non-server mode, to collect all the routes and model information, to produce the "),t.Ob(638,"code",8),t.rc(639,"openapi.yml"),t.Nb(),t.rc(640,". Once produced, the code will store the output in the specified location. "),t.Ob(641,"p",32),t.Ob(642,"strong"),t.rc(643,"Note"),t.Nb(),t.rc(644," The module supports generating the OpenAPI spec in real-time while listening for changes to routes and models."),t.Nb(),t.Nb()}2&r&&(t.zb(70),t.sc("{"),t.zb(9),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(32),t.sc("{"),t.zb(15),t.sc("{"),t.zb(2),t.sc("}"),t.zb(26),t.sc("{"),t.zb(12),t.sc("}"),t.zb(45),t.sc("}"),t.zb(24),t.sc("{"),t.zb(29),t.sc("}"),t.zb(24),t.sc("{"),t.zb(90),t.sc("{"),t.zb(40),t.sc("{"),t.zb(28),t.sc("{"),t.zb(35),t.sc("}"),t.zb(31),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),y=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-rest-session"]],decls:1379,vars:56,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-session/src/types.ts#L17"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","class-name"],[1,"token","operator"],[1,"token","constant"],[1,"token","builtin"],[1,"token","punctuation"],[1,"token","comment"],[1,"token","string"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/param.ts#L43",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-session/src/types.ts#L9",1,"source-link"],["target","_blank","href","./src/types.d.ts#L8",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-session/alt/docs/src/usage.ts"],[1,"token","meta"],[1,"token","parameter"],[1,"token","number"],["id","configuration"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/decorator.ts#L16",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-session/src/encoder/request.ts#L14",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/source/memory.ts#L8",1,"source-link"],["id","building-an-encoder"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-session/src/encoder/encoder.ts"],[1,"item","method"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-session/src/encoder/request.ts"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"REST Session "),t.Ob(3,"small"),t.rc(4,"Session provider for the travetto rest module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/rest-session "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/rest-session"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This is a module that adds session support to the "),t.Ob(17,"a",4),t.rc(18,"RESTful API"),t.Nb(),t.rc(19," framework. Sessions are represented as: "),t.Ob(20,"figure",5),t.Ob(21,"figcaption",5),t.rc(22,"Session Structure "),t.Ob(23,"cite"),t.Ob(24,"a",6),t.rc(25,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(26,"pre"),t.Ob(27,"code",7),t.Ob(28,"span",8),t.rc(29,"export"),t.Nb(),t.rc(30," "),t.Ob(31,"span",8),t.rc(32,"class"),t.Nb(),t.rc(33," "),t.Ob(34,"span",9),t.rc(35,"Session"),t.Nb(),t.Ob(36,"span",10),t.rc(37,"<"),t.Nb(),t.Ob(38,"span",11),t.rc(39,"T"),t.Nb(),t.rc(40," "),t.Ob(41,"span",10),t.rc(42,"="),t.Nb(),t.rc(43," "),t.Ob(44,"span",12),t.rc(45,"any"),t.Nb(),t.Ob(46,"span",10),t.rc(47,">"),t.Nb(),t.rc(48," "),t.Ob(49,"span",8),t.rc(50,"implements"),t.Nb(),t.rc(51," "),t.Ob(52,"span",9),t.rc(53,"CacheEntry"),t.Nb(),t.rc(54," "),t.Ob(55,"span",13),t.rc(56),t.Nb(),t.rc(57,"\n  "),t.Ob(58,"span",14),t.rc(59,"/**\n   * The expiry time when the session was loaded\n   */"),t.Nb(),t.rc(60,"\n  "),t.Ob(61,"span",8),t.rc(62,"private"),t.Nb(),t.rc(63," expiresAtLoaded"),t.Ob(64,"span",10),t.rc(65,":"),t.Nb(),t.rc(66," "),t.Ob(67,"span",12),t.rc(68,"number"),t.Nb(),t.rc(69," "),t.Ob(70,"span",10),t.rc(71,"|"),t.Nb(),t.rc(72," "),t.Ob(73,"span",8),t.rc(74,"undefined"),t.Nb(),t.Ob(75,"span",13),t.rc(76,";"),t.Nb(),t.rc(77,"\n  "),t.Ob(78,"span",14),t.rc(79,"/**\n   * The hash of the session at load\n   */"),t.Nb(),t.rc(80,"\n  "),t.Ob(81,"span",8),t.rc(82,"private"),t.Nb(),t.rc(83," hash"),t.Ob(84,"span",10),t.rc(85,":"),t.Nb(),t.rc(86," "),t.Ob(87,"span",12),t.rc(88,"number"),t.Nb(),t.Ob(89,"span",13),t.rc(90,";"),t.Nb(),t.rc(91,"\n  "),t.Ob(92,"span",14),t.rc(93,"/**\n   * The session key name\n   */"),t.Nb(),t.rc(94,"\n  "),t.Ob(95,"span",8),t.rc(96,"readonly"),t.Nb(),t.rc(97," key"),t.Ob(98,"span",10),t.rc(99,":"),t.Nb(),t.rc(100," "),t.Ob(101,"span",12),t.rc(102,"string"),t.Nb(),t.Ob(103,"span",13),t.rc(104,";"),t.Nb(),t.rc(105,"\n  "),t.Ob(106,"span",14),t.rc(107,"/**\n   * Session max age in ms\n   */"),t.Nb(),t.rc(108,"\n  "),t.Ob(109,"span",8),t.rc(110,"readonly"),t.Nb(),t.rc(111," maxAge"),t.Ob(112,"span",10),t.rc(113,"?"),t.Nb(),t.Ob(114,"span",10),t.rc(115,":"),t.Nb(),t.rc(116," "),t.Ob(117,"span",12),t.rc(118,"number"),t.Nb(),t.Ob(119,"span",13),t.rc(120,";"),t.Nb(),t.rc(121,"\n  "),t.Ob(122,"span",14),t.rc(123,"/**\n   * Session signature\n   */"),t.Nb(),t.rc(124,"\n  "),t.Ob(125,"span",8),t.rc(126,"readonly"),t.Nb(),t.rc(127," signature"),t.Ob(128,"span",10),t.rc(129,"?"),t.Nb(),t.Ob(130,"span",10),t.rc(131,":"),t.Nb(),t.rc(132," "),t.Ob(133,"span",12),t.rc(134,"string"),t.Nb(),t.Ob(135,"span",13),t.rc(136,";"),t.Nb(),t.rc(137,"\n  "),t.Ob(138,"span",14),t.rc(139,"/**\n   * Session initial issue timestamp\n   */"),t.Nb(),t.rc(140,"\n  "),t.Ob(141,"span",8),t.rc(142,"readonly"),t.Nb(),t.rc(143," issuedAt"),t.Ob(144,"span",10),t.rc(145,":"),t.Nb(),t.rc(146," "),t.Ob(147,"span",12),t.rc(148,"number"),t.Nb(),t.Ob(149,"span",13),t.rc(150,";"),t.Nb(),t.rc(151,"\n  "),t.Ob(152,"span",14),t.rc(153,"/**\n   * Expires at time\n   */"),t.Nb(),t.rc(154,"\n  expiresAt"),t.Ob(155,"span",10),t.rc(156,":"),t.Nb(),t.rc(157," "),t.Ob(158,"span",12),t.rc(159,"number"),t.Nb(),t.rc(160," "),t.Ob(161,"span",10),t.rc(162,"|"),t.Nb(),t.rc(163," "),t.Ob(164,"span",8),t.rc(165,"undefined"),t.Nb(),t.Ob(166,"span",13),t.rc(167,";"),t.Nb(),t.rc(168,"\n  "),t.Ob(169,"span",14),t.rc(170,"/**\n   * What action should be taken against the session\n   */"),t.Nb(),t.rc(171,"\n  action"),t.Ob(172,"span",10),t.rc(173,"?"),t.Nb(),t.Ob(174,"span",10),t.rc(175,":"),t.Nb(),t.rc(176," "),t.Ob(177,"span",15),t.rc(178,"'create'"),t.Nb(),t.rc(179," "),t.Ob(180,"span",10),t.rc(181,"|"),t.Nb(),t.rc(182," "),t.Ob(183,"span",15),t.rc(184,"'destroy'"),t.Nb(),t.rc(185," "),t.Ob(186,"span",10),t.rc(187,"|"),t.Nb(),t.rc(188," "),t.Ob(189,"span",15),t.rc(190,"'modify'"),t.Nb(),t.Ob(191,"span",13),t.rc(192,";"),t.Nb(),t.rc(193,"\n  "),t.Ob(194,"span",14),t.rc(195,"/**\n   * The session data\n   */"),t.Nb(),t.rc(196,"\n  data"),t.Ob(197,"span",10),t.rc(198,":"),t.Nb(),t.rc(199," "),t.Ob(200,"span",11),t.rc(201,"T"),t.Nb(),t.Ob(202,"span",13),t.rc(203,";"),t.Nb(),t.rc(204,"\n  "),t.Ob(205,"span",14),t.rc(206,"/**\n   * Create a new Session object given a partial version of itself\n   */"),t.Nb(),t.rc(207,"\n  "),t.Ob(208,"span",8),t.rc(209,"constructor"),t.Nb(),t.Ob(210,"span",13),t.rc(211,"("),t.Nb(),t.rc(212,"data"),t.Ob(213,"span",10),t.rc(214,":"),t.Nb(),t.rc(215," Partial"),t.Ob(216,"span",10),t.rc(217,"<"),t.Nb(),t.rc(218,"Session"),t.Ob(219,"span",10),t.rc(220,">"),t.Nb(),t.Ob(221,"span",13),t.rc(222,")"),t.Nb(),t.rc(223," "),t.Ob(224,"span",13),t.rc(225,";"),t.Nb(),t.rc(226,"\n  "),t.Ob(227,"span",14),t.rc(228,"/**\n   * Determine if session has changed\n   */"),t.Nb(),t.rc(229,"\n  "),t.Ob(230,"span",3),t.rc(231,"isChanged"),t.Nb(),t.Ob(232,"span",13),t.rc(233,"("),t.Nb(),t.Ob(234,"span",13),t.rc(235,")"),t.Nb(),t.rc(236," "),t.Ob(237,"span",13),t.rc(238,";"),t.Nb(),t.rc(239,"\n  "),t.Ob(240,"span",14),t.rc(241,"/**\n   * Determine if the expiry time has changed\n   */"),t.Nb(),t.rc(242,"\n  "),t.Ob(243,"span",3),t.rc(244,"isTimeChanged"),t.Nb(),t.Ob(245,"span",13),t.rc(246,"("),t.Nb(),t.Ob(247,"span",13),t.rc(248,")"),t.Nb(),t.rc(249," "),t.Ob(250,"span",13),t.rc(251,";"),t.Nb(),t.rc(252,"\n  "),t.Ob(253,"span",14),t.rc(254,"/**\n   * See if the session is nearly expired\n   */"),t.Nb(),t.rc(255,"\n  "),t.Ob(256,"span",3),t.rc(257,"isAlmostExpired"),t.Nb(),t.Ob(258,"span",13),t.rc(259,"("),t.Nb(),t.Ob(260,"span",13),t.rc(261,")"),t.Nb(),t.rc(262," "),t.Ob(263,"span",13),t.rc(264,";"),t.Nb(),t.rc(265,"\n  "),t.Ob(266,"span",14),t.rc(267,"/**\n   * See if the session is truly expired\n   */"),t.Nb(),t.rc(268,"\n  "),t.Ob(269,"span",3),t.rc(270,"isExpired"),t.Nb(),t.Ob(271,"span",13),t.rc(272,"("),t.Nb(),t.Ob(273,"span",13),t.rc(274,")"),t.Nb(),t.rc(275," "),t.Ob(276,"span",13),t.rc(277,";"),t.Nb(),t.rc(278,"\n  "),t.Ob(279,"span",14),t.rc(280,"/**\n   * Refresh the session expiration time\n   */"),t.Nb(),t.rc(281,"\n  "),t.Ob(282,"span",3),t.rc(283,"refresh"),t.Nb(),t.Ob(284,"span",13),t.rc(285,"("),t.Nb(),t.Ob(286,"span",13),t.rc(287,")"),t.Nb(),t.rc(288," "),t.Ob(289,"span",13),t.rc(290,";"),t.Nb(),t.rc(291,"\n  "),t.Ob(292,"span",14),t.rc(293,"/**\n   * Mark the session for destruction, delete the data\n   */"),t.Nb(),t.rc(294,"\n  "),t.Ob(295,"span",3),t.rc(296,"destroy"),t.Nb(),t.Ob(297,"span",13),t.rc(298,"("),t.Nb(),t.Ob(299,"span",13),t.rc(300,")"),t.Nb(),t.rc(301," "),t.Ob(302,"span",13),t.rc(303,";"),t.Nb(),t.rc(304,"\n  "),t.Ob(305,"span",14),t.rc(306,"/**\n   * Serialize the session\n   */"),t.Nb(),t.rc(307,"\n  "),t.Ob(308,"span",3),t.rc(309,"toJSON"),t.Nb(),t.Ob(310,"span",13),t.rc(311,"("),t.Nb(),t.Ob(312,"span",13),t.rc(313,")"),t.Nb(),t.rc(314," "),t.Ob(315,"span",13),t.rc(316,";"),t.Nb(),t.rc(317,"\n"),t.Ob(318,"span",13),t.rc(319),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(320," A session allows for defining the expiration time, what state the session should be in, as well as the payload (session data). The session and session data are accessible via the "),t.Ob(321,"a",16),t.rc(322,"@Context"),t.Nb(),t.rc(323," parameter as "),t.Ob(324,"a",17),t.rc(325,"Session"),t.Nb(),t.rc(326," and "),t.Ob(327,"a",17),t.rc(328,"SessionData"),t.Nb(),t.rc(329," respectively. Iit can also be accessed via the "),t.Ob(330,"a",18),t.rc(331,"Request"),t.Nb(),t.rc(332," as a session property. "),t.Ob(333,"figure",5),t.Ob(334,"figcaption",5),t.rc(335,"Sample Session Usage "),t.Ob(336,"cite"),t.Ob(337,"a",19),t.rc(338,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(339,"pre"),t.Ob(340,"code",7),t.Ob(341,"span",8),t.rc(342,"import"),t.Nb(),t.rc(343," "),t.Ob(344,"span",13),t.rc(345),t.Nb(),t.rc(346," Controller "),t.Ob(347,"span",13),t.rc(348),t.Nb(),t.rc(349," "),t.Ob(350,"span",8),t.rc(351,"from"),t.Nb(),t.rc(352," "),t.Ob(353,"span",15),t.rc(354,"'@travetto/rest/src/decorator/controller'"),t.Nb(),t.Ob(355,"span",13),t.rc(356,";"),t.Nb(),t.rc(357,"\n"),t.Ob(358,"span",8),t.rc(359,"import"),t.Nb(),t.rc(360," "),t.Ob(361,"span",13),t.rc(362),t.Nb(),t.rc(363," Put"),t.Ob(364,"span",13),t.rc(365,","),t.Nb(),t.rc(366," Get "),t.Ob(367,"span",13),t.rc(368),t.Nb(),t.rc(369," "),t.Ob(370,"span",8),t.rc(371,"from"),t.Nb(),t.rc(372," "),t.Ob(373,"span",15),t.rc(374,"'@travetto/rest/src/decorator/endpoint'"),t.Nb(),t.Ob(375,"span",13),t.rc(376,";"),t.Nb(),t.rc(377,"\n"),t.Ob(378,"span",8),t.rc(379,"import"),t.Nb(),t.rc(380," "),t.Ob(381,"span",13),t.rc(382),t.Nb(),t.rc(383," Context "),t.Ob(384,"span",13),t.rc(385),t.Nb(),t.rc(386," "),t.Ob(387,"span",8),t.rc(388,"from"),t.Nb(),t.rc(389," "),t.Ob(390,"span",15),t.rc(391,"'@travetto/rest/src/decorator/param'"),t.Nb(),t.Ob(392,"span",13),t.rc(393,";"),t.Nb(),t.rc(394,"\n"),t.Ob(395,"span",8),t.rc(396,"import"),t.Nb(),t.rc(397," "),t.Ob(398,"span",13),t.rc(399),t.Nb(),t.rc(400," SessionData"),t.Ob(401,"span",13),t.rc(402,","),t.Nb(),t.rc(403," Session "),t.Ob(404,"span",13),t.rc(405),t.Nb(),t.rc(406," "),t.Ob(407,"span",8),t.rc(408,"from"),t.Nb(),t.rc(409," "),t.Ob(410,"span",15),t.rc(411,"'@travetto/rest-session/alt/src/types'"),t.Nb(),t.Ob(412,"span",13),t.rc(413,";"),t.Nb(),t.rc(414,"\n\n@"),t.Ob(415,"span",20),t.rc(416,"Controller"),t.Nb(),t.Ob(417,"span",13),t.rc(418,"("),t.Nb(),t.Ob(419,"span",15),t.rc(420,"'/session'"),t.Nb(),t.Ob(421,"span",13),t.rc(422,")"),t.Nb(),t.rc(423,"\n"),t.Ob(424,"span",8),t.rc(425,"export"),t.Nb(),t.rc(426," "),t.Ob(427,"span",8),t.rc(428,"class"),t.Nb(),t.rc(429," "),t.Ob(430,"span",9),t.rc(431,"SessionRoutes"),t.Nb(),t.rc(432," "),t.Ob(433,"span",13),t.rc(434),t.Nb(),t.rc(435,"\n\n  @"),t.Ob(436,"span",20),t.rc(437,"Put"),t.Nb(),t.Ob(438,"span",13),t.rc(439,"("),t.Nb(),t.Ob(440,"span",15),t.rc(441,"'/info'"),t.Nb(),t.Ob(442,"span",13),t.rc(443,")"),t.Nb(),t.rc(444,"\n  "),t.Ob(445,"span",8),t.rc(446,"async"),t.Nb(),t.rc(447," "),t.Ob(448,"span",3),t.rc(449,"storeInfo"),t.Nb(),t.Ob(450,"span",13),t.rc(451,"("),t.Nb(),t.Ob(452,"span",21),t.rc(453,"@"),t.Ob(454,"span",20),t.rc(455,"Context"),t.Nb(),t.Ob(456,"span",13),t.rc(457,"("),t.Nb(),t.Ob(458,"span",13),t.rc(459,")"),t.Nb(),t.rc(460," data"),t.Ob(461,"span",10),t.rc(462,":"),t.Nb(),t.rc(463," SessionData"),t.Nb(),t.Ob(464,"span",13),t.rc(465,")"),t.Nb(),t.rc(466," "),t.Ob(467,"span",13),t.rc(468),t.Nb(),t.rc(469,"\n    data"),t.Ob(470,"span",13),t.rc(471,"."),t.Nb(),t.rc(472,"age "),t.Ob(473,"span",10),t.rc(474,"="),t.Nb(),t.rc(475," "),t.Ob(476,"span",22),t.rc(477,"20"),t.Nb(),t.Ob(478,"span",13),t.rc(479,";"),t.Nb(),t.rc(480,"\n    data"),t.Ob(481,"span",13),t.rc(482,"."),t.Nb(),t.rc(483,"name "),t.Ob(484,"span",10),t.rc(485,"="),t.Nb(),t.rc(486," "),t.Ob(487,"span",15),t.rc(488,"'Roger'"),t.Nb(),t.Ob(489,"span",13),t.rc(490,";"),t.Nb(),t.rc(491," "),t.Ob(492,"span",14),t.rc(493,"// Setting data"),t.Nb(),t.rc(494,"\n  "),t.Ob(495,"span",13),t.rc(496),t.Nb(),t.rc(497,"\n\n  @"),t.Ob(498,"span",20),t.rc(499,"Get"),t.Nb(),t.Ob(500,"span",13),t.rc(501,"("),t.Nb(),t.Ob(502,"span",15),t.rc(503,"'/logout'"),t.Nb(),t.Ob(504,"span",13),t.rc(505,")"),t.Nb(),t.rc(506,"\n  "),t.Ob(507,"span",8),t.rc(508,"async"),t.Nb(),t.rc(509," "),t.Ob(510,"span",3),t.rc(511,"logout"),t.Nb(),t.Ob(512,"span",13),t.rc(513,"("),t.Nb(),t.Ob(514,"span",21),t.rc(515,"@"),t.Ob(516,"span",20),t.rc(517,"Context"),t.Nb(),t.Ob(518,"span",13),t.rc(519,"("),t.Nb(),t.Ob(520,"span",13),t.rc(521,")"),t.Nb(),t.rc(522," session"),t.Ob(523,"span",10),t.rc(524,":"),t.Nb(),t.rc(525," Session"),t.Nb(),t.Ob(526,"span",13),t.rc(527,")"),t.Nb(),t.rc(528," "),t.Ob(529,"span",13),t.rc(530),t.Nb(),t.rc(531,"\n    "),t.Ob(532,"span",8),t.rc(533,"await"),t.Nb(),t.rc(534," session"),t.Ob(535,"span",13),t.rc(536,"."),t.Nb(),t.Ob(537,"span",3),t.rc(538,"destroy"),t.Nb(),t.Ob(539,"span",13),t.rc(540,"("),t.Nb(),t.Ob(541,"span",13),t.rc(542,")"),t.Nb(),t.Ob(543,"span",13),t.rc(544,";"),t.Nb(),t.rc(545,"\n  "),t.Ob(546,"span",13),t.rc(547),t.Nb(),t.rc(548,"\n\n  @"),t.Ob(549,"span",20),t.rc(550,"Get"),t.Nb(),t.Ob(551,"span",13),t.rc(552,"("),t.Nb(),t.Ob(553,"span",15),t.rc(554,"'/info/age'"),t.Nb(),t.Ob(555,"span",13),t.rc(556,")"),t.Nb(),t.rc(557,"\n  "),t.Ob(558,"span",8),t.rc(559,"async"),t.Nb(),t.rc(560," "),t.Ob(561,"span",3),t.rc(562,"getInfo"),t.Nb(),t.Ob(563,"span",13),t.rc(564,"("),t.Nb(),t.Ob(565,"span",21),t.rc(566,"@"),t.Ob(567,"span",20),t.rc(568,"Context"),t.Nb(),t.Ob(569,"span",13),t.rc(570,"("),t.Nb(),t.Ob(571,"span",13),t.rc(572,")"),t.Nb(),t.rc(573," data"),t.Ob(574,"span",10),t.rc(575,":"),t.Nb(),t.rc(576," SessionData"),t.Nb(),t.Ob(577,"span",13),t.rc(578,")");t.Nb(),t.rc(579," "),t.Ob(580,"span",13),t.rc(581),t.Nb(),t.rc(582,"\n    "),t.Ob(583,"span",8),t.rc(584,"return"),t.Nb(),t.rc(585," data"),t.Ob(586,"span",13),t.rc(587,"."),t.Nb(),t.rc(588,"age"),t.Ob(589,"span",13),t.rc(590,";"),t.Nb(),t.rc(591,"\n  "),t.Ob(592,"span",13),t.rc(593),t.Nb(),t.rc(594,"\n"),t.Ob(595,"span",13),t.rc(596),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(597," This usage should be comparable to express, koa and mostly every other framework. "),t.Ob(598,"h2",23),t.rc(599,"Configuration"),t.Nb(),t.rc(600," Session mechanics are defined by two main components, encoders and a cache source. The encoders are provided within the module, but the stores are provided via the "),t.Ob(601,"a",24),t.rc(602,"@Cache"),t.Nb(),t.rc(603," module. By default, the module supplies the "),t.Ob(604,"a",25),t.rc(605,"RequetSessionEncoder"),t.Nb(),t.rc(606," and the "),t.Ob(607,"a",26),t.rc(608,"MemoryCacheSource"),t.Nb(),t.rc(609," as default usage. "),t.Ob(610,"h3",27),t.rc(611,"Building an Encoder"),t.Nb(),t.rc(612," Encoders are pieces that enable you read/write the session state from the request/response. This allows for sessions to be read/written to cookies, headers, url parameters, etc. The structure for the encoder is fairly straightforward: "),t.Ob(613,"figure",5),t.Ob(614,"figcaption",5),t.rc(615,"Encoder structure "),t.Ob(616,"cite"),t.Ob(617,"a",28),t.rc(618,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(619,"pre"),t.Ob(620,"code",7),t.Ob(621,"span",8),t.rc(622,"import"),t.Nb(),t.rc(623," "),t.Ob(624,"span",13),t.rc(625),t.Nb(),t.rc(626," Request"),t.Ob(627,"span",13),t.rc(628,","),t.Nb(),t.rc(629," Response "),t.Ob(630,"span",13),t.rc(631),t.Nb(),t.rc(632," "),t.Ob(633,"span",8),t.rc(634,"from"),t.Nb(),t.rc(635," "),t.Ob(636,"span",15),t.rc(637,"'@travetto/rest'"),t.Nb(),t.Ob(638,"span",13),t.rc(639,";"),t.Nb(),t.rc(640,"\n"),t.Ob(641,"span",8),t.rc(642,"import"),t.Nb(),t.rc(643," "),t.Ob(644,"span",13),t.rc(645),t.Nb(),t.rc(646," Session "),t.Ob(647,"span",13),t.rc(648),t.Nb(),t.rc(649," "),t.Ob(650,"span",8),t.rc(651,"from"),t.Nb(),t.rc(652," "),t.Ob(653,"span",15),t.rc(654,"'../types'"),t.Nb(),t.Ob(655,"span",13),t.rc(656,";"),t.Nb(),t.rc(657,"\n\n"),t.Ob(658,"span",14),t.rc(659,"/**\n * Basic encoder for reading/writing the session to/from a user request/response\n *\n * The session may be an entire payload or it may just be a session identifier.\n */"),t.Nb(),t.rc(660,"\n"),t.Ob(661,"span",8),t.rc(662,"export"),t.Nb(),t.rc(663," "),t.Ob(664,"span",8),t.rc(665,"abstract"),t.Nb(),t.rc(666," "),t.Ob(667,"span",8),t.rc(668,"class"),t.Nb(),t.rc(669," "),t.Ob(670,"span",9),t.rc(671,"SessionEncoder"),t.Nb(),t.rc(672," "),t.Ob(673,"span",13),t.rc(674),t.Nb(),t.rc(675,"\n  "),t.Ob(676,"span",14),t.rc(677,"/**\n   * Send the session to the user\n   */"),t.Nb(),t.rc(678,"\n  "),t.Ob(679,"span",8),t.rc(680,"abstract"),t.Nb(),t.rc(681," "),t.Ob(682,"span",3),t.rc(683,"encode"),t.Nb(),t.Ob(684,"span",13),t.rc(685,"("),t.Nb(),t.rc(686,"req"),t.Ob(687,"span",10),t.rc(688,":"),t.Nb(),t.rc(689," Request"),t.Ob(690,"span",13),t.rc(691,","),t.Nb(),t.rc(692," res"),t.Ob(693,"span",10),t.rc(694,":"),t.Nb(),t.rc(695," Response"),t.Ob(696,"span",13),t.rc(697,","),t.Nb(),t.rc(698," session"),t.Ob(699,"span",10),t.rc(700,":"),t.Nb(),t.rc(701," Session "),t.Ob(702,"span",10),t.rc(703,"|"),t.Nb(),t.rc(704," "),t.Ob(705,"span",8),t.rc(706,"null"),t.Nb(),t.Ob(707,"span",13),t.rc(708,")"),t.Nb(),t.Ob(709,"span",10),t.rc(710,":"),t.Nb(),t.rc(711," "),t.Ob(712,"span",12),t.rc(713,"Promise"),t.Nb(),t.Ob(714,"span",10),t.rc(715,"<"),t.Nb(),t.Ob(716,"span",8),t.rc(717,"void"),t.Nb(),t.Ob(718,"span",10),t.rc(719,">"),t.Nb(),t.Ob(720,"span",13),t.rc(721,";"),t.Nb(),t.rc(722,"\n  "),t.Ob(723,"span",14),t.rc(724,"/**\n   * Read the session from the user\n   */"),t.Nb(),t.rc(725,"\n  "),t.Ob(726,"span",8),t.rc(727,"abstract"),t.Nb(),t.rc(728," "),t.Ob(729,"span",3),t.rc(730,"decode"),t.Nb(),t.Ob(731,"span",13),t.rc(732,"("),t.Nb(),t.rc(733,"req"),t.Ob(734,"span",10),t.rc(735,":"),t.Nb(),t.rc(736," Request"),t.Ob(737,"span",13),t.rc(738,")"),t.Nb(),t.Ob(739,"span",10),t.rc(740,":"),t.Nb(),t.rc(741," "),t.Ob(742,"span",12),t.rc(743,"Promise"),t.Nb(),t.Ob(744,"span",10),t.rc(745,"<"),t.Nb(),t.Ob(746,"span",12),t.rc(747,"string"),t.Nb(),t.rc(748," "),t.Ob(749,"span",10),t.rc(750,"|"),t.Nb(),t.rc(751," Session "),t.Ob(752,"span",10),t.rc(753,"|"),t.Nb(),t.rc(754," "),t.Ob(755,"span",8),t.rc(756,"undefined"),t.Nb(),t.Ob(757,"span",10),t.rc(758,">"),t.Nb(),t.Ob(759,"span",13),t.rc(760,";"),t.Nb(),t.rc(761,"\n"),t.Ob(762,"span",13),t.rc(763),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(764," The encoder will "),t.Ob(765,"code",29),t.rc(766,"encode"),t.Nb(),t.rc(767," the session into the response, as a string. The "),t.Ob(768,"code",29),t.rc(769,"decode"),t.Nb(),t.rc(770," operation will then read that string and either produce a session identifier (a string) or a fully defined "),t.Ob(771,"a",17),t.rc(772,"Session"),t.Nb(),t.rc(773," object. This allows for storing the session data externally or internal to the app, and referencing it by a session identifier. "),t.Ob(774,"figure",5),t.Ob(775,"figcaption",5),t.rc(776,"Standard Request Encoder "),t.Ob(777,"cite"),t.Ob(778,"a",30),t.rc(779,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(780,"pre"),t.Ob(781,"code",7),t.Ob(782,"span",8),t.rc(783,"import"),t.Nb(),t.rc(784," "),t.Ob(785,"span",13),t.rc(786),t.Nb(),t.rc(787," Request"),t.Ob(788,"span",13),t.rc(789,","),t.Nb(),t.rc(790," Response "),t.Ob(791,"span",13),t.rc(792),t.Nb(),t.rc(793," "),t.Ob(794,"span",8),t.rc(795,"from"),t.Nb(),t.rc(796," "),t.Ob(797,"span",15),t.rc(798,"'@travetto/rest'"),t.Nb(),t.Ob(799,"span",13),t.rc(800,";"),t.Nb(),t.rc(801,"\n"),t.Ob(802,"span",8),t.rc(803,"import"),t.Nb(),t.rc(804," "),t.Ob(805,"span",13),t.rc(806),t.Nb(),t.rc(807," Inject"),t.Ob(808,"span",13),t.rc(809,","),t.Nb(),t.rc(810," Injectable "),t.Ob(811,"span",13),t.rc(812),t.Nb(),t.rc(813," "),t.Ob(814,"span",8),t.rc(815,"from"),t.Nb(),t.rc(816," "),t.Ob(817,"span",15),t.rc(818,"'@travetto/di'"),t.Nb(),t.Ob(819,"span",13),t.rc(820,";"),t.Nb(),t.rc(821,"\n\n"),t.Ob(822,"span",8),t.rc(823,"import"),t.Nb(),t.rc(824," "),t.Ob(825,"span",13),t.rc(826),t.Nb(),t.rc(827," SessionEncoder "),t.Ob(828,"span",13),t.rc(829),t.Nb(),t.rc(830," "),t.Ob(831,"span",8),t.rc(832,"from"),t.Nb(),t.rc(833," "),t.Ob(834,"span",15),t.rc(835,"'./encoder'"),t.Nb(),t.Ob(836,"span",13),t.rc(837,";"),t.Nb(),t.rc(838,"\n"),t.Ob(839,"span",8),t.rc(840,"import"),t.Nb(),t.rc(841," "),t.Ob(842,"span",13),t.rc(843),t.Nb(),t.rc(844," Session "),t.Ob(845,"span",13),t.rc(846),t.Nb(),t.rc(847," "),t.Ob(848,"span",8),t.rc(849,"from"),t.Nb(),t.rc(850," "),t.Ob(851,"span",15),t.rc(852,"'../types'"),t.Nb(),t.Ob(853,"span",13),t.rc(854,";"),t.Nb(),t.rc(855,"\n"),t.Ob(856,"span",8),t.rc(857,"import"),t.Nb(),t.rc(858," "),t.Ob(859,"span",13),t.rc(860),t.Nb(),t.rc(861," SessionConfig "),t.Ob(862,"span",13),t.rc(863),t.Nb(),t.rc(864," "),t.Ob(865,"span",8),t.rc(866,"from"),t.Nb(),t.rc(867," "),t.Ob(868,"span",15),t.rc(869,"'../config'"),t.Nb(),t.Ob(870,"span",13),t.rc(871,";"),t.Nb(),t.rc(872,"\n\n"),t.Ob(873,"span",14),t.rc(874,"/**\n * Uses request for maintaining the session coherency with the user.\n * Primarily encode the user identifier, but relies on cookie behavior for\n * encoding the expiry time, when transport is set to cookie.\n */"),t.Nb(),t.rc(875,"\n@"),t.Ob(876,"span",20),t.rc(877,"Injectable"),t.Nb(),t.Ob(878,"span",13),t.rc(879,"("),t.Nb(),t.Ob(880,"span",13),t.rc(881,")"),t.Nb(),t.rc(882,"\n"),t.Ob(883,"span",8),t.rc(884,"export"),t.Nb(),t.rc(885," "),t.Ob(886,"span",8),t.rc(887,"class"),t.Nb(),t.rc(888," "),t.Ob(889,"span",9),t.rc(890,"RequetSessionEncoder"),t.Nb(),t.rc(891," "),t.Ob(892,"span",8),t.rc(893,"extends"),t.Nb(),t.rc(894," "),t.Ob(895,"span",9),t.rc(896,"SessionEncoder"),t.Nb(),t.rc(897," "),t.Ob(898,"span",13),t.rc(899),t.Nb(),t.rc(900,"\n\n  @"),t.Ob(901,"span",20),t.rc(902,"Inject"),t.Nb(),t.Ob(903,"span",13),t.rc(904,"("),t.Nb(),t.Ob(905,"span",13),t.rc(906,")"),t.Nb(),t.rc(907,"\n  config"),t.Ob(908,"span",10),t.rc(909,":"),t.Nb(),t.rc(910," SessionConfig"),t.Ob(911,"span",13),t.rc(912,";"),t.Nb(),t.rc(913,"\n\n  "),t.Ob(914,"span",8),t.rc(915,"async"),t.Nb(),t.rc(916," "),t.Ob(917,"span",3),t.rc(918,"encode"),t.Nb(),t.Ob(919,"span",13),t.rc(920,"("),t.Nb(),t.rc(921,"req"),t.Ob(922,"span",10),t.rc(923,":"),t.Nb(),t.rc(924," Request"),t.Ob(925,"span",13),t.rc(926,","),t.Nb(),t.rc(927," res"),t.Ob(928,"span",10),t.rc(929,":"),t.Nb(),t.rc(930," Response"),t.Ob(931,"span",13),t.rc(932,","),t.Nb(),t.rc(933," session"),t.Ob(934,"span",10),t.rc(935,":"),t.Nb(),t.rc(936," Session"),t.Ob(937,"span",10),t.rc(938,"<"),t.Nb(),t.Ob(939,"span",12),t.rc(940,"any"),t.Nb(),t.Ob(941,"span",10),t.rc(942,">"),t.Nb(),t.rc(943," "),t.Ob(944,"span",10),t.rc(945,"|"),t.Nb(),t.rc(946," "),t.Ob(947,"span",8),t.rc(948,"null"),t.Nb(),t.Ob(949,"span",13),t.rc(950,")"),t.Nb(),t.Ob(951,"span",10),t.rc(952,":"),t.Nb(),t.rc(953," "),t.Ob(954,"span",12),t.rc(955,"Promise"),t.Nb(),t.Ob(956,"span",10),t.rc(957,"<"),t.Nb(),t.Ob(958,"span",8),t.rc(959,"void"),t.Nb(),t.Ob(960,"span",10),t.rc(961,">"),t.Nb(),t.rc(962," "),t.Ob(963,"span",13),t.rc(964),t.Nb(),t.rc(965,"\n    "),t.Ob(966,"span",8),t.rc(967,"if"),t.Nb(),t.rc(968," "),t.Ob(969,"span",13),t.rc(970,"("),t.Nb(),t.rc(971,"session "),t.Ob(972,"span",10),t.rc(973,"&&"),t.Nb(),t.rc(974," session"),t.Ob(975,"span",13),t.rc(976,"."),t.Nb(),t.rc(977,"data"),t.Ob(978,"span",13),t.rc(979,")"),t.Nb(),t.rc(980," "),t.Ob(981,"span",13),t.rc(982),t.Nb(),t.rc(983,"\n      "),t.Ob(984,"span",8),t.rc(985,"if"),t.Nb(),t.rc(986," "),t.Ob(987,"span",13),t.rc(988,"("),t.Nb(),t.Ob(989,"span",8),t.rc(990,"this"),t.Nb(),t.Ob(991,"span",13),t.rc(992,"."),t.Nb(),t.rc(993,"config"),t.Ob(994,"span",13),t.rc(995,"."),t.Nb(),t.rc(996,"transport "),t.Ob(997,"span",10),t.rc(998,"==="),t.Nb(),t.rc(999," "),t.Ob(1e3,"span",15),t.rc(1001,"'cookie'"),t.Nb(),t.Ob(1002,"span",13),t.rc(1003,")"),t.Nb(),t.rc(1004," "),t.Ob(1005,"span",13),t.rc(1006),t.Nb(),t.rc(1007,"\n        res"),t.Ob(1008,"span",13),t.rc(1009,"."),t.Nb(),t.rc(1010,"cookies"),t.Ob(1011,"span",13),t.rc(1012,"."),t.Nb(),t.Ob(1013,"span",8),t.rc(1014,"set"),t.Nb(),t.Ob(1015,"span",13),t.rc(1016,"("),t.Nb(),t.Ob(1017,"span",8),t.rc(1018,"this"),t.Nb(),t.Ob(1019,"span",13),t.rc(1020,"."),t.Nb(),t.rc(1021,"config"),t.Ob(1022,"span",13),t.rc(1023,"."),t.Nb(),t.rc(1024,"keyName"),t.Ob(1025,"span",13),t.rc(1026,","),t.Nb(),t.rc(1027," session"),t.Ob(1028,"span",13),t.rc(1029,"."),t.Nb(),t.rc(1030,"key"),t.Ob(1031,"span",13),t.rc(1032,","),t.Nb(),t.rc(1033," "),t.Ob(1034,"span",13),t.rc(1035),t.Nb(),t.rc(1036,"\n          maxAge"),t.Ob(1037,"span",10),t.rc(1038,":"),t.Nb(),t.rc(1039," "),t.Ob(1040,"span",10),t.rc(1041,"!"),t.Nb(),t.rc(1042,"session"),t.Ob(1043,"span",13),t.rc(1044,"."),t.Nb(),t.rc(1045,"expiresAt "),t.Ob(1046,"span",10),t.rc(1047,"?"),t.Nb(),t.rc(1048," "),t.Ob(1049,"span",10),t.rc(1050,"-"),t.Nb(),t.Ob(1051,"span",22),t.rc(1052,"1"),t.Nb(),t.rc(1053," "),t.Ob(1054,"span",10),t.rc(1055,":"),t.Nb(),t.rc(1056," "),t.Ob(1057,"span",8),t.rc(1058,"undefined"),t.Nb(),t.Ob(1059,"span",13),t.rc(1060,","),t.Nb(),t.rc(1061," "),t.Ob(1062,"span",14),t.rc(1063,"// Session cookie by default"),t.Nb(),t.rc(1064,"\n          expires"),t.Ob(1065,"span",10),t.rc(1066,":"),t.Nb(),t.rc(1067," session"),t.Ob(1068,"span",13),t.rc(1069,"."),t.Nb(),t.rc(1070,"expiresAt "),t.Ob(1071,"span",10),t.rc(1072,"?"),t.Nb(),t.rc(1073," "),t.Ob(1074,"span",8),t.rc(1075,"new"),t.Nb(),t.rc(1076," "),t.Ob(1077,"span",9),t.rc(1078,"Date"),t.Nb(),t.Ob(1079,"span",13),t.rc(1080,"("),t.Nb(),t.rc(1081,"session"),t.Ob(1082,"span",13),t.rc(1083,"."),t.Nb(),t.rc(1084,"expiresAt"),t.Ob(1085,"span",13),t.rc(1086,")"),t.Nb(),t.rc(1087," "),t.Ob(1088,"span",10),t.rc(1089,":"),t.Nb(),t.rc(1090," "),t.Ob(1091,"span",8),t.rc(1092,"undefined"),t.Nb(),t.rc(1093,"\n        "),t.Ob(1094,"span",13),t.rc(1095),t.Nb(),t.Ob(1096,"span",13),t.rc(1097,")"),t.Nb(),t.Ob(1098,"span",13),t.rc(1099,";"),t.Nb(),t.rc(1100,"\n      "),t.Ob(1101,"span",13),t.rc(1102),t.Nb(),t.rc(1103," "),t.Ob(1104,"span",8),t.rc(1105,"else"),t.Nb(),t.rc(1106," "),t.Ob(1107,"span",13),t.rc(1108),t.Nb(),t.rc(1109,"\n        res"),t.Ob(1110,"span",13),t.rc(1111,"."),t.Nb(),t.Ob(1112,"span",3),t.rc(1113,"setHeader"),t.Nb(),t.Ob(1114,"span",13),t.rc(1115,"("),t.Nb(),t.Ob(1116,"span",8),t.rc(1117,"this"),t.Nb(),t.Ob(1118,"span",13),t.rc(1119,"."),t.Nb(),t.rc(1120,"config"),t.Ob(1121,"span",13),t.rc(1122,"."),t.Nb(),t.rc(1123,"keyName"),t.Ob(1124,"span",13),t.rc(1125,","),t.Nb(),t.rc(1126," session"),t.Ob(1127,"span",13),t.rc(1128,"."),t.Nb(),t.rc(1129,"key"),t.Ob(1130,"span",13),t.rc(1131,")"),t.Nb(),t.Ob(1132,"span",13),t.rc(1133,";"),t.Nb(),t.rc(1134,"\n      "),t.Ob(1135,"span",13),t.rc(1136),t.Nb(),t.rc(1137,"\n    "),t.Ob(1138,"span",13),t.rc(1139),t.Nb(),t.rc(1140," "),t.Ob(1141,"span",8),t.rc(1142,"else"),t.Nb(),t.rc(1143," "),t.Ob(1144,"span",8),t.rc(1145,"if"),t.Nb(),t.rc(1146," "),t.Ob(1147,"span",13),t.rc(1148,"("),t.Nb(),t.Ob(1149,"span",8),t.rc(1150,"this"),t.Nb(),t.Ob(1151,"span",13),t.rc(1152,"."),t.Nb(),t.rc(1153,"config"),t.Ob(1154,"span",13),t.rc(1155,"."),t.Nb(),t.rc(1156,"transport "),t.Ob(1157,"span",10),t.rc(1158,"==="),t.Nb(),t.rc(1159," "),t.Ob(1160,"span",15);t.rc(1161,"'cookie'"),t.Nb(),t.rc(1162," "),t.Ob(1163,"span",10),t.rc(1164,"&&"),t.Nb(),t.rc(1165," req"),t.Ob(1166,"span",13),t.rc(1167,"."),t.Nb(),t.rc(1168,"cookies"),t.Ob(1169,"span",13),t.rc(1170,"."),t.Nb(),t.Ob(1171,"span",8),t.rc(1172,"get"),t.Nb(),t.Ob(1173,"span",13),t.rc(1174,"("),t.Nb(),t.Ob(1175,"span",8),t.rc(1176,"this"),t.Nb(),t.Ob(1177,"span",13),t.rc(1178,"."),t.Nb(),t.rc(1179,"config"),t.Ob(1180,"span",13),t.rc(1181,"."),t.Nb(),t.rc(1182,"keyName"),t.Ob(1183,"span",13),t.rc(1184,")"),t.Nb(),t.Ob(1185,"span",13),t.rc(1186,")"),t.Nb(),t.rc(1187," "),t.Ob(1188,"span",13),t.rc(1189),t.Nb(),t.rc(1190," "),t.Ob(1191,"span",14),t.rc(1192,"// If cookie present, clear out"),t.Nb(),t.rc(1193,"\n      res"),t.Ob(1194,"span",13),t.rc(1195,"."),t.Nb(),t.rc(1196,"cookies"),t.Ob(1197,"span",13),t.rc(1198,"."),t.Nb(),t.Ob(1199,"span",8),t.rc(1200,"set"),t.Nb(),t.Ob(1201,"span",13),t.rc(1202,"("),t.Nb(),t.Ob(1203,"span",8),t.rc(1204,"this"),t.Nb(),t.Ob(1205,"span",13),t.rc(1206,"."),t.Nb(),t.rc(1207,"config"),t.Ob(1208,"span",13),t.rc(1209,"."),t.Nb(),t.rc(1210,"keyName"),t.Ob(1211,"span",13),t.rc(1212,","),t.Nb(),t.rc(1213," "),t.Ob(1214,"span",8),t.rc(1215,"null"),t.Nb(),t.Ob(1216,"span",13),t.rc(1217,","),t.Nb(),t.rc(1218," "),t.Ob(1219,"span",13),t.rc(1220),t.Nb(),t.rc(1221,"\n        maxAge"),t.Ob(1222,"span",10),t.rc(1223,":"),t.Nb(),t.rc(1224," "),t.Ob(1225,"span",22),t.rc(1226,"0"),t.Nb(),t.Ob(1227,"span",13),t.rc(1228,","),t.Nb(),t.rc(1229,"\n      "),t.Ob(1230,"span",13),t.rc(1231),t.Nb(),t.Ob(1232,"span",13),t.rc(1233,")"),t.Nb(),t.Ob(1234,"span",13),t.rc(1235,";"),t.Nb(),t.rc(1236,"\n    "),t.Ob(1237,"span",13),t.rc(1238),t.Nb(),t.rc(1239,"\n    "),t.Ob(1240,"span",8),t.rc(1241,"return"),t.Nb(),t.Ob(1242,"span",13),t.rc(1243,";"),t.Nb(),t.rc(1244,"\n  "),t.Ob(1245,"span",13),t.rc(1246),t.Nb(),t.rc(1247,"\n\n  "),t.Ob(1248,"span",8),t.rc(1249,"async"),t.Nb(),t.rc(1250," "),t.Ob(1251,"span",3),t.rc(1252,"decode"),t.Nb(),t.Ob(1253,"span",13),t.rc(1254,"("),t.Nb(),t.rc(1255,"req"),t.Ob(1256,"span",10),t.rc(1257,":"),t.Nb(),t.rc(1258," Request"),t.Ob(1259,"span",13),t.rc(1260,")"),t.Nb(),t.Ob(1261,"span",10),t.rc(1262,":"),t.Nb(),t.rc(1263," "),t.Ob(1264,"span",12),t.rc(1265,"Promise"),t.Nb(),t.Ob(1266,"span",10),t.rc(1267,"<"),t.Nb(),t.Ob(1268,"span",12),t.rc(1269,"string"),t.Nb(),t.rc(1270," "),t.Ob(1271,"span",10),t.rc(1272,"|"),t.Nb(),t.rc(1273," Session "),t.Ob(1274,"span",10),t.rc(1275,"|"),t.Nb(),t.rc(1276," "),t.Ob(1277,"span",8),t.rc(1278,"undefined"),t.Nb(),t.Ob(1279,"span",10),t.rc(1280,">"),t.Nb(),t.rc(1281," "),t.Ob(1282,"span",13),t.rc(1283),t.Nb(),t.rc(1284,"\n    "),t.Ob(1285,"span",8),t.rc(1286,"if"),t.Nb(),t.rc(1287," "),t.Ob(1288,"span",13),t.rc(1289,"("),t.Nb(),t.Ob(1290,"span",8),t.rc(1291,"this"),t.Nb(),t.Ob(1292,"span",13),t.rc(1293,"."),t.Nb(),t.rc(1294,"config"),t.Ob(1295,"span",13),t.rc(1296,"."),t.Nb(),t.rc(1297,"transport "),t.Ob(1298,"span",10),t.rc(1299,"==="),t.Nb(),t.rc(1300," "),t.Ob(1301,"span",15),t.rc(1302,"'cookie'"),t.Nb(),t.Ob(1303,"span",13),t.rc(1304,")"),t.Nb(),t.rc(1305," "),t.Ob(1306,"span",13),t.rc(1307),t.Nb(),t.rc(1308,"\n      "),t.Ob(1309,"span",8),t.rc(1310,"return"),t.Nb(),t.rc(1311," req"),t.Ob(1312,"span",13),t.rc(1313,"."),t.Nb(),t.rc(1314,"cookies"),t.Ob(1315,"span",13),t.rc(1316,"."),t.Nb(),t.Ob(1317,"span",8),t.rc(1318,"get"),t.Nb(),t.Ob(1319,"span",13),t.rc(1320,"("),t.Nb(),t.Ob(1321,"span",8),t.rc(1322,"this"),t.Nb(),t.Ob(1323,"span",13),t.rc(1324,"."),t.Nb(),t.rc(1325,"config"),t.Ob(1326,"span",13),t.rc(1327,"."),t.Nb(),t.rc(1328,"keyName"),t.Ob(1329,"span",13),t.rc(1330,")"),t.Nb(),t.Ob(1331,"span",13),t.rc(1332,";"),t.Nb(),t.rc(1333,"\n    "),t.Ob(1334,"span",13),t.rc(1335),t.Nb(),t.rc(1336," "),t.Ob(1337,"span",8),t.rc(1338,"else"),t.Nb(),t.rc(1339," "),t.Ob(1340,"span",13),t.rc(1341),t.Nb(),t.rc(1342,"\n      "),t.Ob(1343,"span",8),t.rc(1344,"return"),t.Nb(),t.rc(1345," req"),t.Ob(1346,"span",13),t.rc(1347,"."),t.Nb(),t.Ob(1348,"span",3),t.rc(1349,"header"),t.Nb(),t.Ob(1350,"span",13),t.rc(1351,"("),t.Nb(),t.Ob(1352,"span",8),t.rc(1353,"this"),t.Nb(),t.Ob(1354,"span",13),t.rc(1355,"."),t.Nb(),t.rc(1356,"config"),t.Ob(1357,"span",13),t.rc(1358,"."),t.Nb(),t.rc(1359,"keyName"),t.Ob(1360,"span",13),t.rc(1361,")"),t.Nb(),t.rc(1362," "),t.Ob(1363,"span",8),t.rc(1364,"as"),t.Nb(),t.rc(1365," "),t.Ob(1366,"span",12),t.rc(1367,"string"),t.Nb(),t.Ob(1368,"span",13),t.rc(1369,";"),t.Nb(),t.rc(1370,"\n    "),t.Ob(1371,"span",13),t.rc(1372),t.Nb(),t.rc(1373,"\n  "),t.Ob(1374,"span",13),t.rc(1375),t.Nb(),t.rc(1376,"\n"),t.Ob(1377,"span",13),t.rc(1378),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(56),t.sc("{"),t.zb(263),t.sc("}"),t.zb(26),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(29),t.sc("{"),t.zb(34),t.sc("{"),t.zb(28),t.sc("}"),t.zb(34),t.sc("{"),t.zb(17),t.sc("}"),t.zb(34),t.sc("{"),t.zb(12),t.sc("}"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(89),t.sc("}"),t.zb(23),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(36),t.sc("{"),t.zb(65),t.sc("{"),t.zb(18),t.sc("{"),t.zb(24),t.sc("{"),t.zb(29),t.sc("{"),t.zb(60),t.sc("}"),t.zb(7),t.sc("}"),t.zb(6),t.sc("{"),t.zb(28),t.sc("}"),t.zb(3),t.sc("}"),t.zb(50),t.sc("{"),t.zb(31),t.sc("{"),t.zb(11),t.sc("}"),t.zb(7),t.sc("}"),t.zb(8),t.sc("}"),t.zb(37),t.sc("{"),t.zb(24),t.sc("{"),t.zb(28),t.sc("}"),t.zb(6),t.sc("{"),t.zb(31),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),k=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-rest-express"]],decls:371,vars:16,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://expressjs.com",1,"external-link"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/server/server.ts#L16",1,"source-link"],["id","customizing-rest-app"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-express/alt/docs/src/customize.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","operator"],[1,"token","builtin"],[1,"token","meta"],[1,"token","boolean"],[1,"token","class-name"],[1,"token","number"],[1,"token","comment"],["id","default-middleware"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-express/src/server.ts#L18"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Express REST Source "),t.Ob(3,"small"),t.rc(4,"Express provider for the travetto rest module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/rest-express "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/rest-express"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The module is an "),t.Ob(17,"a",4),t.rc(18,"express"),t.Nb(),t.rc(19," provider for the "),t.Ob(20,"a",5),t.rc(21,"RESTful API"),t.Nb(),t.rc(22," module. This module provides an implementation of "),t.Ob(23,"a",6),t.rc(24,"RestServer"),t.Nb(),t.rc(25," for automatic injection in the default Rest server. "),t.Ob(26,"h2",7),t.rc(27,"Customizing Rest App"),t.Nb(),t.Ob(28,"figure",8),t.Ob(29,"figcaption",8),t.rc(30,"Customizing the Express App "),t.Ob(31,"cite"),t.Ob(32,"a",9),t.rc(33,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(34,"pre"),t.Ob(35,"code",10),t.Ob(36,"span",11),t.rc(37,"import"),t.Nb(),t.rc(38," "),t.Ob(39,"span",12),t.rc(40),t.Nb(),t.rc(41," Injectable "),t.Ob(42,"span",12),t.rc(43),t.Nb(),t.rc(44," "),t.Ob(45,"span",11),t.rc(46,"from"),t.Nb(),t.rc(47," "),t.Ob(48,"span",13),t.rc(49,"'@travetto/di'"),t.Nb(),t.Ob(50,"span",12),t.rc(51,";"),t.Nb(),t.rc(52,"\n"),t.Ob(53,"span",11),t.rc(54,"import"),t.Nb(),t.rc(55," "),t.Ob(56,"span",12),t.rc(57),t.Nb(),t.rc(58," ExpressRestServer "),t.Ob(59,"span",12),t.rc(60),t.Nb(),t.rc(61," "),t.Ob(62,"span",11),t.rc(63,"from"),t.Nb(),t.rc(64," "),t.Ob(65,"span",13),t.rc(66,"'@travetto/rest-express'"),t.Nb(),t.Ob(67,"span",12),t.rc(68,";"),t.Nb(),t.rc(69,"\n\n"),t.Ob(70,"span",11),t.rc(71,"declare"),t.Nb(),t.rc(72," "),t.Ob(73,"span",11),t.rc(74,"let"),t.Nb(),t.rc(75," rateLimit"),t.Ob(76,"span",14),t.rc(77,":"),t.Nb(),t.rc(78," "),t.Ob(79,"span",15),t.rc(80,"any"),t.Nb(),t.Ob(81,"span",12),t.rc(82,";"),t.Nb(),t.rc(83,"\n\n@"),t.Ob(84,"span",16),t.rc(85,"Injectable"),t.Nb(),t.Ob(86,"span",12),t.rc(87,"("),t.Nb(),t.Ob(88,"span",12),t.rc(89),t.Nb(),t.rc(90," primary"),t.Ob(91,"span",14),t.rc(92,":"),t.Nb(),t.rc(93," "),t.Ob(94,"span",17),t.rc(95,"true"),t.Nb(),t.rc(96," "),t.Ob(97,"span",12),t.rc(98),t.Nb(),t.Ob(99,"span",12),t.rc(100,")"),t.Nb(),t.rc(101,"\n"),t.Ob(102,"span",11),t.rc(103,"class"),t.Nb(),t.rc(104," "),t.Ob(105,"span",18),t.rc(106,"CustomRestServer"),t.Nb(),t.rc(107," "),t.Ob(108,"span",11),t.rc(109,"extends"),t.Nb(),t.rc(110," "),t.Ob(111,"span",18),t.rc(112,"ExpressRestServer"),t.Nb(),t.rc(113," "),t.Ob(114,"span",12),t.rc(115),t.Nb(),t.rc(116,"\n  "),t.Ob(117,"span",3),t.rc(118,"createRaw"),t.Nb(),t.Ob(119,"span",12),t.rc(120,"("),t.Nb(),t.Ob(121,"span",12),t.rc(122,")"),t.Nb(),t.rc(123," "),t.Ob(124,"span",12),t.rc(125),t.Nb(),t.rc(126,"\n    "),t.Ob(127,"span",11),t.rc(128,"const"),t.Nb(),t.rc(129," app "),t.Ob(130,"span",14),t.rc(131,"="),t.Nb(),t.rc(132," "),t.Ob(133,"span",11),t.rc(134,"super"),t.Nb(),t.Ob(135,"span",12),t.rc(136,"."),t.Nb(),t.Ob(137,"span",3),t.rc(138,"createRaw"),t.Nb(),t.Ob(139,"span",12),t.rc(140,"("),t.Nb(),t.Ob(141,"span",12),t.rc(142,")"),t.Nb(),t.Ob(143,"span",12),t.rc(144,";"),t.Nb(),t.rc(145,"\n    "),t.Ob(146,"span",11),t.rc(147,"const"),t.Nb(),t.rc(148," limiter "),t.Ob(149,"span",14),t.rc(150,"="),t.Nb(),t.rc(151," "),t.Ob(152,"span",3),t.rc(153,"rateLimit"),t.Nb(),t.Ob(154,"span",12),t.rc(155,"("),t.Nb(),t.Ob(156,"span",12),t.rc(157),t.Nb(),t.rc(158,"\n      windowMs"),t.Ob(159,"span",14),t.rc(160,":"),t.Nb(),t.rc(161," "),t.Ob(162,"span",19),t.rc(163,"15"),t.Nb(),t.rc(164," "),t.Ob(165,"span",14),t.rc(166,"*"),t.Nb(),t.rc(167," "),t.Ob(168,"span",19),t.rc(169,"60"),t.Nb(),t.rc(170," "),t.Ob(171,"span",14),t.rc(172,"*"),t.Nb(),t.rc(173," "),t.Ob(174,"span",19),t.rc(175,"1000"),t.Nb(),t.Ob(176,"span",12),t.rc(177,","),t.Nb(),t.rc(178," "),t.Ob(179,"span",20),t.rc(180,"// 15 minutes"),t.Nb(),t.rc(181,"\n      max"),t.Ob(182,"span",14),t.rc(183,":"),t.Nb(),t.rc(184," "),t.Ob(185,"span",19),t.rc(186,"100"),t.Nb(),t.rc(187," "),t.Ob(188,"span",20),t.rc(189,"// limit each IP to 100 requests per windowMs"),t.Nb(),t.rc(190,"\n    "),t.Ob(191,"span",12),t.rc(192),t.Nb(),t.Ob(193,"span",12),t.rc(194,")"),t.Nb(),t.Ob(195,"span",12),t.rc(196,";"),t.Nb(),t.rc(197,"\n\n    "),t.Ob(198,"span",20),t.rc(199,"//  apply to all requests"),t.Nb(),t.rc(200,"\n    app"),t.Ob(201,"span",12),t.rc(202,"."),t.Nb(),t.Ob(203,"span",3),t.rc(204,"use"),t.Nb(),t.Ob(205,"span",12),t.rc(206,"("),t.Nb(),t.rc(207,"limiter"),t.Ob(208,"span",12),t.rc(209,")"),t.Nb(),t.Ob(210,"span",12),t.rc(211,";"),t.Nb(),t.rc(212,"\n\n    "),t.Ob(213,"span",11),t.rc(214,"return"),t.Nb(),t.rc(215," app"),t.Ob(216,"span",12),t.rc(217,";"),t.Nb(),t.rc(218,"\n  "),t.Ob(219,"span",12),t.rc(220),t.Nb(),t.rc(221,"\n"),t.Ob(222,"span",12),t.rc(223),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(224,"h2",21),t.rc(225,"Default Middleware"),t.Nb(),t.rc(226,"\nWhen working with an "),t.Ob(227,"a",4),t.rc(228,"express"),t.Nb(),t.rc(229," applications, the module provides what is assumed to be a sufficient set of basic filters. Specifically: "),t.Ob(230,"figure",8),t.Ob(231,"figcaption",8),t.rc(232,"Configured Middleware "),t.Ob(233,"cite"),t.Ob(234,"a",22),t.rc(235,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(236,"pre"),t.Ob(237,"code",10),t.Ob(238,"span",11),t.rc(239,"const"),t.Nb(),t.rc(240," app "),t.Ob(241,"span",14),t.rc(242,"="),t.Nb(),t.rc(243," "),t.Ob(244,"span",3),t.rc(245,"express"),t.Nb(),t.Ob(246,"span",12),t.rc(247,"("),t.Nb(),t.Ob(248,"span",12),t.rc(249,")"),t.Nb(),t.Ob(250,"span",12),t.rc(251,";"),t.Nb(),t.rc(252,"\napp"),t.Ob(253,"span",12),t.rc(254,"."),t.Nb(),t.Ob(255,"span",11),t.rc(256,"set"),t.Nb(),t.Ob(257,"span",12),t.rc(258,"("),t.Nb(),t.Ob(259,"span",13),t.rc(260,"'query parser'"),t.Nb(),t.Ob(261,"span",12),t.rc(262,","),t.Nb(),t.rc(263," "),t.Ob(264,"span",13),t.rc(265,"'simple'"),t.Nb(),t.Ob(266,"span",12),t.rc(267,")"),t.Nb(),t.Ob(268,"span",12),t.rc(269,";"),t.Nb(),t.rc(270,"\napp"),t.Ob(271,"span",12),t.rc(272,"."),t.Nb(),t.Ob(273,"span",3),t.rc(274,"use"),t.Nb(),t.Ob(275,"span",12),t.rc(276,"("),t.Nb(),t.Ob(277,"span",3),t.rc(278,"compression"),t.Nb(),t.Ob(279,"span",12),t.rc(280,"("),t.Nb(),t.Ob(281,"span",12),t.rc(282,")"),t.Nb(),t.Ob(283,"span",12),t.rc(284,")"),t.Nb(),t.Ob(285,"span",12),t.rc(286,";"),t.Nb(),t.rc(287,"\napp"),t.Ob(288,"span",12),t.rc(289,"."),t.Nb(),t.Ob(290,"span",3),t.rc(291,"use"),t.Nb(),t.Ob(292,"span",12),t.rc(293,"("),t.Nb(),t.rc(294,"bodyParser"),t.Ob(295,"span",12),t.rc(296,"."),t.Nb(),t.Ob(297,"span",3),t.rc(298,"json"),t.Nb(),t.Ob(299,"span",12),t.rc(300,"("),t.Nb(),t.Ob(301,"span",12),t.rc(302,")"),t.Nb(),t.Ob(303,"span",12),t.rc(304,")"),t.Nb(),t.Ob(305,"span",12),t.rc(306,";"),t.Nb(),t.rc(307,"\napp"),t.Ob(308,"span",12),t.rc(309,"."),t.Nb(),t.Ob(310,"span",3),t.rc(311,"use"),t.Nb(),t.Ob(312,"span",12),t.rc(313,"("),t.Nb(),t.rc(314,"bodyParser"),t.Ob(315,"span",12),t.rc(316,"."),t.Nb(),t.Ob(317,"span",3),t.rc(318,"urlencoded"),t.Nb(),t.Ob(319,"span",12),t.rc(320,"("),t.Nb(),t.Ob(321,"span",12),t.rc(322),t.Nb(),t.rc(323," extended"),t.Ob(324,"span",14),t.rc(325,":"),t.Nb(),t.rc(326," "),t.Ob(327,"span",17),t.rc(328,"false"),t.Nb(),t.rc(329," "),t.Ob(330,"span",12),t.rc(331),t.Nb(),t.Ob(332,"span",12),t.rc(333,")"),t.Nb(),t.Ob(334,"span",12),t.rc(335,")"),t.Nb(),t.Ob(336,"span",12),t.rc(337,";"),t.Nb(),t.rc(338,"\napp"),t.Ob(339,"span",12),t.rc(340,"."),t.Nb(),t.Ob(341,"span",3),t.rc(342,"use"),t.Nb(),t.Ob(343,"span",12),t.rc(344,"("),t.Nb(),t.rc(345,"bodyParser"),t.Ob(346,"span",12),t.rc(347,"."),t.Nb(),t.Ob(348,"span",3),t.rc(349,"raw"),t.Nb(),t.Ob(350,"span",12),t.rc(351,"("),t.Nb(),t.Ob(352,"span",12),t.rc(353),t.Nb(),t.rc(354," "),t.Ob(355,"span",11),t.rc(356,"type"),t.Nb(),t.Ob(357,"span",14),t.rc(358,":"),t.Nb(),t.rc(359," "),t.Ob(360,"span",13),t.rc(361,"'image/*'"),t.Nb(),t.rc(362," "),t.Ob(363,"span",12),t.rc(364),t.Nb(),t.Ob(365,"span",12),t.rc(366,")"),t.Nb(),t.Ob(367,"span",12),t.rc(368,")"),t.Nb(),t.Ob(369,"span",12),t.rc(370,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(40),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(9),t.sc("}"),t.zb(17),t.sc("{"),t.zb(10),t.sc("{"),t.zb(32),t.sc("{"),t.zb(35),t.sc("}"),t.zb(28),t.sc("}"),t.zb(3),t.sc("}"),t.zb(99),t.sc("{"),t.zb(9),t.sc("}"),t.zb(22),t.sc("{"),t.zb(11),t.sc("}"))},styles:[""]}),r}(),_=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-rest-koa"]],decls:289,vars:12,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://koajs.com/",1,"external-link"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/server/server.ts#L16",1,"source-link"],["id","customizing-rest-app"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-koa/alt/docs/src/customize.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","operator"],[1,"token","builtin"],[1,"token","meta"],[1,"token","boolean"],[1,"token","class-name"],[1,"token","number"],[1,"token","comment"],["id","default-middleware"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-koa/src/server.ts#L23"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Koa REST Source "),t.Ob(3,"small"),t.rc(4,"Koa provider for the travetto rest module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/rest-koa "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/rest-koa"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The module is an "),t.Ob(17,"a",4),t.rc(18,"koa"),t.Nb(),t.rc(19," provider for the "),t.Ob(20,"a",5),t.rc(21,"RESTful API"),t.Nb(),t.rc(22," module. This module provides an implementation of "),t.Ob(23,"a",6),t.rc(24,"RestServer"),t.Nb(),t.rc(25," for automatic injection in the default Rest server. "),t.Ob(26,"h2",7),t.rc(27,"Customizing Rest App"),t.Nb(),t.Ob(28,"figure",8),t.Ob(29,"figcaption",8),t.rc(30,"Customizing the Koa App "),t.Ob(31,"cite"),t.Ob(32,"a",9),t.rc(33,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(34,"pre"),t.Ob(35,"code",10),t.Ob(36,"span",11),t.rc(37,"import"),t.Nb(),t.rc(38," "),t.Ob(39,"span",12),t.rc(40),t.Nb(),t.rc(41," Injectable "),t.Ob(42,"span",12),t.rc(43),t.Nb(),t.rc(44," "),t.Ob(45,"span",11),t.rc(46,"from"),t.Nb(),t.rc(47," "),t.Ob(48,"span",13),t.rc(49,"'@travetto/di'"),t.Nb(),t.Ob(50,"span",12),t.rc(51,";"),t.Nb(),t.rc(52,"\n"),t.Ob(53,"span",11),t.rc(54,"import"),t.Nb(),t.rc(55," "),t.Ob(56,"span",12),t.rc(57),t.Nb(),t.rc(58," KoaRestServer "),t.Ob(59,"span",12),t.rc(60),t.Nb(),t.rc(61," "),t.Ob(62,"span",11),t.rc(63,"from"),t.Nb(),t.rc(64," "),t.Ob(65,"span",13),t.rc(66,"'@travetto/rest-koa'"),t.Nb(),t.Ob(67,"span",12),t.rc(68,";"),t.Nb(),t.rc(69,"\n\n"),t.Ob(70,"span",11),t.rc(71,"declare"),t.Nb(),t.rc(72," "),t.Ob(73,"span",11),t.rc(74,"let"),t.Nb(),t.rc(75," rateLimit"),t.Ob(76,"span",14),t.rc(77,":"),t.Nb(),t.rc(78," "),t.Ob(79,"span",15),t.rc(80,"any"),t.Nb(),t.Ob(81,"span",12),t.rc(82,";"),t.Nb(),t.rc(83,"\n\n@"),t.Ob(84,"span",16),t.rc(85,"Injectable"),t.Nb(),t.Ob(86,"span",12),t.rc(87,"("),t.Nb(),t.Ob(88,"span",12),t.rc(89),t.Nb(),t.rc(90," primary"),t.Ob(91,"span",14),t.rc(92,":"),t.Nb(),t.rc(93," "),t.Ob(94,"span",17),t.rc(95,"true"),t.Nb(),t.rc(96," "),t.Ob(97,"span",12),t.rc(98),t.Nb(),t.Ob(99,"span",12),t.rc(100,")"),t.Nb(),t.rc(101,"\n"),t.Ob(102,"span",11),t.rc(103,"class"),t.Nb(),t.rc(104," "),t.Ob(105,"span",18),t.rc(106,"CustomRestServer"),t.Nb(),t.rc(107," "),t.Ob(108,"span",11),t.rc(109,"extends"),t.Nb(),t.rc(110," "),t.Ob(111,"span",18),t.rc(112,"KoaRestServer"),t.Nb(),t.rc(113," "),t.Ob(114,"span",12),t.rc(115),t.Nb(),t.rc(116,"\n  "),t.Ob(117,"span",3),t.rc(118,"createRaw"),t.Nb(),t.Ob(119,"span",12),t.rc(120,"("),t.Nb(),t.Ob(121,"span",12),t.rc(122,")"),t.Nb(),t.rc(123," "),t.Ob(124,"span",12),t.rc(125),t.Nb(),t.rc(126,"\n    "),t.Ob(127,"span",11),t.rc(128,"const"),t.Nb(),t.rc(129," app "),t.Ob(130,"span",14),t.rc(131,"="),t.Nb(),t.rc(132," "),t.Ob(133,"span",11),t.rc(134,"super"),t.Nb(),t.Ob(135,"span",12),t.rc(136,"."),t.Nb(),t.Ob(137,"span",3),t.rc(138,"createRaw"),t.Nb(),t.Ob(139,"span",12),t.rc(140,"("),t.Nb(),t.Ob(141,"span",12),t.rc(142,")"),t.Nb(),t.Ob(143,"span",12),t.rc(144,";"),t.Nb(),t.rc(145,"\n    "),t.Ob(146,"span",11),t.rc(147,"const"),t.Nb(),t.rc(148," limiter "),t.Ob(149,"span",14),t.rc(150,"="),t.Nb(),t.rc(151," "),t.Ob(152,"span",3),t.rc(153,"rateLimit"),t.Nb(),t.Ob(154,"span",12),t.rc(155,"("),t.Nb(),t.Ob(156,"span",12),t.rc(157),t.Nb(),t.rc(158,"\n      windowMs"),t.Ob(159,"span",14),t.rc(160,":"),t.Nb(),t.rc(161," "),t.Ob(162,"span",19),t.rc(163,"15"),t.Nb(),t.rc(164," "),t.Ob(165,"span",14),t.rc(166,"*"),t.Nb(),t.rc(167," "),t.Ob(168,"span",19),t.rc(169,"60"),t.Nb(),t.rc(170," "),t.Ob(171,"span",14),t.rc(172,"*"),t.Nb(),t.rc(173," "),t.Ob(174,"span",19),t.rc(175,"1000"),t.Nb(),t.Ob(176,"span",12),t.rc(177,","),t.Nb(),t.rc(178," "),t.Ob(179,"span",20),t.rc(180,"// 15 minutes"),t.Nb(),t.rc(181,"\n      max"),t.Ob(182,"span",14),t.rc(183,":"),t.Nb(),t.rc(184," "),t.Ob(185,"span",19),t.rc(186,"100"),t.Nb(),t.rc(187," "),t.Ob(188,"span",20),t.rc(189,"// limit each IP to 100 requests per windowMs"),t.Nb(),t.rc(190,"\n    "),t.Ob(191,"span",12),t.rc(192),t.Nb(),t.Ob(193,"span",12),t.rc(194,")"),t.Nb(),t.Ob(195,"span",12),t.rc(196,";"),t.Nb(),t.rc(197,"\n\n    "),t.Ob(198,"span",20),t.rc(199,"//  apply to all requests"),t.Nb(),t.rc(200,"\n    app"),t.Ob(201,"span",12),t.rc(202,"."),t.Nb(),t.Ob(203,"span",3),t.rc(204,"use"),t.Nb(),t.Ob(205,"span",12),t.rc(206,"("),t.Nb(),t.rc(207,"limiter"),t.Ob(208,"span",12),t.rc(209,")"),t.Nb(),t.Ob(210,"span",12),t.rc(211,";"),t.Nb(),t.rc(212,"\n\n    "),t.Ob(213,"span",11),t.rc(214,"return"),t.Nb(),t.rc(215," app"),t.Ob(216,"span",12),t.rc(217,";"),t.Nb(),t.rc(218,"\n  "),t.Ob(219,"span",12),t.rc(220),t.Nb(),t.rc(221,"\n"),t.Ob(222,"span",12),t.rc(223),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(224,"h2",21),t.rc(225,"Default Middleware"),t.Nb(),t.rc(226,"\nWhen working with an "),t.Ob(227,"a",4),t.rc(228,"koa"),t.Nb(),t.rc(229," applications, the module provides what is assumed to be a sufficient set of basic filters. Specifically: "),t.Ob(230,"figure",8),t.Ob(231,"figcaption",8),t.rc(232,"Configured Middleware "),t.Ob(233,"cite"),t.Ob(234,"a",22),t.rc(235,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(236,"pre"),t.Ob(237,"code",10),t.Ob(238,"span",11),t.rc(239,"const"),t.Nb(),t.rc(240," app "),t.Ob(241,"span",14),t.rc(242,"="),t.Nb(),t.rc(243," "),t.Ob(244,"span",11),t.rc(245,"new"),t.Nb(),t.rc(246," "),t.Ob(247,"span",18),t.rc(248,"koa"),t.Nb(),t.Ob(249,"span",12),t.rc(250,"("),t.Nb(),t.Ob(251,"span",12),t.rc(252,")"),t.Nb(),t.Ob(253,"span",12),t.rc(254,";"),t.Nb(),t.rc(255,"\napp"),t.Ob(256,"span",12),t.rc(257,"."),t.Nb(),t.Ob(258,"span",3),t.rc(259,"use"),t.Nb(),t.Ob(260,"span",12),t.rc(261,"("),t.Nb(),t.Ob(262,"span",3),t.rc(263,"kCompress"),t.Nb(),t.Ob(264,"span",12),t.rc(265,"("),t.Nb(),t.Ob(266,"span",12),t.rc(267,")"),t.Nb(),t.Ob(268,"span",12),t.rc(269,")"),t.Nb(),t.Ob(270,"span",12),t.rc(271,";"),t.Nb(),t.rc(272,"\napp"),t.Ob(273,"span",12),t.rc(274,"."),t.Nb(),t.Ob(275,"span",3),t.rc(276,"use"),t.Nb(),t.Ob(277,"span",12),t.rc(278,"("),t.Nb(),t.Ob(279,"span",3),t.rc(280,"kBodyParser"),t.Nb(),t.Ob(281,"span",12),t.rc(282,"("),t.Nb(),t.Ob(283,"span",12),t.rc(284,")"),t.Nb(),t.Ob(285,"span",12),t.rc(286,")"),t.Nb(),t.Ob(287,"span",12),t.rc(288,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(40),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(9),t.sc("}"),t.zb(17),t.sc("{"),t.zb(10),t.sc("{"),t.zb(32),t.sc("{"),t.zb(35),t.sc("}"),t.zb(28),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),w=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-rest-fastify"]],decls:361,vars:13,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://www.fastify.io/",1,"external-link"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/server/server.ts#L16",1,"source-link"],["id","customizing-rest-app"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-fastify/alt/docs/src/customize.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","operator"],[1,"token","builtin"],[1,"token","meta"],[1,"token","boolean"],[1,"token","class-name"],[1,"token","number"],[1,"token","comment"],["id","default-middleware"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-fastify/src/server.ts#L28"],[1,"token","function-variable","function"],[1,"token","parameter"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Fastify REST Source "),t.Ob(3,"small"),t.rc(4,"Fastify provider for the travetto rest module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/rest-fastify "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/rest-fastify"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The module is an "),t.Ob(17,"a",4),t.rc(18,"fastify"),t.Nb(),t.rc(19," provider for the "),t.Ob(20,"a",5),t.rc(21,"RESTful API"),t.Nb(),t.rc(22," module. This module provides an implementation of "),t.Ob(23,"a",6),t.rc(24,"RestServer"),t.Nb(),t.rc(25," for automatic injection in the default Rest server. "),t.Ob(26,"h2",7),t.rc(27,"Customizing Rest App"),t.Nb(),t.Ob(28,"figure",8),t.Ob(29,"figcaption",8),t.rc(30,"Customizing the Fastify App "),t.Ob(31,"cite"),t.Ob(32,"a",9),t.rc(33,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(34,"pre"),t.Ob(35,"code",10),t.Ob(36,"span",11),t.rc(37,"import"),t.Nb(),t.rc(38," "),t.Ob(39,"span",12),t.rc(40),t.Nb(),t.rc(41," Injectable "),t.Ob(42,"span",12),t.rc(43),t.Nb(),t.rc(44," "),t.Ob(45,"span",11),t.rc(46,"from"),t.Nb(),t.rc(47," "),t.Ob(48,"span",13),t.rc(49,"'@travetto/di'"),t.Nb(),t.Ob(50,"span",12),t.rc(51,";"),t.Nb(),t.rc(52,"\n"),t.Ob(53,"span",11),t.rc(54,"import"),t.Nb(),t.rc(55," "),t.Ob(56,"span",12),t.rc(57),t.Nb(),t.rc(58," FastifyRestServer "),t.Ob(59,"span",12),t.rc(60),t.Nb(),t.rc(61," "),t.Ob(62,"span",11),t.rc(63,"from"),t.Nb(),t.rc(64," "),t.Ob(65,"span",13),t.rc(66,"'@travetto/rest-fastify'"),t.Nb(),t.Ob(67,"span",12),t.rc(68,";"),t.Nb(),t.rc(69,"\n\n"),t.Ob(70,"span",11),t.rc(71,"declare"),t.Nb(),t.rc(72," "),t.Ob(73,"span",11),t.rc(74,"let"),t.Nb(),t.rc(75," rateLimit"),t.Ob(76,"span",14),t.rc(77,":"),t.Nb(),t.rc(78," "),t.Ob(79,"span",15),t.rc(80,"any"),t.Nb(),t.Ob(81,"span",12),t.rc(82,";"),t.Nb(),t.rc(83,"\n\n@"),t.Ob(84,"span",16),t.rc(85,"Injectable"),t.Nb(),t.Ob(86,"span",12),t.rc(87,"("),t.Nb(),t.Ob(88,"span",12),t.rc(89),t.Nb(),t.rc(90," primary"),t.Ob(91,"span",14),t.rc(92,":"),t.Nb(),t.rc(93," "),t.Ob(94,"span",17),t.rc(95,"true"),t.Nb(),t.rc(96," "),t.Ob(97,"span",12),t.rc(98),t.Nb(),t.Ob(99,"span",12),t.rc(100,")"),t.Nb(),t.rc(101,"\n"),t.Ob(102,"span",11),t.rc(103,"class"),t.Nb(),t.rc(104," "),t.Ob(105,"span",18),t.rc(106,"CustomRestServer"),t.Nb(),t.rc(107," "),t.Ob(108,"span",11),t.rc(109,"extends"),t.Nb(),t.rc(110," "),t.Ob(111,"span",18),t.rc(112,"FastifyRestServer"),t.Nb(),t.rc(113," "),t.Ob(114,"span",12),t.rc(115),t.Nb(),t.rc(116,"\n  "),t.Ob(117,"span",11),t.rc(118,"async"),t.Nb(),t.rc(119," "),t.Ob(120,"span",3),t.rc(121,"createRaw"),t.Nb(),t.Ob(122,"span",12),t.rc(123,"("),t.Nb(),t.Ob(124,"span",12),t.rc(125,")"),t.Nb(),t.rc(126," "),t.Ob(127,"span",12),t.rc(128),t.Nb(),t.rc(129,"\n    "),t.Ob(130,"span",11),t.rc(131,"const"),t.Nb(),t.rc(132," app "),t.Ob(133,"span",14),t.rc(134,"="),t.Nb(),t.rc(135," "),t.Ob(136,"span",11),t.rc(137,"await"),t.Nb(),t.rc(138," "),t.Ob(139,"span",11),t.rc(140,"super"),t.Nb(),t.Ob(141,"span",12),t.rc(142,"."),t.Nb(),t.Ob(143,"span",3),t.rc(144,"createRaw"),t.Nb(),t.Ob(145,"span",12),t.rc(146,"("),t.Nb(),t.Ob(147,"span",12),t.rc(148,")"),t.Nb(),t.Ob(149,"span",12),t.rc(150,";"),t.Nb(),t.rc(151,"\n    "),t.Ob(152,"span",11),t.rc(153,"const"),t.Nb(),t.rc(154," limiter "),t.Ob(155,"span",14),t.rc(156,"="),t.Nb(),t.rc(157," "),t.Ob(158,"span",3),t.rc(159,"rateLimit"),t.Nb(),t.Ob(160,"span",12),t.rc(161,"("),t.Nb(),t.Ob(162,"span",12),t.rc(163),t.Nb(),t.rc(164,"\n      windowMs"),t.Ob(165,"span",14),t.rc(166,":"),t.Nb(),t.rc(167," "),t.Ob(168,"span",19),t.rc(169,"15"),t.Nb(),t.rc(170," "),t.Ob(171,"span",14),t.rc(172,"*"),t.Nb(),t.rc(173," "),t.Ob(174,"span",19),t.rc(175,"60"),t.Nb(),t.rc(176," "),t.Ob(177,"span",14),t.rc(178,"*"),t.Nb(),t.rc(179," "),t.Ob(180,"span",19),t.rc(181,"1000"),t.Nb(),t.Ob(182,"span",12),t.rc(183,","),t.Nb(),t.rc(184," "),t.Ob(185,"span",20),t.rc(186,"// 15 minutes"),t.Nb(),t.rc(187,"\n      max"),t.Ob(188,"span",14),t.rc(189,":"),t.Nb(),t.rc(190," "),t.Ob(191,"span",19),t.rc(192,"100"),t.Nb(),t.rc(193," "),t.Ob(194,"span",20),t.rc(195,"// limit each IP to 100 requests per windowMs"),t.Nb(),t.rc(196,"\n    "),t.Ob(197,"span",12),t.rc(198),t.Nb(),t.Ob(199,"span",12),t.rc(200,")"),t.Nb(),t.Ob(201,"span",12),t.rc(202,";"),t.Nb(),t.rc(203,"\n\n    "),t.Ob(204,"span",20),t.rc(205,"//  apply to all requests"),t.Nb(),t.rc(206,"\n    app"),t.Ob(207,"span",12),t.rc(208,"."),t.Nb(),t.Ob(209,"span",3),t.rc(210,"use"),t.Nb(),t.Ob(211,"span",12),t.rc(212,"("),t.Nb(),t.rc(213,"limiter"),t.Ob(214,"span",12),t.rc(215,")"),t.Nb(),t.Ob(216,"span",12),t.rc(217,";"),t.Nb(),t.rc(218,"\n\n    "),t.Ob(219,"span",11),t.rc(220,"return"),t.Nb(),t.rc(221," app"),t.Ob(222,"span",12),t.rc(223,";"),t.Nb(),t.rc(224,"\n  "),t.Ob(225,"span",12),t.rc(226),t.Nb(),t.rc(227,"\n"),t.Ob(228,"span",12),t.rc(229),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(230,"h2",21),t.rc(231,"Default Middleware"),t.Nb(),t.rc(232,"\nWhen working with an "),t.Ob(233,"a",4),t.rc(234,"fastify"),t.Nb(),t.rc(235," applications, the module provides what is assumed to be a sufficient set of basic filters. Specifically: "),t.Ob(236,"figure",8),t.Ob(237,"figcaption",8),t.rc(238,"Configured Middleware "),t.Ob(239,"cite"),t.Ob(240,"a",22),t.rc(241,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(242,"pre"),t.Ob(243,"code",10),t.Ob(244,"span",11),t.rc(245,"const"),t.Nb(),t.rc(246," app "),t.Ob(247,"span",14),t.rc(248,"="),t.Nb(),t.rc(249," "),t.Ob(250,"span",3),t.rc(251,"fastify"),t.Nb(),t.Ob(252,"span",12),t.rc(253,"("),t.Nb(),t.rc(254,"fastConf"),t.Ob(255,"span",12),t.rc(256,")"),t.Nb(),t.Ob(257,"span",12),t.rc(258,";"),t.Nb(),t.rc(259,"\napp"),t.Ob(260,"span",12),t.rc(261,"."),t.Nb(),t.Ob(262,"span",3),t.rc(263,"register"),t.Nb(),t.Ob(264,"span",12),t.rc(265,"("),t.Nb(),t.Ob(266,"span",11),t.rc(267,"require"),t.Nb(),t.Ob(268,"span",12),t.rc(269,"("),t.Nb(),t.Ob(270,"span",13),t.rc(271,"'fastify-compress'"),t.Nb(),t.Ob(272,"span",12),t.rc(273,")"),t.Nb(),t.Ob(274,"span",12),t.rc(275,")"),t.Nb(),t.Ob(276,"span",12),t.rc(277,";"),t.Nb(),t.rc(278,"\napp"),t.Ob(279,"span",12),t.rc(280,"."),t.Nb(),t.Ob(281,"span",3),t.rc(282,"register"),t.Nb(),t.Ob(283,"span",12),t.rc(284,"("),t.Nb(),t.Ob(285,"span",11),t.rc(286,"require"),t.Nb(),t.Ob(287,"span",12),t.rc(288,"("),t.Nb(),t.Ob(289,"span",13),t.rc(290,"'fastify-formbody'"),t.Nb(),t.Ob(291,"span",12),t.rc(292,")"),t.Nb(),t.Ob(293,"span",12),t.rc(294,")"),t.Nb(),t.Ob(295,"span",12),t.rc(296,";"),t.Nb(),t.rc(297,"\napp"),t.Ob(298,"span",12),t.rc(299,"."),t.Nb(),t.Ob(300,"span",3),t.rc(301,"addContentTypeParser"),t.Nb(),t.Ob(302,"span",12),t.rc(303,"("),t.Nb(),t.Ob(304,"span",13),t.rc(305,"'multipart/form-data;'"),t.Nb(),t.Ob(306,"span",12),t.rc(307,","),t.Nb(),t.rc(308," "),t.Ob(309,"span",12),t.rc(310,"("),t.Nb(),t.rc(311,"req"),t.Ob(312,"span",14),t.rc(313,":"),t.Nb(),t.rc(314," IncomingMessage"),t.Ob(315,"span",12),t.rc(316,","),t.Nb(),t.rc(317," "),t.Ob(318,"span",23),t.rc(319,"done"),t.Nb(),t.Ob(320,"span",14),t.rc(321,":"),t.Nb(),t.rc(322," "),t.Ob(323,"span",12),t.rc(324,"("),t.Nb(),t.Ob(325,"span",24),t.rc(326,"err"),t.Ob(327,"span",14),t.rc(328,":"),t.Nb(),t.rc(329," Error "),t.Ob(330,"span",14),t.rc(331,"|"),t.Nb(),t.rc(332," "),t.Ob(333,"span",11),t.rc(334,"null"),t.Nb(),t.Ob(335,"span",12),t.rc(336,","),t.Nb(),t.rc(337," body"),t.Ob(338,"span",14),t.rc(339,"?"),t.Nb(),t.Ob(340,"span",14),t.rc(341,":"),t.Nb(),t.rc(342," "),t.Ob(343,"span",15),t.rc(344,"any"),t.Nb(),t.Nb(),t.Ob(345,"span",12),t.rc(346,")"),t.Nb(),t.rc(347," "),t.Ob(348,"span",14),t.rc(349,"=>"),t.Nb(),t.rc(350," "),t.Ob(351,"span",11),t.rc(352,"void"),t.Nb(),t.Ob(353,"span",12),t.rc(354,")"),t.Nb(),t.rc(355," "),t.Ob(356,"span",14),t.rc(357,"=>"),t.Nb(),t.rc(358," "),t.Ob(359,"span",12),t.rc(360),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(40),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(29),t.sc("{"),t.zb(9),t.sc("}"),t.zb(17),t.sc("{"),t.zb(13),t.sc("{"),t.zb(35),t.sc("{"),t.zb(35),t.sc("}"),t.zb(28),t.sc("}"),t.zb(3),t.sc("}"),t.zb(131),t.sc("{"))},styles:[""]}),r}(),S=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-rest-aws-lambda"]],decls:190,vars:4,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://github.com/awslabs/aws-serverless-express/blob/master/README.md",1,"external-link"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["id","default-middleware"],["target","_blank","href","https://expressjs.com",1,"external-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest-aws-lambda/src/server.ts#L38"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","operator"],[1,"token","punctuation"],[1,"token","string"],[1,"token","boolean"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"AWS Lambda REST "),t.Ob(3,"small"),t.rc(4,"AWS lambda provider for the travetto rest module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/rest-aws-lambda "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/rest-aws-lambda"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The module is an "),t.Ob(17,"a",4),t.rc(18,"aws-serverless-express"),t.Nb(),t.rc(19," provider for the "),t.Ob(20,"a",5),t.rc(21,"RESTful API"),t.Nb(),t.rc(22," module. "),t.Ob(23,"h2",6),t.rc(24,"Default Middleware"),t.Nb(),t.rc(25,"\nWhen working with an "),t.Ob(26,"a",7),t.rc(27,"express"),t.Nb(),t.rc(28," applications, the module provides what is assumed to be a sufficient set of basic filters. Specifically: "),t.Ob(29,"figure",8),t.Ob(30,"figcaption",8),t.rc(31,"Configured Middleware "),t.Ob(32,"cite"),t.Ob(33,"a",9),t.rc(34,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(35,"pre"),t.Ob(36,"code",10),t.Ob(37,"span",11),t.rc(38,"const"),t.Nb(),t.rc(39," app "),t.Ob(40,"span",12),t.rc(41,"="),t.Nb(),t.rc(42," "),t.Ob(43,"span",3),t.rc(44,"express"),t.Nb(),t.Ob(45,"span",13),t.rc(46,"("),t.Nb(),t.Ob(47,"span",13),t.rc(48,")"),t.Nb(),t.Ob(49,"span",13),t.rc(50,";"),t.Nb(),t.rc(51,"\napp"),t.Ob(52,"span",13),t.rc(53,"."),t.Nb(),t.Ob(54,"span",11),t.rc(55,"set"),t.Nb(),t.Ob(56,"span",13),t.rc(57,"("),t.Nb(),t.Ob(58,"span",14),t.rc(59,"'query parser'"),t.Nb(),t.Ob(60,"span",13),t.rc(61,","),t.Nb(),t.rc(62," "),t.Ob(63,"span",14),t.rc(64,"'simple'"),t.Nb(),t.Ob(65,"span",13),t.rc(66,")"),t.Nb(),t.Ob(67,"span",13),t.rc(68,";"),t.Nb(),t.rc(69,"\napp"),t.Ob(70,"span",13),t.rc(71,"."),t.Nb(),t.Ob(72,"span",3),t.rc(73,"use"),t.Nb(),t.Ob(74,"span",13),t.rc(75,"("),t.Nb(),t.Ob(76,"span",3),t.rc(77,"compression"),t.Nb(),t.Ob(78,"span",13),t.rc(79,"("),t.Nb(),t.Ob(80,"span",13),t.rc(81,")"),t.Nb(),t.Ob(82,"span",13),t.rc(83,")"),t.Nb(),t.Ob(84,"span",13),t.rc(85,";"),t.Nb(),t.rc(86,"\napp"),t.Ob(87,"span",13),t.rc(88,"."),t.Nb(),t.Ob(89,"span",3),t.rc(90,"use"),t.Nb(),t.Ob(91,"span",13),t.rc(92,"("),t.Nb(),t.rc(93,"bodyParser"),t.Ob(94,"span",13),t.rc(95,"."),t.Nb(),t.Ob(96,"span",3),t.rc(97,"json"),t.Nb(),t.Ob(98,"span",13),t.rc(99,"("),t.Nb(),t.Ob(100,"span",13),t.rc(101,")"),t.Nb(),t.Ob(102,"span",13),t.rc(103,")"),t.Nb(),t.Ob(104,"span",13),t.rc(105,";"),t.Nb(),t.rc(106,"\napp"),t.Ob(107,"span",13),t.rc(108,"."),t.Nb(),t.Ob(109,"span",3),t.rc(110,"use"),t.Nb(),t.Ob(111,"span",13),t.rc(112,"("),t.Nb(),t.rc(113,"bodyParser"),t.Ob(114,"span",13),t.rc(115,"."),t.Nb(),t.Ob(116,"span",3),t.rc(117,"urlencoded"),t.Nb(),t.Ob(118,"span",13),t.rc(119,"("),t.Nb(),t.Ob(120,"span",13),t.rc(121),t.Nb(),t.rc(122," extended"),t.Ob(123,"span",12),t.rc(124,":"),t.Nb(),t.rc(125," "),t.Ob(126,"span",15),t.rc(127,"false"),t.Nb(),t.rc(128," "),t.Ob(129,"span",13),t.rc(130),t.Nb(),t.Ob(131,"span",13),t.rc(132,")"),t.Nb(),t.Ob(133,"span",13),t.rc(134,")"),t.Nb(),t.Ob(135,"span",13),t.rc(136,";"),t.Nb(),t.rc(137,"\napp"),t.Ob(138,"span",13),t.rc(139,"."),t.Nb(),t.Ob(140,"span",3),t.rc(141,"use"),t.Nb(),t.Ob(142,"span",13),t.rc(143,"("),t.Nb(),t.rc(144,"bodyParser"),t.Ob(145,"span",13),t.rc(146,"."),t.Nb(),t.Ob(147,"span",3),t.rc(148,"raw"),t.Nb(),t.Ob(149,"span",13),t.rc(150,"("),t.Nb(),t.Ob(151,"span",13),t.rc(152),t.Nb(),t.rc(153," "),t.Ob(154,"span",11),t.rc(155,"type"),t.Nb(),t.Ob(156,"span",12),t.rc(157,":"),t.Nb(),t.rc(158," "),t.Ob(159,"span",14),t.rc(160,"'image/*'"),t.Nb(),t.rc(161," "),t.Ob(162,"span",13),t.rc(163),t.Nb(),t.Ob(164,"span",13),t.rc(165,")"),t.Nb(),t.Ob(166,"span",13),t.rc(167,")"),t.Nb(),t.Ob(168,"span",13),t.rc(169,";"),t.Nb(),t.rc(170,"\napp"),t.Ob(171,"span",13),t.rc(172,"."),t.Nb(),t.Ob(173,"span",3),t.rc(174,"use"),t.Nb(),t.Ob(175,"span",13),t.rc(176,"("),t.Nb(),t.rc(177,"awsServerlessExpressMiddleware"),t.Ob(178,"span",13),t.rc(179,"."),t.Nb(),t.Ob(180,"span",3),t.rc(181,"eventContext"),t.Nb(),t.Ob(182,"span",13),t.rc(183,"("),t.Nb(),t.Ob(184,"span",13),t.rc(185,")"),t.Nb(),t.Ob(186,"span",13),t.rc(187,")"),t.Nb(),t.Ob(188,"span",13),t.rc(189,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(121),t.sc("{"),t.zb(9),t.sc("}"),t.zb(22),t.sc("{"),t.zb(11),t.sc("}"))},styles:[""]}),r}(),z=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-boot"]],decls:696,vars:8,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://travetto.dev",1,"external-link"],["id","environmental-information"],[1,"item","method"],[1,"item","input"],["id","file-cache"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/boot/src-ts/app-cache.ts",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/boot/src-ts/cache.ts#L11",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/boot/src/cache.d.ts"],[1,"language-typescript"],[1,"token","comment"],[1,"token","keyword"],[1,"token","operator"],[1,"token","string"],[1,"token","punctuation"],[1,"token","class-name"],[1,"token","builtin"],[1,"token","boolean"],[1,"token","function-variable","function"],["id","registration"],["id","file-system-interaction"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/boot/src-ts/fs.ts#L12",1,"source-link"],["id","file-system-scanning"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/boot/src-ts/scan.ts#L56",1,"source-link"],["id","process-execution"],["target","_blank","href","https://nodejs.org/api/child_process.html",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/boot/src-ts/exec.ts#L72",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/boot/alt/docs/src/exec.ts"],["id","stream-support"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/boot/src-ts/stream.ts#L9",1,"source-link"],["id","cli-clean"],[1,"terminal"],[1,"token","builtin","class-name"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Boot "),t.Ob(3,"small"),t.rc(4,"Bootstrapping and common utilities for travetto applications."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/boot "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/boot"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," Boot is basic environment awareness coupled with typescript bootstrapping for "),t.Ob(17,"a",4),t.rc(18,"Travetto"),t.Nb(),t.rc(19," apps and libraries. It has support for the following key areas:\n"),t.Ob(20,"ul"),t.Ob(21,"li"),t.rc(22,"Environmental Information"),t.Nb(),t.Ob(23,"li"),t.rc(24,"Cache Support"),t.Nb(),t.Ob(25,"li"),t.rc(26,"File Operations"),t.Nb(),t.Ob(27,"li"),t.rc(28,"Typescript bootstrapping"),t.Nb(),t.Ob(29,"li"),t.rc(30,"Process execution"),t.Nb(),t.Ob(31,"li"),t.rc(32,"Stream Support"),t.Nb(),t.Nb(),t.Ob(33,"h2",5),t.rc(34,"Environmental Information"),t.Nb(),t.rc(35,"\nThe functionality we support for testing and retrieving environment information:\n"),t.Ob(36,"ul"),t.Ob(37,"li"),t.Ob(38,"code",6),t.rc(39,"isTrue(key: string): boolean;"),t.Nb(),t.rc(40," - Test whether or not an environment flag is set and is true"),t.Nb(),t.Ob(41,"li"),t.Ob(42,"code",6),t.rc(43,"isFalse(key: string): boolean;"),t.Nb(),t.rc(44," - Test whether or not an environment flag is set and is false"),t.Nb(),t.Ob(45,"li"),t.Ob(46,"code",6),t.rc(47,"isSet(key:string): boolean;"),t.Nb(),t.rc(48," - Test whether or not an environment value is set (excludes: "),t.Ob(49,"code",7),t.rc(50,"null"),t.Nb(),t.rc(51,", "),t.Ob(52,"code",7),t.rc(53,"''"),t.Nb(),t.rc(54,", and "),t.Ob(55,"code",7),t.rc(56,"undefined"),t.Nb(),t.rc(57,")"),t.Nb(),t.Ob(58,"li"),t.Ob(59,"code",6),t.rc(60,"get(key: string, def?: string): string;"),t.Nb(),t.rc(61," - Retrieve an environmental value with a potential default"),t.Nb(),t.Ob(62,"li"),t.Ob(63,"code",6),t.rc(64,"getInt(key: string, def?: number): number;"),t.Nb(),t.rc(65," - Retrieve an environmental value as a number"),t.Nb(),t.Ob(66,"li"),t.Ob(67,"code",6),t.rc(68,"getList(key: string): string[];"),t.Nb(),t.rc(69," - Retrieve an environmental value as a list"),t.Nb(),t.Ob(70,"li"),t.Ob(71,"code",6),t.rc(72,"getTime(key: string, def: number):number"),t.Nb(),t.rc(73," - Reads an environment variable as milliseconds, with support for "),t.Ob(74,"code",7),t.rc(75,"s"),t.Nb(),t.rc(76,", "),t.Ob(77,"code",7),t.rc(78,"m"),t.Nb(),t.rc(79,", and "),t.Ob(80,"code",7),t.rc(81,"h"),t.Nb(),t.rc(82," suffixes to provide succinct time units."),t.Nb(),t.Nb(),t.Ob(83,"h2",8),t.rc(84,"File Cache"),t.Nb(),t.rc(85,"\nThe framework uses a file cache to support it's compilation activities for performance. This cache is also leveraged by other modules to support storing of complex calculations. "),t.Ob(86,"a",9),t.rc(87,"AppCache"),t.Nb(),t.rc(88," is the cache that is used specific to the framework, and is an instance of "),t.Ob(89,"a",10),t.rc(90,"FileCache"),t.Nb(),t.rc(91,". "),t.Ob(92,"a",10),t.rc(93,"FileCache"),t.Nb(),t.rc(94," is the generic structure for supporting a file cache that invalidates on modification/creation changes. The class organization looks like: "),t.Ob(95,"figure",11),t.Ob(96,"figcaption",11),t.rc(97,"File Cache Structure "),t.Ob(98,"cite"),t.Ob(99,"a",12),t.rc(100,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(101,"pre"),t.Ob(102,"code",13),t.Ob(103,"span",14),t.rc(104,'/// <reference types="node" />'),t.Nb(),t.rc(105,"\n"),t.Ob(106,"span",15),t.rc(107,"import"),t.Nb(),t.rc(108," "),t.Ob(109,"span",16),t.rc(110,"*"),t.Nb(),t.rc(111," "),t.Ob(112,"span",15),t.rc(113,"as"),t.Nb(),t.rc(114," fs "),t.Ob(115,"span",15),t.rc(116,"from"),t.Nb(),t.rc(117," "),t.Ob(118,"span",17),t.rc(119,"'fs'"),t.Nb(),t.Ob(120,"span",18),t.rc(121,";"),t.Nb(),t.rc(122,"\n"),t.Ob(123,"span",14),t.rc(124,"/**\n * Standard file cache, with output file name normalization and truncation\n */"),t.Nb(),t.rc(125,"\n"),t.Ob(126,"span",15),t.rc(127,"export"),t.Nb(),t.rc(128," "),t.Ob(129,"span",15),t.rc(130,"declare"),t.Nb(),t.rc(131," "),t.Ob(132,"span",15),t.rc(133,"class"),t.Nb(),t.rc(134," "),t.Ob(135,"span",19),t.rc(136,"FileCache"),t.Nb(),t.rc(137," "),t.Ob(138,"span",18),t.rc(139),t.Nb(),t.rc(140,"\n    "),t.Ob(141,"span",15),t.rc(142,"private"),t.Nb(),t.rc(143," cache"),t.Ob(144,"span",18),t.rc(145,";"),t.Nb(),t.rc(146,"\n    "),t.Ob(147,"span",15),t.rc(148,"readonly"),t.Nb(),t.rc(149," cacheDir"),t.Ob(150,"span",16),t.rc(151,":"),t.Nb(),t.rc(152," "),t.Ob(153,"span",20),t.rc(154,"string"),t.Nb(),t.Ob(155,"span",18),t.rc(156,";"),t.Nb(),t.rc(157,"\n    "),t.Ob(158,"span",14),t.rc(159,"/**\n     * Directory to cache into\n     */"),t.Nb(),t.rc(160,"\n    "),t.Ob(161,"span",15),t.rc(162,"constructor"),t.Nb(),t.Ob(163,"span",18),t.rc(164,"("),t.Nb(),t.rc(165,"cacheDir"),t.Ob(166,"span",16),t.rc(167,":"),t.Nb(),t.rc(168," "),t.Ob(169,"span",20),t.rc(170,"string"),t.Nb(),t.Ob(171,"span",18),t.rc(172,")"),t.Nb(),t.Ob(173,"span",18),t.rc(174,";"),t.Nb(),t.rc(175,"\n    "),t.Ob(176,"span",3),t.rc(177,"init"),t.Nb(),t.Ob(178,"span",18),t.rc(179,"("),t.Nb(),t.Ob(180,"span",18),t.rc(181,")"),t.Nb(),t.Ob(182,"span",16),t.rc(183,":"),t.Nb(),t.rc(184," "),t.Ob(185,"span",15),t.rc(186,"void"),t.Nb(),t.Ob(187,"span",18),t.rc(188,";"),t.Nb(),t.rc(189,"\n    "),t.Ob(190,"span",14),t.rc(191,"/**\n     * Write contents to disk\n     * @param local Local location\n     * @param contents Contents to write\n     */"),t.Nb(),t.rc(192,"\n    "),t.Ob(193,"span",3),t.rc(194,"writeEntry"),t.Nb(),t.Ob(195,"span",18),t.rc(196,"("),t.Nb(),t.rc(197,"local"),t.Ob(198,"span",16),t.rc(199,":"),t.Nb(),t.rc(200," "),t.Ob(201,"span",20),t.rc(202,"string"),t.Nb(),t.Ob(203,"span",18),t.rc(204,","),t.Nb(),t.rc(205," contents"),t.Ob(206,"span",16),t.rc(207,":"),t.Nb(),t.rc(208," "),t.Ob(209,"span",20),t.rc(210,"string"),t.Nb(),t.rc(211," "),t.Ob(212,"span",16),t.rc(213,"|"),t.Nb(),t.rc(214," Buffer"),t.Ob(215,"span",18),t.rc(216,")"),t.Nb(),t.Ob(217,"span",16),t.rc(218,":"),t.Nb(),t.rc(219," "),t.Ob(220,"span",15),t.rc(221,"void"),t.Nb(),t.Ob(222,"span",18),t.rc(223,";"),t.Nb(),t.rc(224,"\n    "),t.Ob(225,"span",14),t.rc(226,"/**\n     * Read entry from disk\n     * @param local Read the entry given the local name\n     */"),t.Nb(),t.rc(227,"\n    "),t.Ob(228,"span",3),t.rc(229,"readEntry"),t.Nb(),t.Ob(230,"span",18),t.rc(231,"("),t.Nb(),t.rc(232,"local"),t.Ob(233,"span",16),t.rc(234,":"),t.Nb(),t.rc(235," "),t.Ob(236,"span",20),t.rc(237,"string"),t.Nb(),t.Ob(238,"span",18),t.rc(239,")"),t.Nb(),t.Ob(240,"span",16),t.rc(241,":"),t.Nb(),t.rc(242," "),t.Ob(243,"span",20),t.rc(244,"string"),t.Nb(),t.Ob(245,"span",18),t.rc(246,";"),t.Nb(),t.rc(247,"\n    "),t.Ob(248,"span",14),t.rc(249,"/**\n     * Delete expired entries\n     * @param full The local location\n     * @param force Should deletion be force\n     */"),t.Nb(),t.rc(250,"\n    "),t.Ob(251,"span",3),t.rc(252,"removeExpiredEntry"),t.Nb(),t.Ob(253,"span",18),t.rc(254,"("),t.Nb(),t.rc(255,"local"),t.Ob(256,"span",16),t.rc(257,":"),t.Nb(),t.rc(258," "),t.Ob(259,"span",20),t.rc(260,"string"),t.Nb(),t.Ob(261,"span",18),t.rc(262,","),t.Nb(),t.rc(263," force"),t.Ob(264,"span",16),t.rc(265,"?"),t.Nb(),t.Ob(266,"span",16),t.rc(267,":"),t.Nb(),t.rc(268," "),t.Ob(269,"span",20),t.rc(270,"boolean"),t.Nb(),t.Ob(271,"span",18),t.rc(272,")"),t.Nb(),t.Ob(273,"span",16),t.rc(274,":"),t.Nb(),t.rc(275," "),t.Ob(276,"span",15),t.rc(277,"void"),t.Nb(),t.Ob(278,"span",18),t.rc(279,";"),t.Nb(),t.rc(280,"\n    "),t.Ob(281,"span",14),t.rc(282,"/**\n     * Delete entry\n     * @param local The location to delete\n     */"),t.Nb(),t.rc(283,"\n    "),t.Ob(284,"span",3),t.rc(285,"removeEntry"),t.Nb(),t.Ob(286,"span",18),t.rc(287,"("),t.Nb(),t.rc(288,"local"),t.Ob(289,"span",16),t.rc(290,":"),t.Nb(),t.rc(291," "),t.Ob(292,"span",20),t.rc(293,"string"),t.Nb(),t.Ob(294,"span",18),t.rc(295,")"),t.Nb(),t.Ob(296,"span",16),t.rc(297,":"),t.Nb(),t.rc(298," "),t.Ob(299,"span",15),t.rc(300,"void"),t.Nb(),t.Ob(301,"span",18),t.rc(302,";"),t.Nb(),t.rc(303,"\n    "),t.Ob(304,"span",14),t.rc(305,"/**\n     * Checks to see if a file has been loaded or if it's available on disk\n     * @param local The location to verify\n     */"),t.Nb(),t.rc(306,"\n    "),t.Ob(307,"span",3),t.rc(308,"hasEntry"),t.Nb(),t.Ob(309,"span",18),t.rc(310,"("),t.Nb(),t.rc(311,"local"),t.Ob(312,"span",16),t.rc(313,":"),t.Nb(),t.rc(314," "),t.Ob(315,"span",20),t.rc(316,"string"),t.Nb(),t.Ob(317,"span",18),t.rc(318,")"),t.Nb(),t.Ob(319,"span",16),t.rc(320,":"),t.Nb(),t.rc(321," "),t.Ob(322,"span",21),t.rc(323,"true"),t.Nb(),t.rc(324," "),t.Ob(325,"span",16),t.rc(326,"|"),t.Nb(),t.rc(327," fs"),t.Ob(328,"span",18),t.rc(329,"."),t.Nb(),t.rc(330,"Stats "),t.Ob(331,"span",16),t.rc(332,"|"),t.Nb(),t.rc(333," "),t.Ob(334,"span",15),t.rc(335,"undefined"),t.Nb(),t.Ob(336,"span",18),t.rc(337,";"),t.Nb(),t.rc(338,"\n    "),t.Ob(339,"span",14),t.rc(340,"/**\n     * Retrieve fs.Stats of the associated path\n     * @param local The location to stat\n     */"),t.Nb(),t.rc(341,"\n    "),t.Ob(342,"span",3),t.rc(343,"statEntry"),t.Nb(),t.Ob(344,"span",18),t.rc(345,"("),t.Nb(),t.rc(346,"local"),t.Ob(347,"span",16),t.rc(348,":"),t.Nb(),t.rc(349," "),t.Ob(350,"span",20),t.rc(351,"string"),t.Nb(),t.Ob(352,"span",18),t.rc(353,")"),t.Nb(),t.Ob(354,"span",16),t.rc(355,":"),t.Nb(),t.rc(356," fs"),t.Ob(357,"span",18),t.rc(358,"."),t.Nb(),t.rc(359,"Stats"),t.Ob(360,"span",18),t.rc(361,";"),t.Nb(),t.rc(362,"\n    "),t.Ob(363,"span",14),t.rc(364,"/**\n     * Clear cache\n     * @param quiet Should the clear produce output\n     */"),t.Nb(),t.rc(365,"\n    "),t.Ob(366,"span",3),t.rc(367,"clear"),t.Nb(),t.Ob(368,"span",18),t.rc(369,"("),t.Nb(),t.rc(370,"quiet"),t.Ob(371,"span",16),t.rc(372,"?"),t.Nb(),t.Ob(373,"span",16),t.rc(374,":"),t.Nb(),t.rc(375," "),t.Ob(376,"span",20),t.rc(377,"boolean"),t.Nb(),t.Ob(378,"span",18),t.rc(379,")"),t.Nb(),t.Ob(380,"span",16),t.rc(381,":"),t.Nb(),t.rc(382," "),t.Ob(383,"span",15),t.rc(384,"void"),t.Nb(),t.Ob(385,"span",18),t.rc(386,";"),t.Nb(),t.rc(387,"\n    "),t.Ob(388,"span",14),t.rc(389,"/**\n     * Map entry file name to the original source\n     * @param entry The entry path\n     */"),t.Nb(),t.rc(390,"\n    "),t.Ob(391,"span",3),t.rc(392,"fromEntryName"),t.Nb(),t.Ob(393,"span",18),t.rc(394,"("),t.Nb(),t.rc(395,"entry"),t.Ob(396,"span",16),t.rc(397,":"),t.Nb(),t.rc(398," "),t.Ob(399,"span",20),t.rc(400,"string"),t.Nb(),t.Ob(401,"span",18),t.rc(402,")"),t.Nb(),t.Ob(403,"span",16),t.rc(404,":"),t.Nb(),t.rc(405," "),t.Ob(406,"span",20),t.rc(407,"string"),t.Nb(),t.Ob(408,"span",18),t.rc(409,";"),t.Nb(),t.rc(410,"\n    "),t.Ob(411,"span",14),t.rc(412,"/**\n     * Map the original file name to the cache file space\n     * @param local Local path\n     */"),t.Nb(),t.rc(413,"\n    "),t.Ob(414,"span",3),t.rc(415,"toEntryName"),t.Nb(),t.Ob(416,"span",18),t.rc(417,"("),t.Nb(),t.rc(418,"local"),t.Ob(419,"span",16),t.rc(420,":"),t.Nb(),t.rc(421," "),t.Ob(422,"span",20),t.rc(423,"string"),t.Nb(),t.Ob(424,"span",18),t.rc(425,")"),t.Nb(),t.Ob(426,"span",16),t.rc(427,":"),t.Nb(),t.rc(428," "),t.Ob(429,"span",20),t.rc(430,"string"),t.Nb(),t.Ob(431,"span",18),t.rc(432,";"),t.Nb(),t.rc(433,"\n    "),t.Ob(434,"span",14),t.rc(435,"/**\n     * Get or set a value (from the create function) if not in the cache\n     * @param local The local location\n     * @param create The method to execute if the entry is not found\n     * @param force Should create be executed always\n     */"),t.Nb(),t.rc(436,"\n    "),t.Ob(437,"span",3),t.rc(438,"getOrSet"),t.Nb(),t.Ob(439,"span",18),t.rc(440,"("),t.Nb(),t.rc(441,"local"),t.Ob(442,"span",16),t.rc(443,":"),t.Nb(),t.rc(444," "),t.Ob(445,"span",20),t.rc(446,"string"),t.Nb(),t.Ob(447,"span",18),t.rc(448,","),t.Nb(),t.rc(449," "),t.Ob(450,"span",22),t.rc(451,"create"),t.Nb(),t.Ob(452,"span",16),t.rc(453,":"),t.Nb(),t.rc(454," "),t.Ob(455,"span",18),t.rc(456,"("),t.Nb(),t.Ob(457,"span",18),t.rc(458,")"),t.Nb(),t.rc(459," "),t.Ob(460,"span",16),t.rc(461,"=>"),t.Nb(),t.rc(462," "),t.Ob(463,"span",20),t.rc(464,"string"),t.Nb(),t.Ob(465,"span",18),t.rc(466,","),t.Nb(),t.rc(467," force"),t.Ob(468,"span",16),t.rc(469,"?"),t.Nb(),t.Ob(470,"span",16),t.rc(471,":"),t.Nb(),t.rc(472," "),t.Ob(473,"span",20),t.rc(474,"boolean"),t.Nb(),t.Ob(475,"span",18),t.rc(476,")"),t.Nb(),t.Ob(477,"span",16),t.rc(478,":"),t.Nb(),t.rc(479," "),t.Ob(480,"span",20),t.rc(481,"string"),t.Nb(),t.Ob(482,"span",18),t.rc(483,";"),t.Nb(),t.rc(484,"\n"),t.Ob(485,"span",18),t.rc(486),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(487," Everything is based on absolute paths being passed in, and translated into cache specific files. "),t.Ob(488,"h2",23),t.rc(489,"Registration"),t.Nb(),t.rc(490,"\nThis functionality allows the program to opt in the typescript compiler. This allows for run-time compilation of typescript files. "),t.Ob(491,"h2",24),t.rc(492,"File System Interaction"),t.Nb(),t.Ob(493,"a",25),t.rc(494,"FsUtil"),t.Nb(),t.rc(495," provides some high level functionality (like recursive directory delete). "),t.Ob(496,"h2",26),t.rc(497,"File System Scanning"),t.Nb(),t.Ob(498,"a",27),t.rc(499,"ScanFs"),t.Nb(),t.rc(500," provides a breadth-first search through the file system with the ability to track and collect files via patterns. "),t.Ob(501,"h2",28),t.rc(502,"Process Execution"),t.Nb(),t.rc(503,"\nJust like "),t.Ob(504,"a",29),t.rc(505,"child_process"),t.Nb(),t.rc(506,", the "),t.Ob(507,"a",30),t.rc(508,"ExecUtil"),t.Nb(),t.rc(509," exposes "),t.Ob(510,"code",6),t.rc(511,"spawn"),t.Nb(),t.rc(512," and "),t.Ob(513,"code",6),t.rc(514,"fork"),t.Nb(),t.rc(515,". These are generally wrappers around the underlying functionality. In addition to the base functionality, each of those functions is converted to a "),t.Ob(516,"code",7),t.rc(517,"Promise"),t.Nb(),t.rc(518," structure, that throws an error on an non-zero return status. A simple example would be: "),t.Ob(519,"figure",11),t.Ob(520,"figcaption",11),t.rc(521,"Running a directory listing via ls "),t.Ob(522,"cite"),t.Ob(523,"a",31),t.rc(524,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(525,"pre"),t.Ob(526,"code",13),t.Ob(527,"span",15),t.rc(528,"import"),t.Nb(),t.rc(529," "),t.Ob(530,"span",18),t.rc(531),t.Nb(),t.rc(532," ExecUtil "),t.Ob(533,"span",18),t.rc(534),t.Nb(),t.rc(535," "),t.Ob(536,"span",15),t.rc(537,"from"),t.Nb(),t.rc(538," "),t.Ob(539,"span",17),t.rc(540,"'@travetto/boot/src'"),t.Nb(),t.Ob(541,"span",18),t.rc(542,";"),t.Nb(),t.rc(543,"\n\n"),t.Ob(544,"span",15),t.rc(545,"export"),t.Nb(),t.rc(546," "),t.Ob(547,"span",15),t.rc(548,"async"),t.Nb(),t.rc(549," "),t.Ob(550,"span",15),t.rc(551,"function"),t.Nb(),t.rc(552," "),t.Ob(553,"span",3),t.rc(554,"executeListing"),t.Nb(),t.Ob(555,"span",18),t.rc(556,"("),t.Nb(),t.Ob(557,"span",18),t.rc(558,")"),t.Nb(),t.rc(559," "),t.Ob(560,"span",18),t.rc(561),t.Nb(),t.rc(562,"\n  "),t.Ob(563,"span",15),t.rc(564,"const"),t.Nb(),t.rc(565," "),t.Ob(566,"span",18),t.rc(567),t.Nb(),t.rc(568," result "),t.Ob(569,"span",18),t.rc(570),t.Nb(),t.rc(571," "),t.Ob(572,"span",16),t.rc(573,"="),t.Nb();t.rc(574," ExecUtil"),t.Ob(575,"span",18),t.rc(576,"."),t.Nb(),t.Ob(577,"span",3),t.rc(578,"spawn"),t.Nb(),t.Ob(579,"span",18),t.rc(580,"("),t.Nb(),t.Ob(581,"span",17),t.rc(582,"'ls'"),t.Nb(),t.Ob(583,"span",18),t.rc(584,")"),t.Nb(),t.Ob(585,"span",18),t.rc(586,";"),t.Nb(),t.rc(587,"\n  "),t.Ob(588,"span",15),t.rc(589,"const"),t.Nb(),t.rc(590," final "),t.Ob(591,"span",16),t.rc(592,"="),t.Nb(),t.rc(593," "),t.Ob(594,"span",15),t.rc(595,"await"),t.Nb(),t.rc(596," result"),t.Ob(597,"span",18),t.rc(598,";"),t.Nb(),t.rc(599,"\n  "),t.Ob(600,"span",20),t.rc(601,"console"),t.Nb(),t.Ob(602,"span",18),t.rc(603,"."),t.Nb(),t.Ob(604,"span",3),t.rc(605,"log"),t.Nb(),t.Ob(606,"span",18),t.rc(607,"("),t.Nb(),t.rc(608,"final"),t.Ob(609,"span",18),t.rc(610,"."),t.Nb(),t.rc(611,"stdout"),t.Ob(612,"span",18),t.rc(613,"."),t.Nb(),t.Ob(614,"span",3),t.rc(615,"split"),t.Nb(),t.Ob(616,"span",18),t.rc(617,"("),t.Nb(),t.Ob(618,"span",17),t.rc(619,"'\\n'"),t.Nb(),t.Ob(620,"span",18),t.rc(621,")"),t.Nb(),t.Ob(622,"span",18),t.rc(623,")"),t.Nb(),t.Ob(624,"span",18),t.rc(625,";"),t.Nb(),t.rc(626,"\n"),t.Ob(627,"span",18),t.rc(628),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(629," As you can see, the call returns not only the child process information, but the "),t.Ob(630,"code",7),t.rc(631,"Promise"),t.Nb(),t.rc(632," to wait for. Additionally, some common patterns are provided for the default construction of the child process. In addition to the standard options for running child processes, the module also supports: "),t.Ob(633,"ul"),t.Ob(634,"li"),t.Ob(635,"code",7),t.rc(636,"timeout"),t.Nb(),t.rc(637," as the number of milliseconds the process can run before terminating and throwing an error"),t.Nb(),t.Ob(638,"li"),t.Ob(639,"code",7),t.rc(640,"quiet"),t.Nb(),t.rc(641," which suppresses all stdout/stderr output"),t.Nb(),t.Ob(642,"li"),t.Ob(643,"code",7),t.rc(644,"stdin"),t.Nb(),t.rc(645," as a string, buffer or stream to provide input to the program you are running;"),t.Nb(),t.Ob(646,"li"),t.Ob(647,"code",7),t.rc(648,"timeoutKill"),t.Nb(),t.rc(649," allows for registering functionality to execute when a process is force killed by timeout"),t.Nb(),t.Nb(),t.Ob(650,"h2",32),t.rc(651,"Stream Support"),t.Nb(),t.rc(652,"\nThe "),t.Ob(653,"a",33),t.rc(654,"StreamUtil"),t.Nb(),t.rc(655," class provides basic stream utilities for use within the framework: "),t.Ob(656,"ul"),t.Ob(657,"li"),t.Ob(658,"code",6),t.rc(659,"toBuffer(src: Readable | Buffer | string): Promise<Buffer>"),t.Nb(),t.rc(660," for converting a stream/buffer/filepath to a Buffer."),t.Nb(),t.Ob(661,"li"),t.Ob(662,"code",6),t.rc(663,"toReadable(src: Readable | Buffer | string):Promise<Readable>"),t.Nb(),t.rc(664," for converting a stream/buffer/filepath to a Readable"),t.Nb(),t.Ob(665,"li"),t.Ob(666,"code",6),t.rc(667,"writeToFile(src: Readable, out: string):Promise<void>"),t.Nb(),t.rc(668," will stream a readable into a file path, and wait for completion."),t.Nb(),t.Ob(669,"li"),t.Ob(670,"code",6),t.rc(671,"waitForCompletion(src: Readable, finish:()=>Promise<any>)"),t.Nb(),t.rc(672," will ensure the stream remains open until the promise finish produces is satisfied."),t.Nb(),t.Nb(),t.Ob(673,"h2",34),t.rc(674,"CLI - clean"),t.Nb(),t.rc(675," The module provides the ability to clear the compilation cache to handle any inconsistencies that may arise. "),t.Ob(676,"figure",35),t.Ob(677,"figcaption",35),t.rc(678,"Clean operation "),t.Nb(),t.Ob(679,"pre"),t.Ob(680,"code",2),t.rc(681,"$ travetto travetto clean --help\n\nUsage:  clean "),t.Ob(682,"span",18),t.rc(683,"["),t.Nb(),t.rc(684,"options"),t.Ob(685,"span",18),t.rc(686,"]"),t.Nb(),t.rc(687,"\n\nOptions:\n  -q, --quiet  Quiet operation\n  -h, --help   display "),t.Ob(688,"span",36),t.rc(689,"help"),t.Nb(),t.rc(690," "),t.Ob(691,"span",15),t.rc(692,"for"),t.Nb(),t.rc(693," "),t.Ob(694,"span",36),t.rc(695,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(139),t.sc("{"),t.zb(347),t.sc("}"),t.zb(45),t.sc("{"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(6),t.sc("{"),t.zb(3),t.sc("}"),t.zb(58),t.sc("}"))},styles:[""]}),r}(),C=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-base"]],decls:1176,vars:42,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://travetto.dev",1,"external-link"],["id","environmental-information"],[1,"item","field"],[1,"item","input"],[1,"item","method"],["id","app-information"],[1,"item","path"],["id","file-operations"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/alt/docs/src/find.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","operator"],[1,"token","string"],[1,"token","punctuation"],[1,"token","parameter"],[1,"token","builtin"],[1,"token","class-name"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],[1,"token","comment"],["id","application-resources"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/src/resource.ts",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/alt/docs/src/image.ts"],[1,"token","regex"],["id","lifecycle-support"],["href","/docs/config","title","Environment-aware config management using yaml files",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/support/phase.init.ts"],[1,"token","function-variable","function"],["id","common-application-error-class"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/src/error.ts#L10",1,"source-link"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["id","shutdown"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/alt/docs/src/shutdown.ts"],["id","stacktrace"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/alt/docs/src/stack-test.ts"],[1,"terminal"],[1,"token","builtin","class-name"],["id","util"],["target","_blank","href","https://lodash.com",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/src/util.ts#L8",1,"source-link"],["id","systemutil"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/src/internal/system.ts#L7",1,"source-link"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Base "),t.Ob(3,"small"),t.rc(4,"Application phase management, environment config and common utilities for travetto applications."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/base "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/base"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," Base is the foundation of all "),t.Ob(17,"a",4),t.rc(18,"Travetto"),t.Nb(),t.rc(19," applications. It is intended to be a minimal application set, as well as support for commonly shared functionality. It has support for the following key areas: "),t.Ob(20,"ul"),t.Ob(21,"li"),t.rc(22,"Environmental Information"),t.Nb(),t.Ob(23,"li"),t.rc(24,"File Operations"),t.Nb(),t.Ob(25,"li"),t.rc(26,"Resource Management"),t.Nb(),t.Ob(27,"li"),t.rc(28,"Life-cycle Support"),t.Nb(),t.Ob(29,"li"),t.rc(30,"Stacktrace Management "),t.Nb(),t.Ob(31,"li"),t.rc(32,"General Utilities"),t.Nb(),t.Nb(),t.Ob(33,"h2",5),t.rc(34,"Environmental Information"),t.Nb(),t.rc(35,"\nThe framework provides basic environment information, e.g. in prod/test/dev. This is useful for runtime decisions. This is primarily used by the framework, but can prove useful to application developers as well. The information that is available is: "),t.Ob(36,"ul"),t.Ob(37,"li"),t.Ob(38,"code",6),t.rc(39,"prod"),t.Nb(),t.rc(40,"- Determines if app is in prod mode. A "),t.Ob(41,"code",7),t.rc(42,"boolean"),t.Nb(),t.rc(43," flag that should indicate a production run."),t.Nb(),t.Ob(44,"li"),t.Ob(45,"code",6),t.rc(46,"env"),t.Nb(),t.rc(47," - The environment name. Will usually be one of "),t.Ob(48,"code",7),t.rc(49,"dev"),t.Nb(),t.rc(50,", "),t.Ob(51,"code",7),t.rc(52,"test"),t.Nb(),t.rc(53,", or "),t.Ob(54,"code",7),t.rc(55,"prod"),t.Nb(),t.rc(56,". Can be anything that is passed in."),t.Nb(),t.Ob(57,"li"),t.Ob(58,"code",6),t.rc(59,"profiles: Set<string>"),t.Nb(),t.rc(60," - Specific application profiles that have been activated. This is useful for indicating different configuration or run states."),t.Nb(),t.Ob(61,"li"),t.Ob(62,"code",6),t.rc(63,"debug"),t.Nb(),t.rc(64," - Simple logging flag. This "),t.Ob(65,"code",7),t.rc(66,"boolean"),t.Nb(),t.rc(67," flag will enable or disable logging at various levels. By default "),t.Ob(68,"code",7),t.rc(69,"debug"),t.Nb(),t.rc(70," is on in non-"),t.Ob(71,"code",7),t.rc(72,"prod"),t.Nb(),t.rc(73,"."),t.Nb(),t.Ob(74,"li"),t.Ob(75,"code",6),t.rc(76,"appRoots: string[]"),t.Nb(),t.rc(77," - The file root paths for the application, the default set is the current project. Order matters with respect to resource resolution. All paths should be relative to the project base"),t.Nb(),t.Ob(78,"li"),t.Ob(79,"code",8),t.rc(80,"hasProfile(p: string): boolean;"),t.Nb(),t.rc(81," - Test whether or not a profile is active."),t.Nb(),t.Nb(),t.rc(82," With respect to "),t.Ob(83,"code",6),t.rc(84,"process.env"),t.Nb(),t.rc(85,", we specifically test for all uppercase, lowercase, and given case. This allows us to test various patterns and catch flags that might be off due to casing. That would mean that a key of "),t.Ob(86,"code",7),t.rc(87,"Enable_Feature"),t.Nb(),t.rc(88," would be tested as: "),t.Ob(89,"ul"),t.Ob(90,"li"),t.Ob(91,"code",7),t.rc(92,"Enable_Feature"),t.Nb(),t.Nb(),t.Ob(93,"li"),t.Ob(94,"code",7),t.rc(95,"ENABLE_FEATURE"),t.Nb(),t.Nb(),t.Ob(96,"li"),t.Ob(97,"code",7),t.rc(98,"enable_feature"),t.Nb(),t.Nb(),t.Nb(),t.Ob(99,"h3",9),t.rc(100,"App Information"),t.Nb(),t.rc(101,"\nThis basically exposes your "),t.Ob(102,"code",10),t.rc(103,"package.json"),t.Nb(),t.rc(104," data as a typed data structure, useful for integrating package information into your application. "),t.Ob(105,"h2",11),t.rc(106,"File Operations"),t.Nb(),t.rc(107,"\nThe framework does a fair amount of file system scanning to auto - load files. It also needs to have knowledge of what files are available. The framework provides a simple and performant functionality for recursively finding files. This functionality leverages regular expressions in lieu of glob pattern matching(this is to minimize overall code complexity). A simple example of finding specific "),t.Ob(108,"code",10),t.rc(109,".config"),t.Nb(),t.rc(110," files in your codebase: "),t.Ob(111,"figure",12),t.Ob(112,"figcaption",12),t.rc(113,"Looking for all .config files with the prefix defined by svc "),t.Ob(114,"cite"),t.Ob(115,"a",13),t.rc(116,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(117,"pre"),t.Ob(118,"code",14),t.Ob(119,"span",15),t.rc(120,"import"),t.Nb(),t.rc(121," "),t.Ob(122,"span",16),t.rc(123,"*"),t.Nb(),t.rc(124," "),t.Ob(125,"span",15),t.rc(126,"as"),t.Nb(),t.rc(127," fs "),t.Ob(128,"span",15),t.rc(129,"from"),t.Nb(),t.rc(130," "),t.Ob(131,"span",17),t.rc(132,"'fs'"),t.Nb(),t.Ob(133,"span",18),t.rc(134,";"),t.Nb(),t.rc(135,"\n"),t.Ob(136,"span",15),t.rc(137,"import"),t.Nb(),t.rc(138," "),t.Ob(139,"span",18),t.rc(140),t.Nb(),t.rc(141," ScanApp "),t.Ob(142,"span",18),t.rc(143),t.Nb(),t.rc(144," "),t.Ob(145,"span",15),t.rc(146,"from"),t.Nb(),t.rc(147," "),t.Ob(148,"span",17),t.rc(149,"'@travetto/base/src/scan'"),t.Nb(),t.Ob(150,"span",18),t.rc(151,";"),t.Nb(),t.rc(152,"\n\n"),t.Ob(153,"span",15),t.rc(154,"export"),t.Nb(),t.rc(155," "),t.Ob(156,"span",15),t.rc(157,"async"),t.Nb(),t.rc(158," "),t.Ob(159,"span",15),t.rc(160,"function"),t.Nb(),t.rc(161," "),t.Ob(162,"span",3),t.rc(163,"processServiceConfigs"),t.Nb(),t.Ob(164,"span",18),t.rc(165,"("),t.Nb(),t.Ob(166,"span",19),t.rc(167,"svc"),t.Ob(168,"span",16),t.rc(169,":"),t.Nb(),t.rc(170," "),t.Ob(171,"span",20),t.rc(172,"string"),t.Nb(),t.Nb(),t.Ob(173,"span",18),t.rc(174,")"),t.Nb(),t.rc(175," "),t.Ob(176,"span",18),t.rc(177),t.Nb(),t.rc(178,"\n  "),t.Ob(179,"span",15),t.rc(180,"const"),t.Nb(),t.rc(181," svcConfigs "),t.Ob(182,"span",16),t.rc(183,"="),t.Nb(),t.rc(184," "),t.Ob(185,"span",15),t.rc(186,"await"),t.Nb(),t.rc(187," ScanApp"),t.Ob(188,"span",18),t.rc(189,"."),t.Nb(),t.Ob(190,"span",3),t.rc(191,"findFiles"),t.Nb(),t.Ob(192,"span",18),t.rc(193,"("),t.Nb(),t.Ob(194,"span",18),t.rc(195),t.Nb(),t.rc(196," filter"),t.Ob(197,"span",16),t.rc(198,":"),t.Nb(),t.rc(199," "),t.Ob(200,"span",15),t.rc(201,"new"),t.Nb(),t.rc(202," "),t.Ob(203,"span",21),t.rc(204,"RegExp"),t.Nb(),t.Ob(205,"span",18),t.rc(206,"("),t.Nb(),t.Ob(207,"span",22),t.Ob(208,"span",23),t.rc(209,"`"),t.Nb(),t.Ob(210,"span",24),t.Ob(211,"span",25),t.rc(212),t.Nb(),t.rc(213,"svc"),t.Ob(214,"span",25),t.rc(215),t.Nb(),t.Nb(),t.Ob(216,"span",17),t.rc(217,".*[.]config$/"),t.Nb(),t.Ob(218,"span",23),t.rc(219,"`"),t.Nb(),t.Nb(),t.Ob(220,"span",18),t.rc(221,")"),t.Nb(),t.rc(222," "),t.Ob(223,"span",18),t.rc(224),t.Nb(),t.Ob(225,"span",18),t.rc(226,")"),t.Nb(),t.Ob(227,"span",18),t.rc(228,";"),t.Nb(),t.rc(229,"\n  "),t.Ob(230,"span",15),t.rc(231,"for"),t.Nb(),t.rc(232," "),t.Ob(233,"span",18),t.rc(234,"("),t.Nb(),t.Ob(235,"span",15),t.rc(236,"const"),t.Nb(),t.rc(237," conf "),t.Ob(238,"span",15),t.rc(239,"of"),t.Nb(),t.rc(240," svcConfigs"),t.Ob(241,"span",18),t.rc(242,")"),t.Nb(),t.rc(243," "),t.Ob(244,"span",18),t.rc(245),t.Nb(),t.rc(246,"\n    "),t.Ob(247,"span",26),t.rc(248,"// Do work"),t.Nb(),t.rc(249,"\n\n    "),t.Ob(250,"span",15),t.rc(251,"await"),t.Nb(),t.rc(252," "),t.Ob(253,"span",15),t.rc(254,"new"),t.Nb(),t.rc(255," "),t.Ob(256,"span",21),t.rc(257,"Promise"),t.Nb(),t.Ob(258,"span",18),t.rc(259,"("),t.Nb(),t.Ob(260,"span",18),t.rc(261,"("),t.Nb(),t.Ob(262,"span",19),t.rc(263,"res"),t.Ob(264,"span",18),t.rc(265,","),t.Nb(),t.rc(266," rej"),t.Nb(),t.Ob(267,"span",18),t.rc(268,")"),t.Nb(),t.rc(269," "),t.Ob(270,"span",16),t.rc(271,"=>"),t.Nb(),t.rc(272," fs"),t.Ob(273,"span",18),t.rc(274,"."),t.Nb(),t.Ob(275,"span",3),t.rc(276,"readFile"),t.Nb(),t.Ob(277,"span",18),t.rc(278,"("),t.Nb(),t.rc(279,"conf"),t.Ob(280,"span",18),t.rc(281,"."),t.Nb(),t.Ob(282,"span",15),t.rc(283,"module"),t.Nb(),t.Ob(284,"span",18),t.rc(285,","),t.Nb(),t.rc(286," "),t.Ob(287,"span",17),t.rc(288,"'utf8'"),t.Nb(),t.Ob(289,"span",18),t.rc(290,","),t.Nb(),t.rc(291," "),t.Ob(292,"span",18),t.rc(293,"("),t.Nb(),t.Ob(294,"span",19),t.rc(295,"err"),t.Ob(296,"span",18),t.rc(297,","),t.Nb(),t.rc(298," v"),t.Nb(),t.Ob(299,"span",18),t.rc(300,")"),t.Nb(),t.rc(301," "),t.Ob(302,"span",16),t.rc(303,"=>"),t.Nb(),t.rc(304," "),t.Ob(305,"span",18),t.rc(306),t.Nb(),t.rc(307,"\n      err "),t.Ob(308,"span",16),t.rc(309,"?"),t.Nb(),t.rc(310," "),t.Ob(311,"span",3),t.rc(312,"rej"),t.Nb(),t.Ob(313,"span",18),t.rc(314,"("),t.Nb(),t.rc(315,"err"),t.Ob(316,"span",18),t.rc(317,")"),t.Nb(),t.rc(318," "),t.Ob(319,"span",16),t.rc(320,":"),t.Nb(),t.rc(321," "),t.Ob(322,"span",3),t.rc(323,"res"),t.Nb(),t.Ob(324,"span",18),t.rc(325,"("),t.Nb(),t.rc(326,"v"),t.Ob(327,"span",18),t.rc(328,")"),t.Nb(),t.Ob(329,"span",18),t.rc(330,";"),t.Nb(),t.rc(331,"\n    "),t.Ob(332,"span",18),t.rc(333),t.Nb(),t.Ob(334,"span",18),t.rc(335,")"),t.Nb(),t.Ob(336,"span",18),t.rc(337,")"),t.Nb(),t.Ob(338,"span",18),t.rc(339,";"),t.Nb(),t.rc(340," "),t.Ob(341,"span",26),t.rc(342,"// Read file"),t.Nb(),t.rc(343,"\n  "),t.Ob(344,"span",18),t.rc(345),t.Nb(),t.rc(346,"\n"),t.Ob(347,"span",18),t.rc(348),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(349,"h2",27),t.rc(350,"Application Resources"),t.Nb(),t.rc(351," Resource management, loading of files, and other assets at runtime is a common pattern that the "),t.Ob(352,"a",28),t.rc(353,"ResourceManager"),t.Nb(),t.rc(354," encapsulates. It provides the ability to add additional search paths, as well as resolve resources by searching in all the registerd paths. "),t.Ob(355,"figure",12),t.Ob(356,"figcaption",12),t.rc(357,"Finding Images "),t.Ob(358,"cite"),t.Ob(359,"a",29),t.rc(360,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(361,"pre"),t.Ob(362,"code",14),t.Ob(363,"span",15),t.rc(364,"import"),t.Nb(),t.rc(365," "),t.Ob(366,"span",18),t.rc(367),t.Nb(),t.rc(368," ResourceManager "),t.Ob(369,"span",18),t.rc(370),t.Nb(),t.rc(371," "),t.Ob(372,"span",15),t.rc(373,"from"),t.Nb(),t.rc(374," "),t.Ob(375,"span",17),t.rc(376,"'@travetto/base/src/resource'"),t.Nb(),t.Ob(377,"span",18),t.rc(378,";"),t.Nb(),t.rc(379,"\n\n"),t.Ob(380,"span",26),t.rc(381,"/**\n * Find a single image, first one wins by resource path order\n */"),t.Nb(),t.rc(382,"\n"),t.Ob(383,"span",15),t.rc(384,"export"),t.Nb(),t.rc(385," "),t.Ob(386,"span",15),t.rc(387,"async"),t.Nb(),t.rc(388," "),t.Ob(389,"span",15),t.rc(390,"function"),t.Nb(),t.rc(391," "),t.Ob(392,"span",3),t.rc(393,"findSingleImage"),t.Nb(),t.Ob(394,"span",18),t.rc(395,"("),t.Nb(),t.Ob(396,"span",18),t.rc(397,")"),t.Nb(),t.rc(398," "),t.Ob(399,"span",18),t.rc(400),t.Nb(),t.rc(401,"\n  "),t.Ob(402,"span",15),t.rc(403,"const"),t.Nb(),t.rc(404," imagePath "),t.Ob(405,"span",16),t.rc(406,"="),t.Nb(),t.rc(407," "),t.Ob(408,"span",15),t.rc(409,"await"),t.Nb(),t.rc(410," ResourceManager"),t.Ob(411,"span",18),t.rc(412,"."),t.Nb(),t.Ob(413,"span",3),t.rc(414,"find"),t.Nb(),t.Ob(415,"span",18),t.rc(416,"("),t.Nb(),t.Ob(417,"span",17),t.rc(418,"'/images/asset.gif'"),t.Nb(),t.Ob(419,"span",18),t.rc(420,")"),t.Nb(),t.Ob(421,"span",18),t.rc(422,";"),t.Nb(),t.rc(423,"\n  "),t.Ob(424,"span",15),t.rc(425,"return"),t.Nb(),t.rc(426," imagePath"),t.Ob(427,"span",18),t.rc(428,";"),t.Nb(),t.rc(429,"\n"),t.Ob(430,"span",18),t.rc(431),t.Nb(),t.rc(432,"\n\n"),t.Ob(433,"span",26),t.rc(434,"/**\n * Find all .gif files under the imsages folder\n */"),t.Nb(),t.rc(435,"\n"),t.Ob(436,"span",15),t.rc(437,"export"),t.Nb(),t.rc(438," "),t.Ob(439,"span",15),t.rc(440,"async"),t.Nb(),t.rc(441," "),t.Ob(442,"span",15),t.rc(443,"function"),t.Nb(),t.rc(444," "),t.Ob(445,"span",3),t.rc(446,"findAllImages"),t.Nb(),t.Ob(447,"span",18),t.rc(448,"("),t.Nb(),t.Ob(449,"span",18),t.rc(450,")"),t.Nb(),t.rc(451," "),t.Ob(452,"span",18),t.rc(453),t.Nb(),t.rc(454,"\n  "),t.Ob(455,"span",15),t.rc(456,"const"),t.Nb(),t.rc(457," imagePaths "),t.Ob(458,"span",16),t.rc(459,"="),t.Nb(),t.rc(460," "),t.Ob(461,"span",15),t.rc(462,"await"),t.Nb(),t.rc(463," ResourceManager"),t.Ob(464,"span",18),t.rc(465,"."),t.Nb(),t.Ob(466,"span",3),t.rc(467,"findAllByPattern"),t.Nb(),t.Ob(468,"span",18),t.rc(469,"("),t.Nb(),t.Ob(470,"span",30),t.rc(471,"/[.]gif$/"),t.Nb(),t.Ob(472,"span",18),t.rc(473,","),t.Nb(),t.rc(474," "),t.Ob(475,"span",17),t.rc(476,"'images/'"),t.Nb(),t.Ob(477,"span",18),t.rc(478,")"),t.Nb(),t.Ob(479,"span",18),t.rc(480,";"),t.Nb(),t.rc(481,"\n  "),t.Ob(482,"span",15),t.rc(483,"return"),t.Nb(),t.rc(484," imagePaths"),t.Ob(485,"span",18),t.rc(486,";"),t.Nb(),t.rc(487,"\n"),t.Ob(488,"span",18),t.rc(489),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(490,"h2",31),t.rc(491,"Lifecycle Support"),t.Nb(),t.rc(492," During the lifecycle of an application, there is a need to handle different phases of execution. When executing a phase, the code will recursively find all "),t.Ob(493,"code",10),t.rc(494,"phase.<phase>.ts"),t.Nb(),t.rc(495," files under "),t.Ob(496,"code",10),t.rc(497,"node_modules/@travetto"),t.Nb(),t.rc(498,", and in the root of your project. The format of each phase handler is comprised of five main elements: "),t.Ob(499,"ul"),t.Ob(500,"li"),t.rc(501,"The phase of execution, which is defined by the file name "),t.Ob(502,"code",10),t.rc(503,"phase.<phase>.ts"),t.Nb(),t.Ob(504,"ul"),t.Ob(505,"li"),t.rc(506,"The key of the handler to be referenced for dependency management."),t.Nb(),t.Nb(),t.Nb(),t.Ob(507,"li"),t.rc(508,"The list of dependent handlers that the current handler depends on, if any."),t.Nb(),t.Ob(509,"li"),t.rc(510,"The list of handlers that should be dependent on the current handler, if any."),t.Nb(),t.Ob(511,"li"),t.rc(512,"The actual functionality to execute"),t.Nb(),t.Nb(),t.rc(513," An example would be something like "),t.Ob(514,"code",10),t.rc(515,"phase.init.ts"),t.Nb(),t.rc(516," in the "),t.Ob(517,"a",32),t.rc(518,"Configuration"),t.Nb(),t.rc(519," module. "),t.Ob(520,"figure",12),t.Ob(521,"figcaption",12),t.rc(522,"Config phase init "),t.Ob(523,"cite"),t.Ob(524,"a",33),t.rc(525,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(526,"pre"),t.Ob(527,"code",14),t.Ob(528,"span",26),t.rc(529,"/**\n * Initializes the config source\n */"),t.Nb(),t.rc(530,"\n"),t.Ob(531,"span",15),t.rc(532,"export"),t.Nb(),t.rc(533," "),t.Ob(534,"span",15),t.rc(535,"const"),t.Nb(),t.rc(536," init "),t.Ob(537,"span",16),t.rc(538,"="),t.Nb(),t.rc(539," "),t.Ob(540,"span",18),t.rc(541),t.Nb(),t.rc(542,"\n  key"),t.Ob(543,"span",16),t.rc(544,":"),t.Nb(),t.rc(545," "),t.Ob(546,"span",17),t.rc(547,"'config'"),t.Nb(),t.Ob(548,"span",18),t.rc(549,","),t.Nb(),t.rc(550,"\n  after"),t.Ob(551,"span",16),t.rc(552,":"),t.Nb(),t.rc(553," "),t.Ob(554,"span",18),t.rc(555,"["),t.Nb(),t.Ob(556,"span",17),t.rc(557,"'base'"),t.Nb(),t.Ob(558,"span",18),t.rc(559,"]"),t.Nb(),t.Ob(560,"span",18),t.rc(561,","),t.Nb(),t.rc(562,"\n  "),t.Ob(563,"span",34),t.rc(564,"action"),t.Nb(),t.Ob(565,"span",16),t.rc(566,":"),t.Nb();t.rc(567," "),t.Ob(568,"span",15),t.rc(569,"async"),t.Nb(),t.rc(570," "),t.Ob(571,"span",18),t.rc(572,"("),t.Nb(),t.Ob(573,"span",18),t.rc(574,")"),t.Nb(),t.rc(575," "),t.Ob(576,"span",16),t.rc(577,"=>"),t.Nb(),t.rc(578," "),t.Ob(579,"span",18),t.rc(580),t.Nb(),t.rc(581,"\n    "),t.Ob(582,"span",15),t.rc(583,"const"),t.Nb(),t.rc(584," "),t.Ob(585,"span",18),t.rc(586),t.Nb(),t.rc(587," ConfigManager "),t.Ob(588,"span",18),t.rc(589),t.Nb(),t.rc(590," "),t.Ob(591,"span",16),t.rc(592,"="),t.Nb(),t.rc(593," "),t.Ob(594,"span",15),t.rc(595,"await"),t.Nb(),t.rc(596," "),t.Ob(597,"span",15),t.rc(598,"import"),t.Nb(),t.Ob(599,"span",18),t.rc(600,"("),t.Nb(),t.Ob(601,"span",17),t.rc(602,"'../src/manager'"),t.Nb(),t.Ob(603,"span",18),t.rc(604,")"),t.Nb(),t.Ob(605,"span",18),t.rc(606,";"),t.Nb(),t.rc(607,"\n    ConfigManager"),t.Ob(608,"span",18),t.rc(609,"."),t.Nb(),t.Ob(610,"span",3),t.rc(611,"init"),t.Nb(),t.Ob(612,"span",18),t.rc(613,"("),t.Nb(),t.Ob(614,"span",18),t.rc(615,")"),t.Nb(),t.Ob(616,"span",18),t.rc(617,";"),t.Nb(),t.rc(618,"\n  "),t.Ob(619,"span",18),t.rc(620),t.Nb(),t.rc(621,"\n"),t.Ob(622,"span",18),t.rc(623),t.Nb(),t.Ob(624,"span",18),t.rc(625,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(626,"h2",35),t.rc(627,"Common Application Error Class"),t.Nb(),t.rc(628," While the framework is 100 % compatible with standard "),t.Ob(629,"code",7),t.rc(630,"Error"),t.Nb(),t.rc(631," instances, there are cases in which additional functionality is desired. Within the framework we use "),t.Ob(632,"a",36),t.rc(633,"AppError"),t.Nb(),t.rc(634," (or its derivatives) to represent framework errors. This class is available for use in your own projects. Some of the additional benefits of using this class is enhanced error reporting, as well as better integration with other modules (e.g. the "),t.Ob(635,"a",37),t.rc(636,"RESTful API"),t.Nb(),t.rc(637," module and HTTP status codes). The "),t.Ob(638,"a",36),t.rc(639,"AppError"),t.Nb(),t.rc(640," takes in a message, and an optional payload and / or error classification. The currently supported error classifications are:\n"),t.Ob(641,"ul"),t.Ob(642,"li"),t.Ob(643,"code",7),t.rc(644,"general"),t.Nb(),t.rc(645," - General purpose errors"),t.Nb(),t.Ob(646,"li"),t.Ob(647,"code",7),t.rc(648,"system"),t.Nb(),t.rc(649," - Synonym for "),t.Ob(650,"code",7),t.rc(651,"general"),t.Nb(),t.Nb(),t.Ob(652,"li"),t.Ob(653,"code",7),t.rc(654,"data"),t.Nb(),t.rc(655," - Data format, content, etc are incorrect. Generally correlated to bad input."),t.Nb(),t.Ob(656,"li"),t.Ob(657,"code",7),t.rc(658,"permission"),t.Nb(),t.rc(659," - Operation failed due to lack of permissions"),t.Nb(),t.Ob(660,"li"),t.Ob(661,"code",7),t.rc(662,"auth"),t.Nb(),t.rc(663," - Operation failed due to lack of authentication"),t.Nb(),t.Ob(664,"li"),t.Ob(665,"code",7),t.rc(666,"missing"),t.Nb(),t.rc(667," - Resource was not found when requested"),t.Nb(),t.Ob(668,"li"),t.Ob(669,"code",7),t.rc(670,"timeout"),t.Nb(),t.rc(671," - Operation did not finish in a timely manner"),t.Nb(),t.Ob(672,"li"),t.Ob(673,"code",7),t.rc(674,"unavailable"),t.Nb(),t.rc(675," - Resource was unresponsive"),t.Nb(),t.Nb(),t.Ob(676,"h2",38),t.rc(677,"Shutdown"),t.Nb(),t.rc(678," Another key lifecycle is the process of shutting down. The framework provides centralized functionality for running operations on shutdown. Primarily used by the framework for cleanup operations, this provides a clean interface for registering shutdown handlers. The code overrides "),t.Ob(679,"code",8),t.rc(680,"process.exit"),t.Nb(),t.rc(681," to properly handle "),t.Ob(682,"code",7),t.rc(683,"SIGKILL"),t.Nb(),t.rc(684," and "),t.Ob(685,"code",7),t.rc(686,"SIGINT"),t.Nb(),t.rc(687,", with a default threshold of 3 seconds. In the advent of a "),t.Ob(688,"code",7),t.rc(689,"SIGTERM"),t.Nb(),t.rc(690," signal, the code exits immediately without any cleanup. As a registered shutdown handler, you can do. "),t.Ob(691,"figure",12),t.Ob(692,"figcaption",12),t.rc(693,"Registering a shutdown handler "),t.Ob(694,"cite"),t.Ob(695,"a",39),t.rc(696,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(697,"pre"),t.Ob(698,"code",14),t.Ob(699,"span",15),t.rc(700,"import"),t.Nb(),t.rc(701," "),t.Ob(702,"span",18),t.rc(703),t.Nb(),t.rc(704," ShutdownManager "),t.Ob(705,"span",18),t.rc(706),t.Nb(),t.rc(707," "),t.Ob(708,"span",15),t.rc(709,"from"),t.Nb(),t.rc(710," "),t.Ob(711,"span",17),t.rc(712,"'@travetto/base/src/shutdown'"),t.Nb(),t.Ob(713,"span",18),t.rc(714,";"),t.Nb(),t.rc(715,"\n\n"),t.Ob(716,"span",15),t.rc(717,"export"),t.Nb(),t.rc(718," "),t.Ob(719,"span",15),t.rc(720,"function"),t.Nb(),t.rc(721," "),t.Ob(722,"span",3),t.rc(723,"registerShutdownHandler"),t.Nb(),t.Ob(724,"span",18),t.rc(725,"("),t.Nb(),t.Ob(726,"span",18),t.rc(727,")"),t.Nb(),t.rc(728," "),t.Ob(729,"span",18),t.rc(730),t.Nb(),t.rc(731,"\n  ShutdownManager"),t.Ob(732,"span",18),t.rc(733,"."),t.Nb(),t.Ob(734,"span",3),t.rc(735,"onShutdown"),t.Nb(),t.Ob(736,"span",18),t.rc(737,"("),t.Nb(),t.Ob(738,"span",17),t.rc(739,"'handler-name'"),t.Nb(),t.Ob(740,"span",18),t.rc(741,","),t.Nb(),t.rc(742," "),t.Ob(743,"span",15),t.rc(744,"async"),t.Nb(),t.rc(745," "),t.Ob(746,"span",18),t.rc(747,"("),t.Nb(),t.Ob(748,"span",18),t.rc(749,")"),t.Nb(),t.rc(750," "),t.Ob(751,"span",16),t.rc(752,"=>"),t.Nb(),t.rc(753," "),t.Ob(754,"span",18),t.rc(755),t.Nb(),t.rc(756,"\n    "),t.Ob(757,"span",26),t.rc(758,"// Do important work, the framework will wait until all async"),t.Nb(),t.rc(759,"\n    "),t.Ob(760,"span",26),t.rc(761,"//   operations are completed before finishing shutdown"),t.Nb(),t.rc(762,"\n  "),t.Ob(763,"span",18),t.rc(764),t.Nb(),t.Ob(765,"span",18),t.rc(766,")"),t.Nb(),t.Ob(767,"span",18),t.rc(768,";"),t.Nb(),t.rc(769,"\n"),t.Ob(770,"span",18),t.rc(771),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(772,"h2",40),t.rc(773,"Stacktrace"),t.Nb(),t.rc(774,"\nThe built in stack filtering will remove duplicate or unnecessary lines, as well as filter out framework specific steps that do not aid in debugging. The final result should be a stack trace that is concise and clear. From a test scenario: "),t.Ob(775,"figure",12),t.Ob(776,"figcaption",12),t.rc(777,"Tracking asynchronous behavior "),t.Ob(778,"cite"),t.Ob(779,"a",41),t.rc(780,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(781,"pre"),t.Ob(782,"code",14),t.Ob(783,"span",15),t.rc(784,"import"),t.Nb(),t.rc(785," "),t.Ob(786,"span",18),t.rc(787),t.Nb(),t.rc(788," StacktraceUtil "),t.Ob(789,"span",18),t.rc(790),t.Nb(),t.rc(791," "),t.Ob(792,"span",15),t.rc(793,"from"),t.Nb(),t.rc(794," "),t.Ob(795,"span",17),t.rc(796,"'@travetto/base/src/stacktrace'"),t.Nb(),t.Ob(797,"span",18),t.rc(798,";"),t.Nb(),t.rc(799,"\n\n"),t.Ob(800,"span",15),t.rc(801,"function"),t.Nb(),t.rc(802," "),t.Ob(803,"span",3),t.rc(804,"inner3"),t.Nb(),t.Ob(805,"span",18),t.rc(806,"("),t.Nb(),t.Ob(807,"span",18),t.rc(808,")"),t.Nb(),t.rc(809," "),t.Ob(810,"span",18),t.rc(811),t.Nb(),t.rc(812,"\n  "),t.Ob(813,"span",15),t.rc(814,"throw"),t.Nb(),t.rc(815," "),t.Ob(816,"span",15),t.rc(817,"new"),t.Nb(),t.rc(818," "),t.Ob(819,"span",21),t.rc(820,"Error"),t.Nb(),t.Ob(821,"span",18),t.rc(822,"("),t.Nb(),t.Ob(823,"span",17),t.rc(824,"'Uh oh'"),t.Nb(),t.Ob(825,"span",18),t.rc(826,")"),t.Nb(),t.Ob(827,"span",18),t.rc(828,";"),t.Nb(),t.rc(829,"\n"),t.Ob(830,"span",18),t.rc(831),t.Nb(),t.rc(832,"\n\n"),t.Ob(833,"span",15),t.rc(834,"async"),t.Nb(),t.rc(835," "),t.Ob(836,"span",15),t.rc(837,"function"),t.Nb(),t.rc(838," "),t.Ob(839,"span",3),t.rc(840,"inner2"),t.Nb(),t.Ob(841,"span",18),t.rc(842,"("),t.Nb(),t.Ob(843,"span",18),t.rc(844,")"),t.Nb(),t.rc(845," "),t.Ob(846,"span",18),t.rc(847),t.Nb(),t.rc(848,"\n  "),t.Ob(849,"span",15),t.rc(850,"return"),t.Nb(),t.rc(851," "),t.Ob(852,"span",15),t.rc(853,"await"),t.Nb(),t.rc(854," "),t.Ob(855,"span",3),t.rc(856,"inner3"),t.Nb(),t.Ob(857,"span",18),t.rc(858,"("),t.Nb(),t.Ob(859,"span",18),t.rc(860,")"),t.Nb(),t.Ob(861,"span",18),t.rc(862,";"),t.Nb(),t.rc(863,"\n"),t.Ob(864,"span",18),t.rc(865),t.Nb(),t.rc(866,"\n\n"),t.Ob(867,"span",15),t.rc(868,"async"),t.Nb(),t.rc(869," "),t.Ob(870,"span",15),t.rc(871,"function"),t.Nb(),t.rc(872," "),t.Ob(873,"span",3),t.rc(874,"inner1"),t.Nb(),t.Ob(875,"span",18),t.rc(876,"("),t.Nb(),t.Ob(877,"span",18),t.rc(878,")"),t.Nb(),t.rc(879," "),t.Ob(880,"span",18),t.rc(881),t.Nb(),t.rc(882,"\n  "),t.Ob(883,"span",15),t.rc(884,"return"),t.Nb(),t.rc(885," "),t.Ob(886,"span",15),t.rc(887,"await"),t.Nb(),t.rc(888," "),t.Ob(889,"span",3),t.rc(890,"inner2"),t.Nb(),t.Ob(891,"span",18),t.rc(892,"("),t.Nb(),t.Ob(893,"span",18),t.rc(894,")"),t.Nb(),t.Ob(895,"span",18),t.rc(896,";"),t.Nb(),t.rc(897,"\n"),t.Ob(898,"span",18),t.rc(899),t.Nb(),t.rc(900,"\n\n"),t.Ob(901,"span",15),t.rc(902,"async"),t.Nb(),t.rc(903," "),t.Ob(904,"span",15),t.rc(905,"function"),t.Nb(),t.rc(906," "),t.Ob(907,"span",3),t.rc(908,"test"),t.Nb(),t.Ob(909,"span",18),t.rc(910,"("),t.Nb(),t.Ob(911,"span",18),t.rc(912,")"),t.Nb(),t.rc(913," "),t.Ob(914,"span",18),t.rc(915),t.Nb(),t.rc(916,"\n  "),t.Ob(917,"span",15),t.rc(918,"await"),t.Nb(),t.rc(919," "),t.Ob(920,"span",3),t.rc(921,"inner1"),t.Nb(),t.Ob(922,"span",18),t.rc(923,"("),t.Nb(),t.Ob(924,"span",18),t.rc(925,")"),t.Nb(),t.Ob(926,"span",18),t.rc(927,";"),t.Nb(),t.rc(928,"\n"),t.Ob(929,"span",18),t.rc(930),t.Nb(),t.rc(931,"\n\nprocess"),t.Ob(932,"span",18),t.rc(933,"."),t.Nb(),t.Ob(934,"span",3),t.rc(935,"on"),t.Nb(),t.Ob(936,"span",18),t.rc(937,"("),t.Nb(),t.Ob(938,"span",17),t.rc(939,"'unhandledRejection'"),t.Nb(),t.Ob(940,"span",18),t.rc(941,","),t.Nb(),t.rc(942," "),t.Ob(943,"span",18),t.rc(944,"("),t.Nb(),t.Ob(945,"span",19),t.rc(946,"err"),t.Ob(947,"span",16),t.rc(948,":"),t.Nb(),t.rc(949," "),t.Ob(950,"span",20),t.rc(951,"any"),t.Nb(),t.Nb(),t.Ob(952,"span",18),t.rc(953,")"),t.Nb(),t.rc(954," "),t.Ob(955,"span",16),t.rc(956,"=>"),t.Nb(),t.rc(957," "),t.Ob(958,"span",18),t.rc(959),t.Nb(),t.rc(960,"\n  StacktraceUtil"),t.Ob(961,"span",18),t.rc(962,"."),t.Nb(),t.Ob(963,"span",3),t.rc(964,"init"),t.Nb(),t.Ob(965,"span",18),t.rc(966,"("),t.Nb(),t.Ob(967,"span",18),t.rc(968,")"),t.Nb(),t.Ob(969,"span",18),t.rc(970,";"),t.Nb(),t.rc(971,"\n  "),t.Ob(972,"span",20),t.rc(973,"console"),t.Nb(),t.Ob(974,"span",16),t.rc(975,"!"),t.Nb(),t.Ob(976,"span",18),t.rc(977,"."),t.Nb(),t.Ob(978,"span",3),t.rc(979,"log"),t.Nb(),t.Ob(980,"span",18),t.rc(981,"("),t.Nb(),t.rc(982,"StacktraceUtil"),t.Ob(983,"span",18),t.rc(984,"."),t.Nb(),t.Ob(985,"span",3),t.rc(986,"simplifyStack"),t.Nb(),t.Ob(987,"span",18),t.rc(988,"("),t.Nb(),t.rc(989,"err"),t.Ob(990,"span",18),t.rc(991,")"),t.Nb(),t.Ob(992,"span",18),t.rc(993,")"),t.Nb(),t.Ob(994,"span",18),t.rc(995,";"),t.Nb(),t.rc(996,"\n"),t.Ob(997,"span",18),t.rc(998),t.Nb(),t.Ob(999,"span",18),t.rc(1e3,")"),t.Nb(),t.Ob(1001,"span",18),t.rc(1002,";"),t.Nb(),t.rc(1003,"\n\n"),t.Ob(1004,"span",3),t.rc(1005,"test"),t.Nb(),t.Ob(1006,"span",18),t.rc(1007,"("),t.Nb(),t.Ob(1008,"span",18),t.rc(1009,")"),t.Nb(),t.Ob(1010,"span",18),t.rc(1011,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1012," Will produce the following stack trace: "),t.Ob(1013,"figure",42),t.Ob(1014,"figcaption",42),t.rc(1015,"tack trace from async errors "),t.Nb(),t.Ob(1016,"pre"),t.Ob(1017,"code",2),t.rc(1018,"$ ./alt/docs/src/stack-test.ts -r @travetto/boot/register ./alt/docs/src/stack-test.ts\n\nError: Uh oh\n    at inner3 "),t.Ob(1019,"span",18),t.rc(1020,"("),t.Nb(),t.rc(1021,"alt/docs/src/stack-test.ts:4:9"),t.Ob(1022,"span",18),t.rc(1023,")"),t.Nb(),t.rc(1024,"\n    at inner2 "),t.Ob(1025,"span",18),t.rc(1026,"("),t.Nb(),t.rc(1027,"alt/docs/src/stack-test.ts:8:16"),t.Ob(1028,"span",18),t.rc(1029,")"),t.Nb(),t.rc(1030,"\n    at inner1 "),t.Ob(1031,"span",18),t.rc(1032,"("),t.Nb(),t.rc(1033,"alt/docs/src/stack-test.ts:12:16"),t.Ob(1034,"span",18),t.rc(1035,")"),t.Nb(),t.rc(1036,"\n    at "),t.Ob(1037,"span",43),t.rc(1038,"test"),t.Nb(),t.rc(1039," "),t.Ob(1040,"span",18),t.rc(1041,"("),t.Nb(),t.rc(1042,"alt/docs/src/stack-test.ts:16:9"),t.Ob(1043,"span",18),t.rc(1044,")"),t.Nb(),t.rc(1045,"\n    at Object."),t.Ob(1046,"span",16),t.rc(1047,"<"),t.Nb(),t.rc(1048,"anonymous"),t.Ob(1049,"span",16),t.rc(1050,">"),t.Nb(),t.rc(1051," "),t.Ob(1052,"span",18),t.rc(1053,"("),t.Nb(),t.rc(1054,"alt/docs/src/stack-test.ts:24:1"),t.Ob(1055,"span",18),t.rc(1056,")"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1057," The needed functionality cannot be loaded until "),t.Ob(1058,"code",8),t.rc(1059,"init.action"),t.Nb(),t.rc(1060," executes, and so must be required only at that time. "),t.Ob(1061,"h2",44),t.rc(1062,"Util"),t.Nb(),t.rc(1063,"\nSimple functions for providing a minimal facsimile to "),t.Ob(1064,"a",45),t.rc(1065,"lodash"),t.Nb(),t.rc(1066,", but without all the weight. Currently "),t.Ob(1067,"a",46),t.rc(1068,"Util"),t.Nb(),t.rc(1069," includes: "),t.Ob(1070,"ul"),t.Ob(1071,"li"),t.Ob(1072,"code",8),t.rc(1073,"isPrimitive(el: any)"),t.Nb(),t.rc(1074," determines if "),t.Ob(1075,"code",7),t.rc(1076,"el"),t.Nb(),t.rc(1077," is a "),t.Ob(1078,"code",7),t.rc(1079,"string"),t.Nb(),t.rc(1080,", "),t.Ob(1081,"code",7),t.rc(1082,"boolean"),t.Nb(),t.rc(1083,", "),t.Ob(1084,"code",7),t.rc(1085,"number"),t.Nb(),t.rc(1086," or "),t.Ob(1087,"code",7),t.rc(1088,"RegExp"),t.Nb(),t.Nb(),t.Ob(1089,"li"),t.Ob(1090,"code",8),t.rc(1091,"isPlainObject(obj: any)"),t.Nb(),t.rc(1092," determines if the obj is a simple object"),t.Nb(),t.Ob(1093,"li"),t.Ob(1094,"code",8),t.rc(1095,"isFunction(o: any)"),t.Nb(),t.rc(1096," determines if "),t.Ob(1097,"code",7),t.rc(1098,"o"),t.Nb(),t.rc(1099," is a simple "),t.Ob(1100,"code",7),t.rc(1101,"Function"),t.Nb(),t.Nb(),t.Ob(1102,"li"),t.Ob(1103,"code",8),t.rc(1104,"isClass(o: any)"),t.Nb(),t.rc(1105," determines if "),t.Ob(1106,"code",7),t.rc(1107,"o"),t.Nb(),t.rc(1108," is a class constructor"),t.Nb(),t.Ob(1109,"li"),t.Ob(1110,"code",8),t.rc(1111,"isSimple(a: any)"),t.Nb(),t.rc(1112," determines if "),t.Ob(1113,"code",7),t.rc(1114,"a"),t.Nb(),t.rc(1115," is a simple value"),t.Nb(),t.Ob(1116,"li"),t.Ob(1117,"code",8),t.rc(1118,"deepAssign(a: any, b: any, mode ?)"),t.Nb(),t.rc(1119," which allows for deep assignment of "),t.Ob(1120,"code",7),t.rc(1121,"b"),t.Nb(),t.rc(1122," onto "),t.Ob(1123,"code",7),t.rc(1124,"a"),t.Nb(),t.rc(1125,", the "),t.Ob(1126,"code",7),t.rc(1127,"mode"),t.Nb(),t.rc(1128," determines how aggressive the assignment is, and how flexible it is. "),t.Ob(1129,"code",7),t.rc(1130,"mode"),t.Nb(),t.rc(1131," can have any of the following values: "),t.Ob(1132,"ul"),t.Ob(1133,"li"),t.Ob(1134,"code",7);t.rc(1135,"loose"),t.Nb(),t.rc(1136,", which is the default is the most lenient. It will not error out, and overwrites will always happen"),t.Nb(),t.Ob(1137,"li"),t.Ob(1138,"code",7),t.rc(1139,"coerce"),t.Nb(),t.rc(1140,", will attempt to force values from "),t.Ob(1141,"code",7),t.rc(1142,"b"),t.Nb(),t.rc(1143," to fit the types of "),t.Ob(1144,"code",7),t.rc(1145,"a"),t.Nb(),t.rc(1146,", and if it can't it will error out"),t.Nb(),t.Ob(1147,"li"),t.Ob(1148,"code",7),t.rc(1149,"strict"),t.Nb(),t.rc(1150,", will error out if the types do not match"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1151,"li"),t.Ob(1152,"code",8),t.rc(1153,"uuid(len: number)"),t.Nb(),t.rc(1154," generates a simple uuid for use within the application."),t.Nb(),t.Nb(),t.Ob(1155,"h2",47),t.rc(1156,"SystemUtil"),t.Nb(),t.rc(1157," Unlike "),t.Ob(1158,"a",46),t.rc(1159,"Util"),t.Nb(),t.rc(1160,", the "),t.Ob(1161,"a",48),t.rc(1162,"SystemUtil"),t.Nb(),t.rc(1163," is primarily meant for internal framework support. That being said, there are places where this functionality can prove useful. "),t.Ob(1164,"a",48),t.rc(1165,"SystemUtil"),t.Nb(),t.rc(1166," has functionality for: "),t.Ob(1167,"ul"),t.Ob(1168,"li"),t.Ob(1169,"code",8),t.rc(1170,"naiveHash(text: string): number"),t.Nb(),t.rc(1171," computes a very naive hash. Should not be relied upon for scenarios where collisions cannot be tolerated."),t.Nb(),t.Ob(1172,"li"),t.Ob(1173,"code",8),t.rc(1174,"computeModule(file: string): string"),t.Nb(),t.rc(1175," computes the internal module name from a given file."),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(140),t.sc("{"),t.zb(3),t.sc("}"),t.zb(34),t.sc("{"),t.zb(18),t.sc("{"),t.zb(17),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(9),t.sc("}"),t.zb(21),t.sc("{"),t.zb(61),t.sc("{"),t.zb(27),t.sc("}"),t.zb(12),t.sc("}"),t.zb(3),t.sc("}"),t.zb(19),t.sc("{"),t.zb(3),t.sc("}"),t.zb(30),t.sc("{"),t.zb(31),t.sc("}"),t.zb(22),t.sc("{"),t.zb(36),t.sc("}"),t.zb(52),t.sc("{"),t.zb(39),t.sc("{"),t.zb(6),t.sc("{"),t.zb(3),t.sc("}"),t.zb(31),t.sc("}"),t.zb(3),t.sc("}"),t.zb(80),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(25),t.sc("{"),t.zb(9),t.sc("}"),t.zb(7),t.sc("}"),t.zb(16),t.sc("{"),t.zb(3),t.sc("}"),t.zb(21),t.sc("{"),t.zb(20),t.sc("}"),t.zb(16),t.sc("{"),t.zb(18),t.sc("}"),t.zb(16),t.sc("{"),t.zb(18),t.sc("}"),t.zb(16),t.sc("{"),t.zb(15),t.sc("}"),t.zb(29),t.sc("{"),t.zb(39),t.sc("}"))},styles:[""]}),r}(),j=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-compiler"]],decls:91,vars:0,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://typescriptlang.org",1,"external-link"],[1,"item","path"],[1,"item","input"],[1,"item","class"],["href","/docs/transformer","title","Functionality for AST transformations, with transformer registration, and general utils",1,"module-link"],["id","debugging"],["id","cli-compile"],[1,"terminal"],[1,"token","punctuation"],[1,"token","keyword"],[1,"token","operator"],[1,"token","builtin","class-name"],[1,"item","field"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Compiler "),t.Ob(3,"small"),t.rc(4,"Node-integration of Typescript Compiler with advanced functionality for detecting changes in classes and methods."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/compiler "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/compiler"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module expands upon "),t.Ob(17,"a",4),t.rc(18,"Typescript"),t.Nb(),t.rc(19,", with supplemental functionality:\n"),t.Ob(20,"ul"),t.Ob(21,"li"),t.rc(22,"Read "),t.Ob(23,"code",5),t.rc(24,"tsconfig.json"),t.Nb(),t.rc(25," from the project directory to provide "),t.Nb(),t.Ob(26,"li"),t.rc(27,"Supports on-the-fly compilation, nothing needs to be compiled ahead of time"),t.Nb(),t.Ob(28,"li"),t.rc(29,"Enhanced AST transformations, and transformer registration [object Object]"),t.Nb(),t.Ob(30,"li"),t.rc(31,"Intelligent caching of source files to minimize recompilation"),t.Nb(),t.Ob(32,"li"),t.rc(33,"Support for detecting changes in sources files at runtime"),t.Nb(),t.Ob(34,"li"),t.rc(35,"Allows for hot-reloading of classes during development "),t.Ob(36,"ul"),t.Ob(37,"li"),t.rc(38,"Utilizes "),t.Ob(39,"code",6),t.rc(40,"es2015"),t.Nb(),t.Ob(41,"code",7),t.rc(42,"Proxy"),t.Nb(),t.rc(43,"s to allow for swapping out implementation at runtime"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(44," Additionally, there is support for common AST transformations via "),t.Ob(45,"a",8),t.rc(46,"Transformation"),t.Nb(),t.Ob(47,"h2",9),t.rc(48,"Debugging"),t.Nb(),t.rc(49," When dealing with transformers, logging is somewhat tricky as the compiler executes before the code is loaded. To that end, the file "),t.Ob(50,"code",5),t.rc(51,"compiler.log"),t.Nb(),t.rc(52," is created in the cache directory during the compilation process. This is a location that transformers should be free to log to, for debugging, and any additional feedback. "),t.Ob(53,"h2",10),t.rc(54,"CLI - compile"),t.Nb(),t.Ob(55,"figure",11),t.Ob(56,"figcaption",11),t.rc(57,"Compiler usage "),t.Nb(),t.Ob(58,"pre"),t.Ob(59,"code",2),t.rc(60,"$ travetto travetto compile --help\n\nUsage:  compile "),t.Ob(61,"span",12),t.rc(62,"["),t.Nb(),t.rc(63,"options"),t.Ob(64,"span",12),t.rc(65,"]"),t.Nb(),t.rc(66,"\n\nOptions:\n  -c, --clean            Indicates "),t.Ob(67,"span",13),t.rc(68,"if"),t.Nb(),t.rc(69," the cache "),t.Ob(70,"span",3),t.rc(71,"dir"),t.Nb(),t.rc(72," should be cleaned\n  -o, --output "),t.Ob(73,"span",14),t.rc(74,"<"),t.Nb(),t.rc(75,"output"),t.Ob(76,"span",14),t.rc(77,">"),t.Nb(),t.rc(78,"  Output directory\n  -q, --quiet            Quiet operation\n  -h, --help             display "),t.Ob(79,"span",15),t.rc(80,"help"),t.Nb(),t.rc(81," "),t.Ob(82,"span",13),t.rc(83,"for"),t.Nb(),t.rc(84," "),t.Ob(85,"span",15),t.rc(86,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(87," This command line operation pre-compiles all of the application source code. You can target the output location as well, which is useful in conjunction with "),t.Ob(88,"code",16),t.rc(89,"process.env.TRV_CACHE"),t.Nb(),t.rc(90," for relocating the compiled files. "),t.Nb())},styles:[""]}),r}(),x=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-context"]],decls:516,vars:42,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://nodejs.org/api/async_hooks.html",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/context/src/decorator.ts#L6",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/context/src/service.ts#L10",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/context/alt/docs/src/usage.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","parameter"],[1,"token","operator"],[1,"token","meta"],[1,"token","builtin"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],[1,"token","comment"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/context/alt/docs/src/usage-primed.ts"],[1,"token","number"],["id","extension-rest"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/context/src/extension/rest.interceptor.ts#L12",1,"source-link"],["href","/docs/auth-rest","title","Rest authentication integration support for the travetto framework",1,"module-link"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Async Context "),t.Ob(3,"small"),t.rc(4,"Async-aware state management, maintaining context across asynchronous calls."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/context "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/context"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides a wrapper around node's "),t.Ob(17,"a",4),t.rc(18,"async_hooks"),t.Nb(),t.rc(19," to maintain context across async calls. This is generally used for retaining contextual user information at various levels of async flow. The most common way of utilizing the context, is via the "),t.Ob(20,"a",5),t.rc(21,"WithAsyncContext"),t.Nb(),t.rc(22," decorator. The decorator requires the class it's being used in, to have a "),t.Ob(23,"a",6),t.rc(24,"AsyncContext"),t.Nb(),t.rc(25," member, as it is the source of the contextual information. The decorator will load the context on invocation, and will keep the context active during the entire asynchronous call chain. "),t.Ob(26,"figure",7),t.Ob(27,"figcaption",7),t.rc(28,"Usage of context within a service "),t.Ob(29,"cite"),t.Ob(30,"a",8),t.rc(31,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(32,"pre"),t.Ob(33,"code",9),t.Ob(34,"span",10),t.rc(35,"import"),t.Nb(),t.rc(36," "),t.Ob(37,"span",11),t.rc(38),t.Nb(),t.rc(39," AsyncContext "),t.Ob(40,"span",11),t.rc(41),t.Nb(),t.rc(42," "),t.Ob(43,"span",10),t.rc(44,"from"),t.Nb(),t.rc(45," "),t.Ob(46,"span",12),t.rc(47,"'@travetto/context/src/service'"),t.Nb(),t.Ob(48,"span",11),t.rc(49,";"),t.Nb(),t.rc(50,"\n"),t.Ob(51,"span",10),t.rc(52,"import"),t.Nb(),t.rc(53," "),t.Ob(54,"span",11),t.rc(55),t.Nb(),t.rc(56," WithAsyncContext "),t.Ob(57,"span",11),t.rc(58),t.Nb(),t.rc(59," "),t.Ob(60,"span",10),t.rc(61,"from"),t.Nb(),t.rc(62," "),t.Ob(63,"span",12),t.rc(64,"'@travetto/context/src/decorator'"),t.Nb(),t.Ob(65,"span",11),t.rc(66,";"),t.Nb(),t.rc(67,"\n\n"),t.Ob(68,"span",10),t.rc(69,"export"),t.Nb(),t.rc(70," "),t.Ob(71,"span",10),t.rc(72,"class"),t.Nb(),t.rc(73," "),t.Ob(74,"span",13),t.rc(75,"ContextAwareService"),t.Nb(),t.rc(76," "),t.Ob(77,"span",11),t.rc(78),t.Nb(),t.rc(79,"\n\n  "),t.Ob(80,"span",10),t.rc(81,"constructor"),t.Nb(),t.Ob(82,"span",11),t.rc(83,"("),t.Nb(),t.Ob(84,"span",14),t.Ob(85,"span",10),t.rc(86,"public"),t.Nb(),t.rc(87," context"),t.Ob(88,"span",15),t.rc(89,":"),t.Nb(),t.rc(90," AsyncContext"),t.Nb(),t.Ob(91,"span",11),t.rc(92,")"),t.Nb(),t.rc(93," "),t.Ob(94,"span",11),t.rc(95),t.Nb(),t.rc(96," "),t.Ob(97,"span",11),t.rc(98),t.Nb(),t.rc(99,"\n\n  @"),t.Ob(100,"span",16),t.rc(101,"WithAsyncContext"),t.Nb(),t.Ob(102,"span",11),t.rc(103,"("),t.Nb(),t.Ob(104,"span",11),t.rc(105,")"),t.Nb(),t.rc(106,"\n  "),t.Ob(107,"span",10),t.rc(108,"async"),t.Nb(),t.rc(109," "),t.Ob(110,"span",3),t.rc(111,"complexOperator"),t.Nb(),t.Ob(112,"span",11),t.rc(113,"("),t.Nb(),t.Ob(114,"span",14),t.rc(115,"name"),t.Ob(116,"span",15),t.rc(117,":"),t.Nb(),t.rc(118," "),t.Ob(119,"span",17),t.rc(120,"string"),t.Nb(),t.Nb(),t.Ob(121,"span",11),t.rc(122,")"),t.Nb(),t.rc(123," "),t.Ob(124,"span",11),t.rc(125),t.Nb(),t.rc(126,"\n    "),t.Ob(127,"span",10),t.rc(128,"this"),t.Nb(),t.Ob(129,"span",11),t.rc(130,"."),t.Nb(),t.rc(131,"context"),t.Ob(132,"span",11),t.rc(133,"."),t.Nb(),t.Ob(134,"span",10),t.rc(135,"set"),t.Nb(),t.Ob(136,"span",11),t.rc(137,"("),t.Nb(),t.Ob(138,"span",11),t.rc(139),t.Nb(),t.rc(140," name "),t.Ob(141,"span",11),t.rc(142),t.Nb(),t.Ob(143,"span",11),t.rc(144,")"),t.Nb(),t.Ob(145,"span",11),t.rc(146,";"),t.Nb(),t.rc(147,"\n    "),t.Ob(148,"span",10),t.rc(149,"await"),t.Nb(),t.rc(150," "),t.Ob(151,"span",10),t.rc(152,"this"),t.Nb(),t.Ob(153,"span",11),t.rc(154,"."),t.Nb(),t.Ob(155,"span",3),t.rc(156,"additionalOp"),t.Nb(),t.Ob(157,"span",11),t.rc(158,"("),t.Nb(),t.Ob(159,"span",12),t.rc(160,"'extra'"),t.Nb(),t.Ob(161,"span",11),t.rc(162,")"),t.Nb(),t.Ob(163,"span",11),t.rc(164,";"),t.Nb(),t.rc(165,"\n    "),t.Ob(166,"span",10),t.rc(167,"await"),t.Nb(),t.rc(168," "),t.Ob(169,"span",10),t.rc(170,"this"),t.Nb(),t.Ob(171,"span",11),t.rc(172,"."),t.Nb(),t.Ob(173,"span",3),t.rc(174,"finalOp"),t.Nb(),t.Ob(175,"span",11),t.rc(176,"("),t.Nb(),t.Ob(177,"span",11),t.rc(178,")"),t.Nb(),t.Ob(179,"span",11),t.rc(180,";"),t.Nb(),t.rc(181,"\n  "),t.Ob(182,"span",11),t.rc(183),t.Nb(),t.rc(184,"\n\n  "),t.Ob(185,"span",10),t.rc(186,"async"),t.Nb(),t.rc(187," "),t.Ob(188,"span",3),t.rc(189,"additionalOp"),t.Nb(),t.Ob(190,"span",11),t.rc(191,"("),t.Nb(),t.Ob(192,"span",14),t.rc(193,"additional"),t.Ob(194,"span",15),t.rc(195,":"),t.Nb(),t.rc(196," "),t.Ob(197,"span",17),t.rc(198,"string"),t.Nb(),t.Nb(),t.Ob(199,"span",11),t.rc(200,")"),t.Nb(),t.rc(201," "),t.Ob(202,"span",11),t.rc(203),t.Nb(),t.rc(204,"\n    "),t.Ob(205,"span",10),t.rc(206,"const"),t.Nb(),t.rc(207," "),t.Ob(208,"span",11),t.rc(209),t.Nb(),t.rc(210," name "),t.Ob(211,"span",11),t.rc(212),t.Nb(),t.rc(213," "),t.Ob(214,"span",15),t.rc(215,"="),t.Nb(),t.rc(216," "),t.Ob(217,"span",10),t.rc(218,"this"),t.Nb(),t.Ob(219,"span",11),t.rc(220,"."),t.Nb(),t.rc(221,"context"),t.Ob(222,"span",11),t.rc(223,"."),t.Nb(),t.Ob(224,"span",10),t.rc(225,"get"),t.Nb(),t.Ob(226,"span",11),t.rc(227,"("),t.Nb(),t.Ob(228,"span",11),t.rc(229,")"),t.Nb(),t.Ob(230,"span",11),t.rc(231,";"),t.Nb(),t.rc(232,"\n    "),t.Ob(233,"span",10),t.rc(234,"this"),t.Nb(),t.Ob(235,"span",11),t.rc(236,"."),t.Nb(),t.rc(237,"context"),t.Ob(238,"span",11),t.rc(239,"."),t.Nb(),t.Ob(240,"span",10),t.rc(241,"set"),t.Nb(),t.Ob(242,"span",11),t.rc(243,"("),t.Nb(),t.Ob(244,"span",11),t.rc(245),t.Nb(),t.rc(246," name"),t.Ob(247,"span",15),t.rc(248,":"),t.Nb(),t.rc(249," "),t.Ob(250,"span",18),t.Ob(251,"span",19),t.rc(252,"`"),t.Nb(),t.Ob(253,"span",20),t.Ob(254,"span",21),t.rc(255),t.Nb(),t.rc(256,"name"),t.Ob(257,"span",21),t.rc(258),t.Nb(),t.Nb(),t.Ob(259,"span",12),t.rc(260," "),t.Nb(),t.Ob(261,"span",20),t.Ob(262,"span",21),t.rc(263),t.Nb(),t.rc(264,"additional"),t.Ob(265,"span",21),t.rc(266),t.Nb(),t.Nb(),t.Ob(267,"span",19),t.rc(268,"`"),t.Nb(),t.Nb(),t.rc(269," "),t.Ob(270,"span",11),t.rc(271),t.Nb(),t.Ob(272,"span",11),t.rc(273,")"),t.Nb(),t.Ob(274,"span",11),t.rc(275,";"),t.Nb(),t.rc(276,"\n  "),t.Ob(277,"span",11),t.rc(278),t.Nb(),t.rc(279,"\n\n  "),t.Ob(280,"span",10),t.rc(281,"async"),t.Nb(),t.rc(282," "),t.Ob(283,"span",3),t.rc(284,"finalOp"),t.Nb(),t.Ob(285,"span",11),t.rc(286,"("),t.Nb(),t.Ob(287,"span",11),t.rc(288,")"),t.Nb(),t.rc(289," "),t.Ob(290,"span",11),t.rc(291),t.Nb(),t.rc(292,"\n    "),t.Ob(293,"span",10),t.rc(294,"const"),t.Nb(),t.rc(295," "),t.Ob(296,"span",11),t.rc(297),t.Nb(),t.rc(298," name "),t.Ob(299,"span",11),t.rc(300),t.Nb(),t.rc(301," "),t.Ob(302,"span",15),t.rc(303,"="),t.Nb(),t.rc(304," "),t.Ob(305,"span",10),t.rc(306,"this"),t.Nb(),t.Ob(307,"span",11),t.rc(308,"."),t.Nb(),t.rc(309,"context"),t.Ob(310,"span",11),t.rc(311,"."),t.Nb(),t.Ob(312,"span",10),t.rc(313,"get"),t.Nb(),t.Ob(314,"span",11),t.rc(315,"("),t.Nb(),t.Ob(316,"span",11),t.rc(317,")"),t.Nb(),t.Ob(318,"span",11),t.rc(319,";"),t.Nb(),t.rc(320,"\n    "),t.Ob(321,"span",22),t.rc(322,"// Use name"),t.Nb(),t.rc(323,"\n  "),t.Ob(324,"span",11),t.rc(325),t.Nb(),t.rc(326,"\n"),t.Ob(327,"span",11),t.rc(328),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(329," The decorator also allows for a priming of the contextual information. This is generally useful for system generated operations that are not initiated by a user. "),t.Ob(330,"figure",7),t.Ob(331,"figcaption",7),t.rc(332,"Usage of context within a service "),t.Ob(333,"cite"),t.Ob(334,"a",23),t.rc(335,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(336,"pre"),t.Ob(337,"code",9),t.Ob(338,"span",10),t.rc(339,"import"),t.Nb(),t.rc(340," "),t.Ob(341,"span",11),t.rc(342),t.Nb(),t.rc(343," AsyncContext "),t.Ob(344,"span",11),t.rc(345),t.Nb(),t.rc(346," "),t.Ob(347,"span",10),t.rc(348,"from"),t.Nb(),t.rc(349," "),t.Ob(350,"span",12),t.rc(351,"'@travetto/context/src/service'"),t.Nb(),t.Ob(352,"span",11),t.rc(353,";"),t.Nb(),t.rc(354,"\n"),t.Ob(355,"span",10),t.rc(356,"import"),t.Nb(),t.rc(357," "),t.Ob(358,"span",11),t.rc(359),t.Nb(),t.rc(360," WithAsyncContext "),t.Ob(361,"span",11),t.rc(362),t.Nb(),t.rc(363," "),t.Ob(364,"span",10),t.rc(365,"from"),t.Nb(),t.rc(366," "),t.Ob(367,"span",12),t.rc(368,"'@travetto/context/src/decorator'"),t.Nb(),t.Ob(369,"span",11),t.rc(370,";"),t.Nb(),t.rc(371,"\n\n"),t.Ob(372,"span",10),t.rc(373,"export"),t.Nb(),t.rc(374," "),t.Ob(375,"span",10),t.rc(376,"class"),t.Nb(),t.rc(377," "),t.Ob(378,"span",13),t.rc(379,"SystemInitiatedContext"),t.Nb(),t.rc(380," "),t.Ob(381,"span",11),t.rc(382),t.Nb(),t.rc(383,"\n\n  "),t.Ob(384,"span",10),t.rc(385,"constructor"),t.Nb(),t.Ob(386,"span",11),t.rc(387,"("),t.Nb(),t.Ob(388,"span",14),t.Ob(389,"span",10),t.rc(390,"public"),t.Nb(),t.rc(391," context"),t.Ob(392,"span",15),t.rc(393,":"),t.Nb(),t.rc(394," AsyncContext"),t.Nb(),t.Ob(395,"span",11),t.rc(396,")"),t.Nb(),t.rc(397," "),t.Ob(398,"span",11),t.rc(399),t.Nb(),t.rc(400," "),t.Ob(401,"span",11),t.rc(402),t.Nb(),t.rc(403,"\n\n  @"),t.Ob(404,"span",16),t.rc(405,"WithAsyncContext"),t.Nb(),t.Ob(406,"span",11),t.rc(407,"("),t.Nb(),t.Ob(408,"span",11),t.rc(409),t.Nb(),t.rc(410,"\n    user"),t.Ob(411,"span",15),t.rc(412,":"),t.Nb(),t.rc(413," "),t.Ob(414,"span",12),t.rc(415,"'system'"),t.Nb(),t.Ob(416,"span",11),t.rc(417,","),t.Nb(),t.rc(418,"\n    uid"),t.Ob(419,"span",15),t.rc(420,":"),t.Nb(),t.rc(421," "),t.Ob(422,"span",24),t.rc(423,"20"),t.Nb(),t.rc(424,"\n  "),t.Ob(425,"span",11),t.rc(426),t.Nb(),t.Ob(427,"span",11),t.rc(428,")"),t.Nb(),t.rc(429,"\n  "),t.Ob(430,"span",10),t.rc(431,"async"),t.Nb(),t.rc(432," "),t.Ob(433,"span",3),t.rc(434,"runJob"),t.Nb(),t.Ob(435,"span",11),t.rc(436,"("),t.Nb(),t.Ob(437,"span",14),t.rc(438,"name"),t.Ob(439,"span",15),t.rc(440,":"),t.Nb(),t.rc(441," "),t.Ob(442,"span",17),t.rc(443,"string"),t.Nb(),t.Nb(),t.Ob(444,"span",11),t.rc(445,")"),t.Nb(),t.rc(446," "),t.Ob(447,"span",11),t.rc(448),t.Nb(),t.rc(449,"\n    "),t.Ob(450,"span",17),t.rc(451,"console"),t.Nb(),t.Ob(452,"span",11),t.rc(453,"."),t.Nb(),t.Ob(454,"span",3),t.rc(455,"log"),t.Nb(),t.Ob(456,"span",11),t.rc(457,"("),t.Nb(),t.Ob(458,"span",18),t.Ob(459,"span",19),t.rc(460,"`"),t.Nb(),t.Ob(461,"span",12),t.rc(462,"User="),t.Nb(),t.Ob(463,"span",20),t.Ob(464,"span",21),t.rc(465),t.Nb(),t.Ob(466,"span",10),t.rc(467,"this"),t.Nb(),t.Ob(468,"span",11),t.rc(469,"."),t.Nb(),t.rc(470,"context"),t.Ob(471,"span",11),t.rc(472,"."),t.Nb(),t.Ob(473,"span",10),t.rc(474,"get"),t.Nb(),t.Ob(475,"span",11),t.rc(476,"("),t.Nb(),t.Ob(477,"span",11),t.rc(478,")"),t.Nb(),t.Ob(479,"span",11),t.rc(480,"."),t.Nb(),t.rc(481,"user"),t.Ob(482,"span",21),t.rc(483),t.Nb(),t.Nb(),t.Ob(484,"span",12),t.rc(485,", jobName="),t.Nb(),t.Ob(486,"span",20),t.Ob(487,"span",21),t.rc(488),t.Nb(),t.rc(489,"name"),t.Ob(490,"span",21),t.rc(491),t.Nb(),t.Nb(),t.Ob(492,"span",19),t.rc(493,"`"),t.Nb(),t.Nb(),t.Ob(494,"span",11),t.rc(495,")"),t.Nb(),t.Ob(496,"span",11),t.rc(497,";"),t.Nb(),t.rc(498,"\n  "),t.Ob(499,"span",11),t.rc(500),t.Nb(),t.rc(501,"\n"),t.Ob(502,"span",11),t.rc(503),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(504,"h2",25),t.rc(505,"Extension - Rest"),t.Nb(),t.rc(506," Within the "),t.Ob(507,"a",26),t.rc(508,"RESTful API"),t.Nb(),t.rc(509," module, it can be challening to share context across the various layers that may be touched by a request. This module provides "),t.Ob(510,"a",27),t.rc(511,"AsyncContextInterceptor"),t.Nb(),t.rc(512," to create a data store that will be private to an individual request. This is used by "),t.Ob(513,"a",28),t.rc(514,"Rest Auth"),t.Nb(),t.rc(515," to store authentiated user information for built-in authorization and permission validation. "),t.Nb()),2&r&&(t.zb(38),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(41),t.sc("}"),t.zb(20),t.sc("{"),t.zb(6),t.sc("{"),t.zb(3),t.sc("}"),t.zb(33),t.sc("{"),t.zb(10),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.sc("}"),t.zb(7),t.sc("}"),t.zb(13),t.sc("{"),t.zb(6),t.sc("{"),t.zb(3),t.sc("}"),t.zb(25),t.sc("}"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(7),t.sc("{"),t.zb(17),t.sc("}"),t.zb(22),t.sc("{"),t.zb(17),t.tc("$","{",""),t.zb(18),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),T=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-registry"]],decls:310,vars:16,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["id","flows"],["id","initial-flows"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/registry/src/service/root.ts",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/registry/alt/docs/src/registry.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","operator"],[1,"token","builtin"],[1,"token","comment"],[1,"token","constant"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/registry/src/service/metadata.ts#L13",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/schema/src/service/registry.ts",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/src/registry.ts",1,"source-link"],["id","live-flow"],["href","/docs/compiler","title","Node-integration of Typescript Compiler with advanced functionality for detecting changes in classes and methods.",1,"module-link"],["id","supporting-metadata"],[1,"item","input"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Registry "),t.Ob(3,"small"),t.rc(4,"Patterns and utilities for handling registration of metadata and functionality for run-time use"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/registry "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/registry"),t.Nb(),t.Nb(),t.Nb(),t.rc(16,' This module is the backbone for all "discovered" and "registered" behaviors within the framework. This is primarily used for building modules within the framework and not directly useful for application development. '),t.Ob(17,"h2",4),t.rc(18,"Flows"),t.Nb(),t.rc(19,"\nRegistration, within the framework flows throw two main use cases: "),t.Ob(20,"h3",5),t.rc(21,"Initial Flows"),t.Nb(),t.rc(22," The primary flow occurs on initialization of the application. At that point, the module will: "),t.Ob(23,"ol"),t.Ob(24,"li"),t.rc(25,"Initialize "),t.Ob(26,"a",6),t.rc(27,"RootRegistry"),t.Nb(),t.rc(28," and will automatically register/load all relevant files"),t.Nb(),t.Ob(29,"li"),t.rc(30,"As files are imported, decorators within the files will record various metadata relevant to the respective registries"),t.Nb(),t.Ob(31,"li"),t.rc(32,"When all files are processed, the "),t.Ob(33,"a",6),t.rc(34,"RootRegistry"),t.Nb(),t.rc(35," is finished, and it will signal to anything waiting on registered data that its free to use it."),t.Nb(),t.Nb(),t.rc(36," This flow ensures all files are loaded and processed before application starts. A sample registry could like: "),t.Ob(37,"figure",7),t.Ob(38,"figcaption",7),t.rc(39,"Sample Registry "),t.Ob(40,"cite"),t.Ob(41,"a",8),t.rc(42,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(43,"pre"),t.Ob(44,"code",9),t.Ob(45,"span",10),t.rc(46,"import"),t.Nb(),t.rc(47," "),t.Ob(48,"span",11),t.rc(49),t.Nb(),t.rc(50," MetadataRegistry "),t.Ob(51,"span",11),t.rc(52),t.Nb(),t.rc(53," "),t.Ob(54,"span",10),t.rc(55,"from"),t.Nb(),t.rc(56," "),t.Ob(57,"span",12),t.rc(58,"'@travetto/registry/src/service/metadata'"),t.Nb(),t.Ob(59,"span",11),t.rc(60,";"),t.Nb(),t.rc(61,"\n"),t.Ob(62,"span",10),t.rc(63,"import"),t.Nb(),t.rc(64," "),t.Ob(65,"span",11),t.rc(66),t.Nb(),t.rc(67," Class "),t.Ob(68,"span",11),t.rc(69),t.Nb(),t.rc(70," "),t.Ob(71,"span",10),t.rc(72,"from"),t.Nb(),t.rc(73," "),t.Ob(74,"span",12),t.rc(75,"'@travetto/registry/src/types'"),t.Nb(),t.Ob(76,"span",11),t.rc(77,";"),t.Nb(),t.rc(78,"\n\n"),t.Ob(79,"span",10),t.rc(80,"interface"),t.Nb(),t.rc(81," "),t.Ob(82,"span",13),t.rc(83,"Group"),t.Nb(),t.rc(84," "),t.Ob(85,"span",11),t.rc(86),t.Nb(),t.rc(87,"\n  "),t.Ob(88,"span",10),t.rc(89,"class"),t.Nb(),t.Ob(90,"span",14),t.rc(91,":"),t.Nb(),t.rc(92," Class"),t.Ob(93,"span",11),t.rc(94,";"),t.Nb(),t.rc(95,"\n  name"),t.Ob(96,"span",14),t.rc(97,":"),t.Nb(),t.rc(98," "),t.Ob(99,"span",15),t.rc(100,"string"),t.Nb(),t.Ob(101,"span",11),t.rc(102,";"),t.Nb(),t.rc(103,"\n"),t.Ob(104,"span",11),t.rc(105),t.Nb(),t.rc(106,"\n\n"),t.Ob(107,"span",10),t.rc(108,"interface"),t.Nb(),t.rc(109," "),t.Ob(110,"span",13),t.rc(111,"Child"),t.Nb(),t.rc(112," "),t.Ob(113,"span",11),t.rc(114),t.Nb(),t.rc(115,"\n  name"),t.Ob(116,"span",14),t.rc(117,":"),t.Nb(),t.rc(118," "),t.Ob(119,"span",15),t.rc(120,"string"),t.Nb(),t.Ob(121,"span",11),t.rc(122,";"),t.Nb(),t.rc(123,"\n  method"),t.Ob(124,"span",14),t.rc(125,":"),t.Nb(),t.rc(126," "),t.Ob(127,"span",15),t.rc(128,"Function"),t.Nb(),t.Ob(129,"span",11),t.rc(130,";"),t.Nb(),t.rc(131,"\n"),t.Ob(132,"span",11),t.rc(133),t.Nb(),t.rc(134,"\n\n"),t.Ob(135,"span",10),t.rc(136,"export"),t.Nb(),t.rc(137," "),t.Ob(138,"span",10),t.rc(139,"class"),t.Nb(),t.rc(140," "),t.Ob(141,"span",13),t.rc(142,"SampleRegistry"),t.Nb(),t.rc(143," "),t.Ob(144,"span",10),t.rc(145,"extends"),t.Nb(),t.rc(146," "),t.Ob(147,"span",13),t.rc(148,"MetadataRegistry"),t.Nb(),t.Ob(149,"span",14),t.rc(150,"<"),t.Nb(),t.rc(151,"Group"),t.Ob(152,"span",11),t.rc(153,","),t.Nb(),t.rc(154," Child"),t.Ob(155,"span",14),t.rc(156,">"),t.Nb(),t.rc(157," "),t.Ob(158,"span",11),t.rc(159),t.Nb(),t.rc(160,"\n  "),t.Ob(161,"span",16),t.rc(162,"/**\n   * Finalize class after all metadata is collected\n   */"),t.Nb(),t.rc(163,"\n  onInstallFinalize"),t.Ob(164,"span",14),t.rc(165,"<"),t.Nb(),t.Ob(166,"span",17),t.rc(167,"T"),t.Nb(),t.Ob(168,"span",14),t.rc(169,">"),t.Nb(),t.Ob(170,"span",11),t.rc(171,"("),t.Nb(),t.rc(172,"cls"),t.Ob(173,"span",14),t.rc(174,":"),t.Nb(),t.rc(175," Class"),t.Ob(176,"span",14),t.rc(177,"<"),t.Nb(),t.Ob(178,"span",17),t.rc(179,"T"),t.Nb(),t.Ob(180,"span",14),t.rc(181,">"),t.Nb(),t.Ob(182,"span",11),t.rc(183,")"),t.Nb(),t.Ob(184,"span",14),t.rc(185,":"),t.Nb(),t.rc(186," Group "),t.Ob(187,"span",11),t.rc(188),t.Nb(),t.rc(189,"\n    "),t.Ob(190,"span",10),t.rc(191,"return"),t.Nb(),t.rc(192," "),t.Ob(193,"span",10),t.rc(194,"this"),t.Nb(),t.Ob(195,"span",11),t.rc(196,"."),t.Nb(),t.Ob(197,"span",3),t.rc(198,"getOrCreatePending"),t.Nb(),t.Ob(199,"span",11),t.rc(200,"("),t.Nb(),t.rc(201,"cls"),t.Ob(202,"span",11),t.rc(203,")"),t.Nb(),t.rc(204," "),t.Ob(205,"span",10),t.rc(206,"as"),t.Nb(),t.rc(207," Group"),t.Ob(208,"span",11),t.rc(209,";"),t.Nb(),t.rc(210,"\n  "),t.Ob(211,"span",11),t.rc(212),t.Nb(),t.rc(213,"\n\n  "),t.Ob(214,"span",16),t.rc(215,"/**\n   * Create scaffolding on first encounter of a class\n   */"),t.Nb(),t.rc(216,"\n  "),t.Ob(217,"span",3),t.rc(218,"createPending"),t.Nb(),t.Ob(219,"span",11),t.rc(220,"("),t.Nb(),t.rc(221,"cls"),t.Ob(222,"span",14),t.rc(223,":"),t.Nb(),t.rc(224," Class"),t.Ob(225,"span",14),t.rc(226,"<"),t.Nb(),t.Ob(227,"span",15),t.rc(228,"any"),t.Nb(),t.Ob(229,"span",14),t.rc(230,">"),t.Nb(),t.Ob(231,"span",11),t.rc(232,")"),t.Nb(),t.Ob(233,"span",14),t.rc(234,":"),t.Nb(),t.rc(235," Partial"),t.Ob(236,"span",14),t.rc(237,"<"),t.Nb(),t.rc(238,"Group"),t.Ob(239,"span",14),t.rc(240,">"),t.Nb(),t.rc(241," "),t.Ob(242,"span",11),t.rc(243),t.Nb(),t.rc(244,"\n    "),t.Ob(245,"span",10),t.rc(246,"return"),t.Nb(),t.rc(247," "),t.Ob(248,"span",11),t.rc(249),t.Nb(),t.rc(250,"\n      "),t.Ob(251,"span",10),t.rc(252,"class"),t.Nb(),t.Ob(253,"span",14),t.rc(254,":"),t.Nb(),t.rc(255," cls"),t.Ob(256,"span",11),t.rc(257,","),t.Nb(),t.rc(258,"\n      name"),t.Ob(259,"span",14),t.rc(260,":"),t.Nb(),t.rc(261," cls"),t.Ob(262,"span",11),t.rc(263,"."),t.Nb(),t.rc(264,"name\n    "),t.Ob(265,"span",11),t.rc(266),t.Nb(),t.Ob(267,"span",11),t.rc(268,";"),t.Nb(),t.rc(269,"\n  "),t.Ob(270,"span",11),t.rc(271),t.Nb(),t.rc(272,"\n"),t.Ob(273,"span",11),t.rc(274),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(275," The registry is a "),t.Ob(276,"a",18),t.rc(277,"MetadataRegistry"),t.Nb(),t.rc(278," that similar to the "),t.Ob(279,"a",19),t.rc(280,"SchemaRegistry"),t.Nb(),t.rc(281," and the "),t.Ob(282,"a",20),t.rc(283,"DependencyRegistry"),t.Nb(),t.rc(284,". "),t.Ob(285,"h3",21),t.rc(286,"Live Flow"),t.Nb(),t.rc(287,"\nAt runtime, the registry is designed to listen for changes and to propagate the changes as necessary. In many cases the same file is handled by multiple registries. As the "),t.Ob(288,"a",22),t.rc(289,"Compiler"),t.Nb(),t.rc(290," notifies that a file has been changed and recompiled, the "),t.Ob(291,"a",6),t.rc(292,"RootRegistry"),t.Nb(),t.rc(293," will pick it up, and process it accordingly. "),t.Ob(294,"h2",23),t.rc(295,"Supporting Metadata"),t.Nb(),t.rc(296," For the registries to work properly, metadata needs to be collected about files and classes to uniquely identify them, especially across file reloads for the live flow. To achieve this, every "),t.Ob(297,"code",24),t.rc(298,"class"),t.Nb(),t.rc(299," is decorated with additional fields. The data that is added is: "),t.Ob(300,"ul"),t.Ob(301,"li"),t.Ob(302,"code",24),t.rc(303,"\u1695file"),t.Nb(),t.rc(304," denotes the fully qualified path name of the class"),t.Nb(),t.Ob(305,"li"),t.Ob(306,"code",24),t.rc(307,"\u1695id"),t.Nb(),t.rc(308," represents a computed id that is tied to the file/class combination"),t.Nb(),t.Nb(),t.rc(309,"; "),t.Nb()),2&r&&(t.zb(49),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(19),t.sc("}"),t.zb(9),t.sc("{"),t.zb(19),t.sc("}"),t.zb(26),t.sc("{"),t.zb(29),t.sc("{"),t.zb(24),t.sc("}"),t.zb(31),t.sc("{"),t.zb(6),t.sc("{"),t.zb(17),t.sc("}"),t.zb(5),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),E=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-log"]],decls:947,vars:48,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/base/src/console.ts",1,"source-link"],["href","/docs/base","title","Application phase management, environment config and common utilities for travetto applications.",1,"module-link"],["target","_blank","href","https://nodejs.org/api/console.html",1,"external-link"],[1,"item","method"],[1,"item","input"],[1,"note"],["id","filtering-debug"],["target","_blank","href","https://www.npmjs.com/package/debug",1,"external-link"],[1,"terminal"],[1,"token","comment"],[1,"token","assign-left","variable"],[1,"token","operator"],["id","how-logging-is-instrumented"],["href","/docs/compiler","title","Node-integration of Typescript Compiler with advanced functionality for detecting changes in classes and methods.",1,"module-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/log/alt/docs/src/transpile.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","builtin"],[1,"token","string"],[1,"token","number"],[1,"language-javascript"],[1,"token","boolean"],["id","sample-output"],[1,"item","path"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/log/alt/docs/src/output.ts"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Logging "),t.Ob(3,"small"),t.rc(4,"Logging framework that integrates at the console.log level."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/log "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/log"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides logging functionality, building upon "),t.Ob(17,"a",4),t.rc(18,"ConsoleManager"),t.Nb(),t.rc(19," in the "),t.Ob(20,"a",5),t.rc(21,"Base"),t.Nb(),t.rc(22," module. This is all ultimately built upon "),t.Ob(23,"a",6),t.rc(24,"console"),t.Nb(),t.rc(25," operations. The supported operations are:\n"),t.Ob(26,"ul"),t.Ob(27,"li"),t.Ob(28,"code",7),t.rc(29,"console.fatal"),t.Nb(),t.rc(30," which logs at the "),t.Ob(31,"code",8),t.rc(32,"FATAL"),t.Nb(),t.rc(33," level"),t.Nb(),t.Ob(34,"li"),t.Ob(35,"code",7),t.rc(36,"console.error"),t.Nb(),t.rc(37," which logs at the "),t.Ob(38,"code",8),t.rc(39,"ERROR"),t.Nb(),t.rc(40," level"),t.Nb(),t.Ob(41,"li"),t.Ob(42,"code",7),t.rc(43,"console.warn"),t.Nb(),t.rc(44," which logs at the "),t.Ob(45,"code",8),t.rc(46,"WARN"),t.Nb(),t.rc(47," level"),t.Nb(),t.Ob(48,"li"),t.Ob(49,"code",7),t.rc(50,"console.info"),t.Nb(),t.rc(51," which logs at the "),t.Ob(52,"code",8),t.rc(53,"INFO"),t.Nb(),t.rc(54," level"),t.Nb(),t.Ob(55,"li"),t.Ob(56,"code",7),t.rc(57,"console.debug"),t.Nb(),t.rc(58," which logs at the "),t.Ob(59,"code",8),t.rc(60,"DEBUG"),t.Nb(),t.rc(61," level"),t.Nb(),t.Ob(62,"li"),t.Ob(63,"code",7),t.rc(64,"console.log"),t.Nb(),t.rc(65," which logs at the "),t.Ob(66,"code",8),t.rc(67,"INFO"),t.Nb(),t.rc(68," level"),t.Nb(),t.Nb(),t.Ob(69,"p",9),t.Ob(70,"strong"),t.rc(71,"Note"),t.Nb(),t.rc(72," All other console methods are excluded, specifically "),t.Ob(73,"code",7),t.rc(74,"trace"),t.Nb(),t.rc(75,", "),t.Ob(76,"code",7),t.rc(77,"inspect"),t.Nb(),t.rc(78,", "),t.Ob(79,"code",7),t.rc(80,"dir"),t.Nb(),t.rc(81,", "),t.Ob(82,"code",7),t.rc(83,"time"),t.Nb(),t.rc(84,"/"),t.Ob(85,"code",7),t.rc(86,"timeEnd"),t.Nb(),t.Nb(),t.Ob(87,"h2",10),t.rc(88,"Filtering Debug"),t.Nb(),t.rc(89," The "),t.Ob(90,"code",8),t.rc(91,"debug"),t.Nb(),t.rc(92," messages can be filtered using the patterns from the "),t.Ob(93,"a",11),t.rc(94,"debug"),t.Nb(),t.rc(95,". You can specify wild cards to only "),t.Ob(96,"code",8),t.rc(97,"DEBUG"),t.Nb(),t.rc(98," specific modules, folders or files. You can specify multiple, and you can also add negations to exclude specific packages. "),t.Ob(99,"figure",12),t.Ob(100,"figcaption",12),t.rc(101,"Sample environment flags "),t.Nb(),t.Ob(102,"pre"),t.Ob(103,"code",2),t.Ob(104,"span",13),t.rc(105,"# Debug"),t.Nb(),t.rc(106,"\n$ "),t.Ob(107,"span",14),t.rc(108,"DEBUG"),t.Nb(),t.Ob(109,"span",15),t.rc(110,"="),t.Nb(),t.rc(111,"@app:*,-@trv:model npx travetto run app\n$ "),t.Ob(112,"span",14),t.rc(113,"DEBUG"),t.Nb(),t.Ob(114,"span",15),t.rc(115,"="),t.Nb(),t.rc(116,"-@trv:registry npx travetto run app\n$ "),t.Ob(117,"span",14),t.rc(118,"DEBUG"),t.Nb(),t.Ob(119,"span",15),t.rc(120,"="),t.Nb(),t.rc(121,"@trv:rest npx travetto run app\n$ "),t.Ob(122,"span",14),t.rc(123,"DEBUG"),t.Nb(),t.Ob(124,"span",15),t.rc(125,"="),t.Nb(),t.rc(126,"@trv:*,-@trv:model npx travetto run app"),t.Nb(),t.Nb(),t.Nb(),t.Ob(127,"p",9),t.Ob(128,"strong"),t.rc(129,"Note"),t.Nb(),t.rc(130," In production mode, all "),t.Ob(131,"code",7),t.rc(132,"console.debug"),t.Nb(),t.rc(133," invocations are compiled away for performance/security reasons. This means that the code is actually removed, and will not execute."),t.Nb(),t.Ob(134,"h2",16),t.rc(135,"How Logging is Instrumented"),t.Nb(),t.rc(136," All of the logging instrumentation occurs at transpilation time. All "),t.Ob(137,"code",7),t.rc(138,"console.*"),t.Nb(),t.rc(139," methods are replaced with a call to a globally defined variable that delegates to the "),t.Ob(140,"a",4),t.rc(141,"ConsoleManager"),t.Nb(),t.rc(142,". This module, hooks into the "),t.Ob(143,"a",4),t.rc(144,"ConsoleManager"),t.Nb(),t.rc(145," and receives all logging events from all files compiled by the "),t.Ob(146,"a",17),t.rc(147,"Compiler"),t.Nb(),t.rc(148," module. A sample of the instrumentation would be: "),t.Ob(149,"figure",18),t.Ob(150,"figcaption",18),t.rc(151,"Sample logging at various levels "),t.Ob(152,"cite"),t.Ob(153,"a",19),t.rc(154,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(155,"pre"),t.Ob(156,"code",20),t.Ob(157,"span",21),t.rc(158,"export"),t.Nb(),t.rc(159," "),t.Ob(160,"span",21),t.rc(161,"function"),t.Nb(),t.rc(162," "),t.Ob(163,"span",3),t.rc(164,"work"),t.Nb(),t.Ob(165,"span",22),t.rc(166,"("),t.Nb(),t.Ob(167,"span",22),t.rc(168,")"),t.Nb(),t.rc(169," "),t.Ob(170,"span",22),t.rc(171),t.Nb(),t.rc(172,"\n  "),t.Ob(173,"span",23),t.rc(174,"console"),t.Nb(),t.Ob(175,"span",22),t.rc(176,"."),t.Nb(),t.Ob(177,"span",3),t.rc(178,"debug"),t.Nb(),t.Ob(179,"span",22),t.rc(180,"("),t.Nb(),t.Ob(181,"span",24),t.rc(182,"'Start Work'"),t.Nb(),t.Ob(183,"span",22),t.rc(184,")"),t.Nb(),t.Ob(185,"span",22),t.rc(186,";"),t.Nb(),t.rc(187,"\n\n  "),t.Ob(188,"span",21),t.rc(189,"try"),t.Nb(),t.rc(190," "),t.Ob(191,"span",22),t.rc(192),t.Nb(),t.rc(193,"\n    "),t.Ob(194,"span",25),t.rc(195,"1"),t.Nb(),t.rc(196," "),t.Ob(197,"span",15),t.rc(198,"/"),t.Nb(),t.rc(199," "),t.Ob(200,"span",25),t.rc(201,"0"),t.Nb(),t.Ob(202,"span",22),t.rc(203,";"),t.Nb(),t.rc(204,"\n  "),t.Ob(205,"span",22),t.rc(206),t.Nb(),t.rc(207," "),t.Ob(208,"span",21),t.rc(209,"catch"),t.Nb(),t.rc(210," "),t.Ob(211,"span",22),t.rc(212,"("),t.Nb(),t.rc(213,"e"),t.Ob(214,"span",22),t.rc(215,")"),t.Nb(),t.rc(216," "),t.Ob(217,"span",22),t.rc(218),t.Nb(),t.rc(219,"\n    "),t.Ob(220,"span",23),t.rc(221,"console"),t.Nb(),t.Ob(222,"span",22),t.rc(223,"."),t.Nb(),t.Ob(224,"span",3),t.rc(225,"error"),t.Nb(),t.Ob(226,"span",22),t.rc(227,"("),t.Nb(),t.rc(228,"e"),t.Ob(229,"span",22),t.rc(230,")"),t.Nb(),t.Ob(231,"span",22),t.rc(232,";"),t.Nb(),t.rc(233,"\n  "),t.Ob(234,"span",22),t.rc(235),t.Nb(),t.rc(236,"\n  "),t.Ob(237,"span",23),t.rc(238,"console"),t.Nb(),t.Ob(239,"span",22),t.rc(240,"."),t.Nb(),t.Ob(241,"span",3),t.rc(242,"debug"),t.Nb(),t.Ob(243,"span",22),t.rc(244,"("),t.Nb(),t.Ob(245,"span",24),t.rc(246,"'End Work'"),t.Nb(),t.Ob(247,"span",22),t.rc(248,")"),t.Nb(),t.Ob(249,"span",22),t.rc(250,";"),t.Nb(),t.rc(251,"\n"),t.Ob(252,"span",22),t.rc(253),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(254,"figure",18),t.Ob(255,"figcaption",18),t.rc(256,"Sample After Transpilation "),t.Nb(),t.Ob(257,"pre"),t.Ob(258,"code",26),t.Ob(259,"span",24),t.rc(260,'"use strict"'),t.Nb(),t.Ob(261,"span",22),t.rc(262,";"),t.Nb(),t.rc(263,"\nObject"),t.Ob(264,"span",22),t.rc(265,"."),t.Nb(),t.Ob(266,"span",3),t.rc(267,"defineProperty"),t.Nb(),t.Ob(268,"span",22),t.rc(269,"("),t.Nb(),t.rc(270,"exports"),t.Ob(271,"span",22),t.rc(272,","),t.Nb(),t.rc(273," "),t.Ob(274,"span",24),t.rc(275,'"__esModule"'),t.Nb(),t.Ob(276,"span",22),t.rc(277,","),t.Nb(),t.rc(278," "),t.Ob(279,"span",22),t.rc(280),t.Nb(),t.rc(281," value"),t.Ob(282,"span",15),t.rc(283,":"),t.Nb(),t.rc(284," "),t.Ob(285,"span",27),t.rc(286,"true"),t.Nb(),t.rc(287," "),t.Ob(288,"span",22),t.rc(289),t.Nb(),t.Ob(290,"span",22),t.rc(291,")"),t.Nb(),t.Ob(292,"span",22),t.rc(293,";"),t.Nb(),t.rc(294,"\nexports"),t.Ob(295,"span",22),t.rc(296,"."),t.Nb(),t.rc(297,"work "),t.Ob(298,"span",15),t.rc(299,"="),t.Nb(),t.rc(300," "),t.Ob(301,"span",21),t.rc(302,"void"),t.Nb(),t.rc(303," "),t.Ob(304,"span",25),t.rc(305,"0"),t.Nb(),t.Ob(306,"span",22),t.rc(307,";"),t.Nb(),t.rc(308,"\n"),t.Ob(309,"span",21),t.rc(310,"function"),t.Nb(),t.rc(311," "),t.Ob(312,"span",3),t.rc(313,"work"),t.Nb(),t.Ob(314,"span",22),t.rc(315,"("),t.Nb(),t.Ob(316,"span",22),t.rc(317,")"),t.Nb(),t.rc(318," "),t.Ob(319,"span",22),t.rc(320),t.Nb(),t.rc(321,"\n    "),t.Ob(322,"span",3),t.rc(323,"\u1695lg"),t.Nb(),t.Ob(324,"span",22),t.rc(325,"("),t.Nb(),t.Ob(326,"span",22),t.rc(327),t.Nb(),t.rc(328," level"),t.Ob(329,"span",15),t.rc(330,":"),t.Nb(),t.rc(331," "),t.Ob(332,"span",24),t.rc(333,"'debug'"),t.Nb(),t.Ob(334,"span",22),t.rc(335,","),t.Nb(),t.rc(336," file"),t.Ob(337,"span",15),t.rc(338,":"),t.Nb(),t.rc(339," __filename"),t.Ob(340,"span",22),t.rc(341,"."),t.Nb(),t.rc(342,"\u1695unix"),t.Ob(343,"span",22),t.rc(344,","),t.Nb(),t.rc(345," category"),t.Ob(346,"span",15),t.rc(347,":"),t.Nb(),t.rc(348," "),t.Ob(349,"span",24),t.rc(350,"'alt/docs.src.transpile'"),t.Nb(),t.Ob(351,"span",22),t.rc(352,","),t.Nb(),t.rc(353," line"),t.Ob(354,"span",15),t.rc(355,":"),t.Nb(),t.rc(356," "),t.Ob(357,"span",25),t.rc(358,"2"),t.Nb(),t.rc(359," "),t.Ob(360,"span",22),t.rc(361),t.Nb(),t.Ob(362,"span",22),t.rc(363,","),t.Nb(),t.rc(364," "),t.Ob(365,"span",24),t.rc(366,"'Start Work'"),t.Nb(),t.Ob(367,"span",22),t.rc(368,")"),t.Nb(),t.Ob(369,"span",22),t.rc(370,";"),t.Nb(),t.rc(371,"\n    "),t.Ob(372,"span",21),t.rc(373,"try"),t.Nb(),t.rc(374," "),t.Ob(375,"span",22),t.rc(376),t.Nb(),t.rc(377,"\n        "),t.Ob(378,"span",25),t.rc(379,"1"),t.Nb(),t.rc(380," "),t.Ob(381,"span",15),t.rc(382,"/"),t.Nb(),t.rc(383," "),t.Ob(384,"span",25),t.rc(385,"0"),t.Nb(),t.Ob(386,"span",22),t.rc(387,";"),t.Nb(),t.rc(388,"\n    "),t.Ob(389,"span",22),t.rc(390),t.Nb(),t.rc(391,"\n    "),t.Ob(392,"span",21),t.rc(393,"catch"),t.Nb(),t.rc(394," "),t.Ob(395,"span",22),t.rc(396,"("),t.Nb(),t.rc(397,"e"),t.Ob(398,"span",22),t.rc(399,")"),t.Nb(),t.rc(400," "),t.Ob(401,"span",22),t.rc(402),t.Nb(),t.rc(403,"\n        "),t.Ob(404,"span",3),t.rc(405,"\u1695lg"),t.Nb(),t.Ob(406,"span",22),t.rc(407,"("),t.Nb(),t.Ob(408,"span",22),t.rc(409),t.Nb(),t.rc(410," level"),t.Ob(411,"span",15),t.rc(412,":"),t.Nb(),t.rc(413," "),t.Ob(414,"span",24),t.rc(415,"'error'"),t.Nb(),t.Ob(416,"span",22),t.rc(417,","),t.Nb(),t.rc(418," file"),t.Ob(419,"span",15),t.rc(420,":"),t.Nb(),t.rc(421," __filename"),t.Ob(422,"span",22),t.rc(423,"."),t.Nb(),t.rc(424,"\u1695unix"),t.Ob(425,"span",22),t.rc(426,","),t.Nb(),t.rc(427," category"),t.Ob(428,"span",15),t.rc(429,":"),t.Nb(),t.rc(430," "),t.Ob(431,"span",24),t.rc(432,"'alt/docs.src.transpile'"),t.Nb(),t.Ob(433,"span",22),t.rc(434,","),t.Nb(),t.rc(435," line"),t.Ob(436,"span",15),t.rc(437,":"),t.Nb(),t.rc(438," "),t.Ob(439,"span",25),t.rc(440,"7"),t.Nb(),t.rc(441," "),t.Ob(442,"span",22),t.rc(443),t.Nb(),t.Ob(444,"span",22),t.rc(445,","),t.Nb(),t.rc(446," e"),t.Ob(447,"span",22),t.rc(448,")"),t.Nb(),t.Ob(449,"span",22),t.rc(450,";"),t.Nb(),t.rc(451,"\n    "),t.Ob(452,"span",22),t.rc(453),t.Nb(),t.rc(454,"\n    "),t.Ob(455,"span",3),t.rc(456,"\u1695lg"),t.Nb(),t.Ob(457,"span",22),t.rc(458,"("),t.Nb(),t.Ob(459,"span",22),t.rc(460),t.Nb(),t.rc(461," level"),t.Ob(462,"span",15),t.rc(463,":"),t.Nb(),t.rc(464," "),t.Ob(465,"span",24),t.rc(466,"'debug'"),t.Nb(),t.Ob(467,"span",22),t.rc(468,","),t.Nb(),t.rc(469," file"),t.Ob(470,"span",15),t.rc(471,":"),t.Nb(),t.rc(472," __filename"),t.Ob(473,"span",22),t.rc(474,"."),t.Nb(),t.rc(475,"\u1695unix"),t.Ob(476,"span",22),t.rc(477,","),t.Nb(),t.rc(478," category"),t.Ob(479,"span",15),t.rc(480,":"),t.Nb(),t.rc(481," "),t.Ob(482,"span",24),t.rc(483,"'alt/docs.src.transpile'"),t.Nb(),t.Ob(484,"span",22),t.rc(485,","),t.Nb(),t.rc(486," line"),t.Ob(487,"span",15),t.rc(488,":"),t.Nb(),t.rc(489," "),t.Ob(490,"span",25),t.rc(491,"9"),t.Nb(),t.rc(492," "),t.Ob(493,"span",22),t.rc(494),t.Nb(),t.Ob(495,"span",22),t.rc(496,","),t.Nb(),t.rc(497," "),t.Ob(498,"span",24),t.rc(499,"'End Work'"),t.Nb(),t.Ob(500,"span",22),t.rc(501,")"),t.Nb(),t.Ob(502,"span",22),t.rc(503,";"),t.Nb(),t.rc(504,"\n"),t.Ob(505,"span",22),t.rc(506),t.Nb(),t.rc(507,"\nexports"),t.Ob(508,"span",22),t.rc(509,"."),t.Nb(),t.rc(510,"work "),t.Ob(511,"span",15),t.rc(512,"="),t.Nb(),t.rc(513," work"),t.Ob(514,"span",22),t.rc(515,";"),t.Nb(),t.rc(516,"\nObject"),t.Ob(517,"span",22),t.rc(518,"."),t.Nb(),t.Ob(519,"span",3),t.rc(520,"defineProperty"),t.Nb(),t.Ob(521,"span",22),t.rc(522,"("),t.Nb(),t.rc(523,"exports"),t.Ob(524,"span",22),t.rc(525,","),t.Nb(),t.rc(526," "),t.Ob(527,"span",24),t.rc(528,"'\u1695trv'"),t.Nb(),t.Ob(529,"span",22),t.rc(530,","),t.Nb(),t.rc(531," "),t.Ob(532,"span",22),t.rc(533),t.Nb(),t.rc(534," configurable"),t.Ob(535,"span",15),t.rc(536,":"),t.Nb(),t.rc(537," "),t.Ob(538,"span",27),t.rc(539,"true"),t.Nb(),t.Ob(540,"span",22),t.rc(541,","),t.Nb(),t.rc(542," value"),t.Ob(543,"span",15),t.rc(544,":"),t.Nb(),t.rc(545," "),t.Ob(546,"span",27),t.rc(547,"true"),t.Nb(),t.rc(548," "),t.Ob(549,"span",22),t.rc(550),t.Nb(),t.Ob(551,"span",22),t.rc(552,")"),t.Nb(),t.Ob(553,"span",22),t.rc(554,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(555," And when in "),t.Ob(556,"code",8),t.rc(557,"prod"),t.Nb(),t.rc(558," mode transforms into: "),t.Ob(559,"figure",18),t.Ob(560,"figcaption",18),t.rc(561,"Sample After Transpilation, in Prod "),t.Nb(),t.Ob(562,"pre"),t.Ob(563,"code",26),t.Ob(564,"span",24),t.rc(565,'"use strict"'),t.Nb(),t.Ob(566,"span",22),t.rc(567,";"),t.Nb(),t.rc(568,"\nObject"),t.Ob(569,"span",22),t.rc(570,"."),t.Nb(),t.Ob(571,"span",3),t.rc(572,"defineProperty");t.Nb(),t.Ob(573,"span",22),t.rc(574,"("),t.Nb(),t.rc(575,"exports"),t.Ob(576,"span",22),t.rc(577,","),t.Nb(),t.rc(578," "),t.Ob(579,"span",24),t.rc(580,'"__esModule"'),t.Nb(),t.Ob(581,"span",22),t.rc(582,","),t.Nb(),t.rc(583," "),t.Ob(584,"span",22),t.rc(585),t.Nb(),t.rc(586," value"),t.Ob(587,"span",15),t.rc(588,":"),t.Nb(),t.rc(589," "),t.Ob(590,"span",27),t.rc(591,"true"),t.Nb(),t.rc(592," "),t.Ob(593,"span",22),t.rc(594),t.Nb(),t.Ob(595,"span",22),t.rc(596,")"),t.Nb(),t.Ob(597,"span",22),t.rc(598,";"),t.Nb(),t.rc(599,"\nexports"),t.Ob(600,"span",22),t.rc(601,"."),t.Nb(),t.rc(602,"work "),t.Ob(603,"span",15),t.rc(604,"="),t.Nb(),t.rc(605," "),t.Ob(606,"span",21),t.rc(607,"void"),t.Nb(),t.rc(608," "),t.Ob(609,"span",25),t.rc(610,"0"),t.Nb(),t.Ob(611,"span",22),t.rc(612,";"),t.Nb(),t.rc(613,"\n"),t.Ob(614,"span",21),t.rc(615,"function"),t.Nb(),t.rc(616," "),t.Ob(617,"span",3),t.rc(618,"work"),t.Nb(),t.Ob(619,"span",22),t.rc(620,"("),t.Nb(),t.Ob(621,"span",22),t.rc(622,")"),t.Nb(),t.rc(623," "),t.Ob(624,"span",22),t.rc(625),t.Nb(),t.rc(626,"\n    "),t.Ob(627,"span",21),t.rc(628,"try"),t.Nb(),t.rc(629," "),t.Ob(630,"span",22),t.rc(631),t.Nb(),t.rc(632,"\n        "),t.Ob(633,"span",25),t.rc(634,"1"),t.Nb(),t.rc(635," "),t.Ob(636,"span",15),t.rc(637,"/"),t.Nb(),t.rc(638," "),t.Ob(639,"span",25),t.rc(640,"0"),t.Nb(),t.Ob(641,"span",22),t.rc(642,";"),t.Nb(),t.rc(643,"\n    "),t.Ob(644,"span",22),t.rc(645),t.Nb(),t.rc(646,"\n    "),t.Ob(647,"span",21),t.rc(648,"catch"),t.Nb(),t.rc(649," "),t.Ob(650,"span",22),t.rc(651,"("),t.Nb(),t.rc(652,"e"),t.Ob(653,"span",22),t.rc(654,")"),t.Nb(),t.rc(655," "),t.Ob(656,"span",22),t.rc(657),t.Nb(),t.rc(658,"\n        "),t.Ob(659,"span",3),t.rc(660,"\u1695lg"),t.Nb(),t.Ob(661,"span",22),t.rc(662,"("),t.Nb(),t.Ob(663,"span",22),t.rc(664),t.Nb(),t.rc(665," level"),t.Ob(666,"span",15),t.rc(667,":"),t.Nb(),t.rc(668," "),t.Ob(669,"span",24),t.rc(670,"'error'"),t.Nb(),t.Ob(671,"span",22),t.rc(672,","),t.Nb(),t.rc(673," file"),t.Ob(674,"span",15),t.rc(675,":"),t.Nb(),t.rc(676," __filename"),t.Ob(677,"span",22),t.rc(678,"."),t.Nb(),t.rc(679,"\u1695unix"),t.Ob(680,"span",22),t.rc(681,","),t.Nb(),t.rc(682," category"),t.Ob(683,"span",15),t.rc(684,":"),t.Nb(),t.rc(685," "),t.Ob(686,"span",24),t.rc(687,"'alt/docs.src.transpile-prod'"),t.Nb(),t.Ob(688,"span",22),t.rc(689,","),t.Nb(),t.rc(690," line"),t.Ob(691,"span",15),t.rc(692,":"),t.Nb(),t.rc(693," "),t.Ob(694,"span",25),t.rc(695,"5"),t.Nb(),t.rc(696," "),t.Ob(697,"span",22),t.rc(698),t.Nb(),t.Ob(699,"span",22),t.rc(700,","),t.Nb(),t.rc(701," e"),t.Ob(702,"span",22),t.rc(703,")"),t.Nb(),t.Ob(704,"span",22),t.rc(705,";"),t.Nb(),t.rc(706,"\n    "),t.Ob(707,"span",22),t.rc(708),t.Nb(),t.rc(709,"\n"),t.Ob(710,"span",22),t.rc(711),t.Nb(),t.rc(712,"\nexports"),t.Ob(713,"span",22),t.rc(714,"."),t.Nb(),t.rc(715,"work "),t.Ob(716,"span",15),t.rc(717,"="),t.Nb(),t.rc(718," work"),t.Ob(719,"span",22),t.rc(720,";"),t.Nb(),t.rc(721,"\nObject"),t.Ob(722,"span",22),t.rc(723,"."),t.Nb(),t.Ob(724,"span",3),t.rc(725,"defineProperty"),t.Nb(),t.Ob(726,"span",22),t.rc(727,"("),t.Nb(),t.rc(728,"exports"),t.Ob(729,"span",22),t.rc(730,","),t.Nb(),t.rc(731," "),t.Ob(732,"span",24),t.rc(733,"'\u1695trv'"),t.Nb(),t.Ob(734,"span",22),t.rc(735,","),t.Nb(),t.rc(736," "),t.Ob(737,"span",22),t.rc(738),t.Nb(),t.rc(739," configurable"),t.Ob(740,"span",15),t.rc(741,":"),t.Nb(),t.rc(742," "),t.Ob(743,"span",27),t.rc(744,"true"),t.Nb(),t.Ob(745,"span",22),t.rc(746,","),t.Nb(),t.rc(747," value"),t.Ob(748,"span",15),t.rc(749,":"),t.Nb(),t.rc(750," "),t.Ob(751,"span",27),t.rc(752,"true"),t.Nb(),t.rc(753," "),t.Ob(754,"span",22),t.rc(755),t.Nb(),t.Ob(756,"span",22),t.rc(757,")"),t.Nb(),t.Ob(758,"span",22),t.rc(759,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(760,"h2",28),t.rc(761,"Sample Output"),t.Nb(),t.rc(762," The logging output, as indicated provides context for location of invocation. Given the file "),t.Ob(763,"code",29),t.rc(764,"test/simple.ts"),t.Nb(),t.rc(765,": "),t.Ob(766,"figure",18),t.Ob(767,"figcaption",18),t.rc(768,"Various log levels "),t.Ob(769,"cite"),t.Ob(770,"a",30),t.rc(771,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(772,"pre"),t.Ob(773,"code",20),t.Ob(774,"span",23),t.rc(775,"console"),t.Nb(),t.Ob(776,"span",22),t.rc(777,"."),t.Nb(),t.Ob(778,"span",3),t.rc(779,"log"),t.Nb(),t.Ob(780,"span",22),t.rc(781,"("),t.Nb(),t.Ob(782,"span",24),t.rc(783,"'Hello World'"),t.Nb(),t.Ob(784,"span",22),t.rc(785,")"),t.Nb(),t.Ob(786,"span",22),t.rc(787,";"),t.Nb(),t.rc(788,"\n\n"),t.Ob(789,"span",23),t.rc(790,"console"),t.Nb(),t.Ob(791,"span",22),t.rc(792,"."),t.Nb(),t.Ob(793,"span",3),t.rc(794,"log"),t.Nb(),t.Ob(795,"span",22),t.rc(796,"("),t.Nb(),t.Ob(797,"span",24),t.rc(798,"'Woah!'"),t.Nb(),t.Ob(799,"span",22),t.rc(800,","),t.Nb(),t.rc(801," "),t.Ob(802,"span",22),t.rc(803),t.Nb(),t.rc(804," a"),t.Ob(805,"span",15),t.rc(806,":"),t.Nb(),t.rc(807," "),t.Ob(808,"span",22),t.rc(809),t.Nb(),t.rc(810," b"),t.Ob(811,"span",15),t.rc(812,":"),t.Nb(),t.rc(813," "),t.Ob(814,"span",22),t.rc(815),t.Nb(),t.rc(816," c"),t.Ob(817,"span",15),t.rc(818,":"),t.Nb(),t.rc(819," "),t.Ob(820,"span",22),t.rc(821),t.Nb(),t.rc(822," d"),t.Ob(823,"span",15),t.rc(824,":"),t.Nb(),t.rc(825," "),t.Ob(826,"span",25),t.rc(827,"10"),t.Nb(),t.rc(828," "),t.Ob(829,"span",22),t.rc(830),t.Nb(),t.rc(831," "),t.Ob(832,"span",22),t.rc(833),t.Nb(),t.rc(834," "),t.Ob(835,"span",22),t.rc(836),t.Nb(),t.rc(837," "),t.Ob(838,"span",22),t.rc(839),t.Nb(),t.Ob(840,"span",22),t.rc(841,")"),t.Nb(),t.Ob(842,"span",22),t.rc(843,";"),t.Nb(),t.rc(844,"\n\n"),t.Ob(845,"span",23),t.rc(846,"console"),t.Nb(),t.Ob(847,"span",22),t.rc(848,"."),t.Nb(),t.Ob(849,"span",3),t.rc(850,"info"),t.Nb(),t.Ob(851,"span",22),t.rc(852,"("),t.Nb(),t.Ob(853,"span",24),t.rc(854,"'Woah!'"),t.Nb(),t.Ob(855,"span",22),t.rc(856,")"),t.Nb(),t.Ob(857,"span",22),t.rc(858,";"),t.Nb(),t.rc(859,"\n\n"),t.Ob(860,"span",23),t.rc(861,"console"),t.Nb(),t.Ob(862,"span",22),t.rc(863,"."),t.Nb(),t.Ob(864,"span",3),t.rc(865,"debug"),t.Nb(),t.Ob(866,"span",22),t.rc(867,"("),t.Nb(),t.Ob(868,"span",24),t.rc(869,"'Test'"),t.Nb(),t.Ob(870,"span",22),t.rc(871,")"),t.Nb(),t.Ob(872,"span",22),t.rc(873,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(874," The corresponding output would be "),t.Ob(875,"figure",12),t.Ob(876,"figcaption",12),t.rc(877,"Logging output "),t.Nb(),t.Ob(878,"pre"),t.Ob(879,"code",2),t.rc(880,"$ alt/docs/src/output.ts -r @travetto/boot/register alt/docs/src/output.ts\n\n"),t.Ob(881,"span",25),t.rc(882,"2020"),t.Nb(),t.rc(883,"-07-04T19:09:27.420Z info  "),t.Ob(884,"span",22),t.rc(885,"["),t.Nb(),t.rc(886,"alt/docs.src.output:5"),t.Ob(887,"span",22),t.rc(888,"]"),t.Nb(),t.rc(889," Hello World\n"),t.Ob(890,"span",25),t.rc(891,"2020"),t.Nb(),t.rc(892,"-07-04T19:09:27.429Z info  "),t.Ob(893,"span",22),t.rc(894,"["),t.Nb(),t.rc(895,"alt/docs.src.output:7"),t.Ob(896,"span",22),t.rc(897,"]"),t.Nb(),t.rc(898," Woah"),t.Ob(899,"span",15),t.rc(900,"!"),t.Nb(),t.rc(901," "),t.Ob(902,"span",22),t.rc(903),t.Nb(),t.rc(904," a: "),t.Ob(905,"span",22),t.rc(906),t.Nb(),t.rc(907," b: "),t.Ob(908,"span",22),t.rc(909),t.Nb(),t.rc(910," c: "),t.Ob(911,"span",22),t.rc(912,"["),t.Nb(),t.rc(913,"Object"),t.Ob(914,"span",22),t.rc(915,"]"),t.Nb(),t.rc(916," "),t.Ob(917,"span",22),t.rc(918),t.Nb(),t.rc(919," "),t.Ob(920,"span",22),t.rc(921),t.Nb(),t.rc(922," "),t.Ob(923,"span",22),t.rc(924),t.Nb(),t.rc(925,"\n"),t.Ob(926,"span",25),t.rc(927,"2020"),t.Nb(),t.rc(928,"-07-04T19:09:27.431Z info  "),t.Ob(929,"span",22),t.rc(930,"["),t.Nb(),t.rc(931,"alt/docs.src.output:9"),t.Ob(932,"span",22),t.rc(933,"]"),t.Nb(),t.rc(934," Woah"),t.Ob(935,"span",15),t.rc(936,"!"),t.Nb(),t.rc(937,"\n"),t.Ob(938,"span",25),t.rc(939,"2020"),t.Nb(),t.rc(940,"-07-04T19:09:27.431Z debug "),t.Ob(941,"span",22),t.rc(942,"["),t.Nb(),t.rc(943,"alt/docs.src.output:11"),t.Ob(944,"span",22),t.rc(945,"]"),t.Nb(),t.rc(946," Test"),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(171),t.sc("{"),t.zb(21),t.sc("{"),t.zb(14),t.sc("}"),t.zb(12),t.sc("{"),t.zb(17),t.sc("}"),t.zb(18),t.sc("}"),t.zb(27),t.sc("{"),t.zb(9),t.sc("}"),t.zb(31),t.sc("{"),t.zb(7),t.sc("{"),t.zb(34),t.sc("}"),t.zb(15),t.sc("{"),t.zb(14),t.sc("}"),t.zb(12),t.sc("{"),t.zb(7),t.sc("{"),t.zb(34),t.sc("}"),t.zb(10),t.sc("}"),t.zb(7),t.sc("{"),t.zb(34),t.sc("}"),t.zb(12),t.sc("}"),t.zb(27),t.sc("{"),t.zb(17),t.sc("}"),t.zb(35),t.sc("{"),t.zb(9),t.sc("}"),t.zb(31),t.sc("{"),t.zb(6),t.sc("{"),t.zb(14),t.sc("}"),t.zb(12),t.sc("{"),t.zb(7),t.sc("{"),t.zb(34),t.sc("}"),t.zb(10),t.sc("}"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(17),t.sc("}"),t.zb(48),t.sc("{"),t.zb(6),t.sc("{"),t.zb(6),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(64),t.sc("{"),t.zb(3),t.sc("{"),t.zb(3),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),P=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-cache"]],decls:1823,vars:78,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["href","/docs/di","title","Dependency registration/management and injection support.",1,"module-link"],["id","decorators"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/source/core.ts#L10",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/decorator.ts#L16",1,"source-link"],["target","_blank","href","https://redis.io",1,"external-link"],["target","_blank","href","https://memcached.org",1,"external-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/alt/docs/src/async.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","parameter"],[1,"token","operator"],[1,"token","builtin"],[1,"token","comment"],[1,"token","class-name"],[1,"token","meta"],[1,"token","number"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],["id","-a-target-blank-class-source-link-href-git-module-cache-src-decorator-ts-l-cache-a-"],[1,"item","input"],[1,"item","method"],["id","-a-target-blank-class-source-link-href-git-module-cache-src-decorator-ts-l-evictcache-a-"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/decorator.ts#L27",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/alt/docs/src/evict.ts"],[1,"token","function-variable","function"],["id","building-a-custom-source"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/source/memory.ts#L8",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/source/file.ts#L22",1,"source-link"],["href","/docs/model","title","Datastore abstraction for CRUD operations with advanced query support.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/source/core.ts"],[1,"token","constant"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/cache/src/source/memory.ts"],[1,"token","boolean"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Caching "),t.Ob(3,"small"),t.rc(4,"Caching functionality with decorators for declarative use."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/cache "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/cache"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," Provides a foundational structure for integrating caching at the method level. This allows for easy extension with a variety of providers, and is usable with or without "),t.Ob(17,"a",4),t.rc(18,"Dependency Injection"),t.Nb(),t.rc(19,". The code aims to handle use cases surrounding common/basic usage. "),t.Ob(20,"h2",5),t.rc(21,"Decorators"),t.Nb(),t.rc(22,"\nThe caching framework provides method decorators that enables simple use cases. One of the requirements to use the caching decorators is that the method arguments, and return values need to be serializable into JSON. Any other data types are not currently supported and would require either manual usage of the caching services directly, or specification of serialization/deserialization routines in the cache config. Additionally, to use the decorators you will need to have a "),t.Ob(23,"a",6),t.rc(24,"CacheSource"),t.Nb(),t.rc(25," object accessible on the class instance. This can be dependency injected, or manually constructed. The decorators will detect the field at time of method execution, which decouples construction of your class from the cache construction. "),t.Ob(26,"a",7),t.rc(27,"@Cache"),t.Nb(),t.rc(28," is a decorator that will cache all successful results, keyed by a computation based on the method arguments. Given the desire for supporting remote caches (e.g. "),t.Ob(29,"a",8),t.rc(30,"redis"),t.Nb(),t.rc(31,", "),t.Ob(32,"a",9),t.rc(33,"memcached"),t.Nb(),t.rc(34,"), only asynchronous methods are supported. Though if you do have a cache source that is synchronous, you can use it directly to support synchronous workloads. "),t.Ob(35,"figure",10),t.Ob(36,"figcaption",10),t.rc(37,"Using decorators to cache expensive async call "),t.Ob(38,"cite"),t.Ob(39,"a",11),t.rc(40,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(41,"pre"),t.Ob(42,"code",12),t.Ob(43,"span",13),t.rc(44,"import"),t.Nb(),t.rc(45," "),t.Ob(46,"span",14),t.rc(47),t.Nb(),t.rc(48," MemoryCacheSource "),t.Ob(49,"span",14),t.rc(50),t.Nb(),t.rc(51," "),t.Ob(52,"span",13),t.rc(53,"from"),t.Nb(),t.rc(54," "),t.Ob(55,"span",15),t.rc(56,"'@travetto/cache/src/source/memory'"),t.Nb(),t.Ob(57,"span",14),t.rc(58,";"),t.Nb(),t.rc(59,"\n"),t.Ob(60,"span",13),t.rc(61,"import"),t.Nb(),t.rc(62," "),t.Ob(63,"span",14),t.rc(64),t.Nb(),t.rc(65," Cache "),t.Ob(66,"span",14),t.rc(67),t.Nb(),t.rc(68," "),t.Ob(69,"span",13),t.rc(70,"from"),t.Nb(),t.rc(71," "),t.Ob(72,"span",15),t.rc(73,"'@travetto/cache/src/decorator'"),t.Nb(),t.Ob(74,"span",14),t.rc(75,";"),t.Nb(),t.rc(76,"\n\n"),t.Ob(77,"span",13),t.rc(78,"async"),t.Nb(),t.rc(79," "),t.Ob(80,"span",13),t.rc(81,"function"),t.Nb(),t.rc(82," "),t.Ob(83,"span",3),t.rc(84,"request"),t.Nb(),t.Ob(85,"span",14),t.rc(86,"("),t.Nb(),t.Ob(87,"span",16),t.rc(88,"url"),t.Ob(89,"span",17),t.rc(90,":"),t.Nb(),t.rc(91," "),t.Ob(92,"span",18),t.rc(93,"string"),t.Nb(),t.Nb(),t.Ob(94,"span",14),t.rc(95,")"),t.Nb(),t.rc(96," "),t.Ob(97,"span",14),t.rc(98),t.Nb(),t.rc(99,"\n  "),t.Ob(100,"span",13),t.rc(101,"let"),t.Nb(),t.rc(102," value"),t.Ob(103,"span",14),t.rc(104,";"),t.Nb(),t.rc(105,"\n  "),t.Ob(106,"span",19),t.rc(107,"// ...fetch content"),t.Nb(),t.rc(108,"\n  "),t.Ob(109,"span",13),t.rc(110,"return"),t.Nb(),t.rc(111," value"),t.Ob(112,"span",14),t.rc(113,";"),t.Nb(),t.rc(114,"\n"),t.Ob(115,"span",14),t.rc(116),t.Nb(),t.rc(117,"\n\n"),t.Ob(118,"span",13),t.rc(119,"export"),t.Nb(),t.rc(120," "),t.Ob(121,"span",13),t.rc(122,"class"),t.Nb(),t.rc(123," "),t.Ob(124,"span",20),t.rc(125,"Worker"),t.Nb(),t.rc(126," "),t.Ob(127,"span",14),t.rc(128),t.Nb(),t.rc(129,"\n\n  myCache "),t.Ob(130,"span",17),t.rc(131,"="),t.Nb(),t.rc(132," "),t.Ob(133,"span",13),t.rc(134,"new"),t.Nb(),t.rc(135," "),t.Ob(136,"span",20),t.rc(137,"MemoryCacheSource"),t.Nb(),t.Ob(138,"span",14),t.rc(139,"("),t.Nb(),t.Ob(140,"span",14),t.rc(141,")"),t.Nb(),t.Ob(142,"span",14),t.rc(143,";"),t.Nb(),t.rc(144,"\n\n  @"),t.Ob(145,"span",21),t.rc(146,"Cache"),t.Nb(),t.Ob(147,"span",14),t.rc(148,"("),t.Nb(),t.Ob(149,"span",15),t.rc(150,"'myCache'"),t.Nb(),t.Ob(151,"span",14),t.rc(152,","),t.Nb(),t.rc(153," "),t.Ob(154,"span",14),t.rc(155),t.Nb(),t.rc(156," maxAge"),t.Ob(157,"span",17),t.rc(158,":"),t.Nb(),t.rc(159," "),t.Ob(160,"span",22),t.rc(161,"1000"),t.Nb(),t.rc(162," "),t.Ob(163,"span",14),t.rc(164),t.Nb(),t.Ob(165,"span",14),t.rc(166,")"),t.Nb(),t.rc(167,"\n  "),t.Ob(168,"span",13),t.rc(169,"async"),t.Nb(),t.rc(170," "),t.Ob(171,"span",3),t.rc(172,"calculateExpensiveResult"),t.Nb(),t.Ob(173,"span",14),t.rc(174,"("),t.Nb(),t.Ob(175,"span",16),t.rc(176,"expression"),t.Ob(177,"span",17),t.rc(178,":"),t.Nb(),t.rc(179," "),t.Ob(180,"span",18),t.rc(181,"string"),t.Nb(),t.Nb(),t.Ob(182,"span",14),t.rc(183,")"),t.Nb(),t.rc(184," "),t.Ob(185,"span",14),t.rc(186),t.Nb(),t.rc(187,"\n    "),t.Ob(188,"span",13),t.rc(189,"const"),t.Nb(),t.rc(190," value "),t.Ob(191,"span",17),t.rc(192,"="),t.Nb(),t.rc(193," "),t.Ob(194,"span",13),t.rc(195,"await"),t.Nb(),t.rc(196," "),t.Ob(197,"span",3),t.rc(198,"request"),t.Nb(),t.Ob(199,"span",14),t.rc(200,"("),t.Nb(),t.Ob(201,"span",23),t.Ob(202,"span",24),t.rc(203,"`"),t.Nb(),t.Ob(204,"span",15),t.rc(205,"https://google.com?q="),t.Nb(),t.Ob(206,"span",25),t.Ob(207,"span",26),t.rc(208),t.Nb(),t.rc(209,"expression"),t.Ob(210,"span",26),t.rc(211),t.Nb(),t.Nb(),t.Ob(212,"span",24),t.rc(213,"`"),t.Nb(),t.Nb(),t.Ob(214,"span",14),t.rc(215,")"),t.Nb(),t.Ob(216,"span",14),t.rc(217,";"),t.Nb(),t.rc(218,"\n    "),t.Ob(219,"span",13),t.rc(220,"return"),t.Nb(),t.rc(221," value"),t.Ob(222,"span",14),t.rc(223,";"),t.Nb(),t.rc(224,"\n  "),t.Ob(225,"span",14),t.rc(226),t.Nb(),t.rc(227,"\n"),t.Ob(228,"span",14),t.rc(229),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(230,"h3",27),t.Ob(231,"a",7),t.rc(232,"@Cache"),t.Nb(),t.Nb(),t.rc(233," The "),t.Ob(234,"a",7),t.rc(235,"@Cache"),t.Nb(),t.rc(236," decorator supports configurations on: "),t.Ob(237,"ul"),t.Ob(238,"li"),t.Ob(239,"code",28),t.rc(240,"name"),t.Nb(),t.rc(241," the field name of the current class which points to the desired cache source."),t.Nb(),t.Ob(242,"li"),t.Ob(243,"code",28),t.rc(244,"config"),t.Nb(),t.rc(245," the additional/optional config options, on a per invocation basis "),t.Ob(246,"ul"),t.Ob(247,"li"),t.Ob(248,"code",28),t.rc(249,"keySpace"),t.Nb(),t.rc(250," the key space within the cache. Defaults to class name plus method name."),t.Nb(),t.Ob(251,"li"),t.Ob(252,"code",28),t.rc(253,"key"),t.Nb(),t.rc(254," the function will use the inputs to determine the cache key, defaults to all params "),t.Ob(255,"code",29),t.rc(256,"JSON.stringify"),t.Nb(),t.rc(257,"ied"),t.Nb(),t.Ob(258,"li"),t.Ob(259,"code",28),t.rc(260,"params"),t.Nb(),t.rc(261," the function used to determine the inputs for computing the cache key. This is an easier place to start to define what parameters are important in ,caching. This defaults to all inputs."),t.Nb(),t.Ob(262,"li"),t.Ob(263,"code",28),t.rc(264,"maxAge"),t.Nb(),t.rc(265," the number of milliseconds will hold the value before considering the cache entry to be invalid. By default values will live infinitely."),t.Nb(),t.Ob(266,"li"),t.Ob(267,"code",28),t.rc(268,"extendOnAccess"),t.Nb(),t.rc(269," determines if the cache timeout should be extended on access. This only applies to cache values that have specified a "),t.Ob(270,"code",28),t.rc(271,"maxAge"),t.Nb(),t.rc(272,"."),t.Nb(),t.Ob(273,"li"),t.Ob(274,"code",28),t.rc(275,"serialize"),t.Nb(),t.rc(276," the function to execute before storing a cacheable value. This allows for any custom data modification needed to persist as a string properly."),t.Nb(),t.Ob(277,"li"),t.Ob(278,"code",28),t.rc(279,"reinstate"),t.Nb(),t.rc(280," the function to execute on return of a cached value. This allows for any necessary operations to conform to expected output (e.g. re-establishing class instances, etc.). This method should not be used often, as the return values of the methods should naturally serialize to/from "),t.Ob(281,"code",28),t.rc(282,"JSON"),t.Nb(),t.rc(283," and the values should be usable either way."),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(284,"h3",30),t.Ob(285,"a",31),t.rc(286,"@EvictCache"),t.Nb(),t.Nb(),t.rc(287," Additionally, there is support for planned eviction via the "),t.Ob(288,"a",31),t.rc(289,"@EvictCache"),t.Nb(),t.rc(290," decorator. On successful execution of a method with this decorator, the matching keySpace/key value will be evicted from the cache. This requires coordination between multiple methods, to use the same "),t.Ob(291,"code",28),t.rc(292,"keySpace"),t.Nb(),t.rc(293," and "),t.Ob(294,"code",28),t.rc(295,"key"),t.Nb(),t.rc(296," to compute the expected key. "),t.Ob(297,"figure",10),t.Ob(298,"figcaption",10),t.rc(299,"Using decorators to cache/evict user access "),t.Ob(300,"cite"),t.Ob(301,"a",32),t.rc(302,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(303,"pre"),t.Ob(304,"code",12),t.Ob(305,"span",13),t.rc(306,"import"),t.Nb(),t.rc(307," "),t.Ob(308,"span",14),t.rc(309),t.Nb(),t.rc(310," MemoryCacheSource "),t.Ob(311,"span",14),t.rc(312),t.Nb(),t.rc(313," "),t.Ob(314,"span",13),t.rc(315,"from"),t.Nb(),t.rc(316," "),t.Ob(317,"span",15),t.rc(318,"'@travetto/cache/src/source/memory'"),t.Nb(),t.Ob(319,"span",14),t.rc(320,";"),t.Nb(),t.rc(321,"\n"),t.Ob(322,"span",13),t.rc(323,"import"),t.Nb(),t.rc(324," "),t.Ob(325,"span",14),t.rc(326),t.Nb(),t.rc(327," Cache"),t.Ob(328,"span",14),t.rc(329,","),t.Nb(),t.rc(330," EvictCache "),t.Ob(331,"span",14),t.rc(332),t.Nb(),t.rc(333," "),t.Ob(334,"span",13),t.rc(335,"from"),t.Nb(),t.rc(336," "),t.Ob(337,"span",15),t.rc(338,"'@travetto/cache/src/decorator'"),t.Nb(),t.Ob(339,"span",14),t.rc(340,";"),t.Nb(),t.rc(341,"\n\n"),t.Ob(342,"span",13),t.rc(343,"class"),t.Nb(),t.rc(344," "),t.Ob(345,"span",20),t.rc(346,"User"),t.Nb(),t.rc(347," "),t.Ob(348,"span",14),t.rc(349),t.Nb(),t.rc(350," "),t.Ob(351,"span",14),t.rc(352),t.Nb(),t.rc(353,"\n\n"),t.Ob(354,"span",13),t.rc(355,"export"),t.Nb(),t.rc(356," "),t.Ob(357,"span",13),t.rc(358,"class"),t.Nb(),t.rc(359," "),t.Ob(360,"span",20),t.rc(361,"UserService"),t.Nb(),t.rc(362," "),t.Ob(363,"span",14),t.rc(364),t.Nb(),t.rc(365,"\n\n  myCache "),t.Ob(366,"span",17),t.rc(367,"="),t.Nb(),t.rc(368," "),t.Ob(369,"span",13),t.rc(370,"new"),t.Nb(),t.rc(371," "),t.Ob(372,"span",20),t.rc(373,"MemoryCacheSource"),t.Nb(),t.Ob(374,"span",14),t.rc(375,"("),t.Nb(),t.Ob(376,"span",14),t.rc(377,")"),t.Nb(),t.Ob(378,"span",14),t.rc(379,";"),t.Nb(),t.rc(380,"\n  database"),t.Ob(381,"span",17),t.rc(382,":"),t.Nb(),t.rc(383," "),t.Ob(384,"span",18),t.rc(385,"any"),t.Nb(),t.Ob(386,"span",14),t.rc(387,";"),t.Nb(),t.rc(388,"\n\n  @"),t.Ob(389,"span",21),t.rc(390,"Cache"),t.Nb(),t.Ob(391,"span",14),t.rc(392,"("),t.Nb(),t.Ob(393,"span",15),t.rc(394,"'myCache'"),t.Nb(),t.Ob(395,"span",14),t.rc(396,","),t.Nb(),t.rc(397," "),t.Ob(398,"span",14),t.rc(399),t.Nb(),t.rc(400," keySpace"),t.Ob(401,"span",17),t.rc(402,":"),t.Nb(),t.rc(403," "),t.Ob(404,"span",15),t.rc(405,"'user.id'"),t.Nb(),t.rc(406," "),t.Ob(407,"span",14),t.rc(408),t.Nb(),t.Ob(409,"span",14),t.rc(410,")"),t.Nb(),t.rc(411,"\n  "),t.Ob(412,"span",13),t.rc(413,"async"),t.Nb(),t.rc(414," "),t.Ob(415,"span",3),t.rc(416,"getUser"),t.Nb(),t.Ob(417,"span",14),t.rc(418,"("),t.Nb(),t.Ob(419,"span",16),t.rc(420,"id"),t.Ob(421,"span",17),t.rc(422,":"),t.Nb(),t.rc(423," "),t.Ob(424,"span",18),t.rc(425,"string"),t.Nb(),t.Nb(),t.Ob(426,"span",14),t.rc(427,")"),t.Nb(),t.rc(428," "),t.Ob(429,"span",14),t.rc(430),t.Nb(),t.rc(431,"\n    "),t.Ob(432,"span",13),t.rc(433,"return"),t.Nb(),t.rc(434," "),t.Ob(435,"span",13),t.rc(436,"this"),t.Nb(),t.Ob(437,"span",14),t.rc(438,"."),t.Nb(),t.rc(439,"database"),t.Ob(440,"span",14),t.rc(441,"."),t.Nb(),t.Ob(442,"span",3),t.rc(443,"lookupUser"),t.Nb(),t.Ob(444,"span",14),t.rc(445,"("),t.Nb(),t.rc(446,"id"),t.Ob(447,"span",14),t.rc(448,")"),t.Nb(),t.Ob(449,"span",14),t.rc(450,";"),t.Nb(),t.rc(451,"\n  "),t.Ob(452,"span",14),t.rc(453),t.Nb(),t.rc(454,"\n\n  @"),t.Ob(455,"span",21),t.rc(456,"EvictCache"),t.Nb(),t.Ob(457,"span",14),t.rc(458,"("),t.Nb(),t.Ob(459,"span",15),t.rc(460,"'myCache'"),t.Nb(),t.Ob(461,"span",14),t.rc(462,","),t.Nb(),t.rc(463," "),t.Ob(464,"span",14),t.rc(465),t.Nb(),t.rc(466," keySpace"),t.Ob(467,"span",17),t.rc(468,":"),t.Nb(),t.rc(469," "),t.Ob(470,"span",15),t.rc(471,"'user.id'"),t.Nb(),t.Ob(472,"span",14),t.rc(473,","),t.Nb(),t.rc(474," "),t.Ob(475,"span",33),t.rc(476,"params"),t.Nb(),t.Ob(477,"span",17),t.rc(478,":"),t.Nb(),t.rc(479," "),t.Ob(480,"span",16),t.rc(481,"user"),t.Nb(),t.rc(482," "),t.Ob(483,"span",17),t.rc(484,"=>"),t.Nb(),t.rc(485," "),t.Ob(486,"span",14),t.rc(487,"["),t.Nb(),t.rc(488,"user"),t.Ob(489,"span",14),t.rc(490,"."),t.Nb(),t.rc(491,"id"),t.Ob(492,"span",14),t.rc(493,"]"),t.Nb(),t.rc(494," "),t.Ob(495,"span",14),t.rc(496),t.Nb(),t.Ob(497,"span",14),t.rc(498,")"),t.Nb(),t.rc(499,"\n  "),t.Ob(500,"span",13),t.rc(501,"async"),t.Nb(),t.rc(502," "),t.Ob(503,"span",3),t.rc(504,"updateUser"),t.Nb(),t.Ob(505,"span",14),t.rc(506,"("),t.Nb(),t.Ob(507,"span",16),t.rc(508,"user"),t.Ob(509,"span",17),t.rc(510,":"),t.Nb(),t.rc(511," User"),t.Nb(),t.Ob(512,"span",14),t.rc(513,")"),t.Nb(),t.rc(514," "),t.Ob(515,"span",14),t.rc(516),t.Nb(),t.rc(517,"\n    "),t.Ob(518,"span",13),t.rc(519,"this"),t.Nb(),t.Ob(520,"span",14),t.rc(521,"."),t.Nb(),t.rc(522,"database"),t.Ob(523,"span",14),t.rc(524,"."),t.Nb(),t.Ob(525,"span",3),t.rc(526,"updateUser"),t.Nb(),t.Ob(527,"span",14),t.rc(528,"("),t.Nb(),t.rc(529,"user"),t.Ob(530,"span",14),t.rc(531,")"),t.Nb(),t.Ob(532,"span",14),t.rc(533,";"),t.Nb(),t.rc(534,"\n  "),t.Ob(535,"span",14),t.rc(536),t.Nb(),t.rc(537,"\n\n  @"),t.Ob(538,"span",21),t.rc(539,"EvictCache"),t.Nb(),t.Ob(540,"span",14),t.rc(541,"("),t.Nb(),t.Ob(542,"span",15),t.rc(543,"'myCache'"),t.Nb(),t.Ob(544,"span",14),t.rc(545,","),t.Nb(),t.rc(546," "),t.Ob(547,"span",14),t.rc(548),t.Nb(),t.rc(549," keySpace"),t.Ob(550,"span",17),t.rc(551,":"),t.Nb(),t.rc(552," "),t.Ob(553,"span",15),t.rc(554,"'user.id'"),t.Nb(),t.rc(555," "),t.Ob(556,"span",14),t.rc(557),t.Nb(),t.Ob(558,"span",14),t.rc(559,")"),t.Nb(),t.rc(560,"\n  "),t.Ob(561,"span",13),t.rc(562,"async"),t.Nb(),t.rc(563," "),t.Ob(564,"span",3),t.rc(565,"deleteUser"),t.Nb(),t.Ob(566,"span",14),t.rc(567,"("),t.Nb(),t.Ob(568,"span",16),t.rc(569,"userId"),t.Ob(570,"span",17),t.rc(571,":"),t.Nb(),t.rc(572," ");t.Ob(573,"span",18),t.rc(574,"string"),t.Nb(),t.Nb(),t.Ob(575,"span",14),t.rc(576,")"),t.Nb(),t.rc(577," "),t.Ob(578,"span",14),t.rc(579),t.Nb(),t.rc(580,"\n    "),t.Ob(581,"span",13),t.rc(582,"this"),t.Nb(),t.Ob(583,"span",14),t.rc(584,"."),t.Nb(),t.rc(585,"database"),t.Ob(586,"span",14),t.rc(587,"."),t.Nb(),t.Ob(588,"span",3),t.rc(589,"deleteUser"),t.Nb(),t.Ob(590,"span",14),t.rc(591,"("),t.Nb(),t.rc(592,"userId"),t.Ob(593,"span",14),t.rc(594,")"),t.Nb(),t.Ob(595,"span",14),t.rc(596,";"),t.Nb(),t.rc(597,"\n  "),t.Ob(598,"span",14),t.rc(599),t.Nb(),t.rc(600,"\n"),t.Ob(601,"span",14),t.rc(602),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(603,"h2",34),t.rc(604,"Building a Custom Source"),t.Nb(),t.rc(605," The module comes with a "),t.Ob(606,"a",35),t.rc(607,"MemoryCacheSource"),t.Nb(),t.rc(608," and a "),t.Ob(609,"a",36),t.rc(610,"FileCacheSource"),t.Nb(),t.rc(611,". The module also has extension for a "),t.Ob(612,"a",8),t.rc(613,"redis"),t.Nb(),t.rc(614," source and "),t.Ob(615,"a",37),t.rc(616,"Data Modeling"),t.Nb(),t.rc(617,"-backed source. "),t.Ob(618,"figure",10),t.Ob(619,"figcaption",10),t.rc(620,"Cache Source Structure "),t.Ob(621,"cite"),t.Ob(622,"a",38),t.rc(623,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(624,"pre"),t.Ob(625,"code",12),t.Ob(626,"span",13),t.rc(627,"import"),t.Nb(),t.rc(628," "),t.Ob(629,"span",14),t.rc(630),t.Nb(),t.rc(631," CacheEntry"),t.Ob(632,"span",14),t.rc(633,","),t.Nb(),t.rc(634," CacheConfig"),t.Ob(635,"span",14),t.rc(636,","),t.Nb(),t.rc(637," ICacheSource "),t.Ob(638,"span",14),t.rc(639),t.Nb(),t.rc(640," "),t.Ob(641,"span",13),t.rc(642,"from"),t.Nb(),t.rc(643," "),t.Ob(644,"span",15),t.rc(645,"'../types'"),t.Nb(),t.Ob(646,"span",14),t.rc(647,";"),t.Nb(),t.rc(648,"\n"),t.Ob(649,"span",13),t.rc(650,"import"),t.Nb(),t.rc(651," "),t.Ob(652,"span",14),t.rc(653),t.Nb(),t.rc(654," CacheSourceUtil "),t.Ob(655,"span",14),t.rc(656),t.Nb(),t.rc(657," "),t.Ob(658,"span",13),t.rc(659,"from"),t.Nb(),t.rc(660," "),t.Ob(661,"span",15),t.rc(662,"'./util'"),t.Nb(),t.Ob(663,"span",14),t.rc(664,";"),t.Nb(),t.rc(665,"\n"),t.Ob(666,"span",13),t.rc(667,"import"),t.Nb(),t.rc(668," "),t.Ob(669,"span",14),t.rc(670),t.Nb(),t.rc(671," CacheError "),t.Ob(672,"span",14),t.rc(673),t.Nb(),t.rc(674," "),t.Ob(675,"span",13),t.rc(676,"from"),t.Nb(),t.rc(677," "),t.Ob(678,"span",15),t.rc(679,"'./error'"),t.Nb(),t.Ob(680,"span",14),t.rc(681,";"),t.Nb(),t.rc(682,"\n"),t.Ob(683,"span",13),t.rc(684,"type"),t.Nb(),t.rc(685," OrProm"),t.Ob(686,"span",17),t.rc(687,"<"),t.Nb(),t.Ob(688,"span",39),t.rc(689,"T"),t.Nb(),t.Ob(690,"span",17),t.rc(691,">"),t.Nb(),t.rc(692," "),t.Ob(693,"span",17),t.rc(694,"="),t.Nb(),t.rc(695," "),t.Ob(696,"span",39),t.rc(697,"T"),t.Nb(),t.rc(698," "),t.Ob(699,"span",17),t.rc(700,"|"),t.Nb(),t.rc(701," "),t.Ob(702,"span",18),t.rc(703,"Promise"),t.Nb(),t.Ob(704,"span",17),t.rc(705,"<"),t.Nb(),t.Ob(706,"span",39),t.rc(707,"T"),t.Nb(),t.Ob(708,"span",17),t.rc(709,">"),t.Nb(),t.Ob(710,"span",14),t.rc(711,";"),t.Nb(),t.rc(712,"\n"),t.Ob(713,"span",19),t.rc(714,"/**\n * Cache source\n */"),t.Nb(),t.rc(715,"\n"),t.Ob(716,"span",13),t.rc(717,"export"),t.Nb(),t.rc(718," "),t.Ob(719,"span",13),t.rc(720,"abstract"),t.Nb(),t.rc(721," "),t.Ob(722,"span",13),t.rc(723,"class"),t.Nb(),t.rc(724," "),t.Ob(725,"span",20),t.rc(726,"CacheSource"),t.Nb(),t.Ob(727,"span",17),t.rc(728,"<"),t.Nb(),t.Ob(729,"span",39),t.rc(730,"T"),t.Nb(),t.rc(731," "),t.Ob(732,"span",13),t.rc(733,"extends"),t.Nb(),t.rc(734," "),t.Ob(735,"span",20),t.rc(736,"CacheEntry"),t.Nb(),t.rc(737," "),t.Ob(738,"span",17),t.rc(739,"="),t.Nb(),t.rc(740," CacheEntry"),t.Ob(741,"span",17),t.rc(742,">"),t.Nb(),t.rc(743," "),t.Ob(744,"span",13),t.rc(745,"implements"),t.Nb(),t.rc(746," "),t.Ob(747,"span",20),t.rc(748,"ICacheSource"),t.Nb(),t.Ob(749,"span",17),t.rc(750,"<"),t.Nb(),t.Ob(751,"span",39),t.rc(752,"T"),t.Nb(),t.Ob(753,"span",17),t.rc(754,">"),t.Nb(),t.rc(755," "),t.Ob(756,"span",14),t.rc(757),t.Nb(),t.rc(758,"\n  "),t.Ob(759,"span",13),t.rc(760,"abstract"),t.Nb(),t.rc(761," "),t.Ob(762,"span",13),t.rc(763,"get"),t.Nb(),t.Ob(764,"span",14),t.rc(765,"("),t.Nb(),t.rc(766,"key"),t.Ob(767,"span",17),t.rc(768,":"),t.Nb(),t.rc(769," "),t.Ob(770,"span",18),t.rc(771,"string"),t.Nb(),t.Ob(772,"span",14),t.rc(773,")"),t.Nb(),t.Ob(774,"span",17),t.rc(775,":"),t.Nb(),t.rc(776," OrProm"),t.Ob(777,"span",17),t.rc(778,"<"),t.Nb(),t.Ob(779,"span",39),t.rc(780,"T"),t.Nb(),t.rc(781," "),t.Ob(782,"span",17),t.rc(783,"|"),t.Nb(),t.rc(784," "),t.Ob(785,"span",13),t.rc(786,"undefined"),t.Nb(),t.Ob(787,"span",17),t.rc(788,">"),t.Nb(),t.Ob(789,"span",14),t.rc(790,";"),t.Nb(),t.rc(791,"\n  "),t.Ob(792,"span",13),t.rc(793,"abstract"),t.Nb(),t.rc(794," "),t.Ob(795,"span",3),t.rc(796,"has"),t.Nb(),t.Ob(797,"span",14),t.rc(798,"("),t.Nb(),t.rc(799,"key"),t.Ob(800,"span",17),t.rc(801,":"),t.Nb(),t.rc(802," "),t.Ob(803,"span",18),t.rc(804,"string"),t.Nb(),t.Ob(805,"span",14),t.rc(806,")"),t.Nb(),t.Ob(807,"span",17),t.rc(808,":"),t.Nb(),t.rc(809," OrProm"),t.Ob(810,"span",17),t.rc(811,"<"),t.Nb(),t.Ob(812,"span",18),t.rc(813,"boolean"),t.Nb(),t.Ob(814,"span",17),t.rc(815,">"),t.Nb(),t.Ob(816,"span",14),t.rc(817,";"),t.Nb(),t.rc(818,"\n  "),t.Ob(819,"span",13),t.rc(820,"abstract"),t.Nb(),t.rc(821," "),t.Ob(822,"span",13),t.rc(823,"set"),t.Nb(),t.Ob(824,"span",14),t.rc(825,"("),t.Nb(),t.rc(826,"key"),t.Ob(827,"span",17),t.rc(828,":"),t.Nb(),t.rc(829," "),t.Ob(830,"span",18),t.rc(831,"string"),t.Nb(),t.Ob(832,"span",14),t.rc(833,","),t.Nb(),t.rc(834," entry"),t.Ob(835,"span",17),t.rc(836,":"),t.Nb(),t.rc(837," "),t.Ob(838,"span",39),t.rc(839,"T"),t.Nb(),t.Ob(840,"span",14),t.rc(841,")"),t.Nb(),t.Ob(842,"span",17),t.rc(843,":"),t.Nb(),t.rc(844," OrProm"),t.Ob(845,"span",17),t.rc(846,"<"),t.Nb(),t.Ob(847,"span",39),t.rc(848,"T"),t.Nb(),t.Ob(849,"span",17),t.rc(850,">"),t.Nb(),t.Ob(851,"span",14),t.rc(852,";"),t.Nb(),t.rc(853,"\n  "),t.Ob(854,"span",13),t.rc(855,"abstract"),t.Nb(),t.rc(856," "),t.Ob(857,"span",3),t.rc(858,"isExpired"),t.Nb(),t.Ob(859,"span",14),t.rc(860,"("),t.Nb(),t.rc(861,"key"),t.Ob(862,"span",17),t.rc(863,":"),t.Nb(),t.rc(864," "),t.Ob(865,"span",18),t.rc(866,"string"),t.Nb(),t.Ob(867,"span",14),t.rc(868,")"),t.Nb(),t.Ob(869,"span",17),t.rc(870,":"),t.Nb(),t.rc(871," OrProm"),t.Ob(872,"span",17),t.rc(873,"<"),t.Nb(),t.Ob(874,"span",18),t.rc(875,"boolean"),t.Nb(),t.Ob(876,"span",17),t.rc(877,">"),t.Nb(),t.Ob(878,"span",14),t.rc(879,";"),t.Nb(),t.rc(880,"\n  "),t.Ob(881,"span",13),t.rc(882,"abstract"),t.Nb(),t.rc(883," "),t.Ob(884,"span",3),t.rc(885,"touch"),t.Nb(),t.Ob(886,"span",14),t.rc(887,"("),t.Nb(),t.rc(888,"key"),t.Ob(889,"span",17),t.rc(890,":"),t.Nb(),t.rc(891," "),t.Ob(892,"span",18),t.rc(893,"string"),t.Nb(),t.Ob(894,"span",14),t.rc(895,","),t.Nb(),t.rc(896," expiresAt"),t.Ob(897,"span",17),t.rc(898,":"),t.Nb(),t.rc(899," "),t.Ob(900,"span",18),t.rc(901,"number"),t.Nb(),t.Ob(902,"span",14),t.rc(903,")"),t.Nb(),t.Ob(904,"span",17),t.rc(905,":"),t.Nb(),t.rc(906," OrProm"),t.Ob(907,"span",17),t.rc(908,"<"),t.Nb(),t.Ob(909,"span",18),t.rc(910,"boolean"),t.Nb(),t.Ob(911,"span",17),t.rc(912,">"),t.Nb(),t.Ob(913,"span",14),t.rc(914,";"),t.Nb(),t.rc(915,"\n  "),t.Ob(916,"span",13),t.rc(917,"abstract"),t.Nb(),t.rc(918," "),t.Ob(919,"span",13),t.rc(920,"delete"),t.Nb(),t.Ob(921,"span",14),t.rc(922,"("),t.Nb(),t.rc(923,"key"),t.Ob(924,"span",17),t.rc(925,":"),t.Nb(),t.rc(926," "),t.Ob(927,"span",18),t.rc(928,"string"),t.Nb(),t.Ob(929,"span",14),t.rc(930,")"),t.Nb(),t.Ob(931,"span",17),t.rc(932,":"),t.Nb(),t.rc(933," OrProm"),t.Ob(934,"span",17),t.rc(935,"<"),t.Nb(),t.Ob(936,"span",18),t.rc(937,"boolean"),t.Nb(),t.Ob(938,"span",17),t.rc(939,">"),t.Nb(),t.Ob(940,"span",14),t.rc(941,";"),t.Nb(),t.rc(942,"\n  "),t.Ob(943,"span",13),t.rc(944,"abstract"),t.Nb(),t.rc(945," "),t.Ob(946,"span",3),t.rc(947,"keys"),t.Nb(),t.Ob(948,"span",14),t.rc(949,"("),t.Nb(),t.Ob(950,"span",14),t.rc(951,")"),t.Nb(),t.Ob(952,"span",17),t.rc(953,":"),t.Nb(),t.rc(954," OrProm"),t.Ob(955,"span",17),t.rc(956,"<"),t.Nb(),t.rc(957,"Iterable"),t.Ob(958,"span",17),t.rc(959,"<"),t.Nb(),t.Ob(960,"span",18),t.rc(961,"string"),t.Nb(),t.Ob(962,"span",17),t.rc(963,">>"),t.Nb(),t.Ob(964,"span",14),t.rc(965,";"),t.Nb(),t.rc(966,"\n  clear"),t.Ob(967,"span",17),t.rc(968,"?"),t.Nb(),t.Ob(969,"span",14),t.rc(970,"("),t.Nb(),t.Ob(971,"span",14),t.rc(972,")"),t.Nb(),t.Ob(973,"span",17),t.rc(974,":"),t.Nb(),t.rc(975," OrProm"),t.Ob(976,"span",17),t.rc(977,"<"),t.Nb(),t.Ob(978,"span",13),t.rc(979,"void"),t.Nb(),t.Ob(980,"span",17),t.rc(981,">"),t.Nb(),t.rc(982," "),t.Ob(983,"span",17),t.rc(984,"|"),t.Nb(),t.rc(985," "),t.Ob(986,"span",13),t.rc(987,"void"),t.Nb(),t.Ob(988,"span",14),t.rc(989,";"),t.Nb(),t.rc(990,"\n  "),t.Ob(991,"span",13),t.rc(992,"async"),t.Nb(),t.rc(993," "),t.Ob(994,"span",3),t.rc(995,"getAndCheckAge"),t.Nb(),t.Ob(996,"span",14),t.rc(997,"("),t.Nb(),t.rc(998,"config"),t.Ob(999,"span",17),t.rc(1e3,":"),t.Nb(),t.rc(1001," CacheConfig"),t.Ob(1002,"span",14),t.rc(1003,","),t.Nb(),t.rc(1004," key"),t.Ob(1005,"span",17),t.rc(1006,":"),t.Nb(),t.rc(1007," "),t.Ob(1008,"span",18),t.rc(1009,"string"),t.Nb(),t.Ob(1010,"span",14),t.rc(1011,")"),t.Nb(),t.rc(1012," "),t.Ob(1013,"span",14),t.rc(1014,";"),t.Nb(),t.rc(1015,"\n  "),t.Ob(1016,"span",3),t.rc(1017,"setWithAge"),t.Nb(),t.Ob(1018,"span",14),t.rc(1019,"("),t.Nb(),t.rc(1020,"config"),t.Ob(1021,"span",17),t.rc(1022,":"),t.Nb(),t.rc(1023," CacheConfig"),t.Ob(1024,"span",14),t.rc(1025,","),t.Nb(),t.rc(1026," entry"),t.Ob(1027,"span",17),t.rc(1028,":"),t.Nb(),t.rc(1029," Partial"),t.Ob(1030,"span",17),t.rc(1031,"<"),t.Nb(),t.Ob(1032,"span",39),t.rc(1033,"T"),t.Nb(),t.Ob(1034,"span",17),t.rc(1035,">"),t.Nb(),t.rc(1036," "),t.Ob(1037,"span",17),t.rc(1038,"&"),t.Nb(),t.rc(1039," "),t.Ob(1040,"span",14),t.rc(1041),t.Nb(),t.rc(1042," data"),t.Ob(1043,"span",17),t.rc(1044,":"),t.Nb(),t.rc(1045," "),t.Ob(1046,"span",18),t.rc(1047,"any"),t.Nb(),t.Ob(1048,"span",14),t.rc(1049,","),t.Nb(),t.rc(1050," key"),t.Ob(1051,"span",17),t.rc(1052,":"),t.Nb(),t.rc(1053," "),t.Ob(1054,"span",18),t.rc(1055,"string"),t.Nb(),t.rc(1056," "),t.Ob(1057,"span",14),t.rc(1058),t.Nb(),t.Ob(1059,"span",14),t.rc(1060,")"),t.Nb(),t.rc(1061," "),t.Ob(1062,"span",14),t.rc(1063,";"),t.Nb(),t.rc(1064,"\n  "),t.Ob(1065,"span",13),t.rc(1066,"async"),t.Nb(),t.rc(1067," "),t.Ob(1068,"span",3),t.rc(1069,"getOptional"),t.Nb(),t.Ob(1070,"span",14),t.rc(1071,"("),t.Nb(),t.rc(1072,"config"),t.Ob(1073,"span",17),t.rc(1074,":"),t.Nb(),t.rc(1075," CacheConfig"),t.Ob(1076,"span",14),t.rc(1077,","),t.Nb(),t.rc(1078," key"),t.Ob(1079,"span",17),t.rc(1080,":"),t.Nb(),t.rc(1081," "),t.Ob(1082,"span",18),t.rc(1083,"string"),t.Nb(),t.Ob(1084,"span",14),t.rc(1085,")"),t.Nb(),t.rc(1086," "),t.Ob(1087,"span",14),t.rc(1088,";"),t.Nb(),t.rc(1089,"\n"),t.Ob(1090,"span",14),t.rc(1091),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1092," For the source, all abstract methods must be implemented. All of the more complex logic is implemented in other methods within the base "),t.Ob(1093,"a",6),t.rc(1094,"CacheSource"),t.Nb(),t.rc(1095,". The structure follows that of the javascript "),t.Ob(1096,"code",28),t.rc(1097,"Map"),t.Nb(),t.rc(1098," class for consistency. All that is needed is basic input/output support: "),t.Ob(1099,"ul"),t.Ob(1100,"li"),t.Ob(1101,"code",29),t.rc(1102,"get(key: string)"),t.Nb(),t.rc(1103," - Fetch entry from source, and return in the structure of an entry, ready to go"),t.Nb(),t.Ob(1104,"li"),t.Ob(1105,"code",29),t.rc(1106,"has(key: string)"),t.Nb(),t.rc(1107," - Indicates whether or not the key exists"),t.Nb(),t.Ob(1108,"li"),t.Ob(1109,"code",29),t.rc(1110,"set(key: string, entry: CacheEntry)"),t.Nb(),t.rc(1111," - Sources entry, given "),t.Ob(1112,"code",28),t.rc(1113,"key"),t.Nb(),t.rc(1114,"."),t.Nb(),t.Ob(1115,"li"),t.Ob(1116,"code",29),t.rc(1117,"delete (key: string)"),t.Nb(),t.rc(1118," - Removes entry by key"),t.Nb(),t.Ob(1119,"li"),t.Ob(1120,"code",29),t.rc(1121,"isExpired(key: string)"),t.Nb(),t.rc(1122," - Determines if entry is expired"),t.Nb(),t.Ob(1123,"li"),t.Ob(1124,"code",29),t.rc(1125,"touch(key: string, expiresAt: number)"),t.Nb(),t.rc(1126," - Updates expiry information to date provided"),t.Nb(),t.Ob(1127,"li"),t.Ob(1128,"code",29),t.rc(1129,"keys()"),t.Nb(),t.rc(1130," - Returns list of all keys in the source"),t.Nb(),t.Nb(),t.rc(1131," Additionally, for setting/getting the burden is on the source author to properly serialize/deserialize as needed. This is a low level detail and cannot be accounted for in a generic way. "),t.Ob(1132,"figure",10),t.Ob(1133,"figcaption",10),t.rc(1134,"MemoryCacheSource "),t.Ob(1135,"cite"),t.Ob(1136,"a",40),t.rc(1137,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1138,"pre"),t.Ob(1139,"code",12),t.Ob(1140,"span",13),t.rc(1141,"import"),t.Nb(),t.rc(1142," "),t.Ob(1143,"span",14);t.rc(1144),t.Nb(),t.rc(1145," CullableCacheSource "),t.Ob(1146,"span",14),t.rc(1147),t.Nb(),t.rc(1148," "),t.Ob(1149,"span",13),t.rc(1150,"from"),t.Nb(),t.rc(1151," "),t.Ob(1152,"span",15),t.rc(1153,"'./cullable'"),t.Nb(),t.Ob(1154,"span",14),t.rc(1155,";"),t.Nb(),t.rc(1156,"\n"),t.Ob(1157,"span",13),t.rc(1158,"import"),t.Nb(),t.rc(1159," "),t.Ob(1160,"span",14),t.rc(1161),t.Nb(),t.rc(1162," CacheEntry "),t.Ob(1163,"span",14),t.rc(1164),t.Nb(),t.rc(1165," "),t.Ob(1166,"span",13),t.rc(1167,"from"),t.Nb(),t.rc(1168," "),t.Ob(1169,"span",15),t.rc(1170,"'../types'"),t.Nb(),t.Ob(1171,"span",14),t.rc(1172,";"),t.Nb(),t.rc(1173,"\n"),t.Ob(1174,"span",13),t.rc(1175,"import"),t.Nb(),t.rc(1176," "),t.Ob(1177,"span",14),t.rc(1178),t.Nb(),t.rc(1179," CacheSourceUtil "),t.Ob(1180,"span",14),t.rc(1181),t.Nb(),t.rc(1182," "),t.Ob(1183,"span",13),t.rc(1184,"from"),t.Nb(),t.rc(1185," "),t.Ob(1186,"span",15),t.rc(1187,"'./util'"),t.Nb(),t.Ob(1188,"span",14),t.rc(1189,";"),t.Nb(),t.rc(1190,"\n\n"),t.Ob(1191,"span",19),t.rc(1192,"/**\n * A cache source backed by `Map`\n */"),t.Nb(),t.rc(1193,"\n"),t.Ob(1194,"span",13),t.rc(1195,"export"),t.Nb(),t.rc(1196," "),t.Ob(1197,"span",13),t.rc(1198,"class"),t.Nb(),t.rc(1199," "),t.Ob(1200,"span",20),t.rc(1201,"MemoryCacheSource"),t.Nb(),t.Ob(1202,"span",17),t.rc(1203,"<"),t.Nb(),t.Ob(1204,"span",39),t.rc(1205,"T"),t.Nb(),t.rc(1206," "),t.Ob(1207,"span",13),t.rc(1208,"extends"),t.Nb(),t.rc(1209," "),t.Ob(1210,"span",20),t.rc(1211,"CacheEntry"),t.Nb(),t.rc(1212," "),t.Ob(1213,"span",17),t.rc(1214,"="),t.Nb(),t.rc(1215," CacheEntry"),t.Ob(1216,"span",17),t.rc(1217,">"),t.Nb(),t.rc(1218," "),t.Ob(1219,"span",13),t.rc(1220,"extends"),t.Nb(),t.rc(1221," "),t.Ob(1222,"span",20),t.rc(1223,"CullableCacheSource"),t.Nb(),t.Ob(1224,"span",17),t.rc(1225,"<"),t.Nb(),t.Ob(1226,"span",39),t.rc(1227,"T"),t.Nb(),t.Ob(1228,"span",17),t.rc(1229,">"),t.Nb(),t.rc(1230," "),t.Ob(1231,"span",14),t.rc(1232),t.Nb(),t.rc(1233,"\n\n  store "),t.Ob(1234,"span",17),t.rc(1235,"="),t.Nb(),t.rc(1236," "),t.Ob(1237,"span",13),t.rc(1238,"new"),t.Nb(),t.rc(1239," "),t.Ob(1240,"span",20),t.rc(1241,"Map"),t.Nb(),t.Ob(1242,"span",17),t.rc(1243,"<"),t.Nb(),t.Ob(1244,"span",18),t.rc(1245,"string"),t.Nb(),t.Ob(1246,"span",14),t.rc(1247,","),t.Nb(),t.rc(1248," "),t.Ob(1249,"span",14),t.rc(1250),t.Nb(),t.rc(1251," expiresAt"),t.Ob(1252,"span",17),t.rc(1253,"?"),t.Nb(),t.Ob(1254,"span",17),t.rc(1255,":"),t.Nb(),t.rc(1256," "),t.Ob(1257,"span",18),t.rc(1258,"number"),t.Nb(),t.Ob(1259,"span",14),t.rc(1260,","),t.Nb(),t.rc(1261," entry"),t.Ob(1262,"span",17),t.rc(1263,":"),t.Nb(),t.rc(1264," "),t.Ob(1265,"span",18),t.rc(1266,"string"),t.Nb(),t.rc(1267," "),t.Ob(1268,"span",14),t.rc(1269),t.Nb(),t.Ob(1270,"span",17),t.rc(1271,">"),t.Nb(),t.Ob(1272,"span",14),t.rc(1273,"("),t.Nb(),t.Ob(1274,"span",14),t.rc(1275,")"),t.Nb(),t.Ob(1276,"span",14),t.rc(1277,";"),t.Nb(),t.rc(1278,"\n\n  "),t.Ob(1279,"span",3),t.rc(1280,"clear"),t.Nb(),t.Ob(1281,"span",14),t.rc(1282,"("),t.Nb(),t.Ob(1283,"span",14),t.rc(1284,")"),t.Nb(),t.rc(1285," "),t.Ob(1286,"span",14),t.rc(1287),t.Nb(),t.rc(1288,"\n    "),t.Ob(1289,"span",13),t.rc(1290,"this"),t.Nb(),t.Ob(1291,"span",14),t.rc(1292,"."),t.Nb(),t.rc(1293,"store"),t.Ob(1294,"span",14),t.rc(1295,"."),t.Nb(),t.Ob(1296,"span",3),t.rc(1297,"clear"),t.Nb(),t.Ob(1298,"span",14),t.rc(1299,"("),t.Nb(),t.Ob(1300,"span",14),t.rc(1301,")"),t.Nb(),t.Ob(1302,"span",14),t.rc(1303,";"),t.Nb(),t.rc(1304,"\n  "),t.Ob(1305,"span",14),t.rc(1306),t.Nb(),t.rc(1307,"\n\n  "),t.Ob(1308,"span",3),t.rc(1309,"has"),t.Nb(),t.Ob(1310,"span",14),t.rc(1311,"("),t.Nb(),t.rc(1312,"key"),t.Ob(1313,"span",17),t.rc(1314,":"),t.Nb(),t.rc(1315," "),t.Ob(1316,"span",18),t.rc(1317,"string"),t.Nb(),t.Ob(1318,"span",14),t.rc(1319,")"),t.Nb(),t.Ob(1320,"span",17),t.rc(1321,":"),t.Nb(),t.rc(1322," "),t.Ob(1323,"span",18),t.rc(1324,"boolean"),t.Nb(),t.rc(1325," "),t.Ob(1326,"span",14),t.rc(1327),t.Nb(),t.rc(1328,"\n    "),t.Ob(1329,"span",13),t.rc(1330,"return"),t.Nb(),t.rc(1331," "),t.Ob(1332,"span",13),t.rc(1333,"this"),t.Nb(),t.Ob(1334,"span",14),t.rc(1335,"."),t.Nb(),t.rc(1336,"store"),t.Ob(1337,"span",14),t.rc(1338,"."),t.Nb(),t.Ob(1339,"span",3),t.rc(1340,"has"),t.Nb(),t.Ob(1341,"span",14),t.rc(1342,"("),t.Nb(),t.rc(1343,"key"),t.Ob(1344,"span",14),t.rc(1345,")"),t.Nb(),t.Ob(1346,"span",14),t.rc(1347,";"),t.Nb(),t.rc(1348,"\n  "),t.Ob(1349,"span",14),t.rc(1350),t.Nb(),t.rc(1351,"\n\n  "),t.Ob(1352,"span",13),t.rc(1353,"get"),t.Nb(),t.Ob(1354,"span",14),t.rc(1355,"("),t.Nb(),t.rc(1356,"key"),t.Ob(1357,"span",17),t.rc(1358,":"),t.Nb(),t.rc(1359," "),t.Ob(1360,"span",18),t.rc(1361,"string"),t.Nb(),t.Ob(1362,"span",14),t.rc(1363,")"),t.Nb(),t.Ob(1364,"span",17),t.rc(1365,":"),t.Nb(),t.rc(1366," "),t.Ob(1367,"span",39),t.rc(1368,"T"),t.Nb(),t.rc(1369," "),t.Ob(1370,"span",17),t.rc(1371,"|"),t.Nb(),t.rc(1372," "),t.Ob(1373,"span",13),t.rc(1374,"undefined"),t.Nb(),t.rc(1375," "),t.Ob(1376,"span",14),t.rc(1377),t.Nb(),t.rc(1378,"\n    "),t.Ob(1379,"span",13),t.rc(1380,"const"),t.Nb(),t.rc(1381," entry "),t.Ob(1382,"span",17),t.rc(1383,"="),t.Nb(),t.rc(1384," "),t.Ob(1385,"span",13),t.rc(1386,"this"),t.Nb(),t.Ob(1387,"span",14),t.rc(1388,"."),t.Nb(),t.rc(1389,"store"),t.Ob(1390,"span",14),t.rc(1391,"."),t.Nb(),t.Ob(1392,"span",13),t.rc(1393,"get"),t.Nb(),t.Ob(1394,"span",14),t.rc(1395,"("),t.Nb(),t.rc(1396,"key"),t.Ob(1397,"span",14),t.rc(1398,")"),t.Nb(),t.Ob(1399,"span",14),t.rc(1400,";"),t.Nb(),t.rc(1401,"\n    "),t.Ob(1402,"span",13),t.rc(1403,"if"),t.Nb(),t.rc(1404," "),t.Ob(1405,"span",14),t.rc(1406,"("),t.Nb(),t.rc(1407,"entry"),t.Ob(1408,"span",14),t.rc(1409,")"),t.Nb(),t.rc(1410," "),t.Ob(1411,"span",14),t.rc(1412),t.Nb(),t.rc(1413,"\n      "),t.Ob(1414,"span",13),t.rc(1415,"return"),t.Nb(),t.rc(1416," "),t.Ob(1417,"span",14),t.rc(1418),t.Nb(),t.rc(1419,"\n        "),t.Ob(1420,"span",17),t.rc(1421,"..."),t.Nb(),t.rc(1422,"CacheSourceUtil"),t.Ob(1423,"span",14),t.rc(1424,"."),t.Nb(),t.Ob(1425,"span",3),t.rc(1426,"readAsSafeJSON"),t.Nb(),t.Ob(1427,"span",14),t.rc(1428,"("),t.Nb(),t.rc(1429,"entry"),t.Ob(1430,"span",14),t.rc(1431,"."),t.Nb(),t.rc(1432,"entry"),t.Ob(1433,"span",14),t.rc(1434,")"),t.Nb(),t.Ob(1435,"span",14),t.rc(1436,","),t.Nb(),t.rc(1437,"\n        expiresAt"),t.Ob(1438,"span",17),t.rc(1439,":"),t.Nb(),t.rc(1440," entry"),t.Ob(1441,"span",14),t.rc(1442,"."),t.Nb(),t.rc(1443,"expiresAt\n      "),t.Ob(1444,"span",14),t.rc(1445),t.Nb(),t.Ob(1446,"span",14),t.rc(1447,";"),t.Nb(),t.rc(1448,"\n    "),t.Ob(1449,"span",14),t.rc(1450),t.Nb(),t.rc(1451,"\n  "),t.Ob(1452,"span",14),t.rc(1453),t.Nb(),t.rc(1454,"\n\n  "),t.Ob(1455,"span",13),t.rc(1456,"async"),t.Nb(),t.rc(1457," "),t.Ob(1458,"span",13),t.rc(1459,"set"),t.Nb(),t.Ob(1460,"span",14),t.rc(1461,"("),t.Nb(),t.rc(1462,"key"),t.Ob(1463,"span",17),t.rc(1464,":"),t.Nb(),t.rc(1465," "),t.Ob(1466,"span",18),t.rc(1467,"string"),t.Nb(),t.Ob(1468,"span",14),t.rc(1469,","),t.Nb(),t.rc(1470," entry"),t.Ob(1471,"span",17),t.rc(1472,":"),t.Nb(),t.rc(1473," "),t.Ob(1474,"span",39),t.rc(1475,"T"),t.Nb(),t.Ob(1476,"span",14),t.rc(1477,")"),t.Nb(),t.Ob(1478,"span",17),t.rc(1479,":"),t.Nb(),t.rc(1480," "),t.Ob(1481,"span",18),t.rc(1482,"Promise"),t.Nb(),t.Ob(1483,"span",17),t.rc(1484,"<"),t.Nb(),t.Ob(1485,"span",18),t.rc(1486,"any"),t.Nb(),t.Ob(1487,"span",17),t.rc(1488,">"),t.Nb(),t.rc(1489," "),t.Ob(1490,"span",14),t.rc(1491),t.Nb(),t.rc(1492,"\n    "),t.Ob(1493,"span",13),t.rc(1494,"this"),t.Nb(),t.Ob(1495,"span",14),t.rc(1496,"."),t.Nb(),t.Ob(1497,"span",3),t.rc(1498,"cull"),t.Nb(),t.Ob(1499,"span",14),t.rc(1500,"("),t.Nb(),t.Ob(1501,"span",14),t.rc(1502,")"),t.Nb(),t.Ob(1503,"span",14),t.rc(1504,";"),t.Nb(),t.rc(1505,"\n\n    "),t.Ob(1506,"span",13),t.rc(1507,"const"),t.Nb(),t.rc(1508," cloned "),t.Ob(1509,"span",17),t.rc(1510,"="),t.Nb(),t.rc(1511," CacheSourceUtil"),t.Ob(1512,"span",14),t.rc(1513,"."),t.Nb(),t.Ob(1514,"span",3),t.rc(1515,"storeAsSafeJSON"),t.Nb(),t.Ob(1516,"span",14),t.rc(1517,"("),t.Nb(),t.rc(1518,"entry"),t.Ob(1519,"span",14),t.rc(1520,")"),t.Nb(),t.Ob(1521,"span",14),t.rc(1522,";"),t.Nb(),t.rc(1523,"\n\n    "),t.Ob(1524,"span",13),t.rc(1525,"this"),t.Nb(),t.Ob(1526,"span",14),t.rc(1527,"."),t.Nb(),t.rc(1528,"store"),t.Ob(1529,"span",14),t.rc(1530,"."),t.Nb(),t.Ob(1531,"span",13),t.rc(1532,"set"),t.Nb(),t.Ob(1533,"span",14),t.rc(1534,"("),t.Nb(),t.rc(1535,"key"),t.Ob(1536,"span",14),t.rc(1537,","),t.Nb(),t.rc(1538," "),t.Ob(1539,"span",14),t.rc(1540),t.Nb(),t.rc(1541," entry"),t.Ob(1542,"span",17),t.rc(1543,":"),t.Nb(),t.rc(1544," cloned"),t.Ob(1545,"span",14),t.rc(1546,","),t.Nb(),t.rc(1547," expiresAt"),t.Ob(1548,"span",17),t.rc(1549,":"),t.Nb(),t.rc(1550," entry"),t.Ob(1551,"span",14),t.rc(1552,"."),t.Nb(),t.rc(1553,"expiresAt "),t.Ob(1554,"span",14),t.rc(1555),t.Nb(),t.Ob(1556,"span",14),t.rc(1557,")"),t.Nb(),t.Ob(1558,"span",14),t.rc(1559,";"),t.Nb(),t.rc(1560,"\n\n    "),t.Ob(1561,"span",13),t.rc(1562,"return"),t.Nb(),t.rc(1563," CacheSourceUtil"),t.Ob(1564,"span",14),t.rc(1565,"."),t.Nb(),t.Ob(1566,"span",3),t.rc(1567,"readAsSafeJSON"),t.Nb(),t.Ob(1568,"span",14),t.rc(1569,"("),t.Nb(),t.rc(1570,"cloned"),t.Ob(1571,"span",14),t.rc(1572,")"),t.Nb(),t.Ob(1573,"span",14),t.rc(1574,";"),t.Nb(),t.rc(1575,"\n  "),t.Ob(1576,"span",14),t.rc(1577),t.Nb(),t.rc(1578,"\n\n  "),t.Ob(1579,"span",3),t.rc(1580,"touch"),t.Nb(),t.Ob(1581,"span",14),t.rc(1582,"("),t.Nb(),t.rc(1583,"key"),t.Ob(1584,"span",17),t.rc(1585,":"),t.Nb(),t.rc(1586," "),t.Ob(1587,"span",18),t.rc(1588,"string"),t.Nb(),t.Ob(1589,"span",14),t.rc(1590,","),t.Nb(),t.rc(1591," expiresAt"),t.Ob(1592,"span",17),t.rc(1593,":"),t.Nb(),t.rc(1594," "),t.Ob(1595,"span",18),t.rc(1596,"number"),t.Nb(),t.Ob(1597,"span",14),t.rc(1598,")"),t.Nb(),t.Ob(1599,"span",17),t.rc(1600,":"),t.Nb(),t.rc(1601," "),t.Ob(1602,"span",18),t.rc(1603,"boolean"),t.Nb(),t.rc(1604," "),t.Ob(1605,"span",14),t.rc(1606),t.Nb(),t.rc(1607,"\n    "),t.Ob(1608,"span",13),t.rc(1609,"this"),t.Nb(),t.Ob(1610,"span",14),t.rc(1611,"."),t.Nb(),t.rc(1612,"store"),t.Ob(1613,"span",14),t.rc(1614,"."),t.Nb(),t.Ob(1615,"span",13),t.rc(1616,"get"),t.Nb(),t.Ob(1617,"span",14),t.rc(1618,"("),t.Nb(),t.rc(1619,"key"),t.Ob(1620,"span",14),t.rc(1621,")"),t.Nb(),t.Ob(1622,"span",17),t.rc(1623,"!"),t.Nb(),t.Ob(1624,"span",14),t.rc(1625,"."),t.Nb(),t.rc(1626,"expiresAt "),t.Ob(1627,"span",17),t.rc(1628,"="),t.Nb(),t.rc(1629," expiresAt"),t.Ob(1630,"span",14),t.rc(1631,";"),t.Nb(),t.rc(1632,"\n    "),t.Ob(1633,"span",13),t.rc(1634,"return"),t.Nb(),t.rc(1635," "),t.Ob(1636,"span",41),t.rc(1637,"true"),t.Nb(),t.Ob(1638,"span",14),t.rc(1639,";"),t.Nb(),t.rc(1640,"\n  "),t.Ob(1641,"span",14),t.rc(1642),t.Nb(),t.rc(1643,"\n\n  "),t.Ob(1644,"span",13),t.rc(1645,"delete"),t.Nb(),t.Ob(1646,"span",14),t.rc(1647,"("),t.Nb(),t.rc(1648,"key"),t.Ob(1649,"span",17),t.rc(1650,":"),t.Nb(),t.rc(1651," "),t.Ob(1652,"span",18),t.rc(1653,"string"),t.Nb(),t.Ob(1654,"span",14),t.rc(1655,")"),t.Nb(),t.Ob(1656,"span",17),t.rc(1657,":"),t.Nb(),t.rc(1658," "),t.Ob(1659,"span",18),t.rc(1660,"boolean"),t.Nb(),t.rc(1661," "),t.Ob(1662,"span",14),t.rc(1663),t.Nb(),t.rc(1664,"\n    "),t.Ob(1665,"span",13),t.rc(1666,"return"),t.Nb(),t.rc(1667," "),t.Ob(1668,"span",13),t.rc(1669,"this"),t.Nb(),t.Ob(1670,"span",14),t.rc(1671,"."),t.Nb(),t.rc(1672,"store"),t.Ob(1673,"span",14),t.rc(1674,"."),t.Nb(),t.Ob(1675,"span",13),t.rc(1676,"delete"),t.Nb(),t.Ob(1677,"span",14),t.rc(1678,"("),t.Nb(),t.rc(1679,"key"),t.Ob(1680,"span",14),t.rc(1681,")"),t.Nb(),t.Ob(1682,"span",14),t.rc(1683,";"),t.Nb(),t.rc(1684,"\n  "),t.Ob(1685,"span",14),t.rc(1686),t.Nb(),t.rc(1687,"\n\n  "),t.Ob(1688,"span",3),t.rc(1689,"keys"),t.Nb(),t.Ob(1690,"span",14),t.rc(1691,"("),t.Nb(),t.Ob(1692,"span",14),t.rc(1693,")"),t.Nb(),t.rc(1694," "),t.Ob(1695,"span",14),t.rc(1696),t.Nb(),t.rc(1697,"\n    "),t.Ob(1698,"span",13),t.rc(1699,"return"),t.Nb(),t.rc(1700," "),t.Ob(1701,"span",13),t.rc(1702,"this"),t.Nb(),t.Ob(1703,"span",14),t.rc(1704,"."),t.Nb(),t.rc(1705,"store"),t.Ob(1706,"span",14),t.rc(1707,"."),t.Nb(),t.Ob(1708,"span",3),t.rc(1709,"keys"),t.Nb(),t.Ob(1710,"span",14),t.rc(1711,"("),t.Nb(),t.Ob(1712,"span",14),t.rc(1713,")"),t.Nb(),t.Ob(1714,"span",14),t.rc(1715,";"),t.Nb(),t.rc(1716,"\n  "),t.Ob(1717,"span",14),t.rc(1718),t.Nb(),t.rc(1719,"\n\n  "),t.Ob(1720,"span",3),t.rc(1721,"isExpired");t.Nb(),t.Ob(1722,"span",14),t.rc(1723,"("),t.Nb(),t.Ob(1724,"span",16),t.rc(1725,"key"),t.Ob(1726,"span",17),t.rc(1727,":"),t.Nb(),t.rc(1728," "),t.Ob(1729,"span",18),t.rc(1730,"string"),t.Nb(),t.Nb(),t.Ob(1731,"span",14),t.rc(1732,")"),t.Nb(),t.rc(1733," "),t.Ob(1734,"span",14),t.rc(1735),t.Nb(),t.rc(1736,"\n    "),t.Ob(1737,"span",13),t.rc(1738,"const"),t.Nb(),t.rc(1739," entry "),t.Ob(1740,"span",17),t.rc(1741,"="),t.Nb(),t.rc(1742," "),t.Ob(1743,"span",13),t.rc(1744,"this"),t.Nb(),t.Ob(1745,"span",14),t.rc(1746,"."),t.Nb(),t.rc(1747,"store"),t.Ob(1748,"span",14),t.rc(1749,"."),t.Nb(),t.Ob(1750,"span",13),t.rc(1751,"get"),t.Nb(),t.Ob(1752,"span",14),t.rc(1753,"("),t.Nb(),t.rc(1754,"key"),t.Ob(1755,"span",14),t.rc(1756,")"),t.Nb(),t.Ob(1757,"span",14),t.rc(1758,";"),t.Nb(),t.rc(1759,"\n    "),t.Ob(1760,"span",13),t.rc(1761,"if"),t.Nb(),t.rc(1762," "),t.Ob(1763,"span",14),t.rc(1764,"("),t.Nb(),t.rc(1765,"entry"),t.Ob(1766,"span",14),t.rc(1767,")"),t.Nb(),t.rc(1768," "),t.Ob(1769,"span",14),t.rc(1770),t.Nb(),t.rc(1771,"\n      "),t.Ob(1772,"span",13),t.rc(1773,"return"),t.Nb(),t.rc(1774," "),t.Ob(1775,"span",17),t.rc(1776,"!"),t.Nb(),t.Ob(1777,"span",17),t.rc(1778,"!"),t.Nb(),t.rc(1779,"entry"),t.Ob(1780,"span",14),t.rc(1781,"."),t.Nb(),t.rc(1782,"expiresAt "),t.Ob(1783,"span",17),t.rc(1784,"&&"),t.Nb(),t.rc(1785," entry"),t.Ob(1786,"span",14),t.rc(1787,"."),t.Nb(),t.rc(1788,"expiresAt"),t.Ob(1789,"span",17),t.rc(1790,"!"),t.Nb(),t.rc(1791," "),t.Ob(1792,"span",17),t.rc(1793,"<"),t.Nb(),t.rc(1794," Date"),t.Ob(1795,"span",14),t.rc(1796,"."),t.Nb(),t.Ob(1797,"span",3),t.rc(1798,"now"),t.Nb(),t.Ob(1799,"span",14),t.rc(1800,"("),t.Nb(),t.Ob(1801,"span",14),t.rc(1802,")"),t.Nb(),t.Ob(1803,"span",14),t.rc(1804,";"),t.Nb(),t.rc(1805,"\n    "),t.Ob(1806,"span",14),t.rc(1807),t.Nb(),t.rc(1808,"\n    "),t.Ob(1809,"span",13),t.rc(1810,"return"),t.Nb(),t.rc(1811," "),t.Ob(1812,"span",41),t.rc(1813,"false"),t.Nb(),t.Ob(1814,"span",14),t.rc(1815,";"),t.Nb(),t.rc(1816,"\n  "),t.Ob(1817,"span",14),t.rc(1818),t.Nb(),t.rc(1819,"\n"),t.Ob(1820,"span",14),t.rc(1821),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1822," The memory source is simple but illustrates the structure well. "),t.Nb()}2&r&&(t.zb(47),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(31),t.sc("{"),t.zb(18),t.sc("}"),t.zb(12),t.sc("{"),t.zb(27),t.sc("{"),t.zb(9),t.sc("}"),t.zb(22),t.sc("{"),t.zb(22),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(15),t.sc("}"),t.zb(3),t.sc("}"),t.zb(80),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(12),t.sc("{"),t.zb(35),t.sc("{"),t.zb(9),t.sc("}"),t.zb(22),t.sc("{"),t.zb(23),t.sc("}"),t.zb(12),t.sc("{"),t.zb(31),t.sc("}"),t.zb(20),t.sc("{"),t.zb(20),t.sc("}"),t.zb(12),t.sc("{"),t.zb(9),t.sc("}"),t.zb(22),t.sc("{"),t.zb(20),t.sc("}"),t.zb(3),t.sc("}"),t.zb(28),t.sc("{"),t.zb(9),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(84),t.sc("{"),t.zb(284),t.sc("{"),t.zb(17),t.sc("}"),t.zb(33),t.sc("}"),t.zb(53),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(51),t.sc("{"),t.zb(18),t.sc("{"),t.zb(19),t.sc("}"),t.zb(18),t.sc("{"),t.zb(19),t.sc("}"),t.zb(21),t.sc("{"),t.zb(23),t.sc("}"),t.zb(27),t.sc("{"),t.zb(35),t.sc("{"),t.zb(6),t.sc("{"),t.zb(27),t.sc("}"),t.zb(5),t.sc("}"),t.zb(3),t.sc("}"),t.zb(38),t.sc("{"),t.zb(49),t.sc("{"),t.zb(15),t.sc("}"),t.zb(22),t.sc("}"),t.zb(29),t.sc("{"),t.zb(36),t.sc("}"),t.zb(21),t.sc("{"),t.zb(23),t.sc("}"),t.zb(10),t.sc("{"),t.zb(22),t.sc("}"),t.zb(17),t.sc("{"),t.zb(35),t.sc("{"),t.zb(37),t.sc("}"),t.zb(11),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),A=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-command"]],decls:731,vars:26,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://www.docker.com/community-edition",1,"external-link"],["id","docker-support"],[1,"item","class"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/command/alt/docs/src/docker.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","operator"],[1,"token","number"],[1,"token","builtin"],["id","command-service"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/command/src/command.ts#L11",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/command/alt/docs/src/service.ts"],[1,"token","parameter"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],[1,"token","comment"],["id","cli-command-service"],[1,"terminal"],[1,"token","builtin","class-name"],["id","defining-new-services"],["target","_blank","href","https://www.json.org",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model-elasticsearch/support/service.elasticsearch.json"],[1,"language-json"],[1,"token","property"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Command "),t.Ob(3,"small"),t.rc(4,"Support for executing complex commands at runtime."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/command "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/command"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," The command module provides the necessary foundation for calling complex commands at runtime. Additionally special attention is provided to running "),t.Ob(17,"a",4),t.rc(18,"docker"),t.Nb(),t.rc(19," containers. "),t.Ob(20,"h2",5),t.rc(21,"Docker Support"),t.Nb(),t.rc(22," Docker provides a unified way of executing external programs with a high level of consistency and simplicity. For that reason, the framework leverages this functionality to provide a clean cross-platform experience. The docker functionality allows you to interact with containers in two ways:\n"),t.Ob(23,"ul"),t.Ob(24,"li"),t.rc(25,"Invoke a single operation against a container"),t.Nb(),t.Ob(26,"li"),t.rc(27,"Spin up a container and run multiple executions against it. In this format, the container, once started, will be scheduled to terminate on "),t.Ob(28,"code",6),t.rc(29,"Shutdown"),t.Nb(),t.rc(30," of the application."),t.Nb(),t.Nb(),t.Ob(31,"figure",7),t.Ob(32,"figcaption",7),t.rc(33,"Launching nginx and wait for connect "),t.Ob(34,"cite"),t.Ob(35,"a",8),t.rc(36,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(37,"pre"),t.Ob(38,"code",9),t.Ob(39,"span",10),t.rc(40,"import"),t.Nb(),t.rc(41," "),t.Ob(42,"span",11),t.rc(43),t.Nb(),t.rc(44," DockerContainer "),t.Ob(45,"span",11),t.rc(46),t.Nb(),t.rc(47," "),t.Ob(48,"span",10),t.rc(49,"from"),t.Nb(),t.rc(50," "),t.Ob(51,"span",12),t.rc(52,"'@travetto/command/src/docker'"),t.Nb(),t.Ob(53,"span",11),t.rc(54,";"),t.Nb(),t.rc(55,"\n"),t.Ob(56,"span",10),t.rc(57,"import"),t.Nb(),t.rc(58," "),t.Ob(59,"span",11),t.rc(60),t.Nb(),t.rc(61," CommandUtil "),t.Ob(62,"span",11),t.rc(63),t.Nb(),t.rc(64," "),t.Ob(65,"span",10),t.rc(66,"from"),t.Nb(),t.rc(67," "),t.Ob(68,"span",12),t.rc(69,"'@travetto/command/src/util'"),t.Nb(),t.Ob(70,"span",11),t.rc(71,";"),t.Nb(),t.rc(72,"\n\n"),t.Ob(73,"span",10),t.rc(74,"export"),t.Nb(),t.rc(75," "),t.Ob(76,"span",10),t.rc(77,"class"),t.Nb(),t.rc(78," "),t.Ob(79,"span",13),t.rc(80,"NginxServer"),t.Nb(),t.rc(81," "),t.Ob(82,"span",11),t.rc(83),t.Nb(),t.rc(84,"\n  container"),t.Ob(85,"span",14),t.rc(86,":"),t.Nb(),t.rc(87," DockerContainer"),t.Ob(88,"span",11),t.rc(89,";"),t.Nb(),t.rc(90,"\n\n  "),t.Ob(91,"span",10),t.rc(92,"constructor"),t.Nb(),t.Ob(93,"span",11),t.rc(94,"("),t.Nb(),t.rc(95,"\n    "),t.Ob(96,"span",10),t.rc(97,"private"),t.Nb(),t.rc(98," port "),t.Ob(99,"span",14),t.rc(100,"="),t.Nb(),t.rc(101," Math"),t.Ob(102,"span",11),t.rc(103,"."),t.Nb(),t.Ob(104,"span",3),t.rc(105,"trunc"),t.Nb(),t.Ob(106,"span",11),t.rc(107,"("),t.Nb(),t.rc(108,"Math"),t.Ob(109,"span",11),t.rc(110,"."),t.Nb(),t.Ob(111,"span",3),t.rc(112,"random"),t.Nb(),t.Ob(113,"span",11),t.rc(114,"("),t.Nb(),t.Ob(115,"span",11),t.rc(116,")"),t.Nb(),t.rc(117," "),t.Ob(118,"span",14),t.rc(119,"*"),t.Nb(),t.rc(120," "),t.Ob(121,"span",15),t.rc(122,"40000"),t.Nb(),t.Ob(123,"span",11),t.rc(124,")"),t.Nb(),t.rc(125," "),t.Ob(126,"span",14),t.rc(127,"+"),t.Nb(),t.rc(128," "),t.Ob(129,"span",15),t.rc(130,"10000"),t.Nb(),t.rc(131,"\n  "),t.Ob(132,"span",11),t.rc(133,")"),t.Nb(),t.rc(134," "),t.Ob(135,"span",11),t.rc(136),t.Nb(),t.rc(137,"\n    "),t.Ob(138,"span",10),t.rc(139,"this"),t.Nb(),t.Ob(140,"span",11),t.rc(141,"."),t.Nb(),t.rc(142,"container "),t.Ob(143,"span",14),t.rc(144,"="),t.Nb(),t.rc(145," "),t.Ob(146,"span",10),t.rc(147,"new"),t.Nb(),t.rc(148," "),t.Ob(149,"span",13),t.rc(150,"DockerContainer"),t.Nb(),t.Ob(151,"span",11),t.rc(152,"("),t.Nb(),t.Ob(153,"span",12),t.rc(154,"'nginx:latest'"),t.Nb(),t.Ob(155,"span",11),t.rc(156,")"),t.Nb(),t.rc(157,"\n      "),t.Ob(158,"span",11),t.rc(159,"."),t.Nb(),t.Ob(160,"span",3),t.rc(161,"exposePort"),t.Nb(),t.Ob(162,"span",11),t.rc(163,"("),t.Nb(),t.Ob(164,"span",10),t.rc(165,"this"),t.Nb(),t.Ob(166,"span",11),t.rc(167,"."),t.Nb(),t.rc(168,"port"),t.Ob(169,"span",11),t.rc(170,","),t.Nb(),t.rc(171," "),t.Ob(172,"span",15),t.rc(173,"80"),t.Nb(),t.Ob(174,"span",11),t.rc(175,")"),t.Nb(),t.rc(176,"\n      "),t.Ob(177,"span",11),t.rc(178,"."),t.Nb(),t.Ob(179,"span",3),t.rc(180,"forceDestroyOnShutdown"),t.Nb(),t.Ob(181,"span",11),t.rc(182,"("),t.Nb(),t.Ob(183,"span",11),t.rc(184,")"),t.Nb(),t.Ob(185,"span",11),t.rc(186,";"),t.Nb(),t.rc(187,"\n  "),t.Ob(188,"span",11),t.rc(189),t.Nb(),t.rc(190,"\n  "),t.Ob(191,"span",3),t.rc(192,"start"),t.Nb(),t.Ob(193,"span",11),t.rc(194,"("),t.Nb(),t.Ob(195,"span",11),t.rc(196,")"),t.Nb(),t.rc(197," "),t.Ob(198,"span",11),t.rc(199),t.Nb(),t.rc(200,"\n    "),t.Ob(201,"span",10),t.rc(202,"this"),t.Nb(),t.Ob(203,"span",11),t.rc(204,"."),t.Nb(),t.rc(205,"container"),t.Ob(206,"span",11),t.rc(207,"."),t.Nb(),t.Ob(208,"span",3),t.rc(209,"run"),t.Nb(),t.Ob(210,"span",11),t.rc(211,"("),t.Nb(),t.Ob(212,"span",11),t.rc(213,")"),t.Nb(),t.Ob(214,"span",11),t.rc(215,";"),t.Nb(),t.rc(216,"\n    CommandUtil"),t.Ob(217,"span",11),t.rc(218,"."),t.Nb(),t.Ob(219,"span",3),t.rc(220,"waitForPort"),t.Nb(),t.Ob(221,"span",11),t.rc(222,"("),t.Nb(),t.Ob(223,"span",10),t.rc(224,"this"),t.Nb(),t.Ob(225,"span",11),t.rc(226,"."),t.Nb(),t.rc(227,"port"),t.Ob(228,"span",11),t.rc(229,")"),t.Nb(),t.Ob(230,"span",11),t.rc(231,";"),t.Nb(),t.rc(232,"\n    "),t.Ob(233,"span",16),t.rc(234,"console"),t.Nb(),t.Ob(235,"span",11),t.rc(236,"."),t.Nb(),t.Ob(237,"span",3),t.rc(238,"log"),t.Nb(),t.Ob(239,"span",11),t.rc(240,"("),t.Nb(),t.Ob(241,"span",12),t.rc(242,"'Ready!'"),t.Nb(),t.Ob(243,"span",11),t.rc(244,")"),t.Nb(),t.Ob(245,"span",11),t.rc(246,";"),t.Nb(),t.rc(247,"\n  "),t.Ob(248,"span",11),t.rc(249),t.Nb(),t.rc(250,"\n\n  "),t.Ob(251,"span",10),t.rc(252,"async"),t.Nb(),t.rc(253," "),t.Ob(254,"span",3),t.rc(255,"stop"),t.Nb(),t.Ob(256,"span",11),t.rc(257,"("),t.Nb(),t.Ob(258,"span",11),t.rc(259,")"),t.Nb(),t.rc(260," "),t.Ob(261,"span",11),t.rc(262),t.Nb(),t.rc(263,"\n    "),t.Ob(264,"span",10),t.rc(265,"await"),t.Nb(),t.rc(266," "),t.Ob(267,"span",10),t.rc(268,"this"),t.Nb(),t.Ob(269,"span",11),t.rc(270,"."),t.Nb(),t.rc(271,"container"),t.Ob(272,"span",11),t.rc(273,"."),t.Nb(),t.Ob(274,"span",3),t.rc(275,"stop"),t.Nb(),t.Ob(276,"span",11),t.rc(277,"("),t.Nb(),t.Ob(278,"span",11),t.rc(279,")"),t.Nb(),t.Ob(280,"span",11),t.rc(281,";"),t.Nb(),t.rc(282,"\n    "),t.Ob(283,"span",16),t.rc(284,"console"),t.Nb(),t.Ob(285,"span",11),t.rc(286,"."),t.Nb(),t.Ob(287,"span",3),t.rc(288,"log"),t.Nb(),t.Ob(289,"span",11),t.rc(290,"("),t.Nb(),t.Ob(291,"span",12),t.rc(292,"'Stopped'"),t.Nb(),t.Ob(293,"span",11),t.rc(294,")"),t.Nb(),t.Ob(295,"span",11),t.rc(296,";"),t.Nb(),t.rc(297,"\n  "),t.Ob(298,"span",11),t.rc(299),t.Nb(),t.rc(300,"\n"),t.Ob(301,"span",11),t.rc(302),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(303,"h2",17),t.rc(304,"Command Service"),t.Nb(),t.rc(305," While docker containers provide a high level of flexibility, performance can be an issue. "),t.Ob(306,"a",18),t.rc(307,"CommandService"),t.Nb(),t.rc(308," is a construct that wraps execution of a specific child program. It allows for the application to decide between using docker to invoke the child program or calling the binary against the host operating system. This is especially useful in environments where installation of programs (and specific versions) is challenging. "),t.Ob(309,"figure",7),t.Ob(310,"figcaption",7),t.rc(311,"Command Service example, using pngquant "),t.Ob(312,"cite"),t.Ob(313,"a",19),t.rc(314,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(315,"pre"),t.Ob(316,"code",9),t.Ob(317,"span",10),t.rc(318,"import"),t.Nb(),t.rc(319," "),t.Ob(320,"span",14),t.rc(321,"*"),t.Nb(),t.rc(322," "),t.Ob(323,"span",10),t.rc(324,"as"),t.Nb(),t.rc(325," fs "),t.Ob(326,"span",10),t.rc(327,"from"),t.Nb(),t.rc(328," "),t.Ob(329,"span",12),t.rc(330,"'fs'"),t.Nb(),t.Ob(331,"span",11),t.rc(332,";"),t.Nb(),t.rc(333,"\n"),t.Ob(334,"span",10),t.rc(335,"import"),t.Nb(),t.rc(336," "),t.Ob(337,"span",11),t.rc(338),t.Nb(),t.rc(339," CommandService "),t.Ob(340,"span",11),t.rc(341),t.Nb(),t.rc(342," "),t.Ob(343,"span",10),t.rc(344,"from"),t.Nb(),t.rc(345," "),t.Ob(346,"span",12),t.rc(347,"'@travetto/command/src/command'"),t.Nb(),t.Ob(348,"span",11),t.rc(349,";"),t.Nb(),t.rc(350,"\n\n"),t.Ob(351,"span",10),t.rc(352,"export"),t.Nb(),t.rc(353," "),t.Ob(354,"span",10),t.rc(355,"class"),t.Nb(),t.rc(356," "),t.Ob(357,"span",13),t.rc(358,"ImageCompressor"),t.Nb(),t.rc(359," "),t.Ob(360,"span",11),t.rc(361),t.Nb(),t.rc(362,"\n  converter "),t.Ob(363,"span",14),t.rc(364,"="),t.Nb(),t.rc(365," "),t.Ob(366,"span",10),t.rc(367,"new"),t.Nb(),t.rc(368," "),t.Ob(369,"span",13),t.rc(370,"CommandService"),t.Nb(),t.Ob(371,"span",11),t.rc(372,"("),t.Nb(),t.Ob(373,"span",11),t.rc(374),t.Nb(),t.rc(375,"\n    containerImage"),t.Ob(376,"span",14),t.rc(377,":"),t.Nb(),t.rc(378," "),t.Ob(379,"span",12),t.rc(380,"'agregad/pngquant'"),t.Nb(),t.Ob(381,"span",11),t.rc(382,","),t.Nb(),t.rc(383,"\n    localCheck"),t.Ob(384,"span",14),t.rc(385,":"),t.Nb(),t.rc(386," "),t.Ob(387,"span",11),t.rc(388,"["),t.Nb(),t.Ob(389,"span",12),t.rc(390,"'pngquant'"),t.Nb(),t.Ob(391,"span",11),t.rc(392,","),t.Nb(),t.rc(393," "),t.Ob(394,"span",11),t.rc(395,"["),t.Nb(),t.Ob(396,"span",12),t.rc(397,"'-h'"),t.Nb(),t.Ob(398,"span",11),t.rc(399,"]"),t.Nb(),t.Ob(400,"span",11),t.rc(401,"]"),t.Nb(),t.rc(402,"\n  "),t.Ob(403,"span",11),t.rc(404),t.Nb(),t.Ob(405,"span",11),t.rc(406,")"),t.Nb(),t.Ob(407,"span",11),t.rc(408,";"),t.Nb(),t.rc(409,"\n\n  "),t.Ob(410,"span",10),t.rc(411,"async"),t.Nb(),t.rc(412," "),t.Ob(413,"span",3),t.rc(414,"compress"),t.Nb(),t.Ob(415,"span",11),t.rc(416,"("),t.Nb(),t.Ob(417,"span",20),t.rc(418,"img"),t.Ob(419,"span",14),t.rc(420,":"),t.Nb(),t.rc(421," "),t.Ob(422,"span",16),t.rc(423,"string"),t.Nb(),t.Nb(),t.Ob(424,"span",11),t.rc(425,")"),t.Nb(),t.rc(426," "),t.Ob(427,"span",11),t.rc(428),t.Nb(),t.rc(429,"\n    "),t.Ob(430,"span",10),t.rc(431,"const"),t.Nb(),t.rc(432," state "),t.Ob(433,"span",14),t.rc(434,"="),t.Nb(),t.rc(435," "),t.Ob(436,"span",10),t.rc(437,"await"),t.Nb(),t.rc(438," "),t.Ob(439,"span",10),t.rc(440,"this"),t.Nb(),t.Ob(441,"span",11),t.rc(442,"."),t.Nb(),t.rc(443,"converter"),t.Ob(444,"span",11),t.rc(445,"."),t.Nb(),t.Ob(446,"span",3),t.rc(447,"exec"),t.Nb(),t.Ob(448,"span",11),t.rc(449,"("),t.Nb(),t.Ob(450,"span",12),t.rc(451,"'pngquant'"),t.Nb(),t.Ob(452,"span",11),t.rc(453,","),t.Nb(),t.rc(454," "),t.Ob(455,"span",12),t.rc(456,"'--quality'"),t.Nb(),t.Ob(457,"span",11),t.rc(458,","),t.Nb(),t.rc(459," "),t.Ob(460,"span",12),t.rc(461,"'40-80'"),t.Nb(),t.Ob(462,"span",11),t.rc(463,","),t.Nb(),t.rc(464," "),t.Ob(465,"span",12),t.rc(466,"'--speed 1'"),t.Nb(),t.Ob(467,"span",11),t.rc(468,","),t.Nb(),t.rc(469," "),t.Ob(470,"span",12),t.rc(471,"'--force'"),t.Nb(),t.Ob(472,"span",11),t.rc(473,","),t.Nb(),t.rc(474," "),t.Ob(475,"span",12),t.rc(476,"'-'"),t.Nb(),t.Ob(477,"span",11),t.rc(478,")"),t.Nb(),t.Ob(479,"span",11),t.rc(480,";"),t.Nb(),t.rc(481,"\n    "),t.Ob(482,"span",10),t.rc(483,"const"),t.Nb(),t.rc(484," out "),t.Ob(485,"span",14),t.rc(486,"="),t.Nb(),t.rc(487," "),t.Ob(488,"span",21),t.Ob(489,"span",22),t.rc(490,"`"),t.Nb(),t.Ob(491,"span",23),t.Ob(492,"span",24),t.rc(493),t.Nb(),t.rc(494,"img"),t.Ob(495,"span",24),t.rc(496),t.Nb(),t.Nb(),t.Ob(497,"span",12),t.rc(498,".compressed"),t.Nb(),t.Ob(499,"span",22),t.rc(500,"`"),t.Nb(),t.Nb(),t.Ob(501,"span",11),t.rc(502,";"),t.Nb(),t.rc(503,"\n\n    "),t.Ob(504,"span",25),t.rc(505,"// Feed into process"),t.Nb(),t.rc(506,"\n    fs"),t.Ob(507,"span",11),t.rc(508,"."),t.Nb(),t.Ob(509,"span",3),t.rc(510,"createReadStream"),t.Nb(),t.Ob(511,"span",11),t.rc(512,"("),t.Nb(),t.rc(513,"img"),t.Ob(514,"span",11),t.rc(515,")"),t.Nb(),t.Ob(516,"span",11),t.rc(517,"."),t.Nb(),t.Ob(518,"span",3),t.rc(519,"pipe"),t.Nb(),t.Ob(520,"span",11),t.rc(521,"("),t.Nb(),t.rc(522,"state"),t.Ob(523,"span",11),t.rc(524,"."),t.Nb(),t.rc(525,"process"),t.Ob(526,"span",11),t.rc(527,"."),t.Nb(),t.rc(528,"stdin"),t.Ob(529,"span",14),t.rc(530,"!"),t.Nb(),t.Ob(531,"span",11),t.rc(532,")"),t.Nb(),t.Ob(533,"span",11),t.rc(534,";"),t.Nb(),t.rc(535,"\n    "),t.Ob(536,"span",25),t.rc(537,"// Feed from process to file system"),t.Nb(),t.rc(538,"\n    state"),t.Ob(539,"span",11),t.rc(540,"."),t.Nb(),t.rc(541,"process"),t.Ob(542,"span",11),t.rc(543,"."),t.Nb(),t.rc(544,"stdout"),t.Ob(545,"span",14),t.rc(546,"!"),t.Nb(),t.Ob(547,"span",11),t.rc(548,"."),t.Nb(),t.Ob(549,"span",3),t.rc(550,"pipe"),t.Nb(),t.Ob(551,"span",11),t.rc(552,"("),t.Nb(),t.rc(553,"fs"),t.Ob(554,"span",11),t.rc(555,"."),t.Nb(),t.Ob(556,"span",3),t.rc(557,"createWriteStream"),t.Nb(),t.Ob(558,"span",11),t.rc(559,"("),t.Nb(),t.rc(560,"out"),t.Ob(561,"span",11),t.rc(562,")"),t.Nb(),t.Ob(563,"span",11),t.rc(564,")"),t.Nb(),t.Ob(565,"span",11),t.rc(566,";"),t.Nb(),t.rc(567,"\n\n    "),t.Ob(568,"span",10);t.rc(569,"await"),t.Nb(),t.rc(570," state"),t.Ob(571,"span",11),t.rc(572,"."),t.Nb(),t.rc(573,"result"),t.Ob(574,"span",11),t.rc(575,";"),t.Nb(),t.rc(576,"\n  "),t.Ob(577,"span",11),t.rc(578),t.Nb(),t.rc(579,"\n"),t.Ob(580,"span",11),t.rc(581),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(582,"h2",26),t.rc(583,"CLI - command:service"),t.Nb(),t.rc(584," The module provides the ability to start/stop/restart services as "),t.Ob(585,"a",4),t.rc(586,"docker"),t.Nb(),t.rc(587," containers. This is meant to be used for development purposes, to minimize the effort of getting an application up and running. Services can be targetted individually or handled as a group. "),t.Ob(588,"figure",27),t.Ob(589,"figcaption",27),t.rc(590,"Command Service "),t.Nb(),t.Ob(591,"pre"),t.Ob(592,"code",2),t.rc(593,"$ travetto travetto command:service --help\n\nUsage:  command:service "),t.Ob(594,"span",11),t.rc(595,"["),t.Nb(),t.rc(596,"options"),t.Ob(597,"span",11),t.rc(598,"]"),t.Nb(),t.rc(599," "),t.Ob(600,"span",11),t.rc(601,"["),t.Nb(),t.rc(602,"start"),t.Ob(603,"span",14),t.rc(604,"|"),t.Nb(),t.rc(605,"stop"),t.Ob(606,"span",14),t.rc(607,"|"),t.Nb(),t.rc(608,"restart"),t.Ob(609,"span",14),t.rc(610,"|"),t.Nb(),t.rc(611,"status"),t.Ob(612,"span",11),t.rc(613,"]"),t.Nb(),t.rc(614," "),t.Ob(615,"span",11),t.rc(616,"["),t.Nb(),t.Ob(617,"span",11),t.rc(618,".."),t.Nb(),t.rc(619,".services"),t.Ob(620,"span",11),t.rc(621,"]"),t.Nb(),t.rc(622,"\n\nOptions:\n  -h, --help  display "),t.Ob(623,"span",28),t.rc(624,"help"),t.Nb(),t.rc(625," "),t.Ob(626,"span",10),t.rc(627,"for"),t.Nb(),t.rc(628," "),t.Ob(629,"span",28),t.rc(630,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(631," A sample of all services available to the entire framework: "),t.Ob(632,"figure",27),t.Ob(633,"figcaption",27),t.rc(634,"All Services "),t.Nb(),t.Ob(635,"pre"),t.Ob(636,"code",2),t.rc(637,"Service          Version    Status\n----------------------------------------------\n\n * elasticsearch      "),t.Ob(638,"span",15),t.rc(639,"6.8"),t.Nb(),t.rc(640,".2    Not running\n * mysql                "),t.Ob(641,"span",15),t.rc(642,"5.6"),t.Nb(),t.rc(643,"    Not running\n * postgresql          "),t.Ob(644,"span",15),t.rc(645,"12.2"),t.Nb(),t.rc(646,"    Not running\n * redis                  "),t.Ob(647,"span",15),t.rc(648,"5"),t.Nb(),t.rc(649,"    Not running\n * mongodb              "),t.Ob(650,"span",15),t.rc(651,"3.6"),t.Nb(),t.rc(652,"    Running 1ec905fe721c"),t.Nb(),t.Nb(),t.Nb(),t.Ob(653,"h3",29),t.rc(654,"Defining new Services"),t.Nb(),t.rc(655," The services are defined as "),t.Ob(656,"a",30),t.rc(657,"JSON"),t.Nb(),t.rc(658," files within the framework and can easily be extended: "),t.Ob(659,"figure",7),t.Ob(660,"figcaption",7),t.rc(661,"Sample Service Definition "),t.Ob(662,"cite"),t.Ob(663,"a",31),t.rc(664,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(665,"pre"),t.Ob(666,"code",32),t.Ob(667,"span",11),t.rc(668),t.Nb(),t.rc(669,"\n  "),t.Ob(670,"span",33),t.rc(671,'"name"'),t.Nb(),t.Ob(672,"span",14),t.rc(673,":"),t.Nb(),t.rc(674," "),t.Ob(675,"span",12),t.rc(676,'"elasticsearch"'),t.Nb(),t.Ob(677,"span",11),t.rc(678,","),t.Nb(),t.rc(679,"\n  "),t.Ob(680,"span",33),t.rc(681,'"version"'),t.Nb(),t.Ob(682,"span",14),t.rc(683,":"),t.Nb(),t.rc(684," "),t.Ob(685,"span",12),t.rc(686,'"6.8.2"'),t.Nb(),t.Ob(687,"span",11),t.rc(688,","),t.Nb(),t.rc(689,"\n  "),t.Ob(690,"span",33),t.rc(691,'"port"'),t.Nb(),t.Ob(692,"span",14),t.rc(693,":"),t.Nb(),t.rc(694," "),t.Ob(695,"span",15),t.rc(696,"9200"),t.Nb(),t.Ob(697,"span",11),t.rc(698,","),t.Nb(),t.rc(699,"\n  "),t.Ob(700,"span",33),t.rc(701,'"env"'),t.Nb(),t.Ob(702,"span",14),t.rc(703,":"),t.Nb(),t.rc(704," "),t.Ob(705,"span",11),t.rc(706),t.Nb(),t.rc(707,"\n    "),t.Ob(708,"span",33),t.rc(709,'"discovery.type"'),t.Nb(),t.Ob(710,"span",14),t.rc(711,":"),t.Nb(),t.rc(712," "),t.Ob(713,"span",12),t.rc(714,'"single-node"'),t.Nb(),t.rc(715,"\n  "),t.Ob(716,"span",11),t.rc(717),t.Nb(),t.Ob(718,"span",11),t.rc(719,","),t.Nb(),t.rc(720,"\n  "),t.Ob(721,"span",33),t.rc(722,'"image"'),t.Nb(),t.Ob(723,"span",14),t.rc(724,":"),t.Nb(),t.rc(725," "),t.Ob(726,"span",12),t.rc(727,'"docker.elastic.co/elasticsearch/elasticsearch:6.8.2"'),t.Nb(),t.rc(728,"\n"),t.Ob(729,"span",11),t.rc(730),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(43),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(53),t.sc("{"),t.zb(53),t.sc("}"),t.zb(10),t.sc("{"),t.zb(50),t.sc("}"),t.zb(13),t.sc("{"),t.zb(37),t.sc("}"),t.zb(3),t.sc("}"),t.zb(36),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(13),t.sc("{"),t.zb(30),t.sc("}"),t.zb(24),t.sc("{"),t.zb(65),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(82),t.sc("}"),t.zb(3),t.sc("}"),t.zb(87),t.sc("{"),t.zb(38),t.sc("{"),t.zb(11),t.sc("}"),t.zb(13),t.sc("}"))},styles:[""]}),r}(),I=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-worker"]],decls:1717,vars:80,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["id","execution-pools"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/src/pool.ts#L23",1,"source-link"],["target","_blank","href","src/input/types.ts#L3",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/src/input/iterable.ts#L11",1,"source-link"],[1,"item","input"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/src/input/async-iterator.ts#L6",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/alt/docs/src/images.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","operator"],[1,"token","builtin"],[1,"token","boolean"],[1,"token","parameter"],[1,"item","method"],["id","ipc-support"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/src/comm/child.ts#L6",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/src/comm/parent.ts#L9",1,"source-link"],["id","ipc-as-a-worker"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/src/util.ts#L8",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/src/util.ts"],[1,"token","comment"],[1,"token","constant"],[1,"token","function-variable","function"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/alt/docs/src/spawner.ts"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","number"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/worker/alt/docs/src/spawned.js"],[1,"language-javascript"],[1,"terminal"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Worker "),t.Ob(3,"small"),t.rc(4,"Process management utilties, with a focus on inter-process communication"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/worker "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/worker"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides the necessary primitives for handling dependent workers. A worker can be an individual actor or could be a pool of workers. Node provides ipc (inter-process communication) functionality out of the box. This module builds upon that by providing enhanced event management, richer process management, as well as constructs for orchestrating a conversation between two processes. "),t.Ob(17,"h2",4),t.rc(18,"Execution Pools"),t.Nb(),t.rc(19,"\nWith respect to managing multiple executions, "),t.Ob(20,"a",5),t.rc(21,"WorkPool"),t.Nb(),t.rc(22," is provided to allow for concurrent operation, and processing of jobs concurrently. To manage the flow of jobs, there are various "),t.Ob(23,"a",6),t.rc(24,"InputSource"),t.Nb(),t.rc(25," implementation that allow for a wide range of use cases. The only provided "),t.Ob(26,"a",6),t.rc(27,"InputSource"),t.Nb(),t.rc(28," is the "),t.Ob(29,"a",7),t.rc(30,"IterableInputSource"),t.Nb(),t.rc(31," which supports all "),t.Ob(32,"code",8),t.rc(33,"Iterable"),t.Nb(),t.rc(34," and "),t.Ob(35,"code",8),t.rc(36,"Iterator"),t.Nb(),t.rc(37," sources. Additionally, the module provides "),t.Ob(38,"a",9),t.rc(39,"DynamicAsyncIterator"),t.Nb(),t.rc(40," which allows for manual control of iteration, which is useful for event driven work loads. Below is a pool that will convert images on demand, while queuing as needed. "),t.Ob(41,"figure",10),t.Ob(42,"figcaption",10),t.rc(43,"Image processing queue, with a fixed batch/pool size "),t.Ob(44,"cite"),t.Ob(45,"a",11),t.rc(46,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(47,"pre"),t.Ob(48,"code",12),t.Ob(49,"span",13),t.rc(50,"import"),t.Nb(),t.rc(51," "),t.Ob(52,"span",14),t.rc(53),t.Nb(),t.rc(54," ExecUtil"),t.Ob(55,"span",14),t.rc(56,","),t.Nb(),t.rc(57," ExecutionState "),t.Ob(58,"span",14),t.rc(59),t.Nb(),t.rc(60," "),t.Ob(61,"span",13),t.rc(62,"from"),t.Nb(),t.rc(63," "),t.Ob(64,"span",15),t.rc(65,"'@travetto/boot'"),t.Nb(),t.Ob(66,"span",14),t.rc(67,";"),t.Nb(),t.rc(68,"\n\n"),t.Ob(69,"span",13),t.rc(70,"import"),t.Nb(),t.rc(71," "),t.Ob(72,"span",14),t.rc(73),t.Nb(),t.rc(74," Worker"),t.Ob(75,"span",14),t.rc(76,","),t.Nb(),t.rc(77," WorkPool"),t.Ob(78,"span",14),t.rc(79,","),t.Nb(),t.rc(80," IterableInputSource"),t.Ob(81,"span",14),t.rc(82,","),t.Nb(),t.rc(83," DynamicAsyncIterator "),t.Ob(84,"span",14),t.rc(85),t.Nb(),t.rc(86," "),t.Ob(87,"span",13),t.rc(88,"from"),t.Nb(),t.rc(89," "),t.Ob(90,"span",15),t.rc(91,"'@travetto/worker'"),t.Nb(),t.Ob(92,"span",14),t.rc(93,";"),t.Nb(),t.rc(94,"\n\n"),t.Ob(95,"span",13),t.rc(96,"class"),t.Nb(),t.rc(97," "),t.Ob(98,"span",16),t.rc(99,"ImageProcessor"),t.Nb(),t.rc(100," "),t.Ob(101,"span",13),t.rc(102,"implements"),t.Nb(),t.rc(103," "),t.Ob(104,"span",16),t.rc(105,"Worker"),t.Nb(),t.Ob(106,"span",17),t.rc(107,"<"),t.Nb(),t.Ob(108,"span",18),t.rc(109,"string"),t.Nb(),t.Ob(110,"span",17),t.rc(111,">"),t.Nb(),t.rc(112," "),t.Ob(113,"span",14),t.rc(114),t.Nb(),t.rc(115,"\n  active "),t.Ob(116,"span",17),t.rc(117,"="),t.Nb(),t.rc(118," "),t.Ob(119,"span",19),t.rc(120,"false"),t.Nb(),t.Ob(121,"span",14),t.rc(122,";"),t.Nb(),t.rc(123,"\n  proc"),t.Ob(124,"span",17),t.rc(125,":"),t.Nb(),t.rc(126," ExecutionState"),t.Ob(127,"span",14),t.rc(128,";"),t.Nb(),t.rc(129,"\n\n  "),t.Ob(130,"span",13),t.rc(131,"get"),t.Nb(),t.rc(132," "),t.Ob(133,"span",3),t.rc(134,"id"),t.Nb(),t.Ob(135,"span",14),t.rc(136,"("),t.Nb(),t.Ob(137,"span",14),t.rc(138,")"),t.Nb(),t.rc(139," "),t.Ob(140,"span",14),t.rc(141),t.Nb(),t.rc(142,"\n    "),t.Ob(143,"span",13),t.rc(144,"return"),t.Nb(),t.rc(145," "),t.Ob(146,"span",13),t.rc(147,"this"),t.Nb(),t.Ob(148,"span",14),t.rc(149,"."),t.Nb(),t.rc(150,"proc"),t.Ob(151,"span",14),t.rc(152,"."),t.Nb(),t.rc(153,"process"),t.Ob(154,"span",14),t.rc(155,"."),t.Nb(),t.rc(156,"pid"),t.Ob(157,"span",14),t.rc(158,";"),t.Nb(),t.rc(159,"\n  "),t.Ob(160,"span",14),t.rc(161),t.Nb(),t.rc(162,"\n\n  "),t.Ob(163,"span",13),t.rc(164,"async"),t.Nb(),t.rc(165," "),t.Ob(166,"span",3),t.rc(167,"destroy"),t.Nb(),t.Ob(168,"span",14),t.rc(169,"("),t.Nb(),t.Ob(170,"span",14),t.rc(171,")"),t.Nb(),t.rc(172," "),t.Ob(173,"span",14),t.rc(174),t.Nb(),t.rc(175,"\n    "),t.Ob(176,"span",13),t.rc(177,"this"),t.Nb(),t.Ob(178,"span",14),t.rc(179,"."),t.Nb(),t.rc(180,"proc"),t.Ob(181,"span",14),t.rc(182,"."),t.Nb(),t.rc(183,"process"),t.Ob(184,"span",14),t.rc(185,"."),t.Nb(),t.Ob(186,"span",3),t.rc(187,"kill"),t.Nb(),t.Ob(188,"span",14),t.rc(189,"("),t.Nb(),t.Ob(190,"span",14),t.rc(191,")"),t.Nb(),t.Ob(192,"span",14),t.rc(193,";"),t.Nb(),t.rc(194,"\n  "),t.Ob(195,"span",14),t.rc(196),t.Nb(),t.rc(197,"\n\n  "),t.Ob(198,"span",13),t.rc(199,"async"),t.Nb(),t.rc(200," "),t.Ob(201,"span",3),t.rc(202,"execute"),t.Nb(),t.Ob(203,"span",14),t.rc(204,"("),t.Nb(),t.Ob(205,"span",20),t.rc(206,"path"),t.Ob(207,"span",17),t.rc(208,":"),t.Nb(),t.rc(209," "),t.Ob(210,"span",18),t.rc(211,"string"),t.Nb(),t.Nb(),t.Ob(212,"span",14),t.rc(213,")"),t.Nb(),t.rc(214," "),t.Ob(215,"span",14),t.rc(216),t.Nb(),t.rc(217,"\n    "),t.Ob(218,"span",13),t.rc(219,"this"),t.Nb(),t.Ob(220,"span",14),t.rc(221,"."),t.Nb(),t.rc(222,"active "),t.Ob(223,"span",17),t.rc(224,"="),t.Nb(),t.rc(225," "),t.Ob(226,"span",19),t.rc(227,"true"),t.Nb(),t.Ob(228,"span",14),t.rc(229,";"),t.Nb(),t.rc(230,"\n    "),t.Ob(231,"span",13),t.rc(232,"try"),t.Nb(),t.rc(233," "),t.Ob(234,"span",14),t.rc(235),t.Nb(),t.rc(236,"\n      "),t.Ob(237,"span",13),t.rc(238,"this"),t.Nb(),t.Ob(239,"span",14),t.rc(240,"."),t.Nb(),t.rc(241,"proc "),t.Ob(242,"span",17),t.rc(243,"="),t.Nb(),t.rc(244," ExecUtil"),t.Ob(245,"span",14),t.rc(246,"."),t.Nb(),t.Ob(247,"span",3),t.rc(248,"spawn"),t.Nb(),t.Ob(249,"span",14),t.rc(250,"("),t.Nb(),t.Ob(251,"span",15),t.rc(252,"'convert images'"),t.Nb(),t.Ob(253,"span",14),t.rc(254,","),t.Nb(),t.rc(255," "),t.Ob(256,"span",14),t.rc(257,"["),t.Nb(),t.rc(258,"path"),t.Ob(259,"span",14),t.rc(260,"]"),t.Nb(),t.Ob(261,"span",14),t.rc(262,")"),t.Nb(),t.Ob(263,"span",14),t.rc(264,";"),t.Nb(),t.rc(265,"\n      "),t.Ob(266,"span",13),t.rc(267,"await"),t.Nb(),t.rc(268," "),t.Ob(269,"span",13),t.rc(270,"this"),t.Nb(),t.Ob(271,"span",14),t.rc(272,"."),t.Nb(),t.rc(273,"proc"),t.Ob(274,"span",14),t.rc(275,";"),t.Nb(),t.rc(276,"\n    "),t.Ob(277,"span",14),t.rc(278),t.Nb(),t.rc(279," "),t.Ob(280,"span",13),t.rc(281,"catch"),t.Nb(),t.rc(282," "),t.Ob(283,"span",14),t.rc(284,"("),t.Nb(),t.rc(285,"e"),t.Ob(286,"span",14),t.rc(287,")"),t.Nb(),t.rc(288," "),t.Ob(289,"span",14),t.rc(290),t.Nb(),t.rc(291,"\n\n    "),t.Ob(292,"span",14),t.rc(293),t.Nb(),t.rc(294,"\n    "),t.Ob(295,"span",13),t.rc(296,"this"),t.Nb(),t.Ob(297,"span",14),t.rc(298,"."),t.Nb(),t.rc(299,"active "),t.Ob(300,"span",17),t.rc(301,"="),t.Nb(),t.rc(302," "),t.Ob(303,"span",19),t.rc(304,"false"),t.Nb(),t.Ob(305,"span",14),t.rc(306,";"),t.Nb(),t.rc(307,"\n  "),t.Ob(308,"span",14),t.rc(309),t.Nb(),t.rc(310,"\n"),t.Ob(311,"span",14),t.rc(312),t.Nb(),t.rc(313,"\n\n"),t.Ob(314,"span",13),t.rc(315,"export"),t.Nb(),t.rc(316," "),t.Ob(317,"span",13),t.rc(318,"class"),t.Nb(),t.rc(319," "),t.Ob(320,"span",16),t.rc(321,"ImageCompressor"),t.Nb(),t.rc(322," "),t.Ob(323,"span",13),t.rc(324,"extends"),t.Nb(),t.rc(325," "),t.Ob(326,"span",16),t.rc(327,"WorkPool"),t.Nb(),t.Ob(328,"span",17),t.rc(329,"<"),t.Nb(),t.Ob(330,"span",18),t.rc(331,"string"),t.Nb(),t.Ob(332,"span",14),t.rc(333,","),t.Nb(),t.rc(334," ImageProcessor"),t.Ob(335,"span",17),t.rc(336,">"),t.Nb(),t.rc(337," "),t.Ob(338,"span",14),t.rc(339),t.Nb(),t.rc(340,"\n\n  pendingImages "),t.Ob(341,"span",17),t.rc(342,"="),t.Nb(),t.rc(343," "),t.Ob(344,"span",13),t.rc(345,"new"),t.Nb(),t.rc(346," "),t.Ob(347,"span",16),t.rc(348,"DynamicAsyncIterator"),t.Nb(),t.Ob(349,"span",17),t.rc(350,"<"),t.Nb(),t.Ob(351,"span",18),t.rc(352,"string"),t.Nb(),t.Ob(353,"span",17),t.rc(354,">"),t.Nb(),t.Ob(355,"span",14),t.rc(356,"("),t.Nb(),t.Ob(357,"span",14),t.rc(358,")"),t.Nb(),t.Ob(359,"span",14),t.rc(360,";"),t.Nb(),t.rc(361,"\n\n  "),t.Ob(362,"span",13),t.rc(363,"constructor"),t.Nb(),t.Ob(364,"span",14),t.rc(365,"("),t.Nb(),t.Ob(366,"span",14),t.rc(367,")"),t.Nb(),t.rc(368," "),t.Ob(369,"span",14),t.rc(370),t.Nb(),t.rc(371,"\n    "),t.Ob(372,"span",13),t.rc(373,"super"),t.Nb(),t.Ob(374,"span",14),t.rc(375,"("),t.Nb(),t.Ob(376,"span",13),t.rc(377,"async"),t.Nb(),t.rc(378," "),t.Ob(379,"span",14),t.rc(380,"("),t.Nb(),t.Ob(381,"span",14),t.rc(382,")"),t.Nb(),t.rc(383," "),t.Ob(384,"span",17),t.rc(385,"=>"),t.Nb(),t.rc(386," "),t.Ob(387,"span",13),t.rc(388,"new"),t.Nb(),t.rc(389," "),t.Ob(390,"span",16),t.rc(391,"ImageProcessor"),t.Nb(),t.Ob(392,"span",14),t.rc(393,"("),t.Nb(),t.Ob(394,"span",14),t.rc(395,")"),t.Nb(),t.Ob(396,"span",14),t.rc(397,")"),t.Nb(),t.Ob(398,"span",14),t.rc(399,";"),t.Nb(),t.rc(400,"\n  "),t.Ob(401,"span",14),t.rc(402),t.Nb(),t.rc(403,"\n\n  "),t.Ob(404,"span",3),t.rc(405,"begin"),t.Nb(),t.Ob(406,"span",14),t.rc(407,"("),t.Nb(),t.Ob(408,"span",14),t.rc(409,")"),t.Nb(),t.rc(410," "),t.Ob(411,"span",14),t.rc(412),t.Nb(),t.rc(413,"\n    "),t.Ob(414,"span",13),t.rc(415,"this"),t.Nb(),t.Ob(416,"span",14),t.rc(417,"."),t.Nb(),t.Ob(418,"span",3),t.rc(419,"process"),t.Nb(),t.Ob(420,"span",14),t.rc(421,"("),t.Nb(),t.Ob(422,"span",13),t.rc(423,"new"),t.Nb(),t.rc(424," "),t.Ob(425,"span",16),t.rc(426,"IterableInputSource"),t.Nb(),t.Ob(427,"span",14),t.rc(428,"("),t.Nb(),t.Ob(429,"span",13),t.rc(430,"this"),t.Nb(),t.Ob(431,"span",14),t.rc(432,"."),t.Nb(),t.rc(433,"pendingImages"),t.Ob(434,"span",14),t.rc(435,")"),t.Nb(),t.Ob(436,"span",14),t.rc(437,")"),t.Nb(),t.Ob(438,"span",14),t.rc(439,";"),t.Nb(),t.rc(440,"\n  "),t.Ob(441,"span",14),t.rc(442),t.Nb(),t.rc(443,"\n\n  "),t.Ob(444,"span",3),t.rc(445,"convert"),t.Nb(),t.Ob(446,"span",14),t.rc(447,"("),t.Nb(),t.Ob(448,"span",20),t.Ob(449,"span",17),t.rc(450,"..."),t.Nb(),t.rc(451,"images"),t.Ob(452,"span",17),t.rc(453,":"),t.Nb(),t.rc(454," "),t.Ob(455,"span",18),t.rc(456,"string"),t.Nb(),t.Ob(457,"span",14),t.rc(458,"["),t.Nb(),t.Ob(459,"span",14),t.rc(460,"]"),t.Nb(),t.Nb(),t.Ob(461,"span",14),t.rc(462,")"),t.Nb(),t.rc(463," "),t.Ob(464,"span",14),t.rc(465),t.Nb(),t.rc(466,"\n    "),t.Ob(467,"span",13),t.rc(468,"this"),t.Nb(),t.Ob(469,"span",14),t.rc(470,"."),t.Nb(),t.rc(471,"pendingImages"),t.Ob(472,"span",14),t.rc(473,"."),t.Nb(),t.Ob(474,"span",3),t.rc(475,"add"),t.Nb(),t.Ob(476,"span",14),t.rc(477,"("),t.Nb(),t.rc(478,"images"),t.Ob(479,"span",14),t.rc(480,")"),t.Nb(),t.Ob(481,"span",14),t.rc(482,";"),t.Nb(),t.rc(483,"\n  "),t.Ob(484,"span",14),t.rc(485),t.Nb(),t.rc(486,"\n"),t.Ob(487,"span",14),t.rc(488),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(489," Once a pool is constructed, it can be shutdown by calling the "),t.Ob(490,"code",21),t.rc(491,".shutdown()"),t.Nb(),t.rc(492," method, and awaiting the result. "),t.Ob(493,"h2",22),t.rc(494,"IPC Support"),t.Nb(),t.rc(495," Within the "),t.Ob(496,"code",8),t.rc(497,"comm"),t.Nb(),t.rc(498," package, there is support for two primary communication elements: "),t.Ob(499,"a",23),t.rc(500,"ChildCommChannel"),t.Nb(),t.rc(501," and "),t.Ob(502,"a",24),t.rc(503,"ParentCommChannel"),t.Nb(),t.rc(504,". Usually "),t.Ob(505,"a",24),t.rc(506,"ParentCommChannel"),t.Nb(),t.rc(507," indicates it is the owner of the sub process. "),t.Ob(508,"a",23),t.rc(509,"ChildCommChannel"),t.Nb(),t.rc(510," indicates that it has been created/spawned/forked by the parent and will communicate back to it's parent. This generally means that a "),t.Ob(511,"a",24),t.rc(512,"ParentCommChannel"),t.Nb(),t.rc(513," can be destroyed (i.e. killing the subprocess) where a "),t.Ob(514,"a",23),t.rc(515,"ChildCommChannel"),t.Nb(),t.rc(516," can only exit the process, but the channel cannot be destroyed. "),t.Ob(517,"h3",25),t.rc(518,"IPC as a Worker"),t.Nb(),t.rc(519,"\nA common pattern is to want to model a sub process as a worker, to be a valid candidate in a "),t.Ob(520,"a",5),t.rc(521,"WorkPool"),t.Nb(),t.rc(522,". The "),t.Ob(523,"a",26),t.rc(524,"WorkUtil"),t.Nb(),t.rc(525," class provides a utility to facilitate this desire. "),t.Ob(526,"figure",10),t.Ob(527,"figcaption",10),t.rc(528,"Spawned Worker "),t.Ob(529,"cite"),t.Ob(530,"a",27),t.rc(531,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(532,"pre"),t.Ob(533,"code",12),t.Ob(534,"span",13),t.rc(535,"import"),t.Nb(),t.rc(536," "),t.Ob(537,"span",14),t.rc(538),t.Nb(),t.rc(539," ExecUtil"),t.Ob(540,"span",14),t.rc(541,","),t.Nb(),t.rc(542," ExecutionOptions"),t.Ob(543,"span",14),t.rc(544,","),t.Nb(),t.rc(545," "),t.Ob(546,"span",14),t.rc(547),t.Nb(),t.rc(548," "),t.Ob(549,"span",13),t.rc(550,"from"),t.Nb(),t.rc(551," "),t.Ob(552,"span",15),t.rc(553,"'@travetto/boot'"),t.Nb(),t.Ob(554,"span",14),t.rc(555,";"),t.Nb(),t.rc(556,"\n"),t.Ob(557,"span",13),t.rc(558,"import"),t.Nb(),t.rc(559," "),t.Ob(560,"span",14),t.rc(561),t.Nb(),t.rc(562," ParentCommChannel "),t.Ob(563,"span",14),t.rc(564),t.Nb(),t.rc(565," "),t.Ob(566,"span",13),t.rc(567,"from"),t.Nb(),t.rc(568," "),t.Ob(569,"span",15),t.rc(570,"'./comm/parent'"),t.Nb(),t.Ob(571,"span",14),t.rc(572,";"),t.Nb(),t.rc(573,"\n"),t.Ob(574,"span",13),t.rc(575,"import"),t.Nb(),t.rc(576," ");t.Ob(577,"span",14),t.rc(578),t.Nb(),t.rc(579," Worker "),t.Ob(580,"span",14),t.rc(581),t.Nb(),t.rc(582," "),t.Ob(583,"span",13),t.rc(584,"from"),t.Nb(),t.rc(585," "),t.Ob(586,"span",15),t.rc(587,"'./pool'"),t.Nb(),t.Ob(588,"span",14),t.rc(589,";"),t.Nb(),t.rc(590,"\n\n"),t.Ob(591,"span",28),t.rc(592,"/**\n * Spawned worker\n */"),t.Nb(),t.rc(593,"\n"),t.Ob(594,"span",13),t.rc(595,"export"),t.Nb(),t.rc(596," "),t.Ob(597,"span",13),t.rc(598,"class"),t.Nb(),t.rc(599," "),t.Ob(600,"span",16),t.rc(601,"WorkUtil"),t.Nb(),t.rc(602," "),t.Ob(603,"span",14),t.rc(604),t.Nb(),t.rc(605,"\n  "),t.Ob(606,"span",28),t.rc(607,"/**\n   * Create a process channel worker from a given spawn config\n   */"),t.Nb(),t.rc(608,"\n  "),t.Ob(609,"span",13),t.rc(610,"static"),t.Nb(),t.rc(611," spawnedWorker"),t.Ob(612,"span",17),t.rc(613,"<"),t.Nb(),t.Ob(614,"span",29),t.rc(615,"X"),t.Nb(),t.Ob(616,"span",17),t.rc(617,">"),t.Nb(),t.Ob(618,"span",14),t.rc(619,"("),t.Nb(),t.rc(620,"\n    command"),t.Ob(621,"span",17),t.rc(622,":"),t.Nb(),t.rc(623," "),t.Ob(624,"span",18),t.rc(625,"string"),t.Nb(),t.Ob(626,"span",14),t.rc(627,","),t.Nb(),t.rc(628,"\n    "),t.Ob(629,"span",14),t.rc(630),t.Nb(),t.rc(631," args"),t.Ob(632,"span",14),t.rc(633,","),t.Nb(),t.rc(634," opts"),t.Ob(635,"span",14),t.rc(636,","),t.Nb(),t.rc(637," handlers "),t.Ob(638,"span",14),t.rc(639),t.Nb(),t.Ob(640,"span",17),t.rc(641,":"),t.Nb(),t.rc(642," "),t.Ob(643,"span",14),t.rc(644),t.Nb(),t.rc(645,"\n      args"),t.Ob(646,"span",17),t.rc(647,"?"),t.Nb(),t.Ob(648,"span",17),t.rc(649,":"),t.Nb(),t.rc(650," "),t.Ob(651,"span",18),t.rc(652,"string"),t.Nb(),t.Ob(653,"span",14),t.rc(654,"["),t.Nb(),t.Ob(655,"span",14),t.rc(656,"]"),t.Nb(),t.Ob(657,"span",14),t.rc(658,";"),t.Nb(),t.rc(659,"\n      opts"),t.Ob(660,"span",17),t.rc(661,"?"),t.Nb(),t.Ob(662,"span",17),t.rc(663,":"),t.Nb(),t.rc(664," ExecutionOptions"),t.Ob(665,"span",14),t.rc(666,";"),t.Nb(),t.rc(667,"\n      handlers"),t.Ob(668,"span",17),t.rc(669,":"),t.Nb(),t.rc(670," "),t.Ob(671,"span",14),t.rc(672),t.Nb(),t.rc(673,"\n        init"),t.Ob(674,"span",17),t.rc(675,"?"),t.Nb(),t.Ob(676,"span",17),t.rc(677,":"),t.Nb(),t.rc(678," "),t.Ob(679,"span",14),t.rc(680,"("),t.Nb(),t.Ob(681,"span",20),t.rc(682,"channel"),t.Ob(683,"span",17),t.rc(684,":"),t.Nb(),t.rc(685," ParentCommChannel"),t.Nb(),t.Ob(686,"span",14),t.rc(687,")"),t.Nb(),t.rc(688," "),t.Ob(689,"span",17),t.rc(690,"=>"),t.Nb(),t.rc(691," "),t.Ob(692,"span",18),t.rc(693,"Promise"),t.Nb(),t.Ob(694,"span",17),t.rc(695,"<"),t.Nb(),t.Ob(696,"span",18),t.rc(697,"any"),t.Nb(),t.Ob(698,"span",17),t.rc(699,">"),t.Nb(),t.Ob(700,"span",14),t.rc(701,";"),t.Nb(),t.rc(702,"\n        "),t.Ob(703,"span",30),t.rc(704,"execute"),t.Nb(),t.Ob(705,"span",17),t.rc(706,":"),t.Nb(),t.rc(707," "),t.Ob(708,"span",14),t.rc(709,"("),t.Nb(),t.Ob(710,"span",20),t.rc(711,"channel"),t.Ob(712,"span",17),t.rc(713,":"),t.Nb(),t.rc(714," ParentCommChannel"),t.Ob(715,"span",14),t.rc(716,","),t.Nb(),t.rc(717," input"),t.Ob(718,"span",17),t.rc(719,":"),t.Nb(),t.rc(720," "),t.Ob(721,"span",29),t.rc(722,"X"),t.Nb(),t.Nb(),t.Ob(723,"span",14),t.rc(724,")"),t.Nb(),t.rc(725," "),t.Ob(726,"span",17),t.rc(727,"=>"),t.Nb(),t.rc(728," "),t.Ob(729,"span",18),t.rc(730,"Promise"),t.Nb(),t.Ob(731,"span",17),t.rc(732,"<"),t.Nb(),t.Ob(733,"span",18),t.rc(734,"any"),t.Nb(),t.Ob(735,"span",17),t.rc(736,">"),t.Nb(),t.Ob(737,"span",14),t.rc(738,";"),t.Nb(),t.rc(739,"\n        destroy"),t.Ob(740,"span",17),t.rc(741,"?"),t.Nb(),t.Ob(742,"span",17),t.rc(743,":"),t.Nb(),t.rc(744," "),t.Ob(745,"span",14),t.rc(746,"("),t.Nb(),t.Ob(747,"span",20),t.rc(748,"channel"),t.Ob(749,"span",17),t.rc(750,":"),t.Nb(),t.rc(751," ParentCommChannel"),t.Nb(),t.Ob(752,"span",14),t.rc(753,")"),t.Nb(),t.rc(754," "),t.Ob(755,"span",17),t.rc(756,"=>"),t.Nb(),t.rc(757," "),t.Ob(758,"span",18),t.rc(759,"Promise"),t.Nb(),t.Ob(760,"span",17),t.rc(761,"<"),t.Nb(),t.Ob(762,"span",18),t.rc(763,"any"),t.Nb(),t.Ob(764,"span",17),t.rc(765,">"),t.Nb(),t.Ob(766,"span",14),t.rc(767,";"),t.Nb(),t.rc(768,"\n      "),t.Ob(769,"span",14),t.rc(770),t.Nb(),t.Ob(771,"span",14),t.rc(772,";"),t.Nb(),t.rc(773,"\n    "),t.Ob(774,"span",14),t.rc(775),t.Nb(),t.rc(776,"\n  "),t.Ob(777,"span",14),t.rc(778,")"),t.Nb(),t.Ob(779,"span",17),t.rc(780,":"),t.Nb(),t.rc(781," Worker"),t.Ob(782,"span",17),t.rc(783,"<"),t.Nb(),t.Ob(784,"span",29),t.rc(785,"X"),t.Nb(),t.Ob(786,"span",17),t.rc(787,">"),t.Nb(),t.rc(788," "),t.Ob(789,"span",14),t.rc(790),t.Nb(),t.rc(791,"\n    "),t.Ob(792,"span",13),t.rc(793,"const"),t.Nb(),t.rc(794," channel "),t.Ob(795,"span",17),t.rc(796,"="),t.Nb(),t.rc(797," "),t.Ob(798,"span",13),t.rc(799,"new"),t.Nb(),t.rc(800," "),t.Ob(801,"span",16),t.rc(802,"ParentCommChannel"),t.Nb(),t.Ob(803,"span",14),t.rc(804,"("),t.Nb(),t.rc(805,"\n      ExecUtil"),t.Ob(806,"span",14),t.rc(807,"."),t.Nb(),t.Ob(808,"span",3),t.rc(809,"fork"),t.Nb(),t.Ob(810,"span",14),t.rc(811,"("),t.Nb(),t.rc(812,"command"),t.Ob(813,"span",14),t.rc(814,","),t.Nb(),t.rc(815," args"),t.Ob(816,"span",14),t.rc(817,","),t.Nb(),t.rc(818," opts"),t.Ob(819,"span",14),t.rc(820,")"),t.Nb(),t.rc(821,"\n    "),t.Ob(822,"span",14),t.rc(823,")"),t.Nb(),t.Ob(824,"span",14),t.rc(825,";"),t.Nb(),t.rc(826,"\n    "),t.Ob(827,"span",13),t.rc(828,"return"),t.Nb(),t.rc(829," "),t.Ob(830,"span",14),t.rc(831),t.Nb(),t.rc(832,"\n      "),t.Ob(833,"span",13),t.rc(834,"get"),t.Nb(),t.rc(835," "),t.Ob(836,"span",3),t.rc(837,"id"),t.Nb(),t.Ob(838,"span",14),t.rc(839,"("),t.Nb(),t.Ob(840,"span",14),t.rc(841,")"),t.Nb(),t.rc(842," "),t.Ob(843,"span",14),t.rc(844),t.Nb(),t.rc(845," "),t.Ob(846,"span",13),t.rc(847,"return"),t.Nb(),t.rc(848," channel"),t.Ob(849,"span",14),t.rc(850,"."),t.Nb(),t.rc(851,"id"),t.Ob(852,"span",14),t.rc(853,";"),t.Nb(),t.rc(854," "),t.Ob(855,"span",14),t.rc(856),t.Nb(),t.Ob(857,"span",14),t.rc(858,","),t.Nb(),t.rc(859,"\n      "),t.Ob(860,"span",13),t.rc(861,"get"),t.Nb(),t.rc(862," "),t.Ob(863,"span",3),t.rc(864,"active"),t.Nb(),t.Ob(865,"span",14),t.rc(866,"("),t.Nb(),t.Ob(867,"span",14),t.rc(868,")"),t.Nb(),t.rc(869," "),t.Ob(870,"span",14),t.rc(871),t.Nb(),t.rc(872," "),t.Ob(873,"span",13),t.rc(874,"return"),t.Nb(),t.rc(875," channel"),t.Ob(876,"span",14),t.rc(877,"."),t.Nb(),t.rc(878,"active"),t.Ob(879,"span",14),t.rc(880,";"),t.Nb(),t.rc(881," "),t.Ob(882,"span",14),t.rc(883),t.Nb(),t.Ob(884,"span",14),t.rc(885,","),t.Nb(),t.rc(886,"\n      init"),t.Ob(887,"span",17),t.rc(888,":"),t.Nb(),t.rc(889," handlers"),t.Ob(890,"span",14),t.rc(891,"."),t.Nb(),t.rc(892,"init "),t.Ob(893,"span",17),t.rc(894,"?"),t.Nb(),t.rc(895," handlers"),t.Ob(896,"span",14),t.rc(897,"."),t.Nb(),t.Ob(898,"span",3),t.rc(899,"init"),t.Nb(),t.Ob(900,"span",14),t.rc(901,"."),t.Nb(),t.Ob(902,"span",3),t.rc(903,"bind"),t.Nb(),t.Ob(904,"span",14),t.rc(905,"("),t.Nb(),t.rc(906,"handlers"),t.Ob(907,"span",14),t.rc(908,","),t.Nb(),t.rc(909," channel"),t.Ob(910,"span",14),t.rc(911,")"),t.Nb(),t.rc(912," "),t.Ob(913,"span",17),t.rc(914,":"),t.Nb(),t.rc(915," "),t.Ob(916,"span",13),t.rc(917,"undefined"),t.Nb(),t.Ob(918,"span",14),t.rc(919,","),t.Nb(),t.rc(920,"\n      execute"),t.Ob(921,"span",17),t.rc(922,":"),t.Nb(),t.rc(923," handlers"),t.Ob(924,"span",14),t.rc(925,"."),t.Nb(),t.Ob(926,"span",3),t.rc(927,"execute"),t.Nb(),t.Ob(928,"span",14),t.rc(929,"."),t.Nb(),t.Ob(930,"span",3),t.rc(931,"bind"),t.Nb(),t.Ob(932,"span",14),t.rc(933,"("),t.Nb(),t.rc(934,"handlers"),t.Ob(935,"span",14),t.rc(936,","),t.Nb(),t.rc(937," channel"),t.Ob(938,"span",14),t.rc(939,")"),t.Nb(),t.Ob(940,"span",14),t.rc(941,","),t.Nb(),t.rc(942,"\n      "),t.Ob(943,"span",13),t.rc(944,"async"),t.Nb(),t.rc(945," "),t.Ob(946,"span",3),t.rc(947,"destroy"),t.Nb(),t.Ob(948,"span",14),t.rc(949,"("),t.Nb(),t.Ob(950,"span",14),t.rc(951,")"),t.Nb(),t.rc(952," "),t.Ob(953,"span",14),t.rc(954),t.Nb(),t.rc(955,"\n        "),t.Ob(956,"span",13),t.rc(957,"if"),t.Nb(),t.rc(958," "),t.Ob(959,"span",14),t.rc(960,"("),t.Nb(),t.rc(961,"handlers"),t.Ob(962,"span",14),t.rc(963,"."),t.Nb(),t.rc(964,"destroy"),t.Ob(965,"span",14),t.rc(966,")"),t.Nb(),t.rc(967," "),t.Ob(968,"span",14),t.rc(969),t.Nb(),t.rc(970,"\n          "),t.Ob(971,"span",13),t.rc(972,"await"),t.Nb(),t.rc(973," handlers"),t.Ob(974,"span",14),t.rc(975,"."),t.Nb(),t.Ob(976,"span",3),t.rc(977,"destroy"),t.Nb(),t.Ob(978,"span",14),t.rc(979,"("),t.Nb(),t.rc(980,"channel"),t.Ob(981,"span",14),t.rc(982,")"),t.Nb(),t.Ob(983,"span",14),t.rc(984,";"),t.Nb(),t.rc(985,"\n        "),t.Ob(986,"span",14),t.rc(987),t.Nb(),t.rc(988,"\n        "),t.Ob(989,"span",13),t.rc(990,"await"),t.Nb(),t.rc(991," channel"),t.Ob(992,"span",14),t.rc(993,"."),t.Nb(),t.Ob(994,"span",3),t.rc(995,"destroy"),t.Nb(),t.Ob(996,"span",14),t.rc(997,"("),t.Nb(),t.Ob(998,"span",14),t.rc(999,")"),t.Nb(),t.Ob(1e3,"span",14),t.rc(1001,";"),t.Nb(),t.rc(1002,"\n      "),t.Ob(1003,"span",14),t.rc(1004),t.Nb(),t.Ob(1005,"span",14),t.rc(1006,","),t.Nb(),t.rc(1007,"\n    "),t.Ob(1008,"span",14),t.rc(1009),t.Nb(),t.Ob(1010,"span",14),t.rc(1011,";"),t.Nb(),t.rc(1012,"\n  "),t.Ob(1013,"span",14),t.rc(1014),t.Nb(),t.rc(1015,"\n"),t.Ob(1016,"span",14),t.rc(1017),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(1018," When creating your work, via process spawning, you will need to provide the script (and any other features you would like in "),t.Ob(1019,"code",8),t.rc(1020,"SpawnConfig"),t.Nb(),t.rc(1021,"). Additionally you must, at a minimum, provide functionality to run whenever an input element is up for grabs in the input source. This method will be provided the communication channel ("),t.Ob(1022,"a",24),t.rc(1023,"ParentCommChannel"),t.Nb(),t.rc(1024,") and the input value. A simple example could look like: "),t.Ob(1025,"figure",10),t.Ob(1026,"figcaption",10),t.rc(1027,"Spawning Pool "),t.Ob(1028,"cite"),t.Ob(1029,"a",31),t.rc(1030,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1031,"pre"),t.Ob(1032,"code",12),t.Ob(1033,"span",13),t.rc(1034,"import"),t.Nb(),t.rc(1035," "),t.Ob(1036,"span",14),t.rc(1037),t.Nb(),t.rc(1038," WorkUtil "),t.Ob(1039,"span",14),t.rc(1040),t.Nb(),t.rc(1041," "),t.Ob(1042,"span",13),t.rc(1043,"from"),t.Nb(),t.rc(1044," "),t.Ob(1045,"span",15),t.rc(1046,"'@travetto/worker/src/util'"),t.Nb(),t.Ob(1047,"span",14),t.rc(1048,";"),t.Nb(),t.rc(1049,"\n"),t.Ob(1050,"span",13),t.rc(1051,"import"),t.Nb(),t.rc(1052," "),t.Ob(1053,"span",14),t.rc(1054),t.Nb(),t.rc(1055," FsUtil "),t.Ob(1056,"span",14),t.rc(1057),t.Nb(),t.rc(1058," "),t.Ob(1059,"span",13),t.rc(1060,"from"),t.Nb(),t.rc(1061," "),t.Ob(1062,"span",15),t.rc(1063,"'@travetto/boot'"),t.Nb(),t.Ob(1064,"span",14),t.rc(1065,";"),t.Nb(),t.rc(1066,"\n\n"),t.Ob(1067,"span",13),t.rc(1068,"import"),t.Nb(),t.rc(1069," "),t.Ob(1070,"span",14),t.rc(1071),t.Nb(),t.rc(1072," WorkPool "),t.Ob(1073,"span",14),t.rc(1074),t.Nb(),t.rc(1075," "),t.Ob(1076,"span",13),t.rc(1077,"from"),t.Nb(),t.rc(1078," "),t.Ob(1079,"span",15),t.rc(1080,"'@travetto/worker/src/pool'"),t.Nb(),t.Ob(1081,"span",14),t.rc(1082,";"),t.Nb(),t.rc(1083,"\n"),t.Ob(1084,"span",13),t.rc(1085,"import"),t.Nb(),t.rc(1086," "),t.Ob(1087,"span",14),t.rc(1088),t.Nb(),t.rc(1089," IterableInputSource "),t.Ob(1090,"span",14),t.rc(1091),t.Nb(),t.rc(1092," "),t.Ob(1093,"span",13),t.rc(1094,"from"),t.Nb(),t.rc(1095," "),t.Ob(1096,"span",15),t.rc(1097,"'@travetto/worker/src/input/iterable'"),t.Nb(),t.Ob(1098,"span",14),t.rc(1099,";"),t.Nb(),t.rc(1100,"\n\n"),t.Ob(1101,"span",13),t.rc(1102,"const"),t.Nb(),t.rc(1103," pool "),t.Ob(1104,"span",17),t.rc(1105,"="),t.Nb(),t.rc(1106," "),t.Ob(1107,"span",13),t.rc(1108,"new"),t.Nb(),t.rc(1109," "),t.Ob(1110,"span",16),t.rc(1111,"WorkPool"),t.Nb(),t.Ob(1112,"span",14),t.rc(1113,"("),t.Nb(),t.Ob(1114,"span",14),t.rc(1115,"("),t.Nb(),t.Ob(1116,"span",14),t.rc(1117,")"),t.Nb(),t.rc(1118," "),t.Ob(1119,"span",17),t.rc(1120,"=>"),t.Nb(),t.rc(1121,"\n  WorkUtil"),t.Ob(1122,"span",14),t.rc(1123,"."),t.Nb(),t.rc(1124,"spawnedWorker"),t.Ob(1125,"span",17),t.rc(1126,"<"),t.Nb(),t.Ob(1127,"span",18),t.rc(1128,"string"),t.Nb(),t.Ob(1129,"span",17),t.rc(1130,">"),t.Nb(),t.Ob(1131,"span",14),t.rc(1132,"("),t.Nb(),t.rc(1133,"FsUtil"),t.Ob(1134,"span",14),t.rc(1135,"."),t.Nb(),t.Ob(1136,"span",3),t.rc(1137,"resolveUnix"),t.Nb(),t.Ob(1138,"span",14),t.rc(1139,"("),t.Nb(),t.rc(1140,"__dirname"),t.Ob(1141,"span",14),t.rc(1142,","),t.Nb(),t.rc(1143," "),t.Ob(1144,"span",15),t.rc(1145,"'spawned.js'"),t.Nb(),t.Ob(1146,"span",14),t.rc(1147,")"),t.Nb(),t.Ob(1148,"span",14),t.rc(1149,","),t.Nb(),t.rc(1150," "),t.Ob(1151,"span",14),t.rc(1152),t.Nb(),t.rc(1153,"\n    handlers");t.Ob(1154,"span",17),t.rc(1155,":"),t.Nb(),t.rc(1156," "),t.Ob(1157,"span",14),t.rc(1158),t.Nb(),t.rc(1159,"\n      "),t.Ob(1160,"span",13),t.rc(1161,"async"),t.Nb(),t.rc(1162," "),t.Ob(1163,"span",3),t.rc(1164,"init"),t.Nb(),t.Ob(1165,"span",14),t.rc(1166,"("),t.Nb(),t.Ob(1167,"span",20),t.rc(1168,"channel"),t.Nb(),t.Ob(1169,"span",14),t.rc(1170,")"),t.Nb(),t.rc(1171," "),t.Ob(1172,"span",14),t.rc(1173),t.Nb(),t.rc(1174,"\n        "),t.Ob(1175,"span",13),t.rc(1176,"return"),t.Nb(),t.rc(1177," channel"),t.Ob(1178,"span",14),t.rc(1179,"."),t.Nb(),t.Ob(1180,"span",3),t.rc(1181,"listenOnce"),t.Nb(),t.Ob(1182,"span",14),t.rc(1183,"("),t.Nb(),t.Ob(1184,"span",15),t.rc(1185,"'ready'"),t.Nb(),t.Ob(1186,"span",14),t.rc(1187,")"),t.Nb(),t.Ob(1188,"span",14),t.rc(1189,";"),t.Nb(),t.rc(1190," "),t.Ob(1191,"span",28),t.rc(1192,"// Wait for child to indicate it is ready"),t.Nb(),t.rc(1193,"\n      "),t.Ob(1194,"span",14),t.rc(1195),t.Nb(),t.Ob(1196,"span",14),t.rc(1197,","),t.Nb(),t.rc(1198,"\n      "),t.Ob(1199,"span",13),t.rc(1200,"async"),t.Nb(),t.rc(1201," "),t.Ob(1202,"span",3),t.rc(1203,"execute"),t.Nb(),t.Ob(1204,"span",14),t.rc(1205,"("),t.Nb(),t.Ob(1206,"span",20),t.rc(1207,"channel"),t.Ob(1208,"span",14),t.rc(1209,","),t.Nb(),t.rc(1210," inp"),t.Nb(),t.Ob(1211,"span",14),t.rc(1212,")"),t.Nb(),t.rc(1213," "),t.Ob(1214,"span",14),t.rc(1215),t.Nb(),t.rc(1216,"\n        "),t.Ob(1217,"span",13),t.rc(1218,"const"),t.Nb(),t.rc(1219," res "),t.Ob(1220,"span",17),t.rc(1221,"="),t.Nb(),t.rc(1222," channel"),t.Ob(1223,"span",14),t.rc(1224,"."),t.Nb(),t.Ob(1225,"span",3),t.rc(1226,"listenOnce"),t.Nb(),t.Ob(1227,"span",14),t.rc(1228,"("),t.Nb(),t.Ob(1229,"span",15),t.rc(1230,"'response'"),t.Nb(),t.Ob(1231,"span",14),t.rc(1232,")"),t.Nb(),t.Ob(1233,"span",14),t.rc(1234,";"),t.Nb(),t.rc(1235," "),t.Ob(1236,"span",28),t.rc(1237,"//  Register response listener"),t.Nb(),t.rc(1238,"\n        channel"),t.Ob(1239,"span",14),t.rc(1240,"."),t.Nb(),t.Ob(1241,"span",3),t.rc(1242,"send"),t.Nb(),t.Ob(1243,"span",14),t.rc(1244,"("),t.Nb(),t.Ob(1245,"span",15),t.rc(1246,"'request'"),t.Nb(),t.Ob(1247,"span",14),t.rc(1248,","),t.Nb(),t.rc(1249," "),t.Ob(1250,"span",14),t.rc(1251),t.Nb(),t.rc(1252," data"),t.Ob(1253,"span",17),t.rc(1254,":"),t.Nb(),t.rc(1255," inp "),t.Ob(1256,"span",14),t.rc(1257),t.Nb(),t.Ob(1258,"span",14),t.rc(1259,")"),t.Nb(),t.Ob(1260,"span",14),t.rc(1261,";"),t.Nb(),t.rc(1262," "),t.Ob(1263,"span",28),t.rc(1264,"// Send request"),t.Nb(),t.rc(1265,"\n\n        "),t.Ob(1266,"span",13),t.rc(1267,"const"),t.Nb(),t.rc(1268," "),t.Ob(1269,"span",14),t.rc(1270),t.Nb(),t.rc(1271," data "),t.Ob(1272,"span",14),t.rc(1273),t.Nb(),t.rc(1274," "),t.Ob(1275,"span",17),t.rc(1276,"="),t.Nb(),t.rc(1277," "),t.Ob(1278,"span",13),t.rc(1279,"await"),t.Nb(),t.rc(1280," res"),t.Ob(1281,"span",14),t.rc(1282,";"),t.Nb(),t.rc(1283," "),t.Ob(1284,"span",28),t.rc(1285,"// Get answer"),t.Nb(),t.rc(1286,"\n        "),t.Ob(1287,"span",18),t.rc(1288,"console"),t.Nb(),t.Ob(1289,"span",14),t.rc(1290,"."),t.Nb(),t.Ob(1291,"span",3),t.rc(1292,"log"),t.Nb(),t.Ob(1293,"span",14),t.rc(1294,"("),t.Nb(),t.Ob(1295,"span",15),t.rc(1296,"'Sent'"),t.Nb(),t.Ob(1297,"span",14),t.rc(1298,","),t.Nb(),t.rc(1299," inp"),t.Ob(1300,"span",14),t.rc(1301,","),t.Nb(),t.rc(1302," "),t.Ob(1303,"span",15),t.rc(1304,"'Received'"),t.Nb(),t.Ob(1305,"span",14),t.rc(1306,","),t.Nb(),t.rc(1307," data"),t.Ob(1308,"span",14),t.rc(1309,")"),t.Nb(),t.Ob(1310,"span",14),t.rc(1311,";"),t.Nb(),t.rc(1312,"\n\n        "),t.Ob(1313,"span",13),t.rc(1314,"if"),t.Nb(),t.rc(1315," "),t.Ob(1316,"span",14),t.rc(1317,"("),t.Nb(),t.Ob(1318,"span",17),t.rc(1319,"!"),t.Nb(),t.Ob(1320,"span",14),t.rc(1321,"("),t.Nb(),t.rc(1322,"inp "),t.Ob(1323,"span",17),t.rc(1324,"+"),t.Nb(),t.rc(1325," inp "),t.Ob(1326,"span",17),t.rc(1327,"==="),t.Nb(),t.rc(1328," data"),t.Ob(1329,"span",14),t.rc(1330,")"),t.Nb(),t.Ob(1331,"span",14),t.rc(1332,")"),t.Nb(),t.rc(1333," "),t.Ob(1334,"span",14),t.rc(1335),t.Nb(),t.rc(1336,"\n          "),t.Ob(1337,"span",28),t.rc(1338,"// Ensure the answer is double the input"),t.Nb(),t.rc(1339,"\n          "),t.Ob(1340,"span",13),t.rc(1341,"throw"),t.Nb(),t.rc(1342," "),t.Ob(1343,"span",13),t.rc(1344,"new"),t.Nb(),t.rc(1345," "),t.Ob(1346,"span",16),t.rc(1347,"Error"),t.Nb(),t.Ob(1348,"span",14),t.rc(1349,"("),t.Nb(),t.Ob(1350,"span",32),t.Ob(1351,"span",33),t.rc(1352,"`"),t.Nb(),t.Ob(1353,"span",15),t.rc(1354,"Didn't get the double"),t.Nb(),t.Ob(1355,"span",33),t.rc(1356,"`"),t.Nb(),t.Nb(),t.Ob(1357,"span",14),t.rc(1358,")"),t.Nb(),t.Ob(1359,"span",14),t.rc(1360,";"),t.Nb(),t.rc(1361,"\n        "),t.Ob(1362,"span",14),t.rc(1363),t.Nb(),t.rc(1364,"\n      "),t.Ob(1365,"span",14),t.rc(1366),t.Nb(),t.rc(1367,"\n    "),t.Ob(1368,"span",14),t.rc(1369),t.Nb(),t.rc(1370,"\n  "),t.Ob(1371,"span",14),t.rc(1372),t.Nb(),t.Ob(1373,"span",14),t.rc(1374,")"),t.Nb(),t.rc(1375,"\n"),t.Ob(1376,"span",14),t.rc(1377,")"),t.Nb(),t.Ob(1378,"span",14),t.rc(1379,";"),t.Nb(),t.rc(1380,"\n\npool"),t.Ob(1381,"span",14),t.rc(1382,"."),t.Nb(),t.Ob(1383,"span",3),t.rc(1384,"process"),t.Nb(),t.Ob(1385,"span",14),t.rc(1386,"("),t.Nb(),t.Ob(1387,"span",13),t.rc(1388,"new"),t.Nb(),t.rc(1389," "),t.Ob(1390,"span",16),t.rc(1391,"IterableInputSource"),t.Nb(),t.Ob(1392,"span",14),t.rc(1393,"("),t.Nb(),t.Ob(1394,"span",14),t.rc(1395,"["),t.Nb(),t.Ob(1396,"span",34),t.rc(1397,"1"),t.Nb(),t.Ob(1398,"span",14),t.rc(1399,","),t.Nb(),t.rc(1400," "),t.Ob(1401,"span",34),t.rc(1402,"2"),t.Nb(),t.Ob(1403,"span",14),t.rc(1404,","),t.Nb(),t.rc(1405," "),t.Ob(1406,"span",34),t.rc(1407,"3"),t.Nb(),t.Ob(1408,"span",14),t.rc(1409,","),t.Nb(),t.rc(1410," "),t.Ob(1411,"span",34),t.rc(1412,"4"),t.Nb(),t.Ob(1413,"span",14),t.rc(1414,","),t.Nb(),t.rc(1415," "),t.Ob(1416,"span",34),t.rc(1417,"5"),t.Nb(),t.Ob(1418,"span",14),t.rc(1419,"]"),t.Nb(),t.Ob(1420,"span",14),t.rc(1421,")"),t.Nb(),t.Ob(1422,"span",14),t.rc(1423,")"),t.Nb(),t.Ob(1424,"span",14),t.rc(1425,"."),t.Nb(),t.Ob(1426,"span",3),t.rc(1427,"then"),t.Nb(),t.Ob(1428,"span",14),t.rc(1429,"("),t.Nb(),t.Ob(1430,"span",20),t.rc(1431,"x"),t.Nb(),t.rc(1432," "),t.Ob(1433,"span",17),t.rc(1434,"=>"),t.Nb(),t.rc(1435," pool"),t.Ob(1436,"span",14),t.rc(1437,"."),t.Nb(),t.Ob(1438,"span",3),t.rc(1439,"shutdown"),t.Nb(),t.Ob(1440,"span",14),t.rc(1441,"("),t.Nb(),t.Ob(1442,"span",14),t.rc(1443,")"),t.Nb(),t.Ob(1444,"span",14),t.rc(1445,")"),t.Nb(),t.Ob(1446,"span",14),t.rc(1447,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1448,"figure",10),t.Ob(1449,"figcaption",10),t.rc(1450,"Spawned Worker "),t.Ob(1451,"cite"),t.Ob(1452,"a",35),t.rc(1453,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(1454,"pre"),t.Ob(1455,"code",36),t.Ob(1456,"span",3),t.rc(1457,"require"),t.Nb(),t.Ob(1458,"span",14),t.rc(1459,"("),t.Nb(),t.Ob(1460,"span",15),t.rc(1461,"'@travetto/boot/register'"),t.Nb(),t.Ob(1462,"span",14),t.rc(1463,")"),t.Nb(),t.Ob(1464,"span",14),t.rc(1465,";"),t.Nb(),t.rc(1466,"\n"),t.Ob(1467,"span",3),t.rc(1468,"require"),t.Nb(),t.Ob(1469,"span",14),t.rc(1470,"("),t.Nb(),t.Ob(1471,"span",15),t.rc(1472,"'@travetto/base'"),t.Nb(),t.Ob(1473,"span",14),t.rc(1474,")"),t.Nb(),t.Ob(1475,"span",14),t.rc(1476,"."),t.Nb(),t.rc(1477,"PhaseManager"),t.Ob(1478,"span",14),t.rc(1479,"."),t.Nb(),t.Ob(1480,"span",3),t.rc(1481,"init"),t.Nb(),t.Ob(1482,"span",14),t.rc(1483,"("),t.Nb(),t.Ob(1484,"span",14),t.rc(1485,")"),t.Nb(),t.Ob(1486,"span",14),t.rc(1487,"."),t.Nb(),t.Ob(1488,"span",3),t.rc(1489,"then"),t.Nb(),t.Ob(1490,"span",14),t.rc(1491,"("),t.Nb(),t.Ob(1492,"span",13),t.rc(1493,"async"),t.Nb(),t.rc(1494," "),t.Ob(1495,"span",14),t.rc(1496,"("),t.Nb(),t.Ob(1497,"span",14),t.rc(1498,")"),t.Nb(),t.rc(1499," "),t.Ob(1500,"span",17),t.rc(1501,"=>"),t.Nb(),t.rc(1502," "),t.Ob(1503,"span",14),t.rc(1504),t.Nb(),t.rc(1505,"\n  "),t.Ob(1506,"span",13),t.rc(1507,"const"),t.Nb(),t.rc(1508," "),t.Ob(1509,"span",14),t.rc(1510),t.Nb(),t.rc(1511," ChildCommChannel "),t.Ob(1512,"span",14),t.rc(1513),t.Nb(),t.rc(1514," "),t.Ob(1515,"span",17),t.rc(1516,"="),t.Nb(),t.rc(1517," "),t.Ob(1518,"span",3),t.rc(1519,"require"),t.Nb(),t.Ob(1520,"span",14),t.rc(1521,"("),t.Nb(),t.Ob(1522,"span",15),t.rc(1523,"'../../..'"),t.Nb(),t.Ob(1524,"span",14),t.rc(1525,")"),t.Nb(),t.Ob(1526,"span",14),t.rc(1527,";"),t.Nb(),t.rc(1528,"\n\n  "),t.Ob(1529,"span",13),t.rc(1530,"const"),t.Nb(),t.rc(1531," exec "),t.Ob(1532,"span",17),t.rc(1533,"="),t.Nb(),t.rc(1534," "),t.Ob(1535,"span",13),t.rc(1536,"new"),t.Nb(),t.rc(1537," "),t.Ob(1538,"span",16),t.rc(1539,"ChildCommChannel"),t.Nb(),t.Ob(1540,"span",14),t.rc(1541,"("),t.Nb(),t.Ob(1542,"span",14),t.rc(1543,")"),t.Nb(),t.Ob(1544,"span",14),t.rc(1545,";"),t.Nb(),t.rc(1546,"\n\n  exec"),t.Ob(1547,"span",14),t.rc(1548,"."),t.Nb(),t.Ob(1549,"span",3),t.rc(1550,"listenFor"),t.Nb(),t.Ob(1551,"span",14),t.rc(1552,"("),t.Nb(),t.Ob(1553,"span",15),t.rc(1554,"'request'"),t.Nb(),t.Ob(1555,"span",14),t.rc(1556,","),t.Nb(),t.rc(1557," "),t.Ob(1558,"span",20),t.rc(1559,"data"),t.Nb(),t.rc(1560," "),t.Ob(1561,"span",17),t.rc(1562,"=>"),t.Nb(),t.rc(1563," "),t.Ob(1564,"span",14),t.rc(1565),t.Nb(),t.rc(1566,"\n    exec"),t.Ob(1567,"span",14),t.rc(1568,"."),t.Nb(),t.Ob(1569,"span",3),t.rc(1570,"send"),t.Nb(),t.Ob(1571,"span",14),t.rc(1572,"("),t.Nb(),t.Ob(1573,"span",15),t.rc(1574,"'response'"),t.Nb(),t.Ob(1575,"span",14),t.rc(1576,","),t.Nb(),t.rc(1577," "),t.Ob(1578,"span",14),t.rc(1579),t.Nb(),t.rc(1580," data"),t.Ob(1581,"span",17),t.rc(1582,":"),t.Nb(),t.rc(1583," "),t.Ob(1584,"span",14),t.rc(1585,"("),t.Nb(),t.rc(1586,"data"),t.Ob(1587,"span",14),t.rc(1588,"."),t.Nb(),t.rc(1589,"data "),t.Ob(1590,"span",17),t.rc(1591,"+"),t.Nb(),t.rc(1592," data"),t.Ob(1593,"span",14),t.rc(1594,"."),t.Nb(),t.rc(1595,"data"),t.Ob(1596,"span",14),t.rc(1597,")"),t.Nb(),t.rc(1598," "),t.Ob(1599,"span",14),t.rc(1600),t.Nb(),t.Ob(1601,"span",14),t.rc(1602,")"),t.Nb(),t.Ob(1603,"span",14),t.rc(1604,";"),t.Nb(),t.rc(1605," "),t.Ob(1606,"span",28),t.rc(1607,"// When data is received, return double"),t.Nb(),t.rc(1608,"\n  "),t.Ob(1609,"span",14),t.rc(1610),t.Nb(),t.Ob(1611,"span",14),t.rc(1612,")"),t.Nb(),t.Ob(1613,"span",14),t.rc(1614,";"),t.Nb(),t.rc(1615,"\n\n  exec"),t.Ob(1616,"span",14),t.rc(1617,"."),t.Nb(),t.Ob(1618,"span",3),t.rc(1619,"send"),t.Nb(),t.Ob(1620,"span",14),t.rc(1621,"("),t.Nb(),t.Ob(1622,"span",15),t.rc(1623,"'ready'"),t.Nb(),t.Ob(1624,"span",14),t.rc(1625,")"),t.Nb(),t.Ob(1626,"span",14),t.rc(1627,";"),t.Nb(),t.rc(1628," "),t.Ob(1629,"span",28),t.rc(1630,"// Indicate the child is ready to receive requests"),t.Nb(),t.rc(1631,"\n\n  "),t.Ob(1632,"span",13),t.rc(1633,"const"),t.Nb(),t.rc(1634," "),t.Ob(1635,"span",30),t.rc(1636,"heartbeat"),t.Nb(),t.rc(1637," "),t.Ob(1638,"span",17),t.rc(1639,"="),t.Nb(),t.rc(1640," "),t.Ob(1641,"span",14),t.rc(1642,"("),t.Nb(),t.Ob(1643,"span",14),t.rc(1644,")"),t.Nb(),t.rc(1645," "),t.Ob(1646,"span",17),t.rc(1647,"=>"),t.Nb(),t.rc(1648," "),t.Ob(1649,"span",3),t.rc(1650,"setTimeout"),t.Nb(),t.Ob(1651,"span",14),t.rc(1652,"("),t.Nb(),t.rc(1653,"heartbeat"),t.Ob(1654,"span",14),t.rc(1655,","),t.Nb(),t.rc(1656," "),t.Ob(1657,"span",34),t.rc(1658,"5000"),t.Nb(),t.Ob(1659,"span",14),t.rc(1660,")"),t.Nb(),t.Ob(1661,"span",14),t.rc(1662,";"),t.Nb(),t.rc(1663," "),t.Ob(1664,"span",28),t.rc(1665,"// Keep-alive"),t.Nb(),t.rc(1666,"\n  "),t.Ob(1667,"span",3),t.rc(1668,"heartbeat"),t.Nb(),t.Ob(1669,"span",14),t.rc(1670,"("),t.Nb(),t.Ob(1671,"span",14),t.rc(1672,")"),t.Nb(),t.Ob(1673,"span",14),t.rc(1674,";"),t.Nb(),t.rc(1675,"\n"),t.Ob(1676,"span",14),t.rc(1677),t.Nb(),t.Ob(1678,"span",14),t.rc(1679,")"),t.Nb(),t.Ob(1680,"span",14),t.rc(1681,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(1682,"figure",37),t.Ob(1683,"figcaption",37),t.rc(1684,"Output "),t.Nb(),t.Ob(1685,"pre"),t.Ob(1686,"code",2),t.rc(1687,"$ ./alt/docs/src/spawner.ts -r @travetto/boot/register ./alt/docs/src/spawner.ts\n\nSent "),t.Ob(1688,"span",34),t.rc(1689,"1"),t.Nb(),t.rc(1690," Received "),t.Ob(1691,"span",34),t.rc(1692,"2"),t.Nb(),t.rc(1693,"\nSent "),t.Ob(1694,"span",34),t.rc(1695,"2"),t.Nb(),t.rc(1696," Received "),t.Ob(1697,"span",34),t.rc(1698,"4"),t.Nb(),t.rc(1699,"\nSent "),t.Ob(1700,"span",34),t.rc(1701,"3"),t.Nb(),t.rc(1702," Received "),t.Ob(1703,"span",34),t.rc(1704,"6"),t.Nb(),t.rc(1705,"\nSent "),t.Ob(1706,"span",34),t.rc(1707,"4"),t.Nb(),t.rc(1708," Received "),t.Ob(1709,"span",34),t.rc(1710,"8"),t.Nb(),t.rc(1711,"\nSent "),t.Ob(1712,"span",34),t.rc(1713,"5"),t.Nb(),t.rc(1714," Received "),t.Ob(1715,"span",34),t.rc(1716,"10"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(53),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(12),t.sc("}"),t.zb(29),t.sc("{"),t.zb(27),t.sc("{"),t.zb(20),t.sc("}"),t.zb(13),t.sc("{"),t.zb(22),t.sc("}"),t.zb(20),t.sc("{"),t.zb(19),t.sc("{"),t.zb(43),t.sc("}"),t.zb(12),t.sc("{"),t.zb(3),t.sc("}"),t.zb(16),t.sc("}"),t.zb(3),t.sc("}"),t.zb(27),t.sc("{"),t.zb(31),t.sc("{"),t.zb(32),t.sc("}"),t.zb(10),t.sc("{"),t.zb(30),t.sc("}"),t.zb(23),t.sc("{"),t.zb(20),t.sc("}"),t.zb(3),t.sc("}"),t.zb(50),t.sc("{"),t.zb(9),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(23),t.sc("{"),t.zb(26),t.sc("{"),t.zb(9),t.sc("}"),t.zb(5),t.sc("{"),t.zb(28),t.sc("{"),t.zb(98),t.sc("}"),t.zb(5),t.sc("}"),t.zb(15),t.sc("{"),t.zb(41),t.sc("{"),t.zb(13),t.sc("{"),t.zb(12),t.sc("}"),t.zb(15),t.sc("{"),t.zb(12),t.sc("}"),t.zb(71),t.sc("{"),t.zb(15),t.sc("{"),t.zb(18),t.sc("}"),t.zb(17),t.sc("}"),t.zb(5),t.sc("}"),t.zb(5),t.sc("}"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(61),t.sc("{"),t.zb(6),t.sc("{"),t.zb(15),t.sc("{"),t.zb(22),t.sc("}"),t.zb(20),t.sc("{"),t.zb(36),t.sc("{"),t.zb(6),t.sc("}"),t.zb(13),t.sc("{"),t.zb(3),t.sc("}"),t.zb(62),t.sc("{"),t.zb(28),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(132),t.sc("{"),t.zb(6),t.sc("{"),t.zb(3),t.sc("}"),t.zb(52),t.sc("{"),t.zb(14),t.sc("{"),t.zb(21),t.sc("}"),t.zb(10),t.sc("}"),t.zb(67),t.sc("}"))},styles:[""]}),r}(),R=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-net"]],decls:258,vars:16,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["id","http-requests"],[1,"item","input"],["target","_blank","href","https://nodejs.org/api/http.html",1,"external-link"],["target","_blank","href","https://nodejs.org/api/https.html",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/net/src/request.ts#L13",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/net/alt/docs/src/http-request.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","operator"],[1,"token","parameter"],[1,"token","builtin"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/net/alt/docs/src/http-api-post.ts"],[1,"token","class-name"],[1,"token","number"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Network "),t.Ob(3,"small"),t.rc(4,"Network utilities of the travetto framework"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/net "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/net"),t.Nb(),t.Nb(),t.Nb(),t.Ob(16,"h2",4),t.rc(17,"HTTP Requests"),t.Nb(),t.rc(18,"\nThe http request functionality exists to allow for simple usage of the "),t.Ob(19,"code",5),t.rc(20,"node"),t.Nb(),t.Ob(21,"a",6),t.rc(22,"http"),t.Nb(),t.rc(23," and "),t.Ob(24,"a",7),t.rc(25,"https"),t.Nb(),t.rc(26," modules. "),t.Ob(27,"a",8),t.rc(28,"HttpRequest"),t.Nb(),t.rc(29," exists, in lieu of alternatives, as a means to provide the smallest footprint possible. Using it is fairly straightforward: "),t.Ob(30,"figure",9),t.Ob(31,"figcaption",9),t.rc(32,"Using HttpRequest "),t.Ob(33,"cite"),t.Ob(34,"a",10),t.rc(35,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(36,"pre"),t.Ob(37,"code",11),t.Ob(38,"span",12),t.rc(39,"import"),t.Nb(),t.rc(40," "),t.Ob(41,"span",13),t.rc(42),t.Nb(),t.rc(43," HttpRequest "),t.Ob(44,"span",13),t.rc(45),t.Nb(),t.rc(46," "),t.Ob(47,"span",12),t.rc(48,"from"),t.Nb(),t.rc(49," "),t.Ob(50,"span",14),t.rc(51,"'@travetto/net'"),t.Nb(),t.Ob(52,"span",13),t.rc(53,";"),t.Nb(),t.rc(54,"\n\nHttpRequest"),t.Ob(55,"span",13),t.rc(56,"."),t.Nb(),t.Ob(57,"span",3),t.rc(58,"exec"),t.Nb(),t.Ob(59,"span",13),t.rc(60,"("),t.Nb(),t.Ob(61,"span",13),t.rc(62),t.Nb(),t.rc(63,"\n  url"),t.Ob(64,"span",15),t.rc(65,":"),t.Nb(),t.rc(66," "),t.Ob(67,"span",14),t.rc(68,"'https://gooogle.com'"),t.Nb(),t.Ob(69,"span",13),t.rc(70,","),t.Nb(),t.rc(71,"\n"),t.Ob(72,"span",13),t.rc(73),t.Nb(),t.Ob(74,"span",13),t.rc(75,")"),t.Nb(),t.Ob(76,"span",13),t.rc(77,"."),t.Nb(),t.Ob(78,"span",3),t.rc(79,"then"),t.Nb(),t.Ob(80,"span",13),t.rc(81,"("),t.Nb(),t.Ob(82,"span",16),t.rc(83,"res"),t.Nb(),t.rc(84," "),t.Ob(85,"span",15),t.rc(86,"=>"),t.Nb(),t.rc(87," "),t.Ob(88,"span",13),t.rc(89),t.Nb(),t.rc(90,"\n  "),t.Ob(91,"span",17),t.rc(92,"console"),t.Nb(),t.Ob(93,"span",13),t.rc(94,"."),t.Nb(),t.Ob(95,"span",3),t.rc(96,"log"),t.Nb(),t.Ob(97,"span",13),t.rc(98,"("),t.Nb(),t.rc(99,"res"),t.Ob(100,"span",13),t.rc(101,")"),t.Nb(),t.Ob(102,"span",13),t.rc(103,";"),t.Nb(),t.rc(104,"\n"),t.Ob(105,"span",13),t.rc(106),t.Nb(),t.Ob(107,"span",13),t.rc(108,")"),t.Nb(),t.Ob(109,"span",13),t.rc(110,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(111," Or a more complex example: "),t.Ob(112,"figure",9),t.Ob(113,"figcaption",9),t.rc(114,"Using HttpRequest to Make API Calls "),t.Ob(115,"cite"),t.Ob(116,"a",18),t.rc(117,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(118,"pre"),t.Ob(119,"code",11),t.Ob(120,"span",12),t.rc(121,"import"),t.Nb(),t.rc(122," "),t.Ob(123,"span",13),t.rc(124),t.Nb(),t.rc(125," HttpRequest "),t.Ob(126,"span",13),t.rc(127),t.Nb(),t.rc(128," "),t.Ob(129,"span",12),t.rc(130,"from"),t.Nb(),t.rc(131," "),t.Ob(132,"span",14),t.rc(133,"'@travetto/net/src/request'"),t.Nb(),t.Ob(134,"span",13),t.rc(135,";"),t.Nb(),t.rc(136,"\n\n"),t.Ob(137,"span",12),t.rc(138,"interface"),t.Nb(),t.rc(139," "),t.Ob(140,"span",19),t.rc(141,"User"),t.Nb(),t.rc(142," "),t.Ob(143,"span",13),t.rc(144),t.Nb(),t.rc(145,"\n  id"),t.Ob(146,"span",15),t.rc(147,":"),t.Nb(),t.rc(148," "),t.Ob(149,"span",17),t.rc(150,"number"),t.Nb(),t.Ob(151,"span",13),t.rc(152,";"),t.Nb(),t.rc(153,"\n  name"),t.Ob(154,"span",15),t.rc(155,":"),t.Nb(),t.rc(156," "),t.Ob(157,"span",17),t.rc(158,"string"),t.Nb(),t.Ob(159,"span",13),t.rc(160,";"),t.Nb(),t.rc(161,"\n"),t.Ob(162,"span",13),t.rc(163),t.Nb(),t.rc(164,"\n\nHttpRequest"),t.Ob(165,"span",13),t.rc(166,"."),t.Nb(),t.rc(167,"execJSON"),t.Ob(168,"span",15),t.rc(169,"<"),t.Nb(),t.rc(170,"User"),t.Ob(171,"span",15),t.rc(172,">"),t.Nb(),t.Ob(173,"span",13),t.rc(174,"("),t.Nb(),t.Ob(175,"span",13),t.rc(176),t.Nb(),t.rc(177,"\n  url"),t.Ob(178,"span",15),t.rc(179,":"),t.Nb(),t.rc(180," "),t.Ob(181,"span",14),t.rc(182,"'https://localhost:3000/api'"),t.Nb(),t.Ob(183,"span",13),t.rc(184,","),t.Nb(),t.rc(185,"\n  method"),t.Ob(186,"span",15),t.rc(187,":"),t.Nb(),t.rc(188," "),t.Ob(189,"span",14),t.rc(190,"'post'"),t.Nb(),t.Ob(191,"span",13),t.rc(192,","),t.Nb(),t.rc(193,"\n"),t.Ob(194,"span",13),t.rc(195),t.Nb(),t.Ob(196,"span",13),t.rc(197,","),t.Nb(),t.rc(198," "),t.Ob(199,"span",13),t.rc(200),t.Nb(),t.rc(201," id"),t.Ob(202,"span",15),t.rc(203,":"),t.Nb(),t.rc(204," "),t.Ob(205,"span",20),t.rc(206,"5"),t.Nb(),t.Ob(207,"span",13),t.rc(208,","),t.Nb(),t.rc(209," name"),t.Ob(210,"span",15),t.rc(211,":"),t.Nb(),t.rc(212," "),t.Ob(213,"span",14),t.rc(214,"'Test'"),t.Nb(),t.rc(215," "),t.Ob(216,"span",13),t.rc(217),t.Nb(),t.Ob(218,"span",13),t.rc(219,")"),t.Nb(),t.Ob(220,"span",13),t.rc(221,"."),t.Nb(),t.Ob(222,"span",3),t.rc(223,"then"),t.Nb(),t.Ob(224,"span",13),t.rc(225,"("),t.Nb(),t.Ob(226,"span",16),t.rc(227,"res"),t.Nb(),t.rc(228," "),t.Ob(229,"span",15),t.rc(230,"=>"),t.Nb(),t.rc(231," "),t.Ob(232,"span",13),t.rc(233),t.Nb(),t.rc(234,"\n  "),t.Ob(235,"span",17),t.rc(236,"console"),t.Nb(),t.Ob(237,"span",13),t.rc(238,"."),t.Nb(),t.Ob(239,"span",3),t.rc(240,"log"),t.Nb(),t.Ob(241,"span",13),t.rc(242,"("),t.Nb(),t.rc(243,"res"),t.Ob(244,"span",13),t.rc(245,"."),t.Nb(),t.rc(246,"name"),t.Ob(247,"span",13),t.rc(248,")"),t.Nb(),t.Ob(249,"span",13),t.rc(250,";"),t.Nb(),t.rc(251,"\n"),t.Ob(252,"span",13),t.rc(253),t.Nb(),t.Ob(254,"span",13),t.rc(255,")"),t.Nb(),t.Ob(256,"span",13),t.rc(257,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(42),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(11),t.sc("}"),t.zb(16),t.sc("{"),t.zb(17),t.sc("}"),t.zb(18),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(19),t.sc("}"),t.zb(13),t.sc("{"),t.zb(19),t.sc("}"),t.zb(5),t.sc("{"),t.zb(17),t.sc("}"),t.zb(16),t.sc("{"),t.zb(20),t.sc("}"))},styles:[""]}),r}(),M=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-watch"]],decls:330,vars:16,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["id","file-watching"],["target","_blank","href","https://travetto.dev",1,"external-link"],["target","_blank","href","https://github.com/shama/gaze",1,"external-link"],["target","_blank","href","https://github.com/paulmillr/chokidar",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/watch/src/watcher.ts#L40",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/watch/alt/docs/src/watch.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","operator"],[1,"token","class-name"],[1,"token","function-variable","function"],[1,"token","parameter"],["id","retargetting-proxy"],[1,"item","input"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/watch/src/proxy.ts#L84",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/watch/alt/docs/src/proxy.ts"],[1,"token","comment"],[1,"token","number"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Watch "),t.Ob(3,"small"),t.rc(4,"Support for making files watchable during runtime"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/watch "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/watch"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module is intended to be used during development, and is not during production. This constraint is tied to the performance hit the functionality could have at run-time. To that end, this is primarily an utilitiy for other modules, but it's functionality could prove useful to others during development. "),t.Ob(17,"h2",4),t.rc(18,"File Watching"),t.Nb(),t.rc(19," This module is the base file system watching support for "),t.Ob(20,"a",5),t.rc(21,"Travetto"),t.Nb(),t.rc(22," applications. In addition to file system scanning, the framework offers a simple file watching library. The goal is to provide a substantially smaller footprint than "),t.Ob(23,"a",6),t.rc(24,"gaze"),t.Nb(),t.rc(25," or "),t.Ob(26,"a",7),t.rc(27,"chokidar"),t.Nb(),t.rc(28,". Utilizing the patterns from the file scanning, you create a "),t.Ob(29,"a",8),t.rc(30,"Watcher"),t.Nb(),t.rc(31," that either has files added manually, or has patterns added that will recursively look for files. "),t.Ob(32,"figure",9),t.Ob(33,"figcaption",9),t.rc(34,"Example of watching for specific files "),t.Ob(35,"cite"),t.Ob(36,"a",10),t.rc(37,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(38,"pre"),t.Ob(39,"code",11),t.Ob(40,"span",12),t.rc(41,"import"),t.Nb(),t.rc(42," "),t.Ob(43,"span",13),t.rc(44),t.Nb(),t.rc(45," Watcher "),t.Ob(46,"span",13),t.rc(47),t.Nb(),t.rc(48," "),t.Ob(49,"span",12),t.rc(50,"from"),t.Nb(),t.rc(51," "),t.Ob(52,"span",14),t.rc(53,"'@travetto/watch/src/watcher'"),t.Nb(),t.Ob(54,"span",13),t.rc(55,";"),t.Nb(),t.rc(56,"\n\n"),t.Ob(57,"span",12),t.rc(58,"const"),t.Nb(),t.rc(59," watcher "),t.Ob(60,"span",15),t.rc(61,"="),t.Nb(),t.rc(62," "),t.Ob(63,"span",12),t.rc(64,"new"),t.Nb(),t.rc(65," "),t.Ob(66,"span",16),t.rc(67,"Watcher"),t.Nb(),t.Ob(68,"span",13),t.rc(69,"("),t.Nb(),t.Ob(70,"span",13),t.rc(71),t.Nb(),t.rc(72," cwd"),t.Ob(73,"span",15),t.rc(74,":"),t.Nb(),t.rc(75," "),t.Ob(76,"span",14),t.rc(77,"'base/path/to/...'"),t.Nb(),t.rc(78," "),t.Ob(79,"span",13),t.rc(80),t.Nb(),t.Ob(81,"span",13),t.rc(82,")"),t.Nb(),t.Ob(83,"span",13),t.rc(84,";"),t.Nb(),t.rc(85,"\nwatcher"),t.Ob(86,"span",13),t.rc(87,"."),t.Nb(),t.Ob(88,"span",3),t.rc(89,"add"),t.Nb(),t.Ob(90,"span",13),t.rc(91,"("),t.Nb(),t.Ob(92,"span",13),t.rc(93,"["),t.Nb(),t.rc(94,"\n  "),t.Ob(95,"span",14),t.rc(96,"'local.config'"),t.Nb(),t.Ob(97,"span",13),t.rc(98,","),t.Nb(),t.rc(99,"\n  "),t.Ob(100,"span",13),t.rc(101),t.Nb(),t.rc(102,"\n    "),t.Ob(103,"span",17),t.rc(104,"testFile"),t.Nb(),t.Ob(105,"span",15),t.rc(106,":"),t.Nb(),t.rc(107," "),t.Ob(108,"span",18),t.rc(109,"x"),t.Nb(),t.rc(110," "),t.Ob(111,"span",15),t.rc(112,"=>"),t.Nb(),t.rc(113," x"),t.Ob(114,"span",13),t.rc(115,"."),t.Nb(),t.Ob(116,"span",3),t.rc(117,"endsWith"),t.Nb(),t.Ob(118,"span",13),t.rc(119,"("),t.Nb(),t.Ob(120,"span",14),t.rc(121,"'.config'"),t.Nb(),t.Ob(122,"span",13),t.rc(123,")"),t.Nb(),t.rc(124," "),t.Ob(125,"span",15),t.rc(126,"||"),t.Nb(),t.rc(127," x"),t.Ob(128,"span",13),t.rc(129,"."),t.Nb(),t.Ob(130,"span",3),t.rc(131,"endsWith"),t.Nb(),t.Ob(132,"span",13),t.rc(133,"("),t.Nb(),t.Ob(134,"span",14),t.rc(135,"'.config.json'"),t.Nb(),t.Ob(136,"span",13),t.rc(137,")"),t.Nb(),t.rc(138,"\n  "),t.Ob(139,"span",13),t.rc(140),t.Nb(),t.rc(141,"\n"),t.Ob(142,"span",13),t.rc(143,"]"),t.Nb(),t.Ob(144,"span",13),t.rc(145,")"),t.Nb(),t.Ob(146,"span",13),t.rc(147,";"),t.Nb(),t.rc(148,"\nwatcher"),t.Ob(149,"span",13),t.rc(150,"."),t.Nb(),t.Ob(151,"span",3),t.rc(152,"run"),t.Nb(),t.Ob(153,"span",13),t.rc(154,"("),t.Nb(),t.Ob(155,"span",13),t.rc(156,")"),t.Nb(),t.Ob(157,"span",13),t.rc(158,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(159,"h2",19),t.rc(160,"Retargetting Proxy"),t.Nb(),t.rc(161," In addition to file watching, the module also provides a core utiltity for hot reloading at runtime. The framework makes use of "),t.Ob(162,"code",20),t.rc(163,"ES2015"),t.Nb(),t.Ob(164,"code",20),t.rc(165,"Proxy"),t.Nb(),t.rc(166,"s. Specifically the the module provides "),t.Ob(167,"a",21),t.rc(168,"RetargettingProxy"),t.Nb(),t.rc(169,", as a means to provide a reference that can have it's underlying target changed at runtime. "),t.Ob(170,"figure",9),t.Ob(171,"figcaption",9),t.rc(172,"Example of using the RetargettingProxy "),t.Ob(173,"cite"),t.Ob(174,"a",22),t.rc(175,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(176,"pre"),t.Ob(177,"code",11),t.Ob(178,"span",12),t.rc(179,"import"),t.Nb(),t.rc(180," "),t.Ob(181,"span",13),t.rc(182),t.Nb(),t.rc(183," RetargettingProxy "),t.Ob(184,"span",13),t.rc(185),t.Nb(),t.rc(186," "),t.Ob(187,"span",12),t.rc(188,"from"),t.Nb(),t.rc(189," "),t.Ob(190,"span",14),t.rc(191,"'@travetto/watch/src/proxy'"),t.Nb(),t.Ob(192,"span",13),t.rc(193,";"),t.Nb(),t.rc(194,"\n\n"),t.Ob(195,"span",12),t.rc(196,"class"),t.Nb(),t.rc(197," "),t.Ob(198,"span",16),t.rc(199,"User"),t.Nb(),t.rc(200," "),t.Ob(201,"span",13),t.rc(202),t.Nb(),t.rc(203," "),t.Ob(204,"span",13),t.rc(205),t.Nb(),t.rc(206,"\n\n"),t.Ob(207,"span",12),t.rc(208,"export"),t.Nb(),t.rc(209," "),t.Ob(210,"span",12),t.rc(211,"class"),t.Nb(),t.rc(212," "),t.Ob(213,"span",16),t.rc(214,"CoolService"),t.Nb(),t.rc(215," "),t.Ob(216,"span",13),t.rc(217),t.Nb(),t.rc(218,"\n  "),t.Ob(219,"span",12),t.rc(220,"async"),t.Nb(),t.rc(221," "),t.Ob(222,"span",3),t.rc(223,"tricky"),t.Nb(),t.Ob(224,"span",13),t.rc(225,"("),t.Nb(),t.Ob(226,"span",13),t.rc(227,")"),t.Nb(),t.rc(228," "),t.Ob(229,"span",13),t.rc(230),t.Nb(),t.rc(231,"\n    "),t.Ob(232,"span",12),t.rc(233,"const"),t.Nb(),t.rc(234," target "),t.Ob(235,"span",15),t.rc(236,"="),t.Nb(),t.rc(237," "),t.Ob(238,"span",12),t.rc(239,"new"),t.Nb(),t.rc(240," "),t.Ob(241,"span",16),t.rc(242,"User"),t.Nb(),t.Ob(243,"span",13),t.rc(244,"("),t.Nb(),t.Ob(245,"span",13),t.rc(246,")"),t.Nb(),t.Ob(247,"span",13),t.rc(248,";"),t.Nb(),t.rc(249,"\n    "),t.Ob(250,"span",12),t.rc(251,"const"),t.Nb(),t.rc(252," proxy "),t.Ob(253,"span",15),t.rc(254,"="),t.Nb(),t.rc(255," "),t.Ob(256,"span",12),t.rc(257,"new"),t.Nb(),t.rc(258," "),t.Ob(259,"span",16),t.rc(260,"RetargettingProxy"),t.Nb(),t.Ob(261,"span",13),t.rc(262,"("),t.Nb(),t.rc(263,"target"),t.Ob(264,"span",13),t.rc(265,")"),t.Nb(),t.Ob(266,"span",13),t.rc(267,";"),t.Nb(),t.rc(268,"\n\n    "),t.Ob(269,"span",23),t.rc(270,"// Update target a second later"),t.Nb(),t.rc(271,"\n    "),t.Ob(272,"span",3),t.rc(273,"setTimeout"),t.Nb(),t.Ob(274,"span",13),t.rc(275,"("),t.Nb(),t.Ob(276,"span",13),t.rc(277,"("),t.Nb(),t.Ob(278,"span",13),t.rc(279,")"),t.Nb(),t.rc(280," "),t.Ob(281,"span",15),t.rc(282,"=>"),t.Nb(),t.rc(283," "),t.Ob(284,"span",13),t.rc(285),t.Nb(),t.rc(286,"\n      proxy"),t.Ob(287,"span",13),t.rc(288,"."),t.Nb(),t.Ob(289,"span",3),t.rc(290,"setTarget"),t.Nb(),t.Ob(291,"span",13),t.rc(292,"("),t.Nb(),t.Ob(293,"span",12),t.rc(294,"new"),t.Nb(),t.rc(295," "),t.Ob(296,"span",16),t.rc(297,"User"),t.Nb(),t.Ob(298,"span",13),t.rc(299,"("),t.Nb(),t.Ob(300,"span",13),t.rc(301,")"),t.Nb(),t.Ob(302,"span",13),t.rc(303,")"),t.Nb(),t.Ob(304,"span",13),t.rc(305,";"),t.Nb(),t.rc(306,"\n    "),t.Ob(307,"span",13),t.rc(308),t.Nb(),t.Ob(309,"span",13),t.rc(310,","),t.Nb(),t.rc(311," "),t.Ob(312,"span",24),t.rc(313,"1000"),t.Nb(),t.Ob(314,"span",13),t.rc(315,")"),t.Nb(),t.Ob(316,"span",13),t.rc(317,";"),t.Nb(),t.rc(318,"\n\n    "),t.Ob(319,"span",12),t.rc(320,"return"),t.Nb(),t.rc(321," proxy"),t.Ob(322,"span",13),t.rc(323,";"),t.Nb(),t.rc(324,"\n  "),t.Ob(325,"span",13),t.rc(326),t.Nb(),t.rc(327,"\n"),t.Ob(328,"span",13),t.rc(329),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(44),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(9),t.sc("}"),t.zb(21),t.sc("{"),t.zb(39),t.sc("}"),t.zb(42),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(12),t.sc("{"),t.zb(13),t.sc("{"),t.zb(55),t.sc("{"),t.zb(23),t.sc("}"),t.zb(18),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),L=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-asset-mongo"]],decls:443,vars:30,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://mongodb.com",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/src/source.ts#L6",1,"source-link"],["href","/docs/asset","title","Modular library for storing and retrieving binary assets",1,"module-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset-mongo/alt/docs/src/config.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","meta"],[1,"token","parameter"],[1,"token","operator"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset-mongo/src/config.ts"],[1,"token","comment"],[1,"token","builtin"],[1,"token","number"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/src/decorator.ts#L9",1,"source-link"],["href","/docs/config","title","Environment-aware config management using yaml files",1,"module-link"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"MongoDB Asset Source "),t.Ob(3,"small"),t.rc(4,"Mongo/GridFS backend for the travetto asset module"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/asset-mongo "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/asset-mongo"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This provides a "),t.Ob(17,"a",4),t.rc(18,"mongodb"),t.Nb(),t.rc(19," implementation of the "),t.Ob(20,"a",5),t.rc(21,"AssetSource"),t.Nb(),t.rc(22," which is a backend for the "),t.Ob(23,"a",6),t.rc(24,"Asset"),t.Nb(),t.rc(25," module. "),t.Ob(26,"figure",7),t.Ob(27,"figcaption",7),t.rc(28,"Mongo backend wiring "),t.Ob(29,"cite"),t.Ob(30,"a",8),t.rc(31,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(32,"pre"),t.Ob(33,"code",9),t.Ob(34,"span",10),t.rc(35,"import"),t.Nb(),t.rc(36," "),t.Ob(37,"span",11),t.rc(38),t.Nb(),t.rc(39," InjectableFactory "),t.Ob(40,"span",11),t.rc(41),t.Nb(),t.rc(42," "),t.Ob(43,"span",10),t.rc(44,"from"),t.Nb(),t.rc(45," "),t.Ob(46,"span",12),t.rc(47,"'@travetto/di'"),t.Nb(),t.Ob(48,"span",11),t.rc(49,";"),t.Nb(),t.rc(50,"\n"),t.Ob(51,"span",10),t.rc(52,"import"),t.Nb(),t.rc(53," "),t.Ob(54,"span",11),t.rc(55),t.Nb(),t.rc(56," MongoAssetSource"),t.Ob(57,"span",11),t.rc(58,","),t.Nb(),t.rc(59," MongoAssetConfig "),t.Ob(60,"span",11),t.rc(61),t.Nb(),t.rc(62," "),t.Ob(63,"span",10),t.rc(64,"from"),t.Nb(),t.rc(65," "),t.Ob(66,"span",12),t.rc(67,"'@travetto/asset-mongo'"),t.Nb(),t.Ob(68,"span",11),t.rc(69,";"),t.Nb(),t.rc(70,"\n\n"),t.Ob(71,"span",10),t.rc(72,"class"),t.Nb(),t.rc(73," "),t.Ob(74,"span",13),t.rc(75,"AppConfig"),t.Nb(),t.rc(76," "),t.Ob(77,"span",11),t.rc(78),t.Nb(),t.rc(79,"\n  @"),t.Ob(80,"span",14),t.rc(81,"InjectableFactory"),t.Nb(),t.Ob(82,"span",11),t.rc(83,"("),t.Nb(),t.Ob(84,"span",11),t.rc(85,")"),t.Nb(),t.rc(86,"\n  "),t.Ob(87,"span",10),t.rc(88,"static"),t.Nb(),t.rc(89," "),t.Ob(90,"span",3),t.rc(91,"getSource"),t.Nb(),t.Ob(92,"span",11),t.rc(93,"("),t.Nb(),t.Ob(94,"span",15),t.rc(95,"cfg"),t.Ob(96,"span",16),t.rc(97,":"),t.Nb(),t.rc(98," MongoAssetConfig"),t.Nb(),t.Ob(99,"span",11),t.rc(100,")"),t.Nb(),t.rc(101," "),t.Ob(102,"span",11),t.rc(103),t.Nb(),t.rc(104,"\n    "),t.Ob(105,"span",10),t.rc(106,"return"),t.Nb(),t.rc(107," "),t.Ob(108,"span",10),t.rc(109,"new"),t.Nb(),t.rc(110," "),t.Ob(111,"span",13),t.rc(112,"MongoAssetSource"),t.Nb(),t.Ob(113,"span",11),t.rc(114,"("),t.Nb(),t.rc(115,"cfg"),t.Ob(116,"span",11),t.rc(117,")"),t.Nb(),t.Ob(118,"span",11),t.rc(119,";"),t.Nb(),t.rc(120,"\n  "),t.Ob(121,"span",11),t.rc(122),t.Nb(),t.rc(123,"\n"),t.Ob(124,"span",11),t.rc(125),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(126," There is a default configuration that you can easily use, with some sensible defaults. "),t.Ob(127,"figure",7),t.Ob(128,"figcaption",7),t.rc(129,"Mongo configuration "),t.Ob(130,"cite"),t.Ob(131,"a",17),t.rc(132,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(133,"pre"),t.Ob(134,"code",9),t.Ob(135,"span",10),t.rc(136,"import"),t.Nb(),t.rc(137," "),t.Ob(138,"span",11),t.rc(139),t.Nb(),t.rc(140," Config "),t.Ob(141,"span",11),t.rc(142),t.Nb(),t.rc(143," "),t.Ob(144,"span",10),t.rc(145,"from"),t.Nb(),t.rc(146," "),t.Ob(147,"span",12),t.rc(148,"'@travetto/config'"),t.Nb(),t.Ob(149,"span",11),t.rc(150,";"),t.Nb(),t.rc(151,"\n\n"),t.Ob(152,"span",18),t.rc(153,"/**\n * Mongo configuration as asset source\n */"),t.Nb(),t.rc(154,"\n@"),t.Ob(155,"span",14),t.rc(156,"Config"),t.Nb(),t.Ob(157,"span",11),t.rc(158,"("),t.Nb(),t.Ob(159,"span",12),t.rc(160,"'mongo.asset'"),t.Nb(),t.Ob(161,"span",11),t.rc(162,")"),t.Nb(),t.rc(163,"\n"),t.Ob(164,"span",10),t.rc(165,"export"),t.Nb(),t.rc(166," "),t.Ob(167,"span",10),t.rc(168,"class"),t.Nb(),t.rc(169," "),t.Ob(170,"span",13),t.rc(171,"MongoAssetConfig"),t.Nb(),t.rc(172," "),t.Ob(173,"span",11),t.rc(174),t.Nb(),t.rc(175,"\n  hosts"),t.Ob(176,"span",16),t.rc(177,":"),t.Nb(),t.rc(178," "),t.Ob(179,"span",19),t.rc(180,"string"),t.Nb(),t.rc(181," "),t.Ob(182,"span",16),t.rc(183,"="),t.Nb(),t.rc(184," "),t.Ob(185,"span",12),t.rc(186,"'localhost'"),t.Nb(),t.Ob(187,"span",11),t.rc(188,";"),t.Nb(),t.rc(189,"  "),t.Ob(190,"span",18),t.rc(191,"// List of hosts, comma separated"),t.Nb(),t.rc(192,"\n  "),t.Ob(193,"span",10),t.rc(194,"namespace"),t.Nb(),t.rc(195," "),t.Ob(196,"span",16),t.rc(197,"="),t.Nb(),t.rc(198," "),t.Ob(199,"span",12),t.rc(200,"'app'"),t.Nb(),t.Ob(201,"span",11),t.rc(202,";"),t.Nb(),t.rc(203," "),t.Ob(204,"span",18),t.rc(205,"// Database namespace"),t.Nb(),t.rc(206,"\n  port "),t.Ob(207,"span",16),t.rc(208,"="),t.Nb(),t.rc(209," "),t.Ob(210,"span",20),t.rc(211,"27017"),t.Nb(),t.Ob(212,"span",11),t.rc(213,";"),t.Nb(),t.rc(214,"\n  options "),t.Ob(215,"span",16),t.rc(216,"="),t.Nb(),t.rc(217," "),t.Ob(218,"span",11),t.rc(219),t.Nb(),t.Ob(220,"span",11),t.rc(221),t.Nb(),t.Ob(222,"span",11),t.rc(223,";"),t.Nb(),t.rc(224," "),t.Ob(225,"span",18),t.rc(226,"// connection options"),t.Nb(),t.rc(227,"\n\n  "),t.Ob(228,"span",18),t.rc(229,"/**\n   * Compute connection URL\n   */"),t.Nb(),t.rc(230,"\n  "),t.Ob(231,"span",10),t.rc(232,"get"),t.Nb(),t.rc(233," "),t.Ob(234,"span",3),t.rc(235,"url"),t.Nb(),t.Ob(236,"span",11),t.rc(237,"("),t.Nb(),t.Ob(238,"span",11),t.rc(239,")"),t.Nb(),t.rc(240," "),t.Ob(241,"span",11),t.rc(242),t.Nb(),t.rc(243,"\n    "),t.Ob(244,"span",10),t.rc(245,"const"),t.Nb(),t.rc(246," hosts "),t.Ob(247,"span",16),t.rc(248,"="),t.Nb(),t.rc(249," "),t.Ob(250,"span",10),t.rc(251,"this"),t.Nb(),t.Ob(252,"span",11),t.rc(253,"."),t.Nb(),t.rc(254,"hosts"),t.Ob(255,"span",11),t.rc(256,"."),t.Nb(),t.Ob(257,"span",3),t.rc(258,"split"),t.Nb(),t.Ob(259,"span",11),t.rc(260,"("),t.Nb(),t.Ob(261,"span",12),t.rc(262,"','"),t.Nb(),t.Ob(263,"span",11),t.rc(264,")"),t.Nb(),t.Ob(265,"span",11),t.rc(266,"."),t.Nb(),t.Ob(267,"span",3),t.rc(268,"map"),t.Nb(),t.Ob(269,"span",11),t.rc(270,"("),t.Nb(),t.Ob(271,"span",15),t.rc(272,"h"),t.Nb(),t.rc(273," "),t.Ob(274,"span",16),t.rc(275,"=>"),t.Nb(),t.rc(276," "),t.Ob(277,"span",21),t.Ob(278,"span",22),t.rc(279,"`"),t.Nb(),t.Ob(280,"span",23),t.Ob(281,"span",24),t.rc(282),t.Nb(),t.rc(283,"h"),t.Ob(284,"span",24),t.rc(285),t.Nb(),t.Nb(),t.Ob(286,"span",12),t.rc(287,":"),t.Nb(),t.Ob(288,"span",23),t.Ob(289,"span",24),t.rc(290),t.Nb(),t.Ob(291,"span",10),t.rc(292,"this"),t.Nb(),t.Ob(293,"span",11),t.rc(294,"."),t.Nb(),t.rc(295,"port"),t.Ob(296,"span",24),t.rc(297),t.Nb(),t.Nb(),t.Ob(298,"span",22),t.rc(299,"`"),t.Nb(),t.Nb(),t.Ob(300,"span",11),t.rc(301,")"),t.Nb(),t.Ob(302,"span",11),t.rc(303,"."),t.Nb(),t.Ob(304,"span",3),t.rc(305,"join"),t.Nb(),t.Ob(306,"span",11),t.rc(307,"("),t.Nb(),t.Ob(308,"span",12),t.rc(309,"','"),t.Nb(),t.Ob(310,"span",11),t.rc(311,")"),t.Nb(),t.Ob(312,"span",11),t.rc(313,";"),t.Nb(),t.rc(314,"\n    "),t.Ob(315,"span",10),t.rc(316,"const"),t.Nb(),t.rc(317," opts "),t.Ob(318,"span",16),t.rc(319,"="),t.Nb(),t.rc(320," Object"),t.Ob(321,"span",11),t.rc(322,"."),t.Nb(),t.Ob(323,"span",3),t.rc(324,"entries"),t.Nb(),t.Ob(325,"span",11),t.rc(326,"("),t.Nb(),t.Ob(327,"span",10),t.rc(328,"this"),t.Nb(),t.Ob(329,"span",11),t.rc(330,"."),t.Nb(),t.rc(331,"options"),t.Ob(332,"span",11),t.rc(333,")"),t.Nb(),t.Ob(334,"span",11),t.rc(335,"."),t.Nb(),t.Ob(336,"span",3),t.rc(337,"map"),t.Nb(),t.Ob(338,"span",11),t.rc(339,"("),t.Nb(),t.Ob(340,"span",11),t.rc(341,"("),t.Nb(),t.Ob(342,"span",15),t.Ob(343,"span",11),t.rc(344,"["),t.Nb(),t.rc(345,"k"),t.Ob(346,"span",11),t.rc(347,","),t.Nb(),t.rc(348," v"),t.Ob(349,"span",11),t.rc(350,"]"),t.Nb(),t.Nb(),t.Ob(351,"span",11),t.rc(352,")"),t.Nb(),t.rc(353," "),t.Ob(354,"span",16),t.rc(355,"=>"),t.Nb(),t.rc(356," "),t.Ob(357,"span",21),t.Ob(358,"span",22),t.rc(359,"`"),t.Nb(),t.Ob(360,"span",23),t.Ob(361,"span",24),t.rc(362),t.Nb(),t.rc(363,"k"),t.Ob(364,"span",24),t.rc(365),t.Nb(),t.Nb(),t.Ob(366,"span",12),t.rc(367,"="),t.Nb(),t.Ob(368,"span",23),t.Ob(369,"span",24),t.rc(370),t.Nb(),t.rc(371,"v"),t.Ob(372,"span",24),t.rc(373),t.Nb(),t.Nb(),t.Ob(374,"span",22),t.rc(375,"`"),t.Nb(),t.Nb(),t.Ob(376,"span",11),t.rc(377,")"),t.Nb(),t.Ob(378,"span",11),t.rc(379,"."),t.Nb(),t.Ob(380,"span",3),t.rc(381,"join"),t.Nb(),t.Ob(382,"span",11),t.rc(383,"("),t.Nb(),t.Ob(384,"span",12),t.rc(385,"'&'"),t.Nb(),t.Ob(386,"span",11),t.rc(387,")"),t.Nb(),t.Ob(388,"span",11),t.rc(389,";"),t.Nb(),t.rc(390,"\n    "),t.Ob(391,"span",10),t.rc(392,"return"),t.Nb(),t.rc(393," "),t.Ob(394,"span",21),t.Ob(395,"span",22),t.rc(396,"`"),t.Nb(),t.Ob(397,"span",12),t.rc(398,"mongodb://"),t.Nb(),t.Ob(399,"span",23),t.Ob(400,"span",24),t.rc(401),t.Nb(),t.rc(402,"hosts"),t.Ob(403,"span",24),t.rc(404),t.Nb(),t.Nb(),t.Ob(405,"span",12),t.rc(406,"/"),t.Nb(),t.Ob(407,"span",23),t.Ob(408,"span",24),t.rc(409),t.Nb(),t.Ob(410,"span",10),t.rc(411,"this"),t.Nb(),t.Ob(412,"span",11),t.rc(413,"."),t.Nb(),t.Ob(414,"span",10),t.rc(415,"namespace"),t.Nb(),t.Ob(416,"span",24),t.rc(417),t.Nb(),t.Nb(),t.Ob(418,"span",12),t.rc(419,"?"),t.Nb(),t.Ob(420,"span",23),t.Ob(421,"span",24),t.rc(422),t.Nb(),t.rc(423,"opts"),t.Ob(424,"span",24),t.rc(425),t.Nb(),t.Nb(),t.Ob(426,"span",22),t.rc(427,"`"),t.Nb(),t.Nb(),t.Ob(428,"span",11),t.rc(429,";"),t.Nb(),t.rc(430,"\n  "),t.Ob(431,"span",11),t.rc(432),t.Nb(),t.rc(433,"\n"),t.Ob(434,"span",11),t.rc(435),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(436," Additionally, you can see that the class is registered with the "),t.Ob(437,"a",25),t.rc(438,"@Config"),t.Nb(),t.rc(439," annotation, and so these values can be overridden using the standard "),t.Ob(440,"a",26),t.rc(441,"Configuration"),t.Nb(),t.rc(442," resolution paths. "),t.Nb()),2&r&&(t.zb(38),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(17),t.sc("{"),t.zb(25),t.sc("{"),t.zb(19),t.sc("}"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(32),t.sc("{"),t.zb(45),t.sc("{"),t.zb(2),t.sc("}"),t.zb(21),t.sc("{"),t.zb(40),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(7),t.sc("}"),t.zb(65),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(28),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(8),t.sc("}"),t.zb(5),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(7),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),D=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-asset-s3"]],decls:550,vars:30,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://aws.amazon.com/documentation/s3/",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/src/source.ts#L6",1,"source-link"],["href","/docs/asset","title","Modular library for storing and retrieving binary assets",1,"module-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset-s3/alt/docs/src/config.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","meta"],[1,"token","parameter"],[1,"token","operator"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset-s3/src/config.ts"],[1,"token","comment"],[1,"token","constant"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/config/src/decorator.ts#L9",1,"source-link"],["href","/docs/config","title","Environment-aware config management using yaml files",1,"module-link"],[1,"note"],[1,"item","input"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"S3 Asset Source "),t.Ob(3,"small"),t.rc(4,"AWS S3 backend for the travetto asset module"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/asset-s3 "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/asset-s3"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This provides a "),t.Ob(17,"a",4),t.rc(18,"s3"),t.Nb(),t.rc(19," implementation of the "),t.Ob(20,"a",5),t.rc(21,"AssetSource"),t.Nb(),t.rc(22," which is a backend for the "),t.Ob(23,"a",6),t.rc(24,"Asset"),t.Nb(),t.rc(25," module. "),t.Ob(26,"figure",7),t.Ob(27,"figcaption",7),t.rc(28,"S3 backend wiring "),t.Ob(29,"cite"),t.Ob(30,"a",8),t.rc(31,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(32,"pre"),t.Ob(33,"code",9),t.Ob(34,"span",10),t.rc(35,"import"),t.Nb(),t.rc(36," "),t.Ob(37,"span",11),t.rc(38),t.Nb(),t.rc(39," InjectableFactory "),t.Ob(40,"span",11),t.rc(41),t.Nb(),t.rc(42," "),t.Ob(43,"span",10),t.rc(44,"from"),t.Nb(),t.rc(45," "),t.Ob(46,"span",12),t.rc(47,"'@travetto/di'"),t.Nb(),t.Ob(48,"span",11),t.rc(49,";"),t.Nb(),t.rc(50,"\n"),t.Ob(51,"span",10),t.rc(52,"import"),t.Nb(),t.rc(53," "),t.Ob(54,"span",11),t.rc(55),t.Nb(),t.rc(56," S3AssetSource"),t.Ob(57,"span",11),t.rc(58,","),t.Nb(),t.rc(59," S3AssetConfig "),t.Ob(60,"span",11),t.rc(61),t.Nb(),t.rc(62," "),t.Ob(63,"span",10),t.rc(64,"from"),t.Nb(),t.rc(65," "),t.Ob(66,"span",12),t.rc(67,"'@travetto/asset-s3'"),t.Nb(),t.Ob(68,"span",11),t.rc(69,";"),t.Nb(),t.rc(70,"\n\n"),t.Ob(71,"span",10),t.rc(72,"class"),t.Nb(),t.rc(73," "),t.Ob(74,"span",13),t.rc(75,"AppConfig"),t.Nb(),t.rc(76," "),t.Ob(77,"span",11),t.rc(78),t.Nb(),t.rc(79,"\n  @"),t.Ob(80,"span",14),t.rc(81,"InjectableFactory"),t.Nb(),t.Ob(82,"span",11),t.rc(83,"("),t.Nb(),t.Ob(84,"span",11),t.rc(85,")"),t.Nb(),t.rc(86,"\n  "),t.Ob(87,"span",10),t.rc(88,"static"),t.Nb(),t.rc(89," "),t.Ob(90,"span",3),t.rc(91,"getSource"),t.Nb(),t.Ob(92,"span",11),t.rc(93,"("),t.Nb(),t.Ob(94,"span",15),t.rc(95,"cfg"),t.Ob(96,"span",16),t.rc(97,":"),t.Nb(),t.rc(98," S3AssetConfig"),t.Nb(),t.Ob(99,"span",11),t.rc(100,")"),t.Nb(),t.rc(101," "),t.Ob(102,"span",11),t.rc(103),t.Nb(),t.rc(104,"\n    "),t.Ob(105,"span",10),t.rc(106,"return"),t.Nb(),t.rc(107," "),t.Ob(108,"span",10),t.rc(109,"new"),t.Nb(),t.rc(110," "),t.Ob(111,"span",13),t.rc(112,"S3AssetSource"),t.Nb(),t.Ob(113,"span",11),t.rc(114,"("),t.Nb(),t.rc(115,"cfg"),t.Ob(116,"span",11),t.rc(117,")"),t.Nb(),t.Ob(118,"span",11),t.rc(119,";"),t.Nb(),t.rc(120,"\n  "),t.Ob(121,"span",11),t.rc(122),t.Nb(),t.rc(123,"\n"),t.Ob(124,"span",11),t.rc(125),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(126," There is a default configuration that you can easily use, with some sensible defaults. "),t.Ob(127,"figure",7),t.Ob(128,"figcaption",7),t.rc(129,"S3 Configuration "),t.Ob(130,"cite"),t.Ob(131,"a",17),t.rc(132,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(133,"pre"),t.Ob(134,"code",9),t.Ob(135,"span",10),t.rc(136,"import"),t.Nb(),t.rc(137," "),t.Ob(138,"span",16),t.rc(139,"*"),t.Nb(),t.rc(140," "),t.Ob(141,"span",10),t.rc(142,"as"),t.Nb(),t.rc(143," aws "),t.Ob(144,"span",10),t.rc(145,"from"),t.Nb(),t.rc(146," "),t.Ob(147,"span",12),t.rc(148,"'aws-sdk'"),t.Nb(),t.Ob(149,"span",11),t.rc(150,";"),t.Nb(),t.rc(151,"\n"),t.Ob(152,"span",10),t.rc(153,"import"),t.Nb(),t.rc(154," "),t.Ob(155,"span",11),t.rc(156),t.Nb(),t.rc(157," EnvUtil "),t.Ob(158,"span",11),t.rc(159),t.Nb(),t.rc(160," "),t.Ob(161,"span",10),t.rc(162,"from"),t.Nb(),t.rc(163," "),t.Ob(164,"span",12),t.rc(165,"'@travetto/boot'"),t.Nb(),t.Ob(166,"span",11),t.rc(167,";"),t.Nb(),t.rc(168,"\n"),t.Ob(169,"span",10),t.rc(170,"import"),t.Nb(),t.rc(171," "),t.Ob(172,"span",11),t.rc(173),t.Nb(),t.rc(174," Config "),t.Ob(175,"span",11),t.rc(176),t.Nb(),t.rc(177," "),t.Ob(178,"span",10),t.rc(179,"from"),t.Nb(),t.rc(180," "),t.Ob(181,"span",12),t.rc(182,"'@travetto/config'"),t.Nb(),t.Ob(183,"span",11),t.rc(184,";"),t.Nb(),t.rc(185,"\n\n"),t.Ob(186,"span",18),t.rc(187,"/**\n * S3 Support as an Asset Source\n */"),t.Nb(),t.rc(188,"\n@"),t.Ob(189,"span",14),t.rc(190,"Config"),t.Nb(),t.Ob(191,"span",11),t.rc(192,"("),t.Nb(),t.Ob(193,"span",12),t.rc(194,"'s3.asset'"),t.Nb(),t.Ob(195,"span",11),t.rc(196,")"),t.Nb(),t.rc(197,"\n"),t.Ob(198,"span",10),t.rc(199,"export"),t.Nb(),t.rc(200," "),t.Ob(201,"span",10),t.rc(202,"class"),t.Nb(),t.rc(203," "),t.Ob(204,"span",13),t.rc(205,"S3AssetConfig"),t.Nb(),t.rc(206," "),t.Ob(207,"span",11),t.rc(208),t.Nb(),t.rc(209,"\n  region "),t.Ob(210,"span",16),t.rc(211,"="),t.Nb(),t.rc(212," "),t.Ob(213,"span",12),t.rc(214,"'us-east-1'"),t.Nb(),t.Ob(215,"span",11),t.rc(216,";"),t.Nb(),t.rc(217," "),t.Ob(218,"span",18),t.rc(219,"// AWS Region"),t.Nb(),t.rc(220,"\n  "),t.Ob(221,"span",10),t.rc(222,"namespace"),t.Nb(),t.rc(223," "),t.Ob(224,"span",16),t.rc(225,"="),t.Nb(),t.rc(226," "),t.Ob(227,"span",12),t.rc(228,"''"),t.Nb(),t.Ob(229,"span",11),t.rc(230,";"),t.Nb(),t.rc(231," "),t.Ob(232,"span",18),t.rc(233,"// S3 Bucket folder"),t.Nb(),t.rc(234,"\n  bucket "),t.Ob(235,"span",16),t.rc(236,"="),t.Nb(),t.rc(237," "),t.Ob(238,"span",12),t.rc(239,"''"),t.Nb(),t.Ob(240,"span",11),t.rc(241,";"),t.Nb(),t.rc(242," "),t.Ob(243,"span",18),t.rc(244,"// S3 bucket"),t.Nb(),t.rc(245,"\n\n  accessKeyId "),t.Ob(246,"span",16),t.rc(247,"="),t.Nb(),t.rc(248," EnvUtil"),t.Ob(249,"span",11),t.rc(250,"."),t.Nb(),t.Ob(251,"span",10),t.rc(252,"get"),t.Nb(),t.Ob(253,"span",11),t.rc(254,"("),t.Nb(),t.Ob(255,"span",12),t.rc(256,"'AWS_ACCESS_KEY_ID'"),t.Nb(),t.Ob(257,"span",11),t.rc(258,")"),t.Nb(),t.rc(259," "),t.Ob(260,"span",16),t.rc(261,"??"),t.Nb(),t.rc(262," "),t.Ob(263,"span",12),t.rc(264,"''"),t.Nb(),t.Ob(265,"span",11),t.rc(266,";"),t.Nb(),t.rc(267,"\n  secretAccessKey "),t.Ob(268,"span",16),t.rc(269,"="),t.Nb(),t.rc(270," EnvUtil"),t.Ob(271,"span",11),t.rc(272,"."),t.Nb(),t.Ob(273,"span",10),t.rc(274,"get"),t.Nb(),t.Ob(275,"span",11),t.rc(276,"("),t.Nb(),t.Ob(277,"span",12),t.rc(278,"'AWS_SECRET_ACCESS_KEY'"),t.Nb(),t.Ob(279,"span",11),t.rc(280,")"),t.Nb(),t.rc(281," "),t.Ob(282,"span",16),t.rc(283,"??"),t.Nb(),t.rc(284," "),t.Ob(285,"span",12),t.rc(286,"''"),t.Nb(),t.Ob(287,"span",11),t.rc(288,";"),t.Nb(),t.rc(289,"\n\n  config"),t.Ob(290,"span",16),t.rc(291,":"),t.Nb(),t.rc(292," aws"),t.Ob(293,"span",11),t.rc(294,"."),t.Nb(),t.Ob(295,"span",19),t.rc(296,"S3"),t.Nb(),t.Ob(297,"span",11),t.rc(298,"."),t.Nb(),t.rc(299,"ClientConfiguration"),t.Ob(300,"span",11),t.rc(301,";"),t.Nb(),t.rc(302," "),t.Ob(303,"span",18),t.rc(304,"// Additional s3 config"),t.Nb(),t.rc(305,"\n\n  "),t.Ob(306,"span",10),t.rc(307,"get"),t.Nb(),t.rc(308," "),t.Ob(309,"span",3),t.rc(310,"hostName"),t.Nb(),t.Ob(311,"span",11),t.rc(312,"("),t.Nb(),t.Ob(313,"span",11),t.rc(314,")"),t.Nb(),t.rc(315," "),t.Ob(316,"span",11),t.rc(317),t.Nb(),t.rc(318,"\n    "),t.Ob(319,"span",10),t.rc(320,"return"),t.Nb(),t.rc(321," "),t.Ob(322,"span",20),t.Ob(323,"span",21),t.rc(324,"`"),t.Nb(),t.Ob(325,"span",22),t.Ob(326,"span",23),t.rc(327),t.Nb(),t.Ob(328,"span",10),t.rc(329,"this"),t.Nb(),t.Ob(330,"span",11),t.rc(331,"."),t.Nb(),t.rc(332,"bucket"),t.Ob(333,"span",23),t.rc(334),t.Nb(),t.Nb(),t.Ob(335,"span",12),t.rc(336,".s3.amazonaws.com"),t.Nb(),t.Ob(337,"span",21),t.rc(338,"`"),t.Nb(),t.Nb(),t.Ob(339,"span",11),t.rc(340,";"),t.Nb(),t.rc(341,"\n  "),t.Ob(342,"span",11),t.rc(343),t.Nb(),t.rc(344,"\n\n  "),t.Ob(345,"span",18),t.rc(346,"/**\n   * Produces the s3 config from the provide details, post construction\n   */"),t.Nb(),t.rc(347,"\n  "),t.Ob(348,"span",3),t.rc(349,"postConstruct"),t.Nb(),t.Ob(350,"span",11),t.rc(351,"("),t.Nb(),t.Ob(352,"span",11),t.rc(353,")"),t.Nb(),t.rc(354," "),t.Ob(355,"span",11),t.rc(356),t.Nb(),t.rc(357,"\n    "),t.Ob(358,"span",10),t.rc(359,"if"),t.Nb(),t.rc(360," "),t.Ob(361,"span",11),t.rc(362,"("),t.Nb(),t.Ob(363,"span",16),t.rc(364,"!"),t.Nb(),t.Ob(365,"span",10),t.rc(366,"this"),t.Nb(),t.Ob(367,"span",11),t.rc(368,"."),t.Nb(),t.rc(369,"accessKeyId "),t.Ob(370,"span",16),t.rc(371,"&&"),t.Nb(),t.rc(372," "),t.Ob(373,"span",16),t.rc(374,"!"),t.Nb(),t.Ob(375,"span",10),t.rc(376,"this"),t.Nb(),t.Ob(377,"span",11),t.rc(378,"."),t.Nb(),t.rc(379,"secretAccessKey"),t.Ob(380,"span",11),t.rc(381,")"),t.Nb(),t.rc(382," "),t.Ob(383,"span",11),t.rc(384),t.Nb(),t.rc(385,"\n      "),t.Ob(386,"span",10),t.rc(387,"const"),t.Nb(),t.rc(388," creds "),t.Ob(389,"span",16),t.rc(390,"="),t.Nb(),t.rc(391," "),t.Ob(392,"span",10),t.rc(393,"new"),t.Nb(),t.rc(394," "),t.Ob(395,"span",13),t.rc(396,"aws"),t.Ob(397,"span",11),t.rc(398,"."),t.Nb(),t.rc(399,"SharedIniFileCredentials"),t.Nb(),t.Ob(400,"span",11),t.rc(401,"("),t.Nb(),t.Ob(402,"span",11),t.rc(403),t.Nb(),t.rc(404," profile"),t.Ob(405,"span",16),t.rc(406,":"),t.Nb(),t.rc(407," EnvUtil"),t.Ob(408,"span",11),t.rc(409,"."),t.Nb(),t.Ob(410,"span",10),t.rc(411,"get"),t.Nb(),t.Ob(412,"span",11),t.rc(413,"("),t.Nb(),t.Ob(414,"span",12),t.rc(415,"'AWS_PROFILE'"),t.Nb(),t.Ob(416,"span",11),t.rc(417,")"),t.Nb(),t.rc(418," "),t.Ob(419,"span",11),t.rc(420),t.Nb(),t.Ob(421,"span",11),t.rc(422,")"),t.Nb(),t.Ob(423,"span",11),t.rc(424,";"),t.Nb(),t.rc(425,"\n      "),t.Ob(426,"span",10),t.rc(427,"this"),t.Nb(),t.Ob(428,"span",11),t.rc(429,"."),t.Nb(),t.rc(430,"accessKeyId "),t.Ob(431,"span",16),t.rc(432,"="),t.Nb(),t.rc(433," creds"),t.Ob(434,"span",11),t.rc(435,"."),t.Nb(),t.rc(436,"accessKeyId"),t.Ob(437,"span",11),t.rc(438,";"),t.Nb(),t.rc(439,"\n      "),t.Ob(440,"span",10),t.rc(441,"this"),t.Nb(),t.Ob(442,"span",11),t.rc(443,"."),t.Nb(),t.rc(444,"secretAccessKey "),t.Ob(445,"span",16),t.rc(446,"="),t.Nb(),t.rc(447," creds"),t.Ob(448,"span",11),t.rc(449,"."),t.Nb(),t.rc(450,"secretAccessKey"),t.Ob(451,"span",11),t.rc(452,";"),t.Nb(),t.rc(453,"\n    "),t.Ob(454,"span",11),t.rc(455),t.Nb(),t.rc(456,"\n\n    "),t.Ob(457,"span",10),t.rc(458,"this"),t.Nb(),t.Ob(459,"span",11),t.rc(460,"."),t.Nb(),t.rc(461,"config "),t.Ob(462,"span",16),t.rc(463,"="),t.Nb(),t.rc(464," "),t.Ob(465,"span",11),t.rc(466),t.Nb(),t.rc(467,"\n      apiVersion"),t.Ob(468,"span",16),t.rc(469,":"),t.Nb(),t.rc(470," "),t.Ob(471,"span",12),t.rc(472,"'2006-03-01'"),t.Nb(),t.Ob(473,"span",11),t.rc(474,","),t.Nb(),t.rc(475,"\n      credentials"),t.Ob(476,"span",16),t.rc(477,":"),t.Nb(),t.rc(478," "),t.Ob(479,"span",11),t.rc(480),t.Nb(),t.rc(481,"\n        accessKeyId"),t.Ob(482,"span",16),t.rc(483,":"),t.Nb(),t.rc(484," "),t.Ob(485,"span",10),t.rc(486,"this"),t.Nb(),t.Ob(487,"span",11),t.rc(488,"."),t.Nb(),t.rc(489,"accessKeyId"),t.Ob(490,"span",11),t.rc(491,","),t.Nb(),t.rc(492,"\n        secretAccessKey"),t.Ob(493,"span",16),t.rc(494,":"),t.Nb(),t.rc(495," "),t.Ob(496,"span",10),t.rc(497,"this"),t.Nb(),t.Ob(498,"span",11),t.rc(499,"."),t.Nb(),t.rc(500,"secretAccessKey\n      "),t.Ob(501,"span",11),t.rc(502),t.Nb(),t.Ob(503,"span",11),t.rc(504,","),t.Nb(),t.rc(505,"\n      params"),t.Ob(506,"span",16),t.rc(507,":"),t.Nb(),t.rc(508," "),t.Ob(509,"span",11),t.rc(510),t.Nb(),t.rc(511,"\n        Bucket"),t.Ob(512,"span",16),t.rc(513,":"),t.Nb(),t.rc(514," "),t.Ob(515,"span",10),t.rc(516,"this"),t.Nb(),t.Ob(517,"span",11),t.rc(518,"."),t.Nb(),t.rc(519,"bucket\n      "),t.Ob(520,"span",11),t.rc(521),t.Nb(),t.rc(522,"\n    "),t.Ob(523,"span",11),t.rc(524),t.Nb(),t.Ob(525,"span",11),t.rc(526,";"),t.Nb(),t.rc(527,"\n  "),t.Ob(528,"span",11),t.rc(529),t.Nb(),t.rc(530,"\n"),t.Ob(531,"span",11),t.rc(532),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(533," Additionally, you can see that the class is registered with the "),t.Ob(534,"a",24),t.rc(535,"@Config"),t.Nb(),t.rc(536," annotation, and so these values can be overridden using the standard "),t.Ob(537,"a",25),t.rc(538,"Configuration"),t.Nb(),t.rc(539," resolution paths. "),t.Ob(540,"p",26),t.Ob(541,"strong"),t.rc(542,"Note"),t.Nb(),t.rc(543," Do not commit your "),t.Ob(544,"code",27),t.rc(545,"accessKeyId"),t.Nb(),t.rc(546," or "),t.Ob(547,"code",27),t.rc(548,"secretAccessKey"),t.Nb(),t.rc(549," values to your source repository, especially if it is public facing. Not only is it a security risk, but Amazon will scan public repos, looking for keys, and if found will react swiftly.\n"),t.Nb(),t.Nb()),2&r&&(t.zb(38),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(17),t.sc("{"),t.zb(25),t.sc("{"),t.zb(19),t.sc("}"),t.zb(3),t.sc("}"),t.zb(31),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(32),t.sc("{"),t.zb(109),t.sc("{"),t.zb(10),t.tc("$","{",""),t.zb(7),t.sc("}"),t.zb(9),t.sc("}"),t.zb(13),t.sc("{"),t.zb(28),t.sc("{"),t.zb(19),t.sc("{"),t.zb(17),t.sc("}"),t.zb(35),t.sc("}"),t.zb(11),t.sc("{"),t.zb(14),t.sc("{"),t.zb(22),t.sc("}"),t.zb(8),t.sc("{"),t.zb(11),t.sc("}"),t.zb(3),t.sc("}"),t.zb(5),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),F=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-asset-rest"]],decls:253,vars:18,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://github.com/mscdex/busboy",1,"external-link"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],[1,"item","field"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset/src/types.ts#L5",1,"source-link"],["href","/docs/asset","title","Modular library for storing and retrieving binary assets",1,"module-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/asset-rest/alt/e2e/src/simple-controller.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","meta"],[1,"token","class-name"],[1,"token","operator"],[1,"token","number"],[1,"token","comment"],[1,"token","parameter"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Asset Rest Support "),t.Ob(3,"small"),t.rc(4,"Provides integration between the travetto asset and rest module."),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/asset-rest "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/asset-rest"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides a clean and direct mechanism for processing uploads, built upon "),t.Ob(17,"a",4),t.rc(18,"busboy"),t.Nb(),t.rc(19,". The module also provides some best practices with respect to temporary file deletion. Once the files are uploaded, they are exposed on "),t.Ob(20,"a",5),t.rc(21,"RESTful API"),t.Nb(),t.rc(22,"'s request object as "),t.Ob(23,"code",6),t.rc(24,"req.files"),t.Nb(),t.rc(25,". The uploaded files are constructed as "),t.Ob(26,"a",7),t.rc(27,"Asset"),t.Nb(),t.rc(28," instances, which allows for integration with the "),t.Ob(29,"a",8),t.rc(30,"Asset"),t.Nb(),t.rc(31," module. A simple example: "),t.Ob(32,"figure",9),t.Ob(33,"figcaption",9),t.rc(34,"Rest controller with upload support "),t.Ob(35,"cite"),t.Ob(36,"a",10),t.rc(37,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(38,"pre"),t.Ob(39,"code",11),t.Ob(40,"span",12),t.rc(41,"import"),t.Nb(),t.rc(42," "),t.Ob(43,"span",13),t.rc(44),t.Nb(),t.rc(45," Controller"),t.Ob(46,"span",13),t.rc(47,","),t.Nb(),t.rc(48," Post"),t.Ob(49,"span",13),t.rc(50,","),t.Nb(),t.rc(51," Get "),t.Ob(52,"span",13),t.rc(53),t.Nb(),t.rc(54," "),t.Ob(55,"span",12),t.rc(56,"from"),t.Nb(),t.rc(57," "),t.Ob(58,"span",14),t.rc(59,"'@travetto/rest'"),t.Nb(),t.Ob(60,"span",13),t.rc(61,";"),t.Nb(),t.rc(62,"\n"),t.Ob(63,"span",12),t.rc(64,"import"),t.Nb(),t.rc(65," "),t.Ob(66,"span",13),t.rc(67),t.Nb(),t.rc(68," Asset "),t.Ob(69,"span",13),t.rc(70),t.Nb(),t.rc(71," "),t.Ob(72,"span",12),t.rc(73,"from"),t.Nb(),t.rc(74," "),t.Ob(75,"span",14),t.rc(76,"'@travetto/asset'"),t.Nb(),t.Ob(77,"span",13),t.rc(78,";"),t.Nb(),t.rc(79,"\n\n"),t.Ob(80,"span",12),t.rc(81,"import"),t.Nb(),t.rc(82," "),t.Ob(83,"span",13),t.rc(84),t.Nb(),t.rc(85," AssetRestUtil"),t.Ob(86,"span",13),t.rc(87,","),t.Nb(),t.rc(88," Upload "),t.Ob(89,"span",13),t.rc(90),t.Nb(),t.rc(91," "),t.Ob(92,"span",12),t.rc(93,"from"),t.Nb(),t.rc(94," "),t.Ob(95,"span",14),t.rc(96,"'@travetto/asset-rest'"),t.Nb(),t.Ob(97,"span",13),t.rc(98,";"),t.Nb(),t.rc(99,"\n\n@"),t.Ob(100,"span",15),t.rc(101,"Controller"),t.Nb(),t.Ob(102,"span",13),t.rc(103,"("),t.Nb(),t.Ob(104,"span",14),t.rc(105,"'/simple'"),t.Nb(),t.Ob(106,"span",13),t.rc(107,")"),t.Nb(),t.rc(108,"\n"),t.Ob(109,"span",12),t.rc(110,"export"),t.Nb(),t.rc(111," "),t.Ob(112,"span",12),t.rc(113,"class"),t.Nb(),t.rc(114," "),t.Ob(115,"span",16),t.rc(116,"Simple"),t.Nb(),t.rc(117," "),t.Ob(118,"span",13),t.rc(119),t.Nb(),t.rc(120,"\n\n  @"),t.Ob(121,"span",15),t.rc(122,"Get"),t.Nb(),t.Ob(123,"span",13),t.rc(124,"("),t.Nb(),t.Ob(125,"span",14),t.rc(126,"'/age'"),t.Nb(),t.Ob(127,"span",13),t.rc(128,")"),t.Nb(),t.rc(129,"\n  "),t.Ob(130,"span",3),t.rc(131,"getAge"),t.Nb(),t.Ob(132,"span",13),t.rc(133,"("),t.Nb(),t.Ob(134,"span",13),t.rc(135,")"),t.Nb(),t.rc(136," "),t.Ob(137,"span",13),t.rc(138),t.Nb(),t.rc(139,"\n    "),t.Ob(140,"span",12),t.rc(141,"return"),t.Nb(),t.rc(142," "),t.Ob(143,"span",13),t.rc(144),t.Nb(),t.rc(145," age"),t.Ob(146,"span",17),t.rc(147,":"),t.Nb(),t.rc(148," "),t.Ob(149,"span",18),t.rc(150,"50"),t.Nb(),t.rc(151," "),t.Ob(152,"span",13),t.rc(153),t.Nb(),t.Ob(154,"span",13),t.rc(155,";"),t.Nb(),t.rc(156,"\n  "),t.Ob(157,"span",13),t.rc(158),t.Nb(),t.rc(159,"\n\n  @"),t.Ob(160,"span",15),t.rc(161,"Post"),t.Nb(),t.Ob(162,"span",13),t.rc(163,"("),t.Nb(),t.Ob(164,"span",14),t.rc(165,"'/age'"),t.Nb(),t.Ob(166,"span",13),t.rc(167,")"),t.Nb(),t.rc(168,"\n  "),t.Ob(169,"span",3),t.rc(170,"getPage"),t.Nb(),t.Ob(171,"span",13),t.rc(172,"("),t.Nb(),t.Ob(173,"span",13),t.rc(174,")"),t.Nb(),t.rc(175," "),t.Ob(176,"span",13),t.rc(177),t.Nb(),t.rc(178,"\n    "),t.Ob(179,"span",12),t.rc(180,"return"),t.Nb(),t.rc(181," "),t.Ob(182,"span",13),t.rc(183),t.Nb(),t.rc(184," age"),t.Ob(185,"span",17),t.rc(186,":"),t.Nb(),t.rc(187," "),t.Ob(188,"span",18),t.rc(189,"20"),t.Nb(),t.rc(190," "),t.Ob(191,"span",13),t.rc(192),t.Nb(),t.Ob(193,"span",13),t.rc(194,";"),t.Nb(),t.rc(195,"\n  "),t.Ob(196,"span",13),t.rc(197),t.Nb(),t.rc(198,"\n\n  "),t.Ob(199,"span",19),t.rc(200,"/**\n   * @param file A file to upload\n   */"),t.Nb(),t.rc(201,"\n  @"),t.Ob(202,"span",15),t.rc(203,"Post"),t.Nb(),t.Ob(204,"span",13),t.rc(205,"("),t.Nb(),t.Ob(206,"span",14),t.rc(207,"'/files'"),t.Nb(),t.Ob(208,"span",13),t.rc(209,")"),t.Nb(),t.rc(210,"\n  "),t.Ob(211,"span",3),t.rc(212,"loadFiles"),t.Nb(),t.Ob(213,"span",13),t.rc(214,"("),t.Nb(),t.Ob(215,"span",20),t.rc(216,"@"),t.Ob(217,"span",15),t.rc(218,"Upload"),t.Nb(),t.Ob(219,"span",13),t.rc(220,"("),t.Nb(),t.Ob(221,"span",13),t.rc(222,")"),t.Nb(),t.rc(223," file"),t.Ob(224,"span",17),t.rc(225,":"),t.Nb(),t.rc(226," Asset"),t.Nb(),t.Ob(227,"span",13),t.rc(228,")"),t.Nb(),t.rc(229," "),t.Ob(230,"span",13),t.rc(231),t.Nb(),t.rc(232,"\n    "),t.Ob(233,"span",12),t.rc(234,"return"),t.Nb(),t.rc(235," AssetRestUtil"),t.Ob(236,"span",13),t.rc(237,"."),t.Nb(),t.Ob(238,"span",3),t.rc(239,"downloadable"),t.Nb(),t.Ob(240,"span",13),t.rc(241,"("),t.Nb(),t.rc(242,"file"),t.Ob(243,"span",13),t.rc(244,")"),t.Nb(),t.Ob(245,"span",13),t.rc(246,";"),t.Nb(),t.rc(247,"\n  "),t.Ob(248,"span",13),t.rc(249),t.Nb(),t.rc(250,"\n"),t.Ob(251,"span",13),t.rc(252),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(44),t.sc("{"),t.zb(9),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(29),t.sc("{"),t.zb(19),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(5),t.sc("}"),t.zb(19),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(5),t.sc("}"),t.zb(34),t.sc("{"),t.zb(18),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),U=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-auth-model"]],decls:906,vars:44,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["href","/docs/auth","title","Authentication scaffolding for the travetto framework",1,"module-link"],["href","/docs/model","title","Datastore abstraction for CRUD operations with advanced query support.",1,"module-link"],["target","_blank","href","./src/identity.ts#L5",1,"source-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-model/src/identity.ts#L6"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","class-name"],[1,"token","punctuation"],[1,"token","comment"],[1,"token","operator"],[1,"token","builtin"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-model/alt/docs/src/model.ts"],[1,"token","string"],[1,"token","meta"],["id","configuration"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-model/alt/docs/src/config.ts"],[1,"token","parameter"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-model/alt/docs/src/usage.ts"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Model Auth Source "),t.Ob(3,"small"),t.rc(4,"Model-based authentication and registration support for the travetto framework"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/auth-model "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/auth-model"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides the integration between the "),t.Ob(17,"a",4),t.rc(18,"Authentication"),t.Nb(),t.rc(19," module and the "),t.Ob(20,"a",5),t.rc(21,"Data Modeling"),t.Nb(),t.rc(22,". The module itself is fairly straightforward, and truly the only integration point for this module to work is defined at the model level. The contract for authentication is established in code as providing translation to and from a "),t.Ob(23,"a",6),t.rc(24,"RegisteredIdentity"),t.Nb(),t.rc(25," A registered identity extends the base concept of an identity, by adding in additional fields needed for local registration, specifically password management information. "),t.Ob(26,"figure",7),t.Ob(27,"figcaption",7),t.rc(28,"Registered Identity "),t.Ob(29,"cite"),t.Ob(30,"a",8),t.rc(31,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(32,"pre"),t.Ob(33,"code",9),t.Ob(34,"span",10),t.rc(35,"export"),t.Nb(),t.rc(36," "),t.Ob(37,"span",10),t.rc(38,"interface"),t.Nb(),t.rc(39," "),t.Ob(40,"span",11),t.rc(41,"RegisteredIdentity"),t.Nb(),t.rc(42," "),t.Ob(43,"span",10),t.rc(44,"extends"),t.Nb(),t.rc(45," "),t.Ob(46,"span",11),t.rc(47,"Identity"),t.Nb(),t.rc(48," "),t.Ob(49,"span",12),t.rc(50),t.Nb(),t.rc(51,"\n  "),t.Ob(52,"span",13),t.rc(53,"/**\n   * Password hash\n   */"),t.Nb(),t.rc(54,"\n  hash"),t.Ob(55,"span",14),t.rc(56,":"),t.Nb(),t.rc(57," "),t.Ob(58,"span",15),t.rc(59,"string"),t.Nb(),t.Ob(60,"span",12),t.rc(61,";"),t.Nb(),t.rc(62,"\n  "),t.Ob(63,"span",13),t.rc(64,"/**\n   * Password salt\n   */"),t.Nb(),t.rc(65,"\n  salt"),t.Ob(66,"span",14),t.rc(67,":"),t.Nb(),t.rc(68," "),t.Ob(69,"span",15),t.rc(70,"string"),t.Nb(),t.Ob(71,"span",12),t.rc(72,";"),t.Nb(),t.rc(73,"\n  "),t.Ob(74,"span",13),t.rc(75,"/**\n   * Temporary Reset Token\n   */"),t.Nb(),t.rc(76,"\n  resetToken"),t.Ob(77,"span",14),t.rc(78,"?"),t.Nb(),t.Ob(79,"span",14),t.rc(80,":"),t.Nb(),t.rc(81," "),t.Ob(82,"span",15),t.rc(83,"string"),t.Nb(),t.Ob(84,"span",12),t.rc(85,";"),t.Nb(),t.rc(86,"\n  "),t.Ob(87,"span",13),t.rc(88,"/**\n   * End date for the reset token\n   */"),t.Nb(),t.rc(89,"\n  resetExpires"),t.Ob(90,"span",14),t.rc(91,"?"),t.Nb(),t.Ob(92,"span",14),t.rc(93,":"),t.Nb(),t.rc(94," Date"),t.Ob(95,"span",12),t.rc(96,";"),t.Nb(),t.rc(97,"\n  "),t.Ob(98,"span",13),t.rc(99,"/**\n   * The actual password, only used on password set/update\n   */"),t.Nb(),t.rc(100,"\n  password"),t.Ob(101,"span",14),t.rc(102,"?"),t.Nb(),t.Ob(103,"span",14),t.rc(104,":"),t.Nb(),t.rc(105," "),t.Ob(106,"span",15),t.rc(107,"string"),t.Nb(),t.Ob(108,"span",12),t.rc(109,";"),t.Nb(),t.rc(110,"\n"),t.Ob(111,"span",12),t.rc(112),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(113,"figure",7),t.Ob(114,"figcaption",7),t.rc(115,"A valid user model "),t.Ob(116,"cite"),t.Ob(117,"a",16),t.rc(118,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(119,"pre"),t.Ob(120,"code",9),t.Ob(121,"span",10),t.rc(122,"import"),t.Nb(),t.rc(123," "),t.Ob(124,"span",12),t.rc(125),t.Nb(),t.rc(126," Model"),t.Ob(127,"span",12),t.rc(128,","),t.Nb(),t.rc(129," BaseModel "),t.Ob(130,"span",12),t.rc(131),t.Nb(),t.rc(132," "),t.Ob(133,"span",10),t.rc(134,"from"),t.Nb(),t.rc(135," "),t.Ob(136,"span",17),t.rc(137,"'@travetto/model'"),t.Nb(),t.Ob(138,"span",12),t.rc(139,";"),t.Nb(),t.rc(140,"\n"),t.Ob(141,"span",10),t.rc(142,"import"),t.Nb(),t.rc(143," "),t.Ob(144,"span",12),t.rc(145),t.Nb(),t.rc(146," RegisteredIdentity "),t.Ob(147,"span",12),t.rc(148),t.Nb(),t.rc(149," "),t.Ob(150,"span",10),t.rc(151,"from"),t.Nb(),t.rc(152," "),t.Ob(153,"span",17),t.rc(154,"'@travetto/auth-model/src/identity'"),t.Nb(),t.Ob(155,"span",12),t.rc(156,";"),t.Nb(),t.rc(157,"\n\n@"),t.Ob(158,"span",18),t.rc(159,"Model"),t.Nb(),t.Ob(160,"span",12),t.rc(161,"("),t.Nb(),t.Ob(162,"span",12),t.rc(163,")"),t.Nb(),t.rc(164,"\n"),t.Ob(165,"span",10),t.rc(166,"export"),t.Nb(),t.rc(167," "),t.Ob(168,"span",10),t.rc(169,"class"),t.Nb(),t.rc(170," "),t.Ob(171,"span",11),t.rc(172,"User"),t.Nb(),t.rc(173," "),t.Ob(174,"span",10),t.rc(175,"extends"),t.Nb(),t.rc(176," "),t.Ob(177,"span",11),t.rc(178,"BaseModel"),t.Nb(),t.rc(179," "),t.Ob(180,"span",10),t.rc(181,"implements"),t.Nb(),t.rc(182," "),t.Ob(183,"span",11),t.rc(184,"RegisteredIdentity"),t.Nb(),t.rc(185," "),t.Ob(186,"span",12),t.rc(187),t.Nb(),t.rc(188,"\n  id"),t.Ob(189,"span",14),t.rc(190,":"),t.Nb(),t.rc(191," "),t.Ob(192,"span",15),t.rc(193,"string"),t.Nb(),t.Ob(194,"span",12),t.rc(195,";"),t.Nb(),t.rc(196,"\n  source"),t.Ob(197,"span",14),t.rc(198,":"),t.Nb(),t.rc(199," "),t.Ob(200,"span",15),t.rc(201,"string"),t.Nb(),t.Ob(202,"span",12),t.rc(203,";"),t.Nb(),t.rc(204,"\n  details"),t.Ob(205,"span",14),t.rc(206,":"),t.Nb(),t.rc(207," Record"),t.Ob(208,"span",14),t.rc(209,"<"),t.Nb(),t.Ob(210,"span",15),t.rc(211,"string"),t.Nb(),t.Ob(212,"span",12),t.rc(213,","),t.Nb(),t.rc(214," "),t.Ob(215,"span",15),t.rc(216,"any"),t.Nb(),t.Ob(217,"span",14),t.rc(218,">"),t.Nb(),t.Ob(219,"span",12),t.rc(220,";"),t.Nb(),t.rc(221,"\n  password"),t.Ob(222,"span",14),t.rc(223,"?"),t.Nb(),t.Ob(224,"span",14),t.rc(225,":"),t.Nb(),t.rc(226," "),t.Ob(227,"span",15),t.rc(228,"string"),t.Nb(),t.Ob(229,"span",12),t.rc(230,";"),t.Nb(),t.rc(231,"\n  salt"),t.Ob(232,"span",14),t.rc(233,":"),t.Nb(),t.rc(234," "),t.Ob(235,"span",15),t.rc(236,"string"),t.Nb(),t.Ob(237,"span",12),t.rc(238,";"),t.Nb(),t.rc(239,"\n  hash"),t.Ob(240,"span",14),t.rc(241,":"),t.Nb(),t.rc(242," "),t.Ob(243,"span",15),t.rc(244,"string"),t.Nb(),t.Ob(245,"span",12),t.rc(246,";"),t.Nb(),t.rc(247,"\n  resetToken"),t.Ob(248,"span",14),t.rc(249,"?"),t.Nb(),t.Ob(250,"span",14),t.rc(251,":"),t.Nb(),t.rc(252," "),t.Ob(253,"span",15),t.rc(254,"string"),t.Nb(),t.Ob(255,"span",12),t.rc(256,";"),t.Nb(),t.rc(257,"\n  resetExpires"),t.Ob(258,"span",14),t.rc(259,"?"),t.Nb(),t.Ob(260,"span",14),t.rc(261,":"),t.Nb(),t.rc(262," Date"),t.Ob(263,"span",12),t.rc(264,";"),t.Nb(),t.rc(265,"\n  permissions"),t.Ob(266,"span",14),t.rc(267,":"),t.Nb(),t.rc(268," "),t.Ob(269,"span",15),t.rc(270,"string"),t.Nb(),t.Ob(271,"span",12),t.rc(272,"["),t.Nb(),t.Ob(273,"span",12),t.rc(274,"]"),t.Nb(),t.Ob(275,"span",12),t.rc(276,";"),t.Nb(),t.rc(277,"\n"),t.Ob(278,"span",12),t.rc(279),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(280,"h2",19),t.rc(281,"Configuration"),t.Nb(),t.rc(282," Additionally, there exists a common practice of mapping various external security principals into a local contract. These external identities, as provided from countless authentication schemes, need to be homogeonized for use. This has been handled in other frameworks by using external configuration, and creating a mapping between the two set of fields. Within this module, the mappings are defined as functions in which you can translate to the model from an identity or to an identity from a model. "),t.Ob(283,"figure",7),t.Ob(284,"figcaption",7),t.rc(285,"Principal Source configuration "),t.Ob(286,"cite"),t.Ob(287,"a",20),t.rc(288,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(289,"pre"),t.Ob(290,"code",9),t.Ob(291,"span",10),t.rc(292,"import"),t.Nb(),t.rc(293," "),t.Ob(294,"span",12),t.rc(295),t.Nb(),t.rc(296," InjectableFactory "),t.Ob(297,"span",12),t.rc(298),t.Nb(),t.rc(299," "),t.Ob(300,"span",10),t.rc(301,"from"),t.Nb(),t.rc(302," "),t.Ob(303,"span",17),t.rc(304,"'@travetto/di'"),t.Nb(),t.Ob(305,"span",12),t.rc(306,";"),t.Nb(),t.rc(307,"\n"),t.Ob(308,"span",10),t.rc(309,"import"),t.Nb(),t.rc(310," "),t.Ob(311,"span",12),t.rc(312),t.Nb(),t.rc(313," ModelPrincipalSource "),t.Ob(314,"span",12),t.rc(315),t.Nb(),t.rc(316," "),t.Ob(317,"span",10),t.rc(318,"from"),t.Nb(),t.rc(319," "),t.Ob(320,"span",17),t.rc(321,"'@travetto/auth-model/src/principal'"),t.Nb(),t.Ob(322,"span",12),t.rc(323,";"),t.Nb(),t.rc(324,"\n"),t.Ob(325,"span",10),t.rc(326,"import"),t.Nb(),t.rc(327," "),t.Ob(328,"span",12),t.rc(329),t.Nb(),t.rc(330," RegisteredIdentity "),t.Ob(331,"span",12),t.rc(332),t.Nb(),t.rc(333," "),t.Ob(334,"span",10),t.rc(335,"from"),t.Nb(),t.rc(336," "),t.Ob(337,"span",17),t.rc(338,"'@travetto/auth-model/src/identity'"),t.Nb(),t.Ob(339,"span",12),t.rc(340,";"),t.Nb(),t.rc(341,"\n\n"),t.Ob(342,"span",10),t.rc(343,"import"),t.Nb(),t.rc(344," "),t.Ob(345,"span",12),t.rc(346),t.Nb(),t.rc(347," User "),t.Ob(348,"span",12),t.rc(349),t.Nb(),t.rc(350," "),t.Ob(351,"span",10),t.rc(352,"from"),t.Nb(),t.rc(353," "),t.Ob(354,"span",17),t.rc(355,"'./model'"),t.Nb(),t.Ob(356,"span",12),t.rc(357,";"),t.Nb(),t.rc(358,"\n\n"),t.Ob(359,"span",10),t.rc(360,"class"),t.Nb(),t.rc(361," "),t.Ob(362,"span",11),t.rc(363,"AuthConfig"),t.Nb(),t.rc(364," "),t.Ob(365,"span",12),t.rc(366),t.Nb(),t.rc(367,"\n  @"),t.Ob(368,"span",18),t.rc(369,"InjectableFactory"),t.Nb(),t.Ob(370,"span",12),t.rc(371,"("),t.Nb(),t.Ob(372,"span",12),t.rc(373,")"),t.Nb(),t.rc(374,"\n  "),t.Ob(375,"span",10),t.rc(376,"static"),t.Nb(),t.rc(377," "),t.Ob(378,"span",3),t.rc(379,"getModelPrincipalSource"),t.Nb(),t.Ob(380,"span",12),t.rc(381,"("),t.Nb(),t.Ob(382,"span",12),t.rc(383,")"),t.Nb(),t.rc(384," "),t.Ob(385,"span",12),t.rc(386),t.Nb(),t.rc(387,"\n    "),t.Ob(388,"span",10),t.rc(389,"return"),t.Nb(),t.rc(390," "),t.Ob(391,"span",10),t.rc(392,"new"),t.Nb(),t.rc(393," "),t.Ob(394,"span",11),t.rc(395,"ModelPrincipalSource"),t.Nb(),t.Ob(396,"span",12),t.rc(397,"("),t.Nb(),t.rc(398,"\n      User"),t.Ob(399,"span",12),t.rc(400,","),t.Nb(),t.rc(401,"\n      "),t.Ob(402,"span",12),t.rc(403,"("),t.Nb(),t.Ob(404,"span",21),t.rc(405,"u"),t.Ob(406,"span",14),t.rc(407,":"),t.Nb(),t.rc(408," User"),t.Nb(),t.Ob(409,"span",12),t.rc(410,")"),t.Nb(),t.rc(411," "),t.Ob(412,"span",14),t.rc(413,"=>"),t.Nb(),t.rc(414," "),t.Ob(415,"span",12),t.rc(416,"("),t.Nb(),t.Ob(417,"span",12),t.rc(418),t.Nb(),t.rc(419,"    "),t.Ob(420,"span",13),t.rc(421,"// This converts User to a RegisteredIdentity"),t.Nb(),t.rc(422,"\n        source"),t.Ob(423,"span",14),t.rc(424,":"),t.Nb(),t.rc(425," "),t.Ob(426,"span",17),t.rc(427,"'model'"),t.Nb(),t.Ob(428,"span",12),t.rc(429,","),t.Nb(),t.rc(430,"\n        provider"),t.Ob(431,"span",14),t.rc(432,":"),t.Nb(),t.rc(433," "),t.Ob(434,"span",17),t.rc(435,"'model'"),t.Nb(),t.Ob(436,"span",12),t.rc(437,","),t.Nb(),t.rc(438,"\n        id"),t.Ob(439,"span",14),t.rc(440,":"),t.Nb(),t.rc(441," u"),t.Ob(442,"span",12),t.rc(443,"."),t.Nb(),t.rc(444,"id"),t.Ob(445,"span",12),t.rc(446,","),t.Nb(),t.rc(447,"\n        permissions"),t.Ob(448,"span",14),t.rc(449,":"),t.Nb(),t.rc(450," u"),t.Ob(451,"span",12),t.rc(452,"."),t.Nb(),t.rc(453,"permissions"),t.Ob(454,"span",12),t.rc(455,","),t.Nb(),t.rc(456,"\n        hash"),t.Ob(457,"span",14),t.rc(458,":"),t.Nb(),t.rc(459," u"),t.Ob(460,"span",12),t.rc(461,"."),t.Nb(),t.rc(462,"hash"),t.Ob(463,"span",12),t.rc(464,","),t.Nb(),t.rc(465,"\n        salt"),t.Ob(466,"span",14),t.rc(467,":"),t.Nb(),t.rc(468," u"),t.Ob(469,"span",12),t.rc(470,"."),t.Nb(),t.rc(471,"salt"),t.Ob(472,"span",12),t.rc(473,","),t.Nb(),t.rc(474,"\n        resetToken"),t.Ob(475,"span",14),t.rc(476,":"),t.Nb(),t.rc(477," u"),t.Ob(478,"span",12),t.rc(479,"."),t.Nb(),t.rc(480,"resetToken"),t.Ob(481,"span",12),t.rc(482,","),t.Nb(),t.rc(483,"\n        resetExpires"),t.Ob(484,"span",14),t.rc(485,":"),t.Nb(),t.rc(486," u"),t.Ob(487,"span",12),t.rc(488,"."),t.Nb(),t.rc(489,"resetExpires"),t.Ob(490,"span",12),t.rc(491,","),t.Nb(),t.rc(492,"\n        password"),t.Ob(493,"span",14),t.rc(494,":"),t.Nb(),t.rc(495," u"),t.Ob(496,"span",12),t.rc(497,"."),t.Nb(),t.rc(498,"password"),t.Ob(499,"span",12),t.rc(500,","),t.Nb(),t.rc(501,"\n        details"),t.Ob(502,"span",14),t.rc(503,":"),t.Nb(),t.rc(504," u"),t.Ob(505,"span",12),t.rc(506,","),t.Nb(),t.rc(507,"\n      "),t.Ob(508,"span",12),t.rc(509),t.Nb(),t.Ob(510,"span",12),t.rc(511,")"),t.Nb(),t.Ob(512,"span",12),t.rc(513,","),t.Nb(),t.rc(514,"\n      "),t.Ob(515,"span",12),t.rc(516,"("),t.Nb(),t.Ob(517,"span",21),t.rc(518,"u"),t.Ob(519,"span",14),t.rc(520,":"),t.Nb(),t.rc(521," Partial"),t.Ob(522,"span",14),t.rc(523,"<"),t.Nb(),t.rc(524,"RegisteredIdentity"),t.Ob(525,"span",14),t.rc(526,">"),t.Nb(),t.Nb(),t.Ob(527,"span",12),t.rc(528,")"),t.Nb(),t.rc(529," "),t.Ob(530,"span",14),t.rc(531,"=>"),t.Nb(),t.rc(532," User"),t.Ob(533,"span",12),t.rc(534,"."),t.Nb(),t.Ob(535,"span",10),t.rc(536,"from"),t.Nb(),t.Ob(537,"span",12),t.rc(538,"("),t.Nb(),t.Ob(539,"span",12),t.rc(540,"("),t.Nb(),t.Ob(541,"span",12),t.rc(542),t.Nb(),t.rc(543,"   "),t.Ob(544,"span",13),t.rc(545,"// This converts a RegisteredIdentity to a User"),t.Nb(),t.rc(546,"\n        id"),t.Ob(547,"span",14),t.rc(548,":"),t.Nb(),t.rc(549," u"),t.Ob(550,"span",12),t.rc(551,"."),t.Nb(),t.rc(552,"id"),t.Ob(553,"span",12),t.rc(554,","),t.Nb(),t.rc(555,"\n        permissions"),t.Ob(556,"span",14),t.rc(557,":"),t.Nb(),t.rc(558," "),t.Ob(559,"span",12),t.rc(560,"["),t.Nb(),t.Ob(561,"span",14),t.rc(562,"..."),t.Nb(),t.Ob(563,"span",12),t.rc(564,"("),t.Nb(),t.rc(565,"u"),t.Ob(566,"span",12),t.rc(567,"."),t.Nb(),t.rc(568,"permissions "),t.Ob(569,"span",14),t.rc(570,"||"),t.Nb(),t.rc(571," "),t.Ob(572,"span",12),t.rc(573,"["),t.Nb(),t.Ob(574,"span",12),t.rc(575,"]"),t.Nb(),t.Ob(576,"span",12),t.rc(577,")"),t.Nb(),t.Ob(578,"span",12);t.rc(579,"]"),t.Nb(),t.Ob(580,"span",12),t.rc(581,","),t.Nb(),t.rc(582,"\n        hash"),t.Ob(583,"span",14),t.rc(584,":"),t.Nb(),t.rc(585," u"),t.Ob(586,"span",12),t.rc(587,"."),t.Nb(),t.rc(588,"hash"),t.Ob(589,"span",12),t.rc(590,","),t.Nb(),t.rc(591,"\n        salt"),t.Ob(592,"span",14),t.rc(593,":"),t.Nb(),t.rc(594," u"),t.Ob(595,"span",12),t.rc(596,"."),t.Nb(),t.rc(597,"salt"),t.Ob(598,"span",12),t.rc(599,","),t.Nb(),t.rc(600,"\n        resetToken"),t.Ob(601,"span",14),t.rc(602,":"),t.Nb(),t.rc(603," u"),t.Ob(604,"span",12),t.rc(605,"."),t.Nb(),t.rc(606,"resetToken"),t.Ob(607,"span",12),t.rc(608,","),t.Nb(),t.rc(609,"\n        resetExpires"),t.Ob(610,"span",14),t.rc(611,":"),t.Nb(),t.rc(612," u"),t.Ob(613,"span",12),t.rc(614,"."),t.Nb(),t.rc(615,"resetExpires"),t.Ob(616,"span",12),t.rc(617,","),t.Nb(),t.rc(618,"\n      "),t.Ob(619,"span",12),t.rc(620),t.Nb(),t.Ob(621,"span",12),t.rc(622,")"),t.Nb(),t.rc(623,"\n      "),t.Ob(624,"span",12),t.rc(625,")"),t.Nb(),t.rc(626,"\n    "),t.Ob(627,"span",12),t.rc(628,")"),t.Nb(),t.Ob(629,"span",12),t.rc(630,";"),t.Nb(),t.rc(631,"\n  "),t.Ob(632,"span",12),t.rc(633),t.Nb(),t.rc(634,"\n"),t.Ob(635,"span",12),t.rc(636),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(637,"figure",7),t.Ob(638,"figcaption",7),t.rc(639,"Sample usage "),t.Ob(640,"cite"),t.Ob(641,"a",22),t.rc(642,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(643,"pre"),t.Ob(644,"code",9),t.Ob(645,"span",10),t.rc(646,"import"),t.Nb(),t.rc(647," "),t.Ob(648,"span",12),t.rc(649),t.Nb(),t.rc(650," AppError "),t.Ob(651,"span",12),t.rc(652),t.Nb(),t.rc(653," "),t.Ob(654,"span",10),t.rc(655,"from"),t.Nb(),t.rc(656," "),t.Ob(657,"span",17),t.rc(658,"'@travetto/base'"),t.Nb(),t.Ob(659,"span",12),t.rc(660,";"),t.Nb(),t.rc(661,"\n"),t.Ob(662,"span",10),t.rc(663,"import"),t.Nb(),t.rc(664," "),t.Ob(665,"span",12),t.rc(666),t.Nb(),t.rc(667," Injectable"),t.Ob(668,"span",12),t.rc(669,","),t.Nb(),t.rc(670," Inject "),t.Ob(671,"span",12),t.rc(672),t.Nb(),t.rc(673," "),t.Ob(674,"span",10),t.rc(675,"from"),t.Nb(),t.rc(676," "),t.Ob(677,"span",17),t.rc(678,"'@travetto/di'"),t.Nb(),t.Ob(679,"span",12),t.rc(680,";"),t.Nb(),t.rc(681,"\n"),t.Ob(682,"span",10),t.rc(683,"import"),t.Nb(),t.rc(684," "),t.Ob(685,"span",12),t.rc(686),t.Nb(),t.rc(687," ModelPrincipalSource "),t.Ob(688,"span",12),t.rc(689),t.Nb(),t.rc(690," "),t.Ob(691,"span",10),t.rc(692,"from"),t.Nb(),t.rc(693," "),t.Ob(694,"span",17),t.rc(695,"'@travetto/auth-model/src/principal'"),t.Nb(),t.Ob(696,"span",12),t.rc(697,";"),t.Nb(),t.rc(698,"\n"),t.Ob(699,"span",10),t.rc(700,"import"),t.Nb(),t.rc(701," "),t.Ob(702,"span",12),t.rc(703),t.Nb(),t.rc(704," User "),t.Ob(705,"span",12),t.rc(706),t.Nb(),t.rc(707," "),t.Ob(708,"span",10),t.rc(709,"from"),t.Nb(),t.rc(710," "),t.Ob(711,"span",17),t.rc(712,"'./model'"),t.Nb(),t.Ob(713,"span",12),t.rc(714,";"),t.Nb(),t.rc(715,"\n\n@"),t.Ob(716,"span",18),t.rc(717,"Injectable"),t.Nb(),t.Ob(718,"span",12),t.rc(719,"("),t.Nb(),t.Ob(720,"span",12),t.rc(721,")"),t.Nb(),t.rc(722,"\n"),t.Ob(723,"span",10),t.rc(724,"class"),t.Nb(),t.rc(725," "),t.Ob(726,"span",11),t.rc(727,"UserService"),t.Nb(),t.rc(728," "),t.Ob(729,"span",12),t.rc(730),t.Nb(),t.rc(731,"\n\n  @"),t.Ob(732,"span",18),t.rc(733,"Inject"),t.Nb(),t.Ob(734,"span",12),t.rc(735,"("),t.Nb(),t.Ob(736,"span",12),t.rc(737,")"),t.Nb(),t.rc(738,"\n  "),t.Ob(739,"span",10),t.rc(740,"private"),t.Nb(),t.rc(741," auth"),t.Ob(742,"span",14),t.rc(743,":"),t.Nb(),t.rc(744," ModelPrincipalSource"),t.Ob(745,"span",14),t.rc(746,"<"),t.Nb(),t.rc(747,"User"),t.Ob(748,"span",14),t.rc(749,">"),t.Nb(),t.Ob(750,"span",12),t.rc(751,";"),t.Nb(),t.rc(752,"\n\n  "),t.Ob(753,"span",10),t.rc(754,"async"),t.Nb(),t.rc(755," "),t.Ob(756,"span",3),t.rc(757,"authenticate"),t.Nb(),t.Ob(758,"span",12),t.rc(759,"("),t.Nb(),t.Ob(760,"span",21),t.rc(761,"identity"),t.Ob(762,"span",14),t.rc(763,":"),t.Nb(),t.rc(764," User"),t.Nb(),t.Ob(765,"span",12),t.rc(766,")"),t.Nb(),t.rc(767," "),t.Ob(768,"span",12),t.rc(769),t.Nb(),t.rc(770,"\n    "),t.Ob(771,"span",10),t.rc(772,"try"),t.Nb(),t.rc(773," "),t.Ob(774,"span",12),t.rc(775),t.Nb(),t.rc(776,"\n      "),t.Ob(777,"span",10),t.rc(778,"return"),t.Nb(),t.rc(779," "),t.Ob(780,"span",10),t.rc(781,"await"),t.Nb(),t.rc(782," "),t.Ob(783,"span",10),t.rc(784,"this"),t.Nb(),t.Ob(785,"span",12),t.rc(786,"."),t.Nb(),t.rc(787,"auth"),t.Ob(788,"span",12),t.rc(789,"."),t.Nb(),t.Ob(790,"span",3),t.rc(791,"authenticate"),t.Nb(),t.Ob(792,"span",12),t.rc(793,"("),t.Nb(),t.rc(794,"identity"),t.Ob(795,"span",12),t.rc(796,"."),t.Nb(),t.rc(797,"id"),t.Ob(798,"span",14),t.rc(799,"!"),t.Nb(),t.Ob(800,"span",12),t.rc(801,","),t.Nb(),t.rc(802," identity"),t.Ob(803,"span",12),t.rc(804,"."),t.Nb(),t.rc(805,"password"),t.Ob(806,"span",14),t.rc(807,"!"),t.Nb(),t.Ob(808,"span",12),t.rc(809,")"),t.Nb(),t.Ob(810,"span",12),t.rc(811,";"),t.Nb(),t.rc(812,"\n    "),t.Ob(813,"span",12),t.rc(814),t.Nb(),t.rc(815," "),t.Ob(816,"span",10),t.rc(817,"catch"),t.Nb(),t.rc(818," "),t.Ob(819,"span",12),t.rc(820,"("),t.Nb(),t.rc(821,"err"),t.Ob(822,"span",12),t.rc(823,")"),t.Nb(),t.rc(824," "),t.Ob(825,"span",12),t.rc(826),t.Nb(),t.rc(827,"\n      "),t.Ob(828,"span",10),t.rc(829,"if"),t.Nb(),t.rc(830," "),t.Ob(831,"span",12),t.rc(832,"("),t.Nb(),t.rc(833,"err "),t.Ob(834,"span",10),t.rc(835,"instanceof"),t.Nb(),t.rc(836," "),t.Ob(837,"span",11),t.rc(838,"AppError"),t.Nb(),t.rc(839," "),t.Ob(840,"span",14),t.rc(841,"&&"),t.Nb(),t.rc(842," err"),t.Ob(843,"span",12),t.rc(844,"."),t.Nb(),t.rc(845,"category "),t.Ob(846,"span",14),t.rc(847,"==="),t.Nb(),t.rc(848," "),t.Ob(849,"span",17),t.rc(850,"'notfound'"),t.Nb(),t.Ob(851,"span",12),t.rc(852,")"),t.Nb(),t.rc(853," "),t.Ob(854,"span",12),t.rc(855),t.Nb(),t.rc(856,"\n        "),t.Ob(857,"span",10),t.rc(858,"return"),t.Nb(),t.rc(859," "),t.Ob(860,"span",10),t.rc(861,"await"),t.Nb(),t.rc(862," "),t.Ob(863,"span",10),t.rc(864,"this"),t.Nb(),t.Ob(865,"span",12),t.rc(866,"."),t.Nb(),t.rc(867,"auth"),t.Ob(868,"span",12),t.rc(869,"."),t.Nb(),t.Ob(870,"span",3),t.rc(871,"register"),t.Nb(),t.Ob(872,"span",12),t.rc(873,"("),t.Nb(),t.rc(874,"identity"),t.Ob(875,"span",12),t.rc(876,")"),t.Nb(),t.Ob(877,"span",12),t.rc(878,";"),t.Nb(),t.rc(879,"\n      "),t.Ob(880,"span",12),t.rc(881),t.Nb(),t.rc(882," "),t.Ob(883,"span",10),t.rc(884,"else"),t.Nb(),t.rc(885," "),t.Ob(886,"span",12),t.rc(887),t.Nb(),t.rc(888,"\n        "),t.Ob(889,"span",10),t.rc(890,"throw"),t.Nb(),t.rc(891," err"),t.Ob(892,"span",12),t.rc(893,";"),t.Nb(),t.rc(894,"\n      "),t.Ob(895,"span",12),t.rc(896),t.Nb(),t.rc(897,"\n    "),t.Ob(898,"span",12),t.rc(899),t.Nb(),t.rc(900,"\n  "),t.Ob(901,"span",12),t.rc(902),t.Nb(),t.rc(903,"\n"),t.Ob(904,"span",12),t.rc(905),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(50),t.sc("{"),t.zb(62),t.sc("}"),t.zb(13),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(39),t.sc("{"),t.zb(92),t.sc("}"),t.zb(16),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(20),t.sc("{"),t.zb(32),t.sc("{"),t.zb(91),t.sc("}"),t.zb(33),t.sc("{"),t.zb(78),t.sc("}"),t.zb(13),t.sc("}"),t.zb(3),t.sc("}"),t.zb(13),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(24),t.sc("{"),t.zb(39),t.sc("{"),t.zb(6),t.sc("{"),t.zb(39),t.sc("}"),t.zb(12),t.sc("{"),t.zb(29),t.sc("{"),t.zb(26),t.sc("}"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),q=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-auth-rest"]],decls:973,vars:50,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["href","/docs/auth","title","Authentication scaffolding for the travetto framework",1,"module-link"],["href","/docs/rest","title","Declarative api for RESTful APIs with support for the dependency injection module.",1,"module-link"],["id","security-information-management"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/types.d.ts#L11",1,"source-link"],[1,"item","input"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/src/typings.d.ts#L5"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","class-name"],[1,"token","punctuation"],[1,"token","comment"],[1,"token","operator"],[1,"token","builtin"],[1,"item","method"],["href","/docs/auth-passport","title","Passport authentication integration support for the travetto framework",1,"module-link"],["id","patterns-for-integration"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/src/identity.ts#L7",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/src/identity.ts"],[1,"token","string"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/types.d.ts#L87",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth/src/types.ts#L26",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/alt/docs/src/source.ts"],[1,"token","parameter"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/alt/docs/src/facebook.ts"],[1,"token","constant"],[1,"token","meta"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/di/src/decorator.ts#L72",1,"source-link"],["id","route-declaration"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/src/auth.ts#L14",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/src/decorator.ts#L10",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/alt/docs/src/route.ts"],[1,"token","number"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/src/decorator.ts#L20",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-rest/src/decorator.ts#L35",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth/src/context.ts#L11",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/rest/src/decorator/param.ts#L43",1,"source-link"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Rest Auth "),t.Ob(3,"small"),t.rc(4,"Rest authentication integration support for the travetto framework"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/auth-rest "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/auth-rest"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This is a primary integration for the "),t.Ob(17,"a",4),t.rc(18,"Authentication"),t.Nb(),t.rc(19," module. This is another level of scaffolding allowing for compatible authentication frameworks to integrate. The integration with the "),t.Ob(20,"a",5),t.rc(21,"RESTful API"),t.Nb(),t.rc(22," module touches multiple levels. Primarily: "),t.Ob(23,"ul"),t.Ob(24,"li"),t.rc(25,"Security information management"),t.Nb(),t.Ob(26,"li"),t.rc(27,"Patterns for auth framework integrations"),t.Nb(),t.Ob(28,"li"),t.rc(29,"Route declaration"),t.Nb(),t.Nb(),t.Ob(30,"h2",6),t.rc(31,"Security information management"),t.Nb(),t.rc(32,"\nWhen working with framework's authentication, the user information is exposed via the "),t.Ob(33,"a",7),t.rc(34,"Request"),t.Nb(),t.rc(35," object. The auth functionality is exposed on the request as the property "),t.Ob(36,"code",8),t.rc(37,"auth"),t.Nb(),t.rc(38,". "),t.Ob(39,"figure",9),t.Ob(40,"figcaption",9),t.rc(41,"Structure of auth property on the request "),t.Ob(42,"cite"),t.Ob(43,"a",10),t.rc(44,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(45,"pre"),t.Ob(46,"code",11),t.Ob(47,"span",12),t.rc(48,"export"),t.Nb(),t.rc(49," "),t.Ob(50,"span",12),t.rc(51,"interface"),t.Nb(),t.rc(52," "),t.Ob(53,"span",13),t.rc(54,"Request"),t.Nb(),t.rc(55," "),t.Ob(56,"span",14),t.rc(57),t.Nb(),t.rc(58,"\n  "),t.Ob(59,"span",15),t.rc(60,"/**\n   * The auth context\n   */"),t.Nb(),t.rc(61,"\n  auth"),t.Ob(62,"span",16),t.rc(63,":"),t.Nb(),t.rc(64," AuthContext"),t.Ob(65,"span",14),t.rc(66,";"),t.Nb(),t.rc(67,"\n  "),t.Ob(68,"span",15),t.rc(69,"/**\n   * The login context\n   */"),t.Nb(),t.rc(70,"\n  loginContext"),t.Ob(71,"span",16),t.rc(72,"?"),t.Nb(),t.Ob(73,"span",16),t.rc(74,":"),t.Nb(),t.rc(75," Record"),t.Ob(76,"span",16),t.rc(77,"<"),t.Nb(),t.Ob(78,"span",17),t.rc(79,"string"),t.Nb(),t.Ob(80,"span",14),t.rc(81,","),t.Nb(),t.rc(82," "),t.Ob(83,"span",17),t.rc(84,"any"),t.Nb(),t.Ob(85,"span",16),t.rc(86,">"),t.Nb(),t.Ob(87,"span",14),t.rc(88,";"),t.Nb(),t.rc(89,"\n  "),t.Ob(90,"span",15),t.rc(91,"/**\n   * Log the user out\n   */"),t.Nb(),t.rc(92,"\n  "),t.Ob(93,"span",3),t.rc(94,"logout"),t.Nb(),t.Ob(95,"span",14),t.rc(96,"("),t.Nb(),t.Ob(97,"span",14),t.rc(98,")"),t.Nb(),t.Ob(99,"span",16),t.rc(100,":"),t.Nb(),t.rc(101," "),t.Ob(102,"span",17),t.rc(103,"Promise"),t.Nb(),t.Ob(104,"span",16),t.rc(105,"<"),t.Nb(),t.Ob(106,"span",12),t.rc(107,"void"),t.Nb(),t.Ob(108,"span",16),t.rc(109,">"),t.Nb(),t.Ob(110,"span",14),t.rc(111,";"),t.Nb(),t.rc(112,"\n  "),t.Ob(113,"span",15),t.rc(114,"/**\n   * Perform a login\n   * @param providers  List of providers to authenticate against\n   */"),t.Nb(),t.rc(115,"\n  "),t.Ob(116,"span",3),t.rc(117,"login"),t.Nb(),t.Ob(118,"span",14),t.rc(119,"("),t.Nb(),t.rc(120,"providers"),t.Ob(121,"span",16),t.rc(122,":"),t.Nb(),t.rc(123," "),t.Ob(124,"span",17),t.rc(125,"symbol"),t.Nb(),t.Ob(126,"span",14),t.rc(127,"["),t.Nb(),t.Ob(128,"span",14),t.rc(129,"]"),t.Nb(),t.Ob(130,"span",14),t.rc(131,")"),t.Nb(),t.Ob(132,"span",16),t.rc(133,":"),t.Nb(),t.rc(134," "),t.Ob(135,"span",17),t.rc(136,"Promise"),t.Nb(),t.Ob(137,"span",16),t.rc(138,"<"),t.Nb(),t.rc(139,"AuthContext "),t.Ob(140,"span",16),t.rc(141,"|"),t.Nb(),t.rc(142," "),t.Ob(143,"span",12),t.rc(144,"undefined"),t.Nb(),t.Ob(145,"span",16),t.rc(146,">"),t.Nb(),t.Ob(147,"span",14),t.rc(148,";"),t.Nb(),t.rc(149," "),t.Ob(150,"span",15),t.rc(151,"// Undefined is for multi step logins"),t.Nb(),t.rc(152,"\n"),t.Ob(153,"span",14),t.rc(154),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(155," This allows for any filters/middleware to access this information without deeper knowledge of the framework itself. Also, for performance benefits, the auth context can be stored in the user session as a means to minimize future lookups. If storing the entire principal in the session, it is best to keep the principal as small as possible. When authenticating, with a multi-step process, it is useful to share information between steps. The "),t.Ob(156,"code",18),t.rc(157,"loginContext"),t.Nb(),t.rc(158," property is intended to be a location in which that information is persisted. Currently only the "),t.Ob(159,"a",19),t.rc(160,"Passport Auth"),t.Nb(),t.rc(161," module uses this, when dealing with multi-step logins. "),t.Ob(162,"h2",20),t.rc(163,"Patterns for Integration"),t.Nb(),t.rc(164,"\nEvery external framework integration relies upon the "),t.Ob(165,"a",21),t.rc(166,"IdentitySource"),t.Nb(),t.rc(167," contract. This contract defines the boundaries between both frameworks and what is needed to pass between. As stated elsewhere, the goal is to be as flexible as possible, and so the contract is as minimal as possible: "),t.Ob(168,"figure",9),t.Ob(169,"figcaption",9),t.rc(170,"Structure for the Identity Source "),t.Ob(171,"cite"),t.Ob(172,"a",22),t.rc(173,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(174,"pre"),t.Ob(175,"code",11),t.Ob(176,"span",12),t.rc(177,"import"),t.Nb(),t.rc(178," "),t.Ob(179,"span",14),t.rc(180),t.Nb(),t.rc(181," Request"),t.Ob(182,"span",14),t.rc(183,","),t.Nb(),t.rc(184," Response "),t.Ob(185,"span",14),t.rc(186),t.Nb(),t.rc(187," "),t.Ob(188,"span",12),t.rc(189,"from"),t.Nb(),t.rc(190," "),t.Ob(191,"span",23),t.rc(192,"'@travetto/rest'"),t.Nb(),t.Ob(193,"span",14),t.rc(194,";"),t.Nb(),t.rc(195,"\n"),t.Ob(196,"span",12),t.rc(197,"import"),t.Nb(),t.rc(198," "),t.Ob(199,"span",14),t.rc(200),t.Nb(),t.rc(201," Identity "),t.Ob(202,"span",14),t.rc(203),t.Nb(),t.rc(204," "),t.Ob(205,"span",12),t.rc(206,"from"),t.Nb(),t.rc(207," "),t.Ob(208,"span",23),t.rc(209,"'@travetto/auth'"),t.Nb(),t.Ob(210,"span",14),t.rc(211,";"),t.Nb(),t.rc(212,"\n\n"),t.Ob(213,"span",15),t.rc(214,"/**\n * Identity source to support authentication\n */"),t.Nb(),t.rc(215,"\n"),t.Ob(216,"span",12),t.rc(217,"export"),t.Nb(),t.rc(218," "),t.Ob(219,"span",12),t.rc(220,"abstract"),t.Nb(),t.rc(221," "),t.Ob(222,"span",12),t.rc(223,"class"),t.Nb(),t.rc(224," "),t.Ob(225,"span",13),t.rc(226,"IdentitySource"),t.Nb(),t.rc(227," "),t.Ob(228,"span",14),t.rc(229),t.Nb(),t.rc(230,"\n  "),t.Ob(231,"span",15),t.rc(232,"/**\n   * Verify the information from the request, authenticate into an Identity\n   *\n   * @param req The travetto request\n   * @param res The travetto response\n   */"),t.Nb(),t.rc(233,"\n  "),t.Ob(234,"span",12),t.rc(235,"abstract"),t.Nb(),t.rc(236," "),t.Ob(237,"span",12),t.rc(238,"async"),t.Nb(),t.rc(239," "),t.Ob(240,"span",3),t.rc(241,"authenticate"),t.Nb(),t.Ob(242,"span",14),t.rc(243,"("),t.Nb(),t.rc(244,"req"),t.Ob(245,"span",16),t.rc(246,":"),t.Nb(),t.rc(247," Request"),t.Ob(248,"span",14),t.rc(249,","),t.Nb(),t.rc(250," res"),t.Ob(251,"span",16),t.rc(252,":"),t.Nb(),t.rc(253," Response"),t.Ob(254,"span",14),t.rc(255,")"),t.Nb(),t.Ob(256,"span",16),t.rc(257,":"),t.Nb(),t.rc(258," "),t.Ob(259,"span",17),t.rc(260,"Promise"),t.Nb(),t.Ob(261,"span",16),t.rc(262,"<"),t.Nb(),t.rc(263,"Identity "),t.Ob(264,"span",16),t.rc(265,"|"),t.Nb(),t.rc(266," "),t.Ob(267,"span",12),t.rc(268,"undefined"),t.Nb(),t.Ob(269,"span",16),t.rc(270,">"),t.Nb(),t.Ob(271,"span",14),t.rc(272,";"),t.Nb(),t.rc(273,"\n"),t.Ob(274,"span",14),t.rc(275),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(276," The only required method to be defined is the "),t.Ob(277,"code",18),t.rc(278,"authenticate"),t.Nb(),t.rc(279," method. This takes in a "),t.Ob(280,"a",7),t.rc(281,"Request"),t.Nb(),t.rc(282," and "),t.Ob(283,"a",24),t.rc(284,"Response"),t.Nb(),t.rc(285,", and is responsible for: "),t.Ob(286,"ul"),t.Ob(287,"li"),t.rc(288,"Returning an "),t.Ob(289,"a",25),t.rc(290,"Identity"),t.Nb(),t.rc(291," if authentication was successful"),t.Nb(),t.Ob(292,"li"),t.rc(293,"Throwing an error if it failed"),t.Nb(),t.Ob(294,"li"),t.rc(295,"Returning undefined if the authentication is multi-staged and has not completed yet"),t.Nb(),t.Nb(),t.rc(296,"\nA sample auth provider would look like: "),t.Ob(297,"figure",9),t.Ob(298,"figcaption",9),t.rc(299,"Sample Identity Source "),t.Ob(300,"cite"),t.Ob(301,"a",26),t.rc(302,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(303,"pre"),t.Ob(304,"code",11),t.Ob(305,"span",12),t.rc(306,"import"),t.Nb(),t.rc(307," "),t.Ob(308,"span",14),t.rc(309),t.Nb(),t.rc(310," Response"),t.Ob(311,"span",14),t.rc(312,","),t.Nb(),t.rc(313," Request "),t.Ob(314,"span",14),t.rc(315),t.Nb(),t.rc(316," "),t.Ob(317,"span",12),t.rc(318,"from"),t.Nb(),t.rc(319," "),t.Ob(320,"span",23),t.rc(321,"'@travetto/rest'"),t.Nb(),t.Ob(322,"span",14),t.rc(323,";"),t.Nb(),t.rc(324,"\n"),t.Ob(325,"span",12),t.rc(326,"import"),t.Nb(),t.rc(327," "),t.Ob(328,"span",14),t.rc(329),t.Nb(),t.rc(330," AppError "),t.Ob(331,"span",14),t.rc(332),t.Nb(),t.rc(333," "),t.Ob(334,"span",12),t.rc(335,"from"),t.Nb(),t.rc(336," "),t.Ob(337,"span",23),t.rc(338,"'@travetto/base'"),t.Nb(),t.Ob(339,"span",14),t.rc(340,";"),t.Nb(),t.rc(341,"\n\n"),t.Ob(342,"span",12),t.rc(343,"import"),t.Nb(),t.rc(344," "),t.Ob(345,"span",14),t.rc(346),t.Nb(),t.rc(347," IdentitySource "),t.Ob(348,"span",14),t.rc(349),t.Nb(),t.rc(350," "),t.Ob(351,"span",12),t.rc(352,"from"),t.Nb(),t.rc(353," "),t.Ob(354,"span",23),t.rc(355,"'@travetto/auth-rest/src/identity'"),t.Nb(),t.Ob(356,"span",14),t.rc(357,";"),t.Nb(),t.rc(358,"\n\n"),t.Ob(359,"span",12),t.rc(360,"export"),t.Nb(),t.rc(361," "),t.Ob(362,"span",12),t.rc(363,"class"),t.Nb(),t.rc(364," "),t.Ob(365,"span",13),t.rc(366,"SimpleIdentitySource"),t.Nb(),t.rc(367," "),t.Ob(368,"span",12),t.rc(369,"extends"),t.Nb(),t.rc(370," "),t.Ob(371,"span",13),t.rc(372,"IdentitySource"),t.Nb(),t.rc(373," "),t.Ob(374,"span",14),t.rc(375),t.Nb(),t.rc(376,"\n  "),t.Ob(377,"span",12),t.rc(378,"async"),t.Nb(),t.rc(379," "),t.Ob(380,"span",3),t.rc(381,"authenticate"),t.Nb(),t.Ob(382,"span",14),t.rc(383,"("),t.Nb(),t.Ob(384,"span",27),t.rc(385,"req"),t.Ob(386,"span",16),t.rc(387,":"),t.Nb(),t.rc(388," Request"),t.Ob(389,"span",14),t.rc(390,","),t.Nb(),t.rc(391," res"),t.Ob(392,"span",16),t.rc(393,":"),t.Nb(),t.rc(394," Response"),t.Nb(),t.Ob(395,"span",14),t.rc(396,")"),t.Nb(),t.rc(397," "),t.Ob(398,"span",14),t.rc(399),t.Nb(),t.rc(400,"\n    "),t.Ob(401,"span",12),t.rc(402,"const"),t.Nb(),t.rc(403," "),t.Ob(404,"span",14),t.rc(405),t.Nb(),t.rc(406," username"),t.Ob(407,"span",14),t.rc(408,","),t.Nb(),t.rc(409," password "),t.Ob(410,"span",14),t.rc(411),t.Nb(),t.rc(412," "),t.Ob(413,"span",16),t.rc(414,"="),t.Nb(),t.rc(415," req"),t.Ob(416,"span",14),t.rc(417,"."),t.Nb(),t.rc(418,"body"),t.Ob(419,"span",14),t.rc(420,";"),t.Nb(),t.rc(421,"\n    "),t.Ob(422,"span",12),t.rc(423,"if"),t.Nb(),t.rc(424," "),t.Ob(425,"span",14),t.rc(426,"("),t.Nb(),t.rc(427,"username "),t.Ob(428,"span",16),t.rc(429,"==="),t.Nb(),t.rc(430," "),t.Ob(431,"span",23),t.rc(432,"'test'"),t.Nb(),t.rc(433," "),t.Ob(434,"span",16),t.rc(435,"&&"),t.Nb(),t.rc(436," password "),t.Ob(437,"span",16),t.rc(438,"==="),t.Nb(),t.rc(439," "),t.Ob(440,"span",23),t.rc(441,"'test'"),t.Nb(),t.Ob(442,"span",14),t.rc(443,")"),t.Nb(),t.rc(444," "),t.Ob(445,"span",14),t.rc(446),t.Nb(),t.rc(447,"\n      "),t.Ob(448,"span",12),t.rc(449,"return"),t.Nb(),t.rc(450," "),t.Ob(451,"span",14),t.rc(452),t.Nb(),t.rc(453,"\n        id"),t.Ob(454,"span",16),t.rc(455,":"),t.Nb(),t.rc(456," "),t.Ob(457,"span",23),t.rc(458,"'test'"),t.Nb(),t.Ob(459,"span",14),t.rc(460,","),t.Nb(),t.rc(461,"\n        source"),t.Ob(462,"span",16),t.rc(463,":"),t.Nb(),t.rc(464," "),t.Ob(465,"span",23),t.rc(466,"'simple'"),t.Nb(),t.Ob(467,"span",14),t.rc(468,","),t.Nb(),t.rc(469,"\n        permissions"),t.Ob(470,"span",16),t.rc(471,":"),t.Nb(),t.rc(472," "),t.Ob(473,"span",14),t.rc(474,"["),t.Nb(),t.Ob(475,"span",14),t.rc(476,"]"),t.Nb(),t.Ob(477,"span",14),t.rc(478,","),t.Nb(),t.rc(479,"\n        details"),t.Ob(480,"span",16),t.rc(481,":"),t.Nb(),t.rc(482," "),t.Ob(483,"span",14),t.rc(484),t.Nb(),t.rc(485,"\n          username"),t.Ob(486,"span",16),t.rc(487,":"),t.Nb(),t.rc(488," "),t.Ob(489,"span",23),t.rc(490,"'test'"),t.Nb(),t.rc(491,"\n        "),t.Ob(492,"span",14),t.rc(493),t.Nb(),t.rc(494,"\n      "),t.Ob(495,"span",14),t.rc(496),t.Nb(),t.Ob(497,"span",14),t.rc(498,";"),t.Nb(),t.rc(499,"\n    "),t.Ob(500,"span",14),t.rc(501),t.Nb(),t.rc(502," "),t.Ob(503,"span",12),t.rc(504,"else"),t.Nb(),t.rc(505," "),t.Ob(506,"span",14),t.rc(507),t.Nb(),t.rc(508,"\n      "),t.Ob(509,"span",12),t.rc(510,"throw"),t.Nb(),t.rc(511," "),t.Ob(512,"span",12),t.rc(513,"new"),t.Nb(),t.rc(514," "),t.Ob(515,"span",13),t.rc(516,"AppError"),t.Nb(),t.Ob(517,"span",14),t.rc(518,"("),t.Nb(),t.Ob(519,"span",23),t.rc(520,"'Invalid credentials'"),t.Nb(),t.Ob(521,"span",14),t.rc(522,","),t.Nb(),t.rc(523," "),t.Ob(524,"span",23),t.rc(525,"'authentication'"),t.Nb(),t.Ob(526,"span",14),t.rc(527,")"),t.Nb(),t.Ob(528,"span",14),t.rc(529,";"),t.Nb(),t.rc(530,"\n    "),t.Ob(531,"span",14),t.rc(532),t.Nb(),t.rc(533,"\n  "),t.Ob(534,"span",14),t.rc(535),t.Nb(),t.rc(536,"\n"),t.Ob(537,"span",14),t.rc(538),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(539," The provider must be registered with a custom symbol to be used within the framework. At startup, all registered "),t.Ob(540,"a",21),t.rc(541,"IdentitySource"),t.Nb(),t.rc(542,"'s are collected and stored for reference at runtime, via symbol. For example: "),t.Ob(543,"figure",9),t.Ob(544,"figcaption",9),t.rc(545,"Potential Facebook provider "),t.Ob(546,"cite"),t.Ob(547,"a",28),t.rc(548,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(549,"pre"),t.Ob(550,"code",11),t.Ob(551,"span",12),t.rc(552,"import"),t.Nb(),t.rc(553," "),t.Ob(554,"span",14),t.rc(555),t.Nb(),t.rc(556," InjectableFactory "),t.Ob(557,"span",14),t.rc(558),t.Nb(),t.rc(559," "),t.Ob(560,"span",12),t.rc(561,"from"),t.Nb(),t.rc(562," "),t.Ob(563,"span",23),t.rc(564,"'@travetto/di'"),t.Nb(),t.Ob(565,"span",14),t.rc(566,";"),t.Nb(),t.rc(567,"\n"),t.Ob(568,"span",12),t.rc(569,"import"),t.Nb(),t.rc(570," "),t.Ob(571,"span",14),t.rc(572),t.Nb(),t.rc(573," SimpleIdentitySource "),t.Ob(574,"span",14),t.rc(575),t.Nb(),t.rc(576," ");t.Ob(577,"span",12),t.rc(578,"from"),t.Nb(),t.rc(579," "),t.Ob(580,"span",23),t.rc(581,"'./source'"),t.Nb(),t.Ob(582,"span",14),t.rc(583,";"),t.Nb(),t.rc(584,"\n\n"),t.Ob(585,"span",12),t.rc(586,"export"),t.Nb(),t.rc(587," "),t.Ob(588,"span",12),t.rc(589,"const"),t.Nb(),t.rc(590," "),t.Ob(591,"span",29),t.rc(592,"FB_AUTH"),t.Nb(),t.rc(593," "),t.Ob(594,"span",16),t.rc(595,"="),t.Nb(),t.rc(596," Symbol"),t.Ob(597,"span",14),t.rc(598,"."),t.Nb(),t.Ob(599,"span",12),t.rc(600,"for"),t.Nb(),t.Ob(601,"span",14),t.rc(602,"("),t.Nb(),t.Ob(603,"span",23),t.rc(604,"'auth-facebook'"),t.Nb(),t.Ob(605,"span",14),t.rc(606,")"),t.Nb(),t.Ob(607,"span",14),t.rc(608,";"),t.Nb(),t.rc(609,"\n\n"),t.Ob(610,"span",12),t.rc(611,"export"),t.Nb(),t.rc(612," "),t.Ob(613,"span",12),t.rc(614,"class"),t.Nb(),t.rc(615," "),t.Ob(616,"span",13),t.rc(617,"AppConfig"),t.Nb(),t.rc(618," "),t.Ob(619,"span",14),t.rc(620),t.Nb(),t.rc(621,"\n  @"),t.Ob(622,"span",30),t.rc(623,"InjectableFactory"),t.Nb(),t.Ob(624,"span",14),t.rc(625,"("),t.Nb(),t.Ob(626,"span",29),t.rc(627,"FB_AUTH"),t.Nb(),t.Ob(628,"span",14),t.rc(629,")"),t.Nb(),t.rc(630,"\n  "),t.Ob(631,"span",12),t.rc(632,"static"),t.Nb(),t.rc(633," "),t.Ob(634,"span",3),t.rc(635,"facebookIdentity"),t.Nb(),t.Ob(636,"span",14),t.rc(637,"("),t.Nb(),t.Ob(638,"span",14),t.rc(639,")"),t.Nb(),t.rc(640," "),t.Ob(641,"span",14),t.rc(642),t.Nb(),t.rc(643,"\n    "),t.Ob(644,"span",12),t.rc(645,"return"),t.Nb(),t.rc(646," "),t.Ob(647,"span",12),t.rc(648,"new"),t.Nb(),t.rc(649," "),t.Ob(650,"span",13),t.rc(651,"SimpleIdentitySource"),t.Nb(),t.Ob(652,"span",14),t.rc(653,"("),t.Nb(),t.Ob(654,"span",14),t.rc(655,")"),t.Nb(),t.Ob(656,"span",14),t.rc(657,";"),t.Nb(),t.rc(658,"\n  "),t.Ob(659,"span",14),t.rc(660),t.Nb(),t.rc(661,"\n"),t.Ob(662,"span",14),t.rc(663),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(664," The symbol "),t.Ob(665,"code",8),t.rc(666,"FB_AUTH"),t.Nb(),t.rc(667," is what will be used to reference providers at runtime. This was chosen, over "),t.Ob(668,"code",8),t.rc(669,"class"),t.Nb(),t.rc(670," references due to the fact that most providers will not be defined via a new class, but via an "),t.Ob(671,"a",31),t.rc(672,"@InjectableFactory"),t.Nb(),t.rc(673," method. "),t.Ob(674,"h2",32),t.rc(675,"Route Declaration"),t.Nb(),t.rc(676,"\nLike the "),t.Ob(677,"a",33),t.rc(678,"AuthService"),t.Nb(),t.rc(679,", there are common auth patterns that most users will implement. The framework has codified these into decorators that a developer can pick up and use. "),t.Ob(680,"a",34),t.rc(681,"Authenticate"),t.Nb(),t.rc(682," provides middleware that will authenticate the user as defined by the specified providers, or throw an error if authentication is unsuccessful. "),t.Ob(683,"figure",9),t.Ob(684,"figcaption",9),t.rc(685,"Using provider with routes "),t.Ob(686,"cite"),t.Ob(687,"a",35),t.rc(688,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(689,"pre"),t.Ob(690,"code",11),t.Ob(691,"span",12),t.rc(692,"import"),t.Nb(),t.rc(693," "),t.Ob(694,"span",14),t.rc(695),t.Nb(),t.rc(696," Controller"),t.Ob(697,"span",14),t.rc(698,","),t.Nb(),t.rc(699," Get"),t.Ob(700,"span",14),t.rc(701,","),t.Nb(),t.rc(702," Redirect"),t.Ob(703,"span",14),t.rc(704,","),t.Nb(),t.rc(705," Request "),t.Ob(706,"span",14),t.rc(707),t.Nb(),t.rc(708," "),t.Ob(709,"span",12),t.rc(710,"from"),t.Nb(),t.rc(711," "),t.Ob(712,"span",23),t.rc(713,"'@travetto/rest'"),t.Nb(),t.Ob(714,"span",14),t.rc(715,";"),t.Nb(),t.rc(716,"\n\n"),t.Ob(717,"span",12),t.rc(718,"import"),t.Nb(),t.rc(719," "),t.Ob(720,"span",14),t.rc(721),t.Nb(),t.rc(722," Authenticate"),t.Ob(723,"span",14),t.rc(724,","),t.Nb(),t.rc(725," Authenticated "),t.Ob(726,"span",14),t.rc(727),t.Nb(),t.rc(728," "),t.Ob(729,"span",12),t.rc(730,"from"),t.Nb(),t.rc(731," "),t.Ob(732,"span",23),t.rc(733,"'@travetto/auth-rest'"),t.Nb(),t.Ob(734,"span",14),t.rc(735,";"),t.Nb(),t.rc(736,"\n"),t.Ob(737,"span",12),t.rc(738,"import"),t.Nb(),t.rc(739," "),t.Ob(740,"span",14),t.rc(741),t.Nb(),t.rc(742," "),t.Ob(743,"span",29),t.rc(744,"FB_AUTH"),t.Nb(),t.rc(745," "),t.Ob(746,"span",14),t.rc(747),t.Nb(),t.rc(748," "),t.Ob(749,"span",12),t.rc(750,"from"),t.Nb(),t.rc(751," "),t.Ob(752,"span",23),t.rc(753,"'./facebook'"),t.Nb(),t.Ob(754,"span",14),t.rc(755,";"),t.Nb(),t.rc(756,"\n\n@"),t.Ob(757,"span",30),t.rc(758,"Controller"),t.Nb(),t.Ob(759,"span",14),t.rc(760,"("),t.Nb(),t.Ob(761,"span",23),t.rc(762,"'/auth'"),t.Nb(),t.Ob(763,"span",14),t.rc(764,")"),t.Nb(),t.rc(765,"\n"),t.Ob(766,"span",12),t.rc(767,"export"),t.Nb(),t.rc(768," "),t.Ob(769,"span",12),t.rc(770,"class"),t.Nb(),t.rc(771," "),t.Ob(772,"span",13),t.rc(773,"SampleAuth"),t.Nb(),t.rc(774," "),t.Ob(775,"span",14),t.rc(776),t.Nb(),t.rc(777,"\n\n  @"),t.Ob(778,"span",30),t.rc(779,"Get"),t.Nb(),t.Ob(780,"span",14),t.rc(781,"("),t.Nb(),t.Ob(782,"span",23),t.rc(783,"'/simple'"),t.Nb(),t.Ob(784,"span",14),t.rc(785,")"),t.Nb(),t.rc(786,"\n  @"),t.Ob(787,"span",30),t.rc(788,"Authenticate"),t.Nb(),t.Ob(789,"span",14),t.rc(790,"("),t.Nb(),t.Ob(791,"span",29),t.rc(792,"FB_AUTH"),t.Nb(),t.Ob(793,"span",14),t.rc(794,")"),t.Nb(),t.rc(795,"\n  "),t.Ob(796,"span",12),t.rc(797,"async"),t.Nb(),t.rc(798," "),t.Ob(799,"span",3),t.rc(800,"simpleLogin"),t.Nb(),t.Ob(801,"span",14),t.rc(802,"("),t.Nb(),t.Ob(803,"span",14),t.rc(804,")"),t.Nb(),t.rc(805," "),t.Ob(806,"span",14),t.rc(807),t.Nb(),t.rc(808,"\n    "),t.Ob(809,"span",12),t.rc(810,"return"),t.Nb(),t.rc(811," "),t.Ob(812,"span",12),t.rc(813,"new"),t.Nb(),t.rc(814," "),t.Ob(815,"span",13),t.rc(816,"Redirect"),t.Nb(),t.Ob(817,"span",14),t.rc(818,"("),t.Nb(),t.Ob(819,"span",23),t.rc(820,"'/auth/self'"),t.Nb(),t.Ob(821,"span",14),t.rc(822,","),t.Nb(),t.rc(823," "),t.Ob(824,"span",36),t.rc(825,"301"),t.Nb(),t.Ob(826,"span",14),t.rc(827,")"),t.Nb(),t.Ob(828,"span",14),t.rc(829,";"),t.Nb(),t.rc(830,"\n  "),t.Ob(831,"span",14),t.rc(832),t.Nb(),t.rc(833,"\n\n  @"),t.Ob(834,"span",30),t.rc(835,"Get"),t.Nb(),t.Ob(836,"span",14),t.rc(837,"("),t.Nb(),t.Ob(838,"span",23),t.rc(839,"'/self'"),t.Nb(),t.Ob(840,"span",14),t.rc(841,")"),t.Nb(),t.rc(842,"\n  @"),t.Ob(843,"span",30),t.rc(844,"Authenticated"),t.Nb(),t.Ob(845,"span",14),t.rc(846,"("),t.Nb(),t.Ob(847,"span",14),t.rc(848,")"),t.Nb(),t.rc(849,"\n  "),t.Ob(850,"span",12),t.rc(851,"async"),t.Nb(),t.rc(852," "),t.Ob(853,"span",3),t.rc(854,"getSelf"),t.Nb(),t.Ob(855,"span",14),t.rc(856,"("),t.Nb(),t.Ob(857,"span",27),t.rc(858,"req"),t.Ob(859,"span",16),t.rc(860,":"),t.Nb(),t.rc(861," Request"),t.Nb(),t.Ob(862,"span",14),t.rc(863,")"),t.Nb(),t.rc(864," "),t.Ob(865,"span",14),t.rc(866),t.Nb(),t.rc(867,"\n    "),t.Ob(868,"span",12),t.rc(869,"return"),t.Nb(),t.rc(870," req"),t.Ob(871,"span",14),t.rc(872,"."),t.Nb(),t.rc(873,"auth"),t.Ob(874,"span",14),t.rc(875,"."),t.Nb(),t.rc(876,"principal"),t.Ob(877,"span",14),t.rc(878,";"),t.Nb(),t.rc(879,"\n  "),t.Ob(880,"span",14),t.rc(881),t.Nb(),t.rc(882,"\n\n  @"),t.Ob(883,"span",30),t.rc(884,"Get"),t.Nb(),t.Ob(885,"span",14),t.rc(886,"("),t.Nb(),t.Ob(887,"span",23),t.rc(888,"'/logout'"),t.Nb(),t.Ob(889,"span",14),t.rc(890,")"),t.Nb(),t.rc(891,"\n  @"),t.Ob(892,"span",30),t.rc(893,"Authenticated"),t.Nb(),t.Ob(894,"span",14),t.rc(895,"("),t.Nb(),t.Ob(896,"span",14),t.rc(897,")"),t.Nb(),t.rc(898,"\n  "),t.Ob(899,"span",12),t.rc(900,"async"),t.Nb(),t.rc(901," "),t.Ob(902,"span",3),t.rc(903,"logout"),t.Nb(),t.Ob(904,"span",14),t.rc(905,"("),t.Nb(),t.Ob(906,"span",27),t.rc(907,"req"),t.Ob(908,"span",16),t.rc(909,":"),t.Nb(),t.rc(910," Request"),t.Nb(),t.Ob(911,"span",14),t.rc(912,")"),t.Nb(),t.rc(913," "),t.Ob(914,"span",14),t.rc(915),t.Nb(),t.rc(916,"\n    "),t.Ob(917,"span",12),t.rc(918,"await"),t.Nb(),t.rc(919," req"),t.Ob(920,"span",14),t.rc(921,"."),t.Nb(),t.Ob(922,"span",3),t.rc(923,"logout"),t.Nb(),t.Ob(924,"span",14),t.rc(925,"("),t.Nb(),t.Ob(926,"span",14),t.rc(927,")"),t.Nb(),t.Ob(928,"span",14),t.rc(929,";"),t.Nb(),t.rc(930,"\n    "),t.Ob(931,"span",12),t.rc(932,"return"),t.Nb(),t.rc(933," "),t.Ob(934,"span",12),t.rc(935,"new"),t.Nb(),t.rc(936," "),t.Ob(937,"span",13),t.rc(938,"Redirect"),t.Nb(),t.Ob(939,"span",14),t.rc(940,"("),t.Nb(),t.Ob(941,"span",23),t.rc(942,"'/auth/self'"),t.Nb(),t.Ob(943,"span",14),t.rc(944,","),t.Nb(),t.rc(945," "),t.Ob(946,"span",36),t.rc(947,"301"),t.Nb(),t.Ob(948,"span",14),t.rc(949,")"),t.Nb(),t.Ob(950,"span",14),t.rc(951,";"),t.Nb(),t.rc(952,"\n  "),t.Ob(953,"span",14),t.rc(954),t.Nb(),t.rc(955,"\n"),t.Ob(956,"span",14),t.rc(957),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(958,"a",37),t.rc(959,"Authenticated"),t.Nb(),t.rc(960," and "),t.Ob(961,"a",38),t.rc(962,"Unauthenticated"),t.Nb(),t.rc(963," will simply enforce whether or not a user is logged in and throw the appropriate error messages as needed. Additionally, "),t.Ob(964,"a",39),t.rc(965,"AuthContext"),t.Nb(),t.rc(966," is accessible via "),t.Ob(967,"a",40),t.rc(968,"@Context"),t.Nb(),t.rc(969," directly, without wiring in a request object, but is also accessible on the request object as "),t.Ob(970,"a",7),t.rc(971,"Request"),t.Nb(),t.rc(972,".auth. "),t.Nb()}2&r&&(t.zb(57),t.sc("{"),t.zb(97),t.sc("}"),t.zb(26),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(46),t.sc("}"),t.zb(34),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.sc("{"),t.zb(24),t.sc("{"),t.zb(6),t.sc("{"),t.zb(6),t.sc("}"),t.zb(35),t.sc("{"),t.zb(6),t.sc("{"),t.zb(32),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(5),t.sc("}"),t.zb(6),t.sc("{"),t.zb(25),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(17),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(45),t.sc("{"),t.zb(22),t.sc("{"),t.zb(18),t.sc("}"),t.zb(3),t.sc("}"),t.zb(32),t.sc("{"),t.zb(12),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(29),t.sc("{"),t.zb(31),t.sc("{"),t.zb(25),t.sc("}"),t.zb(34),t.sc("{"),t.zb(15),t.sc("}"),t.zb(34),t.sc("{"),t.zb(39),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),B=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-auth-passport"]],decls:891,vars:48,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","http://passportjs.org",1,"external-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-passport/alt/e2e/src/conf.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","class-name"],[1,"token","operator"],[1,"token","builtin"],[1,"token","constant"],[1,"token","meta"],[1,"token","parameter"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-passport/src/identity.ts#L14",1,"source-link"],[1,"note"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/auth-passport/alt/e2e/src/simple.ts"],[1,"token","number"],[1,"token","comment"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Passport Auth "),t.Ob(3,"small"),t.rc(4,"Passport authentication integration support for the travetto framework"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/auth-passport "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/auth-passport"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," Within the node ecosystem, the most prevalent auth framework is "),t.Ob(17,"a",4),t.rc(18,"passport"),t.Nb(),t.rc(19,". With countless integrations, the desire to leverage as much of it as possible, is extremely high. To that end, this module provides support for "),t.Ob(20,"a",4),t.rc(21,"passport"),t.Nb(),t.rc(22," baked in. Registering and configuring a "),t.Ob(23,"a",4),t.rc(24,"passport"),t.Nb(),t.rc(25," strategy is fairly straightforward. "),t.Ob(26,"figure",5),t.Ob(27,"figcaption",5),t.rc(28,"Sample Facebook/passport config "),t.Ob(29,"cite"),t.Ob(30,"a",6),t.rc(31,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(32,"pre"),t.Ob(33,"code",7),t.Ob(34,"span",8),t.rc(35,"import"),t.Nb(),t.rc(36," "),t.Ob(37,"span",9),t.rc(38),t.Nb(),t.rc(39," Strategy "),t.Ob(40,"span",8),t.rc(41,"as"),t.Nb(),t.rc(42," FacebookStrategy "),t.Ob(43,"span",9),t.rc(44),t.Nb(),t.rc(45," "),t.Ob(46,"span",8),t.rc(47,"from"),t.Nb(),t.rc(48," "),t.Ob(49,"span",10),t.rc(50,"'passport-facebook'"),t.Nb(),t.Ob(51,"span",9),t.rc(52,";"),t.Nb(),t.rc(53,"\n\n"),t.Ob(54,"span",8),t.rc(55,"import"),t.Nb(),t.rc(56," "),t.Ob(57,"span",9),t.rc(58),t.Nb(),t.rc(59," InjectableFactory "),t.Ob(60,"span",9),t.rc(61),t.Nb(),t.rc(62," "),t.Ob(63,"span",8),t.rc(64,"from"),t.Nb(),t.rc(65," "),t.Ob(66,"span",10),t.rc(67,"'@travetto/di'"),t.Nb(),t.Ob(68,"span",9),t.rc(69,";"),t.Nb(),t.rc(70,"\n"),t.Ob(71,"span",8),t.rc(72,"import"),t.Nb(),t.rc(73," "),t.Ob(74,"span",9),t.rc(75),t.Nb(),t.rc(76," PrincipalSource"),t.Ob(77,"span",9),t.rc(78,","),t.Nb(),t.rc(79," Identity "),t.Ob(80,"span",9),t.rc(81),t.Nb(),t.rc(82," "),t.Ob(83,"span",8),t.rc(84,"from"),t.Nb(),t.rc(85," "),t.Ob(86,"span",10),t.rc(87,"'@travetto/auth'"),t.Nb(),t.Ob(88,"span",9),t.rc(89,";"),t.Nb(),t.rc(90,"\n"),t.Ob(91,"span",8),t.rc(92,"import"),t.Nb(),t.rc(93," "),t.Ob(94,"span",9),t.rc(95),t.Nb(),t.rc(96," IdentitySource "),t.Ob(97,"span",9),t.rc(98),t.Nb(),t.rc(99," "),t.Ob(100,"span",8),t.rc(101,"from"),t.Nb(),t.rc(102," "),t.Ob(103,"span",10),t.rc(104,"'@travetto/auth-rest'"),t.Nb(),t.Ob(105,"span",9),t.rc(106,";"),t.Nb(),t.rc(107,"\n\n"),t.Ob(108,"span",8),t.rc(109,"import"),t.Nb(),t.rc(110," "),t.Ob(111,"span",9),t.rc(112),t.Nb(),t.rc(113," PassportIdentitySource "),t.Ob(114,"span",9),t.rc(115),t.Nb(),t.rc(116," "),t.Ob(117,"span",8),t.rc(118,"from"),t.Nb(),t.rc(119," "),t.Ob(120,"span",10),t.rc(121,"'@travetto/auth-passport'"),t.Nb(),t.Ob(122,"span",9),t.rc(123,";"),t.Nb(),t.rc(124,"\n\n"),t.Ob(125,"span",8),t.rc(126,"export"),t.Nb(),t.rc(127," "),t.Ob(128,"span",8),t.rc(129,"class"),t.Nb(),t.rc(130," "),t.Ob(131,"span",11),t.rc(132,"FbUser"),t.Nb(),t.rc(133," "),t.Ob(134,"span",9),t.rc(135),t.Nb(),t.rc(136,"\n  username"),t.Ob(137,"span",12),t.rc(138,":"),t.Nb(),t.rc(139," "),t.Ob(140,"span",13),t.rc(141,"string"),t.Nb(),t.Ob(142,"span",9),t.rc(143,";"),t.Nb(),t.rc(144,"\n  roles"),t.Ob(145,"span",12),t.rc(146,":"),t.Nb(),t.rc(147," "),t.Ob(148,"span",13),t.rc(149,"string"),t.Nb(),t.Ob(150,"span",9),t.rc(151,"["),t.Nb(),t.Ob(152,"span",9),t.rc(153,"]"),t.Nb(),t.Ob(154,"span",9),t.rc(155,";"),t.Nb(),t.rc(156,"\n"),t.Ob(157,"span",9),t.rc(158),t.Nb(),t.rc(159,"\n\n"),t.Ob(160,"span",8),t.rc(161,"export"),t.Nb(),t.rc(162," "),t.Ob(163,"span",8),t.rc(164,"const"),t.Nb(),t.rc(165," "),t.Ob(166,"span",14),t.rc(167,"FB_AUTH"),t.Nb(),t.rc(168," "),t.Ob(169,"span",12),t.rc(170,"="),t.Nb(),t.rc(171," Symbol"),t.Ob(172,"span",9),t.rc(173,"."),t.Nb(),t.Ob(174,"span",8),t.rc(175,"for"),t.Nb(),t.Ob(176,"span",9),t.rc(177,"("),t.Nb(),t.Ob(178,"span",10),t.rc(179,"'auth_facebook'"),t.Nb(),t.Ob(180,"span",9),t.rc(181,")"),t.Nb(),t.Ob(182,"span",9),t.rc(183,";"),t.Nb(),t.rc(184,"\n\n"),t.Ob(185,"span",8),t.rc(186,"export"),t.Nb(),t.rc(187," "),t.Ob(188,"span",8),t.rc(189,"class"),t.Nb(),t.rc(190," "),t.Ob(191,"span",11),t.rc(192,"AppConfig"),t.Nb(),t.rc(193," "),t.Ob(194,"span",9),t.rc(195),t.Nb(),t.rc(196,"\n  @"),t.Ob(197,"span",15),t.rc(198,"InjectableFactory"),t.Nb(),t.Ob(199,"span",9),t.rc(200,"("),t.Nb(),t.Ob(201,"span",14),t.rc(202,"FB_AUTH"),t.Nb(),t.Ob(203,"span",9),t.rc(204,")"),t.Nb(),t.rc(205,"\n  "),t.Ob(206,"span",8),t.rc(207,"static"),t.Nb(),t.rc(208," "),t.Ob(209,"span",3),t.rc(210,"facebookPassport"),t.Nb(),t.Ob(211,"span",9),t.rc(212,"("),t.Nb(),t.Ob(213,"span",9),t.rc(214,")"),t.Nb(),t.Ob(215,"span",12),t.rc(216,":"),t.Nb(),t.rc(217," IdentitySource "),t.Ob(218,"span",9),t.rc(219),t.Nb(),t.rc(220,"\n    "),t.Ob(221,"span",8),t.rc(222,"return"),t.Nb(),t.rc(223," "),t.Ob(224,"span",8),t.rc(225,"new"),t.Nb(),t.rc(226," "),t.Ob(227,"span",11),t.rc(228,"PassportIdentitySource"),t.Nb(),t.Ob(229,"span",9),t.rc(230,"("),t.Nb(),t.Ob(231,"span",10),t.rc(232,"'facebook'"),t.Nb(),t.Ob(233,"span",9),t.rc(234,","),t.Nb(),t.rc(235,"\n      "),t.Ob(236,"span",8),t.rc(237,"new"),t.Nb(),t.rc(238," "),t.Ob(239,"span",11),t.rc(240,"FacebookStrategy"),t.Nb(),t.Ob(241,"span",9),t.rc(242,"("),t.Nb(),t.rc(243,"\n        "),t.Ob(244,"span",9),t.rc(245),t.Nb(),t.rc(246,"\n          clientID"),t.Ob(247,"span",12),t.rc(248,":"),t.Nb(),t.rc(249," "),t.Ob(250,"span",10),t.rc(251,"'<appId>'"),t.Nb(),t.Ob(252,"span",9),t.rc(253,","),t.Nb(),t.rc(254,"\n          clientSecret"),t.Ob(255,"span",12),t.rc(256,":"),t.Nb(),t.rc(257," "),t.Ob(258,"span",10),t.rc(259,"'<appSecret>'"),t.Nb(),t.Ob(260,"span",9),t.rc(261,","),t.Nb(),t.rc(262,"\n          callbackURL"),t.Ob(263,"span",12),t.rc(264,":"),t.Nb(),t.rc(265," "),t.Ob(266,"span",10),t.rc(267,"'http://localhost:3000/auth/facebook/callback'"),t.Nb(),t.Ob(268,"span",9),t.rc(269,","),t.Nb(),t.rc(270,"\n          profileFields"),t.Ob(271,"span",12),t.rc(272,":"),t.Nb(),t.rc(273," "),t.Ob(274,"span",9),t.rc(275,"["),t.Nb(),t.Ob(276,"span",10),t.rc(277,"'id'"),t.Nb(),t.Ob(278,"span",9),t.rc(279,","),t.Nb(),t.rc(280," "),t.Ob(281,"span",10),t.rc(282,"'username'"),t.Nb(),t.Ob(283,"span",9),t.rc(284,","),t.Nb(),t.rc(285," "),t.Ob(286,"span",10),t.rc(287,"'displayName'"),t.Nb(),t.Ob(288,"span",9),t.rc(289,","),t.Nb(),t.rc(290," "),t.Ob(291,"span",10),t.rc(292,"'photos'"),t.Nb(),t.Ob(293,"span",9),t.rc(294,","),t.Nb(),t.rc(295," "),t.Ob(296,"span",10),t.rc(297,"'email'"),t.Nb(),t.Ob(298,"span",9),t.rc(299,"]"),t.Nb(),t.Ob(300,"span",9),t.rc(301,","),t.Nb(),t.rc(302,"\n        "),t.Ob(303,"span",9),t.rc(304),t.Nb(),t.Ob(305,"span",9),t.rc(306,","),t.Nb(),t.rc(307,"\n        "),t.Ob(308,"span",9),t.rc(309,"("),t.Nb(),t.Ob(310,"span",16),t.rc(311,"accessToken"),t.Ob(312,"span",9),t.rc(313,","),t.Nb(),t.rc(314," refreshToken"),t.Ob(315,"span",9),t.rc(316,","),t.Nb(),t.rc(317," profile"),t.Ob(318,"span",9),t.rc(319,","),t.Nb(),t.rc(320," cb"),t.Nb(),t.Ob(321,"span",9),t.rc(322,")"),t.Nb(),t.rc(323," "),t.Ob(324,"span",12),t.rc(325,"=>"),t.Nb(),t.rc(326,"\n          "),t.Ob(327,"span",3),t.rc(328,"cb"),t.Nb(),t.Ob(329,"span",9),t.rc(330,"("),t.Nb(),t.Ob(331,"span",8),t.rc(332,"undefined"),t.Nb(),t.Ob(333,"span",9),t.rc(334,","),t.Nb(),t.rc(335," profile"),t.Ob(336,"span",9),t.rc(337,")"),t.Nb(),t.rc(338,"\n      "),t.Ob(339,"span",9),t.rc(340,")"),t.Nb(),t.Ob(341,"span",9),t.rc(342,","),t.Nb(),t.rc(343,"\n      "),t.Ob(344,"span",9),t.rc(345,"("),t.Nb(),t.Ob(346,"span",16),t.rc(347,"user"),t.Ob(348,"span",12),t.rc(349,":"),t.Nb(),t.rc(350," FbUser"),t.Nb(),t.Ob(351,"span",9),t.rc(352,")"),t.Nb(),t.rc(353," "),t.Ob(354,"span",12),t.rc(355,"=>"),t.Nb(),t.rc(356," "),t.Ob(357,"span",9),t.rc(358,"("),t.Nb(),t.Ob(359,"span",9),t.rc(360),t.Nb(),t.rc(361,"\n        id"),t.Ob(362,"span",12),t.rc(363,":"),t.Nb(),t.rc(364," user"),t.Ob(365,"span",9),t.rc(366,"."),t.Nb(),t.rc(367,"username"),t.Ob(368,"span",9),t.rc(369,","),t.Nb(),t.rc(370,"\n        permissions"),t.Ob(371,"span",12),t.rc(372,":"),t.Nb(),t.rc(373," user"),t.Ob(374,"span",9),t.rc(375,"."),t.Nb(),t.rc(376,"roles"),t.Ob(377,"span",9),t.rc(378,","),t.Nb(),t.rc(379,"\n        details"),t.Ob(380,"span",12),t.rc(381,":"),t.Nb(),t.rc(382," user\n      "),t.Ob(383,"span",9),t.rc(384),t.Nb(),t.Ob(385,"span",9),t.rc(386,")"),t.Nb(),t.rc(387,"\n    "),t.Ob(388,"span",9),t.rc(389,")"),t.Nb(),t.Ob(390,"span",9),t.rc(391,";"),t.Nb(),t.rc(392,"\n  "),t.Ob(393,"span",9),t.rc(394),t.Nb(),t.rc(395,"\n\n  @"),t.Ob(396,"span",15),t.rc(397,"InjectableFactory"),t.Nb(),t.Ob(398,"span",9),t.rc(399,"("),t.Nb(),t.Ob(400,"span",9),t.rc(401,")"),t.Nb(),t.rc(402,"\n  "),t.Ob(403,"span",8),t.rc(404,"static"),t.Nb(),t.rc(405," "),t.Ob(406,"span",3),t.rc(407,"principalSource"),t.Nb(),t.Ob(408,"span",9),t.rc(409,"("),t.Nb(),t.Ob(410,"span",9),t.rc(411,")"),t.Nb(),t.Ob(412,"span",12),t.rc(413,":"),t.Nb(),t.rc(414," PrincipalSource "),t.Ob(415,"span",9),t.rc(416),t.Nb(),t.rc(417,"\n    "),t.Ob(418,"span",8),t.rc(419,"return"),t.Nb(),t.rc(420," "),t.Ob(421,"span",8),t.rc(422,"new"),t.Nb(),t.rc(423," "),t.Ob(424,"span",11),t.rc(425,"class"),t.Nb(),t.rc(426," "),t.Ob(427,"span",8),t.rc(428,"extends"),t.Nb(),t.rc(429," "),t.Ob(430,"span",11),t.rc(431,"PrincipalSource"),t.Nb(),t.rc(432," "),t.Ob(433,"span",9),t.rc(434),t.Nb(),t.rc(435,"\n      "),t.Ob(436,"span",8),t.rc(437,"async"),t.Nb(),t.rc(438," "),t.Ob(439,"span",3),t.rc(440,"resolvePrincipal"),t.Nb(),t.Ob(441,"span",9),t.rc(442,"("),t.Nb(),t.Ob(443,"span",16),t.rc(444,"ident"),t.Ob(445,"span",12),t.rc(446,":"),t.Nb(),t.rc(447," Identity"),t.Nb(),t.Ob(448,"span",9),t.rc(449,")"),t.Nb(),t.rc(450," "),t.Ob(451,"span",9),t.rc(452),t.Nb(),t.rc(453,"\n        "),t.Ob(454,"span",8),t.rc(455,"return"),t.Nb(),t.rc(456," ident"),t.Ob(457,"span",9),t.rc(458,";"),t.Nb(),t.rc(459,"\n      "),t.Ob(460,"span",9),t.rc(461),t.Nb(),t.rc(462,"\n    "),t.Ob(463,"span",9),t.rc(464),t.Nb(),t.Ob(465,"span",9),t.rc(466,"("),t.Nb(),t.Ob(467,"span",9),t.rc(468,")"),t.Nb(),t.Ob(469,"span",9),t.rc(470,";"),t.Nb(),t.rc(471,"\n  "),t.Ob(472,"span",9),t.rc(473),t.Nb(),t.rc(474,"\n"),t.Ob(475,"span",9),t.rc(476),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(477," As you can see, "),t.Ob(478,"a",17),t.rc(479,"PassportIdentitySource"),t.Nb(),t.rc(480," will take care of the majority of the work, and all that is required is:\n"),t.Ob(481,"ul"),t.Ob(482,"li"),t.rc(483,"Provide the name of the strategy (should be unique)"),t.Nb(),t.Ob(484,"li"),t.rc(485,"Provide the strategy instance. "),t.Ob(486,"p",18),t.Ob(487,"strong"),t.rc(488,"Note"),t.Nb(),t.rc(489," you will need to provide the callback for the strategy to ensure you pass the external principal back into the framework"),t.Nb(),t.Nb(),t.Ob(490,"li"),t.rc(491,"The conversion functions which defines the mapping between external and local identities."),t.Nb(),t.Nb(),t.rc(492," After that, the provider is no different than any other, and can be used accordingly. Additionally, because "),t.Ob(493,"a",4),t.rc(494,"passport"),t.Nb(),t.rc(495," runs first, in it's entirety, you can use the provider as you normally would any "),t.Ob(496,"a",4),t.rc(497,"passport"),t.Nb(),t.rc(498," middleware. "),t.Ob(499,"figure",5),t.Ob(500,"figcaption",5),t.rc(501,"Sample routes using Facebook/passport provider "),t.Ob(502,"cite"),t.Ob(503,"a",19),t.rc(504,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(505,"pre"),t.Ob(506,"code",7),t.Ob(507,"span",8),t.rc(508,"import"),t.Nb(),t.rc(509," "),t.Ob(510,"span",9),t.rc(511),t.Nb(),t.rc(512," Controller"),t.Ob(513,"span",9),t.rc(514,","),t.Nb(),t.rc(515," Get"),t.Ob(516,"span",9),t.rc(517,","),t.Nb(),t.rc(518," Redirect"),t.Ob(519,"span",9),t.rc(520,","),t.Nb(),t.rc(521," Post"),t.Ob(522,"span",9),t.rc(523,","),t.Nb(),t.rc(524," Request "),t.Ob(525,"span",9),t.rc(526),t.Nb(),t.rc(527," "),t.Ob(528,"span",8),t.rc(529,"from"),t.Nb(),t.rc(530," "),t.Ob(531,"span",10),t.rc(532,"'@travetto/rest'"),t.Nb(),t.Ob(533,"span",9),t.rc(534,";"),t.Nb(),t.rc(535,"\n"),t.Ob(536,"span",8),t.rc(537,"import"),t.Nb(),t.rc(538," "),t.Ob(539,"span",9),t.rc(540),t.Nb(),t.rc(541," Authenticate"),t.Ob(542,"span",9),t.rc(543,","),t.Nb(),t.rc(544," Authenticated"),t.Ob(545,"span",9),t.rc(546,","),t.Nb(),t.rc(547," Unauthenticated "),t.Ob(548,"span",9),t.rc(549),t.Nb(),t.rc(550," "),t.Ob(551,"span",8),t.rc(552,"from"),t.Nb(),t.rc(553," "),t.Ob(554,"span",10),t.rc(555,"'@travetto/auth-rest'"),t.Nb(),t.Ob(556,"span",9),t.rc(557,";"),t.Nb(),t.rc(558,"\n\n"),t.Ob(559,"span",8),t.rc(560,"import"),t.Nb(),t.rc(561," "),t.Ob(562,"span",9),t.rc(563),t.Nb(),t.rc(564," "),t.Ob(565,"span",14),t.rc(566,"FB_AUTH"),t.Nb(),t.rc(567," "),t.Ob(568,"span",9),t.rc(569),t.Nb(),t.rc(570," "),t.Ob(571,"span",8),t.rc(572,"from"),t.Nb(),t.rc(573," "),t.Ob(574,"span",10),t.rc(575,"'./conf'"),t.Nb(),t.Ob(576,"span",9),t.rc(577,";"),t.Nb(),t.rc(578,"\n\n@");t.Ob(579,"span",15),t.rc(580,"Controller"),t.Nb(),t.Ob(581,"span",9),t.rc(582,"("),t.Nb(),t.Ob(583,"span",10),t.rc(584,"'/auth'"),t.Nb(),t.Ob(585,"span",9),t.rc(586,")"),t.Nb(),t.rc(587,"\n"),t.Ob(588,"span",8),t.rc(589,"export"),t.Nb(),t.rc(590," "),t.Ob(591,"span",8),t.rc(592,"class"),t.Nb(),t.rc(593," "),t.Ob(594,"span",11),t.rc(595,"SampleAuth"),t.Nb(),t.rc(596," "),t.Ob(597,"span",9),t.rc(598),t.Nb(),t.rc(599,"\n\n  @"),t.Ob(600,"span",15),t.rc(601,"Get"),t.Nb(),t.Ob(602,"span",9),t.rc(603,"("),t.Nb(),t.Ob(604,"span",10),t.rc(605,"'/name'"),t.Nb(),t.Ob(606,"span",9),t.rc(607,")"),t.Nb(),t.rc(608,"\n  "),t.Ob(609,"span",8),t.rc(610,"async"),t.Nb(),t.rc(611," "),t.Ob(612,"span",3),t.rc(613,"getName"),t.Nb(),t.Ob(614,"span",9),t.rc(615,"("),t.Nb(),t.Ob(616,"span",9),t.rc(617,")"),t.Nb(),t.rc(618," "),t.Ob(619,"span",9),t.rc(620),t.Nb(),t.rc(621,"\n    "),t.Ob(622,"span",8),t.rc(623,"return"),t.Nb(),t.rc(624," "),t.Ob(625,"span",9),t.rc(626),t.Nb(),t.rc(627," name"),t.Ob(628,"span",12),t.rc(629,":"),t.Nb(),t.rc(630," "),t.Ob(631,"span",10),t.rc(632,"'bob'"),t.Nb(),t.rc(633," "),t.Ob(634,"span",9),t.rc(635),t.Nb(),t.Ob(636,"span",9),t.rc(637,";"),t.Nb(),t.rc(638,"\n  "),t.Ob(639,"span",9),t.rc(640),t.Nb(),t.rc(641,"\n\n  @"),t.Ob(642,"span",15),t.rc(643,"Get"),t.Nb(),t.Ob(644,"span",9),t.rc(645,"("),t.Nb(),t.Ob(646,"span",10),t.rc(647,"'/facebook'"),t.Nb(),t.Ob(648,"span",9),t.rc(649,")"),t.Nb(),t.rc(650,"\n  @"),t.Ob(651,"span",15),t.rc(652,"Authenticate"),t.Nb(),t.Ob(653,"span",9),t.rc(654,"("),t.Nb(),t.Ob(655,"span",14),t.rc(656,"FB_AUTH"),t.Nb(),t.Ob(657,"span",9),t.rc(658,")"),t.Nb(),t.rc(659,"\n  "),t.Ob(660,"span",8),t.rc(661,"async"),t.Nb(),t.rc(662," "),t.Ob(663,"span",3),t.rc(664,"fbLogin"),t.Nb(),t.Ob(665,"span",9),t.rc(666,"("),t.Nb(),t.Ob(667,"span",9),t.rc(668,")"),t.Nb(),t.rc(669," "),t.Ob(670,"span",9),t.rc(671),t.Nb(),t.rc(672,"\n\n  "),t.Ob(673,"span",9),t.rc(674),t.Nb(),t.rc(675,"\n\n  @"),t.Ob(676,"span",15),t.rc(677,"Get"),t.Nb(),t.Ob(678,"span",9),t.rc(679,"("),t.Nb(),t.Ob(680,"span",10),t.rc(681,"'/self'"),t.Nb(),t.Ob(682,"span",9),t.rc(683,")"),t.Nb(),t.rc(684,"\n  @"),t.Ob(685,"span",15),t.rc(686,"Authenticated"),t.Nb(),t.Ob(687,"span",9),t.rc(688,"("),t.Nb(),t.Ob(689,"span",9),t.rc(690,")"),t.Nb(),t.rc(691,"\n  "),t.Ob(692,"span",8),t.rc(693,"async"),t.Nb(),t.rc(694," "),t.Ob(695,"span",3),t.rc(696,"getSelf"),t.Nb(),t.Ob(697,"span",9),t.rc(698,"("),t.Nb(),t.Ob(699,"span",16),t.rc(700,"req"),t.Ob(701,"span",12),t.rc(702,":"),t.Nb(),t.rc(703," Request"),t.Nb(),t.Ob(704,"span",9),t.rc(705,")"),t.Nb(),t.rc(706," "),t.Ob(707,"span",9),t.rc(708),t.Nb(),t.rc(709,"\n    "),t.Ob(710,"span",8),t.rc(711,"return"),t.Nb(),t.rc(712," req"),t.Ob(713,"span",9),t.rc(714,"."),t.Nb(),t.rc(715,"auth"),t.Ob(716,"span",9),t.rc(717,";"),t.Nb(),t.rc(718,"\n  "),t.Ob(719,"span",9),t.rc(720),t.Nb(),t.rc(721,"\n\n  @"),t.Ob(722,"span",15),t.rc(723,"Get"),t.Nb(),t.Ob(724,"span",9),t.rc(725,"("),t.Nb(),t.Ob(726,"span",10),t.rc(727,"'/facebook/callback'"),t.Nb(),t.Ob(728,"span",9),t.rc(729,")"),t.Nb(),t.rc(730,"\n  @"),t.Ob(731,"span",15),t.rc(732,"Authenticate"),t.Nb(),t.Ob(733,"span",9),t.rc(734,"("),t.Nb(),t.Ob(735,"span",14),t.rc(736,"FB_AUTH"),t.Nb(),t.Ob(737,"span",9),t.rc(738,")"),t.Nb(),t.rc(739,"\n  "),t.Ob(740,"span",8),t.rc(741,"async"),t.Nb(),t.rc(742," "),t.Ob(743,"span",3),t.rc(744,"fbLoginComplete"),t.Nb(),t.Ob(745,"span",9),t.rc(746,"("),t.Nb(),t.Ob(747,"span",9),t.rc(748,")"),t.Nb(),t.rc(749," "),t.Ob(750,"span",9),t.rc(751),t.Nb(),t.rc(752,"\n    "),t.Ob(753,"span",8),t.rc(754,"return"),t.Nb(),t.rc(755," "),t.Ob(756,"span",8),t.rc(757,"new"),t.Nb(),t.rc(758," "),t.Ob(759,"span",11),t.rc(760,"Redirect"),t.Nb(),t.Ob(761,"span",9),t.rc(762,"("),t.Nb(),t.Ob(763,"span",10),t.rc(764,"'/auth/self'"),t.Nb(),t.Ob(765,"span",9),t.rc(766,","),t.Nb(),t.rc(767," "),t.Ob(768,"span",20),t.rc(769,"301"),t.Nb(),t.Ob(770,"span",9),t.rc(771,")"),t.Nb(),t.Ob(772,"span",9),t.rc(773,";"),t.Nb(),t.rc(774,"\n  "),t.Ob(775,"span",9),t.rc(776),t.Nb(),t.rc(777,"\n\n  @"),t.Ob(778,"span",15),t.rc(779,"Post"),t.Nb(),t.Ob(780,"span",9),t.rc(781,"("),t.Nb(),t.Ob(782,"span",10),t.rc(783,"'/logout'"),t.Nb(),t.Ob(784,"span",9),t.rc(785,")"),t.Nb(),t.rc(786,"\n  @"),t.Ob(787,"span",15),t.rc(788,"Unauthenticated"),t.Nb(),t.Ob(789,"span",9),t.rc(790,"("),t.Nb(),t.Ob(791,"span",9),t.rc(792,")"),t.Nb(),t.rc(793,"\n  "),t.Ob(794,"span",8),t.rc(795,"async"),t.Nb(),t.rc(796," "),t.Ob(797,"span",3),t.rc(798,"logout"),t.Nb(),t.Ob(799,"span",9),t.rc(800,"("),t.Nb(),t.Ob(801,"span",16),t.rc(802,"req"),t.Ob(803,"span",12),t.rc(804,":"),t.Nb(),t.rc(805," Request"),t.Nb(),t.Ob(806,"span",9),t.rc(807,")"),t.Nb(),t.rc(808," "),t.Ob(809,"span",9),t.rc(810),t.Nb(),t.rc(811,"\n    "),t.Ob(812,"span",8),t.rc(813,"await"),t.Nb(),t.rc(814," req"),t.Ob(815,"span",9),t.rc(816,"."),t.Nb(),t.Ob(817,"span",3),t.rc(818,"logout"),t.Nb(),t.Ob(819,"span",9),t.rc(820,"("),t.Nb(),t.Ob(821,"span",9),t.rc(822,")"),t.Nb(),t.Ob(823,"span",9),t.rc(824,";"),t.Nb(),t.rc(825,"\n  "),t.Ob(826,"span",9),t.rc(827),t.Nb(),t.rc(828,"\n\n  "),t.Ob(829,"span",21),t.rc(830,"/**\n   * Simple Echo\n   */"),t.Nb(),t.rc(831,"\n  @"),t.Ob(832,"span",15),t.rc(833,"Post"),t.Nb(),t.Ob(834,"span",9),t.rc(835,"("),t.Nb(),t.Ob(836,"span",10),t.rc(837,"'/'"),t.Nb(),t.Ob(838,"span",9),t.rc(839,")"),t.Nb(),t.rc(840,"\n  "),t.Ob(841,"span",8),t.rc(842,"async"),t.Nb(),t.rc(843," "),t.Ob(844,"span",3),t.rc(845,"echo"),t.Nb(),t.Ob(846,"span",9),t.rc(847,"("),t.Nb(),t.rc(848,"req"),t.Ob(849,"span",12),t.rc(850,":"),t.Nb(),t.rc(851," Request"),t.Ob(852,"span",9),t.rc(853,")"),t.Nb(),t.Ob(854,"span",12),t.rc(855,":"),t.Nb(),t.rc(856," "),t.Ob(857,"span",13),t.rc(858,"Promise"),t.Nb(),t.Ob(859,"span",12),t.rc(860,"<"),t.Nb(),t.rc(861,"Record"),t.Ob(862,"span",12),t.rc(863,"<"),t.Nb(),t.Ob(864,"span",13),t.rc(865,"string"),t.Nb(),t.Ob(866,"span",9),t.rc(867,","),t.Nb(),t.rc(868," "),t.Ob(869,"span",13),t.rc(870,"any"),t.Nb(),t.Ob(871,"span",12),t.rc(872,">>"),t.Nb(),t.rc(873," "),t.Ob(874,"span",9),t.rc(875),t.Nb(),t.rc(876,"\n    "),t.Ob(877,"span",8),t.rc(878,"return"),t.Nb(),t.rc(879," req"),t.Ob(880,"span",9),t.rc(881,"."),t.Nb(),t.rc(882,"body"),t.Ob(883,"span",9),t.rc(884,";"),t.Nb(),t.rc(885,"\n  "),t.Ob(886,"span",9),t.rc(887),t.Nb(),t.rc(888,"\n"),t.Ob(889,"span",9),t.rc(890),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(38),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(23),t.sc("}"),t.zb(37),t.sc("{"),t.zb(24),t.sc("{"),t.zb(26),t.sc("{"),t.zb(59),t.sc("}"),t.zb(56),t.sc("{"),t.zb(24),t.sc("}"),t.zb(10),t.sc("}"),t.zb(22),t.sc("{"),t.zb(18),t.sc("{"),t.zb(18),t.sc("{"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(9),t.sc("}"),t.zb(3),t.sc("}"),t.zb(35),t.sc("{"),t.zb(15),t.sc("}"),t.zb(14),t.sc("{"),t.zb(9),t.sc("}"),t.zb(14),t.sc("{"),t.zb(6),t.sc("}"),t.zb(29),t.sc("{"),t.zb(22),t.sc("{"),t.zb(6),t.sc("{"),t.zb(9),t.sc("}"),t.zb(5),t.sc("}"),t.zb(31),t.sc("{"),t.zb(3),t.sc("}"),t.zb(34),t.sc("{"),t.zb(12),t.sc("}"),t.zb(31),t.sc("{"),t.zb(25),t.sc("}"),t.zb(34),t.sc("{"),t.zb(17),t.sc("}"),t.zb(48),t.sc("{"),t.zb(12),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),H=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-jwt"]],decls:516,vars:20,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://jwt.io/",1,"external-link"],["target","_blank","href","https://github.com/auth0/node-jsonwebtoken",1,"external-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/jwt/src/types.ts#L132"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","class-name"],[1,"token","punctuation"],[1,"token","comment"],[1,"token","operator"],[1,"token","builtin"],[1,"token","string"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/jwt/src/sign.ts#L9"],[1,"token","constant"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/jwt/src/types.ts#L65"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/jwt/src/verify.ts#L34"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"JWT "),t.Ob(3,"small"),t.rc(4,"JSON Web Token implementation"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/jwt "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/jwt"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module is a simple component to support "),t.Ob(17,"a",4),t.rc(18,"JWT"),t.Nb(),t.rc(19," signing and verification. The framework provides a port of "),t.Ob(20,"a",5),t.rc(21,"node-jsonwebtoken"),t.Nb(),t.rc(22,". The API has been streamlined, and is intended as a lower level component as a basis for other modules. The API exposes: "),t.Ob(23,"figure",6),t.Ob(24,"figcaption",6),t.rc(25,"Signing Options "),t.Ob(26,"cite"),t.Ob(27,"a",7),t.rc(28,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(29,"pre"),t.Ob(30,"code",8),t.Ob(31,"span",9),t.rc(32,"export"),t.Nb(),t.rc(33," "),t.Ob(34,"span",9),t.rc(35,"interface"),t.Nb(),t.rc(36," "),t.Ob(37,"span",10),t.rc(38,"SignOptions"),t.Nb(),t.rc(39," "),t.Ob(40,"span",11),t.rc(41),t.Nb(),t.rc(42,"\n  "),t.Ob(43,"span",12),t.rc(44,"/**\n   * Key to use\n   */"),t.Nb(),t.rc(45,"\n  key"),t.Ob(46,"span",13),t.rc(47,"?"),t.Nb(),t.Ob(48,"span",13),t.rc(49,":"),t.Nb(),t.rc(50," Key"),t.Ob(51,"span",11),t.rc(52,";"),t.Nb(),t.rc(53,"\n  "),t.Ob(54,"span",12),t.rc(55,"/**\n   * Ignore issued\n   */"),t.Nb(),t.rc(56,"\n  iatExclude"),t.Ob(57,"span",13),t.rc(58,"?"),t.Nb(),t.Ob(59,"span",13),t.rc(60,":"),t.Nb(),t.rc(61," "),t.Ob(62,"span",14),t.rc(63,"boolean"),t.Nb(),t.Ob(64,"span",11),t.rc(65,";"),t.Nb(),t.rc(66,"\n  "),t.Ob(67,"span",12),t.rc(68,"/**\n   * Algorithm\n   */"),t.Nb(),t.rc(69,"\n  alg"),t.Ob(70,"span",13),t.rc(71,"?"),t.Nb(),t.Ob(72,"span",13),t.rc(73,":"),t.Nb(),t.rc(74," AlgType"),t.Ob(75,"span",11),t.rc(76,";"),t.Nb(),t.rc(77,"\n  "),t.Ob(78,"span",12),t.rc(79,"/**\n   * Header type\n   */"),t.Nb(),t.rc(80,"\n  header"),t.Ob(81,"span",13),t.rc(82,"?"),t.Nb(),t.Ob(83,"span",13),t.rc(84,":"),t.Nb(),t.rc(85," "),t.Ob(86,"span",11),t.rc(87),t.Nb(),t.rc(88,"\n    typ"),t.Ob(89,"span",13),t.rc(90,"?"),t.Nb(),t.Ob(91,"span",13),t.rc(92,":"),t.Nb(),t.rc(93," "),t.Ob(94,"span",15),t.rc(95,"'JWT'"),t.Nb(),t.Ob(96,"span",11),t.rc(97,";"),t.Nb(),t.rc(98,"\n  "),t.Ob(99,"span",11),t.rc(100),t.Nb(),t.rc(101," "),t.Ob(102,"span",13),t.rc(103,"&"),t.Nb(),t.rc(104," "),t.Ob(105,"span",11),t.rc(106),t.Nb(),t.rc(107,"\n    "),t.Ob(108,"span",11),t.rc(109,"["),t.Nb(),t.rc(110,"key"),t.Ob(111,"span",13),t.rc(112,":"),t.Nb(),t.rc(113," "),t.Ob(114,"span",14),t.rc(115,"string"),t.Nb(),t.Ob(116,"span",11),t.rc(117,"]"),t.Nb(),t.Ob(118,"span",13),t.rc(119,":"),t.Nb(),t.rc(120," "),t.Ob(121,"span",14),t.rc(122,"string"),t.Nb(),t.Ob(123,"span",11),t.rc(124,";"),t.Nb(),t.rc(125,"\n  "),t.Ob(126,"span",11),t.rc(127),t.Nb(),t.Ob(128,"span",11),t.rc(129,";"),t.Nb(),t.rc(130,"\n  "),t.Ob(131,"span",12),t.rc(132,"/**\n   * Encoding for key\n   */"),t.Nb(),t.rc(133,"\n  encoding"),t.Ob(134,"span",13),t.rc(135,"?"),t.Nb(),t.Ob(136,"span",13),t.rc(137,":"),t.Nb(),t.rc(138," "),t.Ob(139,"span",14),t.rc(140,"string"),t.Nb(),t.Ob(141,"span",11),t.rc(142,";"),t.Nb(),t.rc(143,"\n"),t.Ob(144,"span",11),t.rc(145),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(146,"figure",6),t.Ob(147,"figcaption",6),t.rc(148,"Signing API "),t.Ob(149,"cite"),t.Ob(150,"a",16),t.rc(151,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(152,"pre"),t.Ob(153,"code",8),t.Ob(154,"span",9),t.rc(155,"export"),t.Nb(),t.rc(156," "),t.Ob(157,"span",9),t.rc(158,"async"),t.Nb(),t.rc(159," "),t.Ob(160,"span",9),t.rc(161,"function"),t.Nb(),t.rc(162," sign"),t.Ob(163,"span",13),t.rc(164,"<"),t.Nb(),t.Ob(165,"span",17),t.rc(166,"T"),t.Nb(),t.rc(167," "),t.Ob(168,"span",9),t.rc(169,"extends"),t.Nb(),t.rc(170," "),t.Ob(171,"span",10),t.rc(172,"Payload"),t.Nb(),t.Ob(173,"span",13),t.rc(174,">"),t.Nb(),t.Ob(175,"span",11),t.rc(176,"("),t.Nb(),t.rc(177,"payload"),t.Ob(178,"span",13),t.rc(179,":"),t.Nb(),t.rc(180," "),t.Ob(181,"span",17),t.rc(182,"T"),t.Nb(),t.Ob(183,"span",11),t.rc(184,","),t.Nb(),t.rc(185," options"),t.Ob(186,"span",13),t.rc(187,":"),t.Nb(),t.rc(188," SignOptions "),t.Ob(189,"span",13),t.rc(190,"="),t.Nb(),t.rc(191," "),t.Ob(192,"span",11),t.rc(193),t.Nb(),t.Ob(194,"span",11),t.rc(195),t.Nb(),t.Ob(196,"span",11),t.rc(197,")"),t.Nb(),t.Ob(198,"span",13),t.rc(199,":"),t.Nb(),t.rc(200," "),t.Ob(201,"span",14),t.rc(202,"Promise"),t.Nb(),t.Ob(203,"span",13),t.rc(204,"<"),t.Nb(),t.Ob(205,"span",14),t.rc(206,"string"),t.Nb(),t.Ob(207,"span",13),t.rc(208,">"),t.Nb(),t.rc(209," "),t.Ob(210,"span",11),t.rc(211),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(212,"figure",6),t.Ob(213,"figcaption",6),t.rc(214,"Verify Options "),t.Ob(215,"cite"),t.Ob(216,"a",18),t.rc(217,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(218,"pre"),t.Ob(219,"code",8),t.Ob(220,"span",9),t.rc(221,"export"),t.Nb(),t.rc(222," "),t.Ob(223,"span",9),t.rc(224,"type"),t.Nb(),t.rc(225," VerifyOptions "),t.Ob(226,"span",13),t.rc(227,"="),t.Nb(),t.rc(228," "),t.Ob(229,"span",11),t.rc(230),t.Nb(),t.rc(231,"\n  "),t.Ob(232,"span",12),t.rc(233,"/**\n   * Clock starting point\n   */"),t.Nb(),t.rc(234,"\n  clock"),t.Ob(235,"span",13),t.rc(236,"?"),t.Nb(),t.Ob(237,"span",13),t.rc(238,":"),t.Nb(),t.rc(239," "),t.Ob(240,"span",11),t.rc(241),t.Nb(),t.rc(242,"\n    "),t.Ob(243,"span",12),t.rc(244,"/**\n     * Time to check against\n     */"),t.Nb(),t.rc(245,"\n    timestamp"),t.Ob(246,"span",13),t.rc(247,"?"),t.Nb(),t.Ob(248,"span",13),t.rc(249,":"),t.Nb(),t.rc(250," "),t.Ob(251,"span",14),t.rc(252,"number"),t.Nb(),t.rc(253," "),t.Ob(254,"span",13),t.rc(255,"|"),t.Nb(),t.rc(256," Date"),t.Ob(257,"span",11),t.rc(258,";"),t.Nb(),t.rc(259,"\n    "),t.Ob(260,"span",12),t.rc(261,"/**\n     * Time tolerance\n     */"),t.Nb(),t.rc(262,"\n    tolerance"),t.Ob(263,"span",13),t.rc(264,"?"),t.Nb(),t.Ob(265,"span",13),t.rc(266,":"),t.Nb(),t.rc(267," "),t.Ob(268,"span",14),t.rc(269,"number"),t.Nb(),t.Ob(270,"span",11),t.rc(271,";"),t.Nb(),t.rc(272,"\n  "),t.Ob(273,"span",11),t.rc(274),t.Nb(),t.Ob(275,"span",11),t.rc(276,";"),t.Nb(),t.rc(277,"\n  "),t.Ob(278,"span",12),t.rc(279,"/**\n   * Ignore various checks\n   */"),t.Nb(),t.rc(280,"\n  ignore"),t.Ob(281,"span",13),t.rc(282,"?"),t.Nb(),t.Ob(283,"span",13),t.rc(284,":"),t.Nb(),t.rc(285," "),t.Ob(286,"span",11),t.rc(287),t.Nb(),t.rc(288,"\n    "),t.Ob(289,"span",12),t.rc(290,"/**\n     * Ignore expiration time\n     */"),t.Nb(),t.rc(291,"\n    exp"),t.Ob(292,"span",13),t.rc(293,"?"),t.Nb(),t.Ob(294,"span",13),t.rc(295,":"),t.Nb(),t.rc(296," "),t.Ob(297,"span",14),t.rc(298,"boolean"),t.Nb(),t.Ob(299,"span",11),t.rc(300,";"),t.Nb(),t.rc(301,"\n    "),t.Ob(302,"span",12),t.rc(303,"/**\n     * Ignore not before timestamp\n     */"),t.Nb(),t.rc(304,"\n    nbf"),t.Ob(305,"span",13),t.rc(306,"?"),t.Nb(),t.Ob(307,"span",13),t.rc(308,":"),t.Nb(),t.rc(309," "),t.Ob(310,"span",14),t.rc(311,"boolean"),t.Nb(),t.Ob(312,"span",11),t.rc(313,";"),t.Nb(),t.rc(314,"\n  "),t.Ob(315,"span",11),t.rc(316),t.Nb(),t.Ob(317,"span",11),t.rc(318,";"),t.Nb(),t.rc(319,"\n  "),t.Ob(320,"span",12),t.rc(321,"/**\n   * Max age in seconds\n   */"),t.Nb(),t.rc(322,"\n  maxAgeSec"),t.Ob(323,"span",13),t.rc(324,"?"),t.Nb(),t.Ob(325,"span",13),t.rc(326,":"),t.Nb(),t.rc(327," "),t.Ob(328,"span",14),t.rc(329,"number"),t.Nb(),t.Ob(330,"span",11),t.rc(331,";"),t.Nb(),t.rc(332,"\n  "),t.Ob(333,"span",12),t.rc(334,"/**\n   * Header\n   */"),t.Nb(),t.rc(335,"\n  header"),t.Ob(336,"span",13),t.rc(337,"?"),t.Nb(),t.Ob(338,"span",13),t.rc(339,":"),t.Nb(),t.rc(340," Record"),t.Ob(341,"span",13),t.rc(342,"<"),t.Nb(),t.Ob(343,"span",14),t.rc(344,"string"),t.Nb(),t.Ob(345,"span",11),t.rc(346,","),t.Nb(),t.rc(347," "),t.Ob(348,"span",14),t.rc(349,"string"),t.Nb(),t.Ob(350,"span",13),t.rc(351,">"),t.Nb(),t.Ob(352,"span",11),t.rc(353,";"),t.Nb(),t.rc(354,"\n  "),t.Ob(355,"span",12),t.rc(356,"/**\n   * Encryption key\n   */"),t.Nb(),t.rc(357,"\n  key"),t.Ob(358,"span",13),t.rc(359,"?"),t.Nb(),t.Ob(360,"span",13),t.rc(361,":"),t.Nb(),t.rc(362," Key"),t.Ob(363,"span",11),t.rc(364,";"),t.Nb(),t.rc(365,"\n  "),t.Ob(366,"span",12),t.rc(367,"/**\n   * Encoding\n   */"),t.Nb(),t.rc(368,"\n  encoding"),t.Ob(369,"span",13),t.rc(370,"?"),t.Nb(),t.Ob(371,"span",13),t.rc(372,":"),t.Nb(),t.rc(373," "),t.Ob(374,"span",14),t.rc(375,"string"),t.Nb(),t.Ob(376,"span",11),t.rc(377,";"),t.Nb(),t.rc(378,"\n  "),t.Ob(379,"span",12),t.rc(380,"/**\n   * Algorithms to use\n   */"),t.Nb(),t.rc(381,"\n  alg"),t.Ob(382,"span",13),t.rc(383,"?"),t.Nb(),t.Ob(384,"span",13),t.rc(385,":"),t.Nb(),t.rc(386," AlgType "),t.Ob(387,"span",13),t.rc(388,"|"),t.Nb(),t.rc(389," AlgType"),t.Ob(390,"span",11),t.rc(391,"["),t.Nb(),t.Ob(392,"span",11),t.rc(393,"]"),t.Nb(),t.Ob(394,"span",11),t.rc(395,";"),t.Nb(),t.rc(396,"\n\n  "),t.Ob(397,"span",12),t.rc(398,"/**\n   * Payload audience to check\n   */"),t.Nb(),t.rc(399,"\n  payload"),t.Ob(400,"span",13),t.rc(401,"?"),t.Nb(),t.Ob(402,"span",13),t.rc(403,":"),t.Nb(),t.rc(404," "),t.Ob(405,"span",11),t.rc(406),t.Nb(),t.rc(407,"\n    aud"),t.Ob(408,"span",13),t.rc(409,"?"),t.Nb(),t.Ob(410,"span",13),t.rc(411,":"),t.Nb(),t.rc(412," "),t.Ob(413,"span",14),t.rc(414,"string"),t.Nb(),t.rc(415," "),t.Ob(416,"span",13),t.rc(417,"|"),t.Nb(),t.rc(418," RegExp "),t.Ob(419,"span",13),t.rc(420,"|"),t.Nb(),t.rc(421," "),t.Ob(422,"span",11),t.rc(423,"("),t.Nb(),t.Ob(424,"span",14),t.rc(425,"string"),t.Nb(),t.rc(426," "),t.Ob(427,"span",13),t.rc(428,"|"),t.Nb(),t.rc(429," RegExp"),t.Ob(430,"span",11),t.rc(431,")"),t.Nb(),t.Ob(432,"span",11),t.rc(433,"["),t.Nb(),t.Ob(434,"span",11),t.rc(435,"]"),t.Nb(),t.Ob(436,"span",11),t.rc(437,";"),t.Nb(),t.rc(438,"\n  "),t.Ob(439,"span",11),t.rc(440),t.Nb(),t.rc(441," "),t.Ob(442,"span",13),t.rc(443,"&"),t.Nb(),t.rc(444," PayloadCore"),t.Ob(445,"span",11),t.rc(446,";"),t.Nb(),t.rc(447,"\n"),t.Ob(448,"span",11),t.rc(449),t.Nb(),t.Ob(450,"span",11),t.rc(451,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(452,"figure",6),t.Ob(453,"figcaption",6),t.rc(454,"Verify API "),t.Ob(455,"cite"),t.Ob(456,"a",19),t.rc(457,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(458,"pre"),t.Ob(459,"code",8),t.Ob(460,"span",9),t.rc(461,"export"),t.Nb(),t.rc(462," "),t.Ob(463,"span",9),t.rc(464,"async"),t.Nb(),t.rc(465," "),t.Ob(466,"span",9),t.rc(467,"function"),t.Nb(),t.rc(468," verify"),t.Ob(469,"span",13),t.rc(470,"<"),t.Nb(),t.Ob(471,"span",17),t.rc(472,"T"),t.Nb(),t.Ob(473,"span",13),t.rc(474,">"),t.Nb(),t.Ob(475,"span",11),t.rc(476,"("),t.Nb(),t.rc(477,"jwt"),t.Ob(478,"span",13),t.rc(479,":"),t.Nb(),t.rc(480," "),t.Ob(481,"span",14),t.rc(482,"string"),t.Nb(),t.Ob(483,"span",11),t.rc(484,","),t.Nb(),t.rc(485," options"),t.Ob(486,"span",13),t.rc(487,":"),t.Nb(),t.rc(488," VerifyOptions "),t.Ob(489,"span",13),t.rc(490,"="),t.Nb(),t.rc(491," "),t.Ob(492,"span",11),t.rc(493),t.Nb(),t.Ob(494,"span",11),t.rc(495),t.Nb(),t.Ob(496,"span",11),t.rc(497,")"),t.Nb(),t.Ob(498,"span",13),t.rc(499,":"),t.Nb(),t.rc(500," "),t.Ob(501,"span",14),t.rc(502,"Promise"),t.Nb(),t.Ob(503,"span",13),t.rc(504,"<"),t.Nb(),t.rc(505,"Payload "),t.Ob(506,"span",13),t.rc(507,"&"),t.Nb(),t.rc(508," "),t.Ob(509,"span",17),t.rc(510,"T"),t.Nb(),t.Ob(511,"span",13),t.rc(512,">"),t.Nb(),t.rc(513," "),t.Ob(514,"span",11),t.rc(515),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(41),t.sc("{"),t.zb(46),t.sc("{"),t.zb(13),t.sc("}"),t.zb(6),t.sc("{"),t.zb(21),t.sc("}"),t.zb(18),t.sc("}"),t.zb(48),t.sc("{"),t.zb(2),t.sc("}"),t.zb(16),t.sc("{"),t.zb(19),t.sc("{"),t.zb(11),t.sc("{"),t.zb(33),t.sc("}"),t.zb(13),t.sc("{"),t.zb(29),t.sc("}"),t.zb(90),t.sc("{"),t.zb(34),t.sc("}"),t.zb(9),t.sc("}"),t.zb(44),t.sc("{"),t.zb(2),t.sc("}"),t.zb(20),t.sc("{"))},styles:[""]}),r}(),V=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-email-template"]],decls:1030,vars:42,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://github.com/zurb/inky",1,"external-link"],["id","asset-management"],[1,"item","path"],["target","_blank","href","https://github.com/sass/dart-sass",1,"external-link"],["id","template-compilation"],[1,"item","input"],["id","reusable-email-elements"],["id","images"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email-template/alt/docs/resources/email/sample-image.html"],[1,"language-html"],[1,"token","tag"],[1,"token","punctuation"],[1,"token","attr-name"],[1,"token","attr-value"],["id","template-development"],["href","/docs/cli","title","CLI infrastructure for travetto framework",1,"module-link"],[1,"terminal"],[1,"token","string"],[1,"token","boolean"],[1,"token","builtin","class-name"],[1,"token","keyword"],["id","supporting-libraries"],["target","_blank","href","https://github.com/janl/mustache.js/",1,"external-link"],["id","templating-example"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email-template/alt/docs/resources/email/example.tpl.html"],["id","example-inky-template-with-partials"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email-template/alt/docs/resources/email/welcome.tpl.html"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/email-template/alt/docs/resources/email/footer.html"],[1,"token","operator"],[1,"token","assign-left","variable"],["id","cli-email-compile"],["id","cli-email-dev"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Email Templating "),t.Ob(3,"small"),t.rc(4,"Email templating module"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/email-template "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/email-template"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This is primarily a set of command line tools for compiling and developing templates. The templating process is built upon three primary ideas, with the final output being an "),t.Ob(17,"a",4),t.rc(18,"inky"),t.Nb(),t.rc(19," rendered html/text email. "),t.Ob(20,"h2",5),t.rc(21,"Asset Management"),t.Nb(),t.rc(22," The templating process involves loading various assets (html, css, images), and so there is provision for asset management and loading. The templating config allows for specifying of asset paths, with the following paths (in order of precedence): "),t.Ob(23,"ol"),t.Ob(24,"li"),t.Ob(25,"code",6),t.rc(26,"%ROOT%/resources"),t.Nb(),t.Nb(),t.Ob(27,"li"),t.Ob(28,"code",6),t.rc(29,"@travetto/email-template/resources"),t.Nb(),t.Nb(),t.Ob(30,"li"),t.Ob(31,"code",6),t.rc(32,"foundation-emails/scss"),t.Nb(),t.rc(33," (specifically for "),t.Ob(34,"a",7),t.rc(35,"sass"),t.Nb(),t.rc(36," files)"),t.Nb(),t.Nb(),t.rc(37," When looking up a resources, every asset folder is consulted, in order, and the first to resolve an asset wins. This allows for overriding of default templating resources, as needed. The compilation process with convert "),t.Ob(38,"code",6),t.rc(39,".tpl.html"),t.Nb(),t.rc(40," files into "),t.Ob(41,"code",6),t.rc(42,".compiled.html"),t.Nb(),t.rc(43," and "),t.Ob(44,"code",6),t.rc(45,".compiled.txt"),t.Nb(),t.rc(46," suffixes to generate the html and text outputs respectively. "),t.Ob(47,"h2",8),t.rc(48,"Template Compilation"),t.Nb(),t.rc(49," The general process is as follows: "),t.Ob(50,"ol"),t.Ob(51,"li"),t.rc(52,"Load in a general wrapper for email, located at "),t.Ob(53,"code",6),t.rc(54,"/resources/email/wrapper.html"),t.Nb(),t.rc(55,"."),t.Nb(),t.Ob(56,"li"),t.rc(57,"Load in the general stylings as "),t.Ob(58,"a",7),t.rc(59,"sass"),t.Nb(),t.rc(60,", from "),t.Ob(61,"code",6),t.rc(62,"/resources/email/app.scss"),t.Nb(),t.rc(63,"."),t.Nb(),t.Ob(64,"li"),t.rc(65,"Resolving all mustache partial templates, at "),t.Ob(66,"code",6),t.rc(67,"/resources/email/**/*.tpl.html"),t.Nb(),t.rc(68,"."),t.Nb(),t.Ob(69,"li"),t.rc(70,"Render the "),t.Ob(71,"a",4),t.rc(72,"inky"),t.Nb(),t.rc(73," directives into the final "),t.Ob(74,"code",9),t.rc(75,"html"),t.Nb(),t.rc(76," output."),t.Nb(),t.Ob(77,"li"),t.rc(78,"Inline and optimize all images for email transmission."),t.Nb(),t.Ob(79,"li"),t.rc(80,"Generate markdown version of email to support the alternate text format."),t.Nb(),t.Nb(),t.Ob(81,"h2",10),t.rc(82,"Reusable Email Elements"),t.Nb(),t.rc(83," In building out emails, you may have common elements that you want to repeat. If you have a common block, put that in a separate file and pull it in using partial notation, e.g. "),t.Ob(84,"code",9),t.rc(85),t.Nb(),t.Ob(86,"h2",11),t.rc(87,"Images"),t.Nb(),t.rc(88," When referencing an image from the "),t.Ob(89,"code",6),t.rc(90,"resources"),t.Nb(),t.rc(91," folder in a template, e.g. "),t.Ob(92,"figure",12),t.Ob(93,"figcaption",12),t.rc(94,"Sample Image Reference "),t.Ob(95,"cite"),t.Ob(96,"a",13),t.rc(97,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(98,"pre"),t.Ob(99,"code",14),t.Ob(100,"span",15),t.Ob(101,"span",15),t.Ob(102,"span",16),t.rc(103,"<"),t.Nb(),t.rc(104,"img"),t.Nb(),t.rc(105," "),t.Ob(106,"span",17),t.rc(107,"src"),t.Nb(),t.Ob(108,"span",18),t.Ob(109,"span",16),t.rc(110,"="),t.Nb(),t.Ob(111,"span",16),t.rc(112,'"'),t.Nb(),t.rc(113,"/email/logo.png"),t.Ob(114,"span",16),t.rc(115,'"'),t.Nb(),t.Nb(),t.Ob(116,"span",16),t.rc(117,">"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(118," The image will be extracted out and embedded in the email as a multi part message. This allows for compression and optimization of images as well as externalizing resources that may not be immediately public. The currently supported set of image types are: "),t.Ob(119,"ul"),t.Ob(120,"li"),t.rc(121,"jpeg"),t.Nb(),t.Ob(122,"li"),t.rc(123,"png"),t.Nb(),t.Nb(),t.Ob(124,"h2",19),t.rc(125,"Template Development"),t.Nb(),t.rc(126," The module provides "),t.Ob(127,"a",20),t.rc(128,"Command Line Interface"),t.Nb(),t.rc(129," support for email template development. Running "),t.Ob(130,"figure",21),t.Ob(131,"figcaption",21),t.rc(132,"Running template development environment "),t.Nb(),t.Ob(133,"pre"),t.Ob(134,"code",2),t.rc(135,"$ travetto travetto email:dev -h\n\nUsage:  email:dev "),t.Ob(136,"span",16),t.rc(137,"["),t.Nb(),t.rc(138,"options"),t.Ob(139,"span",16),t.rc(140,"]"),t.Nb(),t.rc(141,"\n\nOptions:\n  -p, --port "),t.Ob(142,"span",16),t.rc(143,"["),t.Nb(),t.rc(144,"port"),t.Ob(145,"span",16),t.rc(146,"]"),t.Nb(),t.rc(147,"               Port to serve ui on "),t.Ob(148,"span",16),t.rc(149,"("),t.Nb(),t.rc(150,"default: "),t.Ob(151,"span",22),t.rc(152,'"3839"'),t.Nb(),t.Ob(153,"span",16),t.rc(154,")"),t.Nb(),t.rc(155,"\n  -r, --reload-rate "),t.Ob(156,"span",16),t.rc(157,"["),t.Nb(),t.rc(158,"reloadRate"),t.Ob(159,"span",16),t.rc(160,"]"),t.Nb(),t.rc(161,"  The rate to reload the UI at "),t.Ob(162,"span",16),t.rc(163,"("),t.Nb(),t.rc(164,"default:\n                                  "),t.Ob(165,"span",22),t.rc(166,'"1000"'),t.Nb(),t.Ob(167,"span",16),t.rc(168,")"),t.Nb(),t.rc(169,"\n  -o, --open "),t.Ob(170,"span",16),t.rc(171,"["),t.Nb(),t.rc(172,"open"),t.Ob(173,"span",16),t.rc(174,"]"),t.Nb(),t.rc(175,"               Open the ui automatically on start "),t.Ob(176,"span",16),t.rc(177,"("),t.Nb(),t.rc(178,"default:\n                                  "),t.Ob(179,"span",23),t.rc(180,"true"),t.Nb(),t.Ob(181,"span",16),t.rc(182,")"),t.Nb(),t.rc(183,"\n  -h, --help                      display "),t.Ob(184,"span",24),t.rc(185,"help"),t.Nb(),t.rc(186," "),t.Ob(187,"span",25),t.rc(188,"for"),t.Nb(),t.rc(189," "),t.Ob(190,"span",24),t.rc(191,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(192,"h2",8),t.rc(193,"Template Compilation"),t.Nb(),t.rc(194," The module provides "),t.Ob(195,"a",20),t.rc(196,"Command Line Interface"),t.Nb(),t.rc(197," support for email template compilation also. Running "),t.Ob(198,"figure",21),t.Ob(199,"figcaption",21),t.rc(200,"Running template compilation "),t.Nb(),t.Ob(201,"pre"),t.Ob(202,"code",2),t.rc(203,"$ travetto travetto email:compile -h\n\nUsage:  email:compile "),t.Ob(204,"span",16),t.rc(205,"["),t.Nb(),t.rc(206,"options"),t.Ob(207,"span",16),t.rc(208,"]"),t.Nb(),t.rc(209,"\n\nOptions:\n  -w, --watch "),t.Ob(210,"span",16),t.rc(211,"["),t.Nb(),t.rc(212,"watch"),t.Ob(213,"span",16),t.rc(214,"]"),t.Nb(),t.rc(215,"  Compile "),t.Ob(216,"span",25),t.rc(217,"in"),t.Nb(),t.rc(218," "),t.Ob(219,"span",3),t.rc(220,"watch"),t.Nb(),t.rc(221," mode, requires @travetto/watch\n                       "),t.Ob(222,"span",16),t.rc(223,"("),t.Nb(),t.rc(224,"default: "),t.Ob(225,"span",23),t.rc(226,"false"),t.Nb(),t.Ob(227,"span",16),t.rc(228,")"),t.Nb(),t.rc(229,"\n  -h, --help           display "),t.Ob(230,"span",24),t.rc(231,"help"),t.Nb(),t.rc(232," "),t.Ob(233,"span",25),t.rc(234,"for"),t.Nb(),t.rc(235," "),t.Ob(236,"span",24),t.rc(237,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(238," Will convert all "),t.Ob(239,"code",6),t.rc(240,".tpl.html"),t.Nb(),t.rc(241," files into the appropriate "),t.Ob(242,"code",6),t.rc(243,".compiled.html"),t.Nb(),t.rc(244," and "),t.Ob(245,"code",6),t.rc(246,".compiled.txt"),t.Nb(),t.rc(247," files. These will be used during the execution of the application. "),t.Ob(248,"h2",26),t.rc(249,"Supporting Libraries"),t.Nb(),t.rc(250," Templating emails is achieved through a combination of multiple libraries, specifically: "),t.Ob(251,"ul"),t.Ob(252,"li"),t.Ob(253,"a",4),t.rc(254,"inky"),t.Nb(),t.rc(255," is a email rendering framework that aims to provide a standard set of constructs for building visually appealing emails. The version of inky being used is a complete rewrite to optimize for size and performance."),t.Nb(),t.Ob(256,"li"),t.Ob(257,"a",7),t.rc(258,"sass"),t.Nb(),t.rc(259," used for styles compilation."),t.Nb(),t.Ob(260,"li"),t.Ob(261,"a",27),t.rc(262,"mustache"),t.Nb(),t.rc(263," allows for interpolation of variables for personalized emails."),t.Nb(),t.Nb(),t.Ob(264,"h2",28),t.rc(265,"Templating Example"),t.Nb(),t.Ob(266,"figure",12),t.Ob(267,"figcaption",12),t.rc(268,"Example inky template with mustache support "),t.Ob(269,"cite"),t.Ob(270,"a",29),t.rc(271,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(272,"pre"),t.Ob(273,"code",14),t.Ob(274,"span",15),t.Ob(275,"span",15),t.Ob(276,"span",16),t.rc(277,"<"),t.Nb(),t.rc(278,"row"),t.Nb(),t.Ob(279,"span",16),t.rc(280,">"),t.Nb(),t.Nb(),t.rc(281,"\n  "),t.Ob(282,"span",15),t.Ob(283,"span",15),t.Ob(284,"span",16),t.rc(285,"<"),t.Nb(),t.rc(286,"columns"),t.Nb(),t.rc(287," "),t.Ob(288,"span",17),t.rc(289,"large"),t.Nb(),t.Ob(290,"span",18),t.Ob(291,"span",16),t.rc(292,"="),t.Nb(),t.Ob(293,"span",16),t.rc(294,'"'),t.Nb(),t.rc(295),t.Ob(296,"span",16),t.rc(297,'"'),t.Nb(),t.Nb(),t.Ob(298,"span",16),t.rc(299,">"),t.Nb(),t.Nb(),t.rc(300,"Bob"),t.Ob(301,"span",15),t.Ob(302,"span",15),t.Ob(303,"span",16),t.rc(304,"</"),t.Nb(),t.rc(305,"columns"),t.Nb(),t.Ob(306,"span",16),t.rc(307,">"),t.Nb(),t.Nb(),t.rc(308,"\n  "),t.Ob(309,"span",15),t.Ob(310,"span",15),t.Ob(311,"span",16),t.rc(312,"<"),t.Nb(),t.rc(313,"columns"),t.Nb(),t.rc(314," "),t.Ob(315,"span",17),t.rc(316,"large"),t.Nb(),t.Ob(317,"span",18),t.Ob(318,"span",16),t.rc(319,"="),t.Nb(),t.Ob(320,"span",16),t.rc(321,'"'),t.Nb(),t.rc(322),t.Ob(323,"span",16),t.rc(324,'"'),t.Nb(),t.Nb(),t.Ob(325,"span",16),t.rc(326,">"),t.Nb(),t.Nb(),t.rc(327," "),t.Ob(328,"span",15),t.Ob(329,"span",15),t.Ob(330,"span",16),t.rc(331,"</"),t.Nb(),t.rc(332,"columns"),t.Nb(),t.Ob(333,"span",16),t.rc(334,">"),t.Nb(),t.Nb(),t.rc(335,"\n"),t.Ob(336,"span",15),t.Ob(337,"span",15),t.Ob(338,"span",16),t.rc(339,"</"),t.Nb(),t.rc(340,"row"),t.Nb(),t.Ob(341,"span",16),t.rc(342,">"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(343," which will then interpolate the context to replace "),t.Ob(344,"code",9),t.rc(345,"left"),t.Nb(),t.rc(346," and "),t.Ob(347,"code",9),t.rc(348,"right"),t.Nb(),t.rc(349,", and compile to a final html output. When using "),t.Ob(350,"a",27),t.rc(351,"mustache"),t.Nb(),t.rc(352," expressions, make sure to use "),t.Ob(353,"code",9),t.rc(354),t.Nb(),t.rc(355,", triple braces on complex text, to prevent "),t.Ob(356,"a",27),t.rc(357,"mustache"),t.Nb(),t.rc(358," from escaping any characters. "),t.Ob(359,"h2",30),t.rc(360,"Example inky template with partials"),t.Nb(),t.rc(361," Given two files, "),t.Ob(362,"code",6),t.rc(363,"resources/email/welcome.html"),t.Nb(),t.rc(364," and "),t.Ob(365,"code",6),t.rc(366,"resources/email/footer.hml"),t.Nb(),t.Ob(367,"figure",12),t.Ob(368,"figcaption",12),t.rc(369,"resources/email/welcome.html "),t.Ob(370,"cite"),t.Ob(371,"a",31),t.rc(372,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(373,"pre"),t.Ob(374,"code",14),t.Ob(375,"span",15),t.Ob(376,"span",15),t.Ob(377,"span",16),t.rc(378,"<"),t.Nb(),t.rc(379,"row"),t.Nb(),t.Ob(380,"span",16),t.rc(381,">"),t.Nb(),t.Nb(),t.rc(382,"\n  "),t.Ob(383,"span",15),t.Ob(384,"span",15),t.Ob(385,"span",16),t.rc(386,"<"),t.Nb(),t.rc(387,"row"),t.Nb(),t.Ob(388,"span",16),t.rc(389,">"),t.Nb(),t.Nb(),t.rc(390,"\n    "),t.Ob(391,"span",15),t.Ob(392,"span",15),t.Ob(393,"span",16),t.rc(394,"<"),t.Nb(),t.rc(395,"columns"),t.Nb(),t.rc(396," "),t.Ob(397,"span",17),t.rc(398,"large"),t.Nb(),t.Ob(399,"span",18),t.Ob(400,"span",16),t.rc(401,"="),t.Nb(),t.Ob(402,"span",16),t.rc(403,'"'),t.Nb(),t.rc(404),t.Ob(405,"span",16),t.rc(406,'"'),t.Nb(),t.Nb(),t.Ob(407,"span",16),t.rc(408,">"),t.Nb(),t.Nb(),t.rc(409,"Bob"),t.Ob(410,"span",15),t.Ob(411,"span",15),t.Ob(412,"span",16),t.rc(413,"</"),t.Nb(),t.rc(414,"columns"),t.Nb(),t.Ob(415,"span",16),t.rc(416,">"),t.Nb(),t.Nb(),t.rc(417,"\n    "),t.Ob(418,"span",15),t.Ob(419,"span",15),t.Ob(420,"span",16),t.rc(421,"<"),t.Nb(),t.rc(422,"columns"),t.Nb(),t.rc(423," "),t.Ob(424,"span",17),t.rc(425,"large"),t.Nb(),t.Ob(426,"span",18),t.Ob(427,"span",16),t.rc(428,"="),t.Nb(),t.Ob(429,"span",16),t.rc(430,'"'),t.Nb(),t.rc(431),t.Ob(432,"span",16),t.rc(433,'"'),t.Nb(),t.Nb(),t.Ob(434,"span",16),t.rc(435,">"),t.Nb(),t.Nb(),t.rc(436," "),t.Ob(437,"span",15),t.Ob(438,"span",15),t.Ob(439,"span",16),t.rc(440,"</"),t.Nb(),t.rc(441,"columns"),t.Nb(),t.Ob(442,"span",16),t.rc(443,">"),t.Nb(),t.Nb(),t.rc(444,"\n  "),t.Ob(445,"span",15),t.Ob(446,"span",15),t.Ob(447,"span",16),t.rc(448,"</"),t.Nb(),t.rc(449,"row"),t.Nb(),t.Ob(450,"span",16),t.rc(451,">"),t.Nb(),t.Nb(),t.rc(452),t.Ob(453,"span",15),t.Ob(454,"span",15),t.Ob(455,"span",16),t.rc(456,"</"),t.Nb(),t.rc(457,"row"),t.Nb(),t.Ob(458,"span",16),t.rc(459,">"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(460,"figure",12),t.Ob(461,"figcaption",12),t.rc(462,"resources/email/footer.html "),t.Ob(463,"cite"),t.Ob(464,"a",32),t.rc(465,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(466,"pre"),t.Ob(467,"code",14),t.Ob(468,"span",15),t.Ob(469,"span",15),t.Ob(470,"span",16),t.rc(471,"<"),t.Nb(),t.rc(472,"row"),t.Nb(),t.Ob(473,"span",16),t.rc(474,">"),t.Nb(),t.Nb(),t.rc(475,"\n  This is a footer\n  "),t.Ob(476,"span",15),t.Ob(477,"span",15),t.Ob(478,"span",16),t.rc(479,"<"),t.Nb(),t.rc(480,"a"),t.Nb(),t.rc(481," "),t.Ob(482,"span",17),t.rc(483,"href"),t.Nb(),t.Ob(484,"span",18),t.Ob(485,"span",16),t.rc(486,"="),t.Nb(),t.Ob(487,"span",16),t.rc(488,'"'),t.Nb(),t.rc(489),t.Ob(490,"span",16),t.rc(491,'"'),t.Nb(),t.Nb(),t.Ob(492,"span",16),t.rc(493,">"),t.Nb(),t.Nb(),t.rc(494,"Sales Link"),t.Ob(495,"span",15),t.Ob(496,"span",15),t.Ob(497,"span",16),t.rc(498,"</"),t.Nb(),t.rc(499,"a"),t.Nb(),t.Ob(500,"span",16),t.rc(501,">"),t.Nb(),t.Nb(),t.rc(502,"\n"),t.Ob(503,"span",15),t.Ob(504,"span",15),t.Ob(505,"span",16),t.rc(506,"</"),t.Nb(),t.rc(507,"row"),t.Nb(),t.Ob(508,"span",16),t.rc(509,">"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.rc(510," The final template will render as: "),t.Ob(511,"figure",21),t.Ob(512,"figcaption",21),t.rc(513,"Final Output, with styling removed "),t.Nb(),t.Ob(514,"pre"),t.Ob(515,"code",2),t.rc(516,"$ alt/docs/src/render.ts -r @travetto/boot/register alt/docs/src/render.ts\n\n"),t.Ob(517,"span",33),t.rc(518,"<"),t.Nb(),t.Ob(519,"span",33),t.rc(520,"!"),t.Nb(),t.rc(521,"DOCTYPE html"),t.Ob(522,"span",33),t.rc(523,">"),t.Nb(),t.Ob(524,"span",33),t.rc(525,"<"),t.Nb(),t.rc(526,"html"),t.Ob(527,"span",33),t.rc(528,">"),t.Nb(),t.rc(529,"\n\n  "),t.Ob(530,"span",33),t.rc(531,"<"),t.Nb(),t.rc(532,"body"),t.Ob(533,"span",33),t.rc(534,">"),t.Nb(),t.rc(535,"\n    "),t.Ob(536,"span",33),t.rc(537,"<"),t.Nb(),t.rc(538,"table "),t.Ob(539,"span",34),t.rc(540,"align"),t.Nb(),t.Ob(541,"span",33),t.rc(542,"="),t.Nb(),t.Ob(543,"span",22),t.rc(544,'"center"'),t.Nb(),t.rc(545," "),t.Ob(546,"span",34),t.rc(547,"class"),t.Nb(),t.Ob(548,"span",33),t.rc(549,"="),t.Nb();t.Ob(550,"span",22),t.rc(551,'"container"'),t.Nb(),t.Ob(552,"span",33),t.rc(553,">"),t.Nb(),t.rc(554,"\n      "),t.Ob(555,"span",33),t.rc(556,"<"),t.Nb(),t.rc(557,"tbody"),t.Ob(558,"span",33),t.rc(559,">"),t.Nb(),t.rc(560,"\n        "),t.Ob(561,"span",33),t.rc(562,"<"),t.Nb(),t.rc(563,"tr"),t.Ob(564,"span",33),t.rc(565,">"),t.Nb(),t.Ob(566,"span",33),t.rc(567,"<"),t.Nb(),t.rc(568,"td"),t.Ob(569,"span",33),t.rc(570,">"),t.Nb(),t.rc(571,"\n      "),t.Ob(572,"span",33),t.rc(573,"<"),t.Nb(),t.rc(574,"table "),t.Ob(575,"span",34),t.rc(576,"class"),t.Nb(),t.Ob(577,"span",33),t.rc(578,"="),t.Nb(),t.Ob(579,"span",22),t.rc(580,'"row"'),t.Nb(),t.Ob(581,"span",33),t.rc(582,">"),t.Nb(),t.rc(583,"\n      "),t.Ob(584,"span",33),t.rc(585,"<"),t.Nb(),t.rc(586,"tbody"),t.Ob(587,"span",33),t.rc(588,">"),t.Nb(),t.rc(589,"\n        "),t.Ob(590,"span",33),t.rc(591,"<"),t.Nb(),t.rc(592,"tr"),t.Ob(593,"span",33),t.rc(594,">"),t.Nb(),t.rc(595,"\n  "),t.Ob(596,"span",33),t.rc(597,"<"),t.Nb(),t.rc(598,"/tr"),t.Ob(599,"span",33),t.rc(600,">"),t.Nb(),t.Ob(601,"span",33),t.rc(602,"<"),t.Nb(),t.rc(603,"/tbody"),t.Ob(604,"span",33),t.rc(605,">"),t.Nb(),t.Ob(606,"span",33),t.rc(607,"<"),t.Nb(),t.rc(608,"/table"),t.Ob(609,"span",33),t.rc(610,">"),t.Nb(),t.Ob(611,"span",33),t.rc(612,"<"),t.Nb(),t.rc(613,"table "),t.Ob(614,"span",34),t.rc(615,"class"),t.Nb(),t.Ob(616,"span",33),t.rc(617,"="),t.Nb(),t.Ob(618,"span",22),t.rc(619,'"row"'),t.Nb(),t.Ob(620,"span",33),t.rc(621,">"),t.Nb(),t.rc(622,"\n      "),t.Ob(623,"span",33),t.rc(624,"<"),t.Nb(),t.rc(625,"tbody"),t.Ob(626,"span",33),t.rc(627,">"),t.Nb(),t.rc(628,"\n        "),t.Ob(629,"span",33),t.rc(630,"<"),t.Nb(),t.rc(631,"tr"),t.Ob(632,"span",33),t.rc(633,">"),t.Nb(),t.rc(634,"\n    "),t.Ob(635,"span",33),t.rc(636,"<"),t.Nb(),t.rc(637,"th "),t.Ob(638,"span",34),t.rc(639,"class"),t.Nb(),t.Ob(640,"span",33),t.rc(641,"="),t.Nb(),t.Ob(642,"span",22),t.rc(643,'"small-12 large-12 columns first"'),t.Nb(),t.Ob(644,"span",33),t.rc(645,">"),t.Nb(),t.rc(646,"\n        "),t.Ob(647,"span",33),t.rc(648,"<"),t.Nb(),t.rc(649,"table"),t.Ob(650,"span",33),t.rc(651,">"),t.Nb(),t.rc(652,"\n          "),t.Ob(653,"span",33),t.rc(654,"<"),t.Nb(),t.rc(655,"tbody"),t.Ob(656,"span",33),t.rc(657,">"),t.Nb(),t.rc(658,"\n            "),t.Ob(659,"span",33),t.rc(660,"<"),t.Nb(),t.rc(661,"tr"),t.Ob(662,"span",33),t.rc(663,">"),t.Nb(),t.rc(664,"\n              "),t.Ob(665,"span",33),t.rc(666,"<"),t.Nb(),t.rc(667,"th"),t.Ob(668,"span",33),t.rc(669,">"),t.Nb(),t.rc(670,"Bob"),t.Ob(671,"span",33),t.rc(672,"<"),t.Nb(),t.rc(673,"/th"),t.Ob(674,"span",33),t.rc(675,">"),t.Nb(),t.rc(676,"\n"),t.Ob(677,"span",33),t.rc(678,"<"),t.Nb(),t.rc(679,"th "),t.Ob(680,"span",34),t.rc(681,"class"),t.Nb(),t.Ob(682,"span",33),t.rc(683,"="),t.Nb(),t.Ob(684,"span",22),t.rc(685,'"expander"'),t.Nb(),t.Ob(686,"span",33),t.rc(687,">"),t.Nb(),t.Ob(688,"span",33),t.rc(689,"<"),t.Nb(),t.rc(690,"/th"),t.Ob(691,"span",33),t.rc(692,">"),t.Nb(),t.rc(693,"\n            "),t.Ob(694,"span",33),t.rc(695,"<"),t.Nb(),t.rc(696,"/tr"),t.Ob(697,"span",33),t.rc(698,">"),t.Nb(),t.rc(699,"\n          "),t.Ob(700,"span",33),t.rc(701,"<"),t.Nb(),t.rc(702,"/tbody"),t.Ob(703,"span",33),t.rc(704,">"),t.Nb(),t.rc(705,"\n        "),t.Ob(706,"span",33),t.rc(707,"<"),t.Nb(),t.rc(708,"/table"),t.Ob(709,"span",33),t.rc(710,">"),t.Nb(),t.rc(711,"\n      "),t.Ob(712,"span",33),t.rc(713,"<"),t.Nb(),t.rc(714,"/th"),t.Ob(715,"span",33),t.rc(716,">"),t.Nb(),t.rc(717,"\n    "),t.Ob(718,"span",33),t.rc(719,"<"),t.Nb(),t.rc(720,"th "),t.Ob(721,"span",34),t.rc(722,"class"),t.Nb(),t.Ob(723,"span",33),t.rc(724,"="),t.Nb(),t.Ob(725,"span",22),t.rc(726,'"small-12 large-12 columns last"'),t.Nb(),t.Ob(727,"span",33),t.rc(728,">"),t.Nb(),t.rc(729,"\n        "),t.Ob(730,"span",33),t.rc(731,"<"),t.Nb(),t.rc(732,"table"),t.Ob(733,"span",33),t.rc(734,">"),t.Nb(),t.rc(735,"\n          "),t.Ob(736,"span",33),t.rc(737,"<"),t.Nb(),t.rc(738,"tbody"),t.Ob(739,"span",33),t.rc(740,">"),t.Nb(),t.rc(741,"\n            "),t.Ob(742,"span",33),t.rc(743,"<"),t.Nb(),t.rc(744,"tr"),t.Ob(745,"span",33),t.rc(746,">"),t.Nb(),t.rc(747,"\n              "),t.Ob(748,"span",33),t.rc(749,"<"),t.Nb(),t.rc(750,"th"),t.Ob(751,"span",33),t.rc(752,">"),t.Nb(),t.rc(753," "),t.Ob(754,"span",33),t.rc(755,"<"),t.Nb(),t.rc(756,"/th"),t.Ob(757,"span",33),t.rc(758,">"),t.Nb(),t.rc(759,"\n"),t.Ob(760,"span",33),t.rc(761,"<"),t.Nb(),t.rc(762,"th "),t.Ob(763,"span",34),t.rc(764,"class"),t.Nb(),t.Ob(765,"span",33),t.rc(766,"="),t.Nb(),t.Ob(767,"span",22),t.rc(768,'"expander"'),t.Nb(),t.Ob(769,"span",33),t.rc(770,">"),t.Nb(),t.Ob(771,"span",33),t.rc(772,"<"),t.Nb(),t.rc(773,"/th"),t.Ob(774,"span",33),t.rc(775,">"),t.Nb(),t.rc(776,"\n            "),t.Ob(777,"span",33),t.rc(778,"<"),t.Nb(),t.rc(779,"/tr"),t.Ob(780,"span",33),t.rc(781,">"),t.Nb(),t.rc(782,"\n          "),t.Ob(783,"span",33),t.rc(784,"<"),t.Nb(),t.rc(785,"/tbody"),t.Ob(786,"span",33),t.rc(787,">"),t.Nb(),t.rc(788,"\n        "),t.Ob(789,"span",33),t.rc(790,"<"),t.Nb(),t.rc(791,"/table"),t.Ob(792,"span",33),t.rc(793,">"),t.Nb(),t.rc(794,"\n      "),t.Ob(795,"span",33),t.rc(796,"<"),t.Nb(),t.rc(797,"/th"),t.Ob(798,"span",33),t.rc(799,">"),t.Nb(),t.rc(800,"\n  "),t.Ob(801,"span",33),t.rc(802,"<"),t.Nb(),t.rc(803,"/tr"),t.Ob(804,"span",33),t.rc(805,">"),t.Nb(),t.rc(806,"\n      "),t.Ob(807,"span",33),t.rc(808,"<"),t.Nb(),t.rc(809,"/tbody"),t.Ob(810,"span",33),t.rc(811,">"),t.Nb(),t.rc(812,"\n    "),t.Ob(813,"span",33),t.rc(814,"<"),t.Nb(),t.rc(815,"/table"),t.Ob(816,"span",33),t.rc(817,">"),t.Nb(),t.Ob(818,"span",33),t.rc(819,"<"),t.Nb(),t.rc(820,"a "),t.Ob(821,"span",34),t.rc(822,"href"),t.Nb(),t.Ob(823,"span",33),t.rc(824,"="),t.Nb(),t.Ob(825,"span",22),t.rc(826),t.Nb(),t.Ob(827,"span",33),t.rc(828,">"),t.Nb(),t.rc(829,"Sales Link"),t.Ob(830,"span",33),t.rc(831,"<"),t.Nb(),t.rc(832,"/a"),t.Ob(833,"span",33),t.rc(834,">"),t.Nb(),t.Ob(835,"span",33),t.rc(836,"<"),t.Nb(),t.rc(837,"table "),t.Ob(838,"span",34),t.rc(839,"class"),t.Nb(),t.Ob(840,"span",33),t.rc(841,"="),t.Nb(),t.Ob(842,"span",22),t.rc(843,'"row"'),t.Nb(),t.Ob(844,"span",33),t.rc(845,">"),t.Nb(),t.rc(846,"\n      "),t.Ob(847,"span",33),t.rc(848,"<"),t.Nb(),t.rc(849,"tbody"),t.Ob(850,"span",33),t.rc(851,">"),t.Nb(),t.rc(852,"\n        "),t.Ob(853,"span",33),t.rc(854,"<"),t.Nb(),t.rc(855,"tr"),t.Ob(856,"span",33),t.rc(857,">"),t.Nb(),t.rc(858,"\n"),t.Ob(859,"span",33),t.rc(860,"<"),t.Nb(),t.rc(861,"/tr"),t.Ob(862,"span",33),t.rc(863,">"),t.Nb(),t.rc(864,"\n      "),t.Ob(865,"span",33),t.rc(866,"<"),t.Nb(),t.rc(867,"/tbody"),t.Ob(868,"span",33),t.rc(869,">"),t.Nb(),t.rc(870,"\n    "),t.Ob(871,"span",33),t.rc(872,"<"),t.Nb(),t.rc(873,"/table"),t.Ob(874,"span",33),t.rc(875,">"),t.Nb(),t.rc(876,"\n\n    "),t.Ob(877,"span",33),t.rc(878,"<"),t.Nb(),t.rc(879,"/td"),t.Ob(880,"span",33),t.rc(881,">"),t.Nb(),t.Ob(882,"span",33),t.rc(883,"<"),t.Nb(),t.rc(884,"/tr"),t.Ob(885,"span",33),t.rc(886,">"),t.Nb(),t.rc(887,"\n      "),t.Ob(888,"span",33),t.rc(889,"<"),t.Nb(),t.rc(890,"/tbody"),t.Ob(891,"span",33),t.rc(892,">"),t.Nb(),t.rc(893,"\n    "),t.Ob(894,"span",33),t.rc(895,"<"),t.Nb(),t.rc(896,"/table"),t.Ob(897,"span",33),t.rc(898,">"),t.Nb(),t.rc(899,"\n\n"),t.Ob(900,"span",33),t.rc(901,"<"),t.Nb(),t.rc(902,"/body"),t.Ob(903,"span",33),t.rc(904,">"),t.Nb(),t.Ob(905,"span",33),t.rc(906,"<"),t.Nb(),t.rc(907,"/html"),t.Ob(908,"span",33),t.rc(909,">"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(910,"h2",35),t.rc(911,"CLI - email:compile"),t.Nb(),t.rc(912," This command is used to compile the email templates ahead of time for use during execution. The generated files are "),t.Ob(913,"code",6),t.rc(914,".compiled.html"),t.Nb(),t.rc(915," and "),t.Ob(916,"code",6),t.rc(917,".compiled.txt"),t.Nb(),t.rc(918," for the html/text output respectivevly. By default these files are added to the "),t.Ob(919,"code",6),t.rc(920,".gitignore"),t.Nb(),t.rc(921," as they are generally not intended to be saved but to be generated during the build process. "),t.Ob(922,"figure",21),t.Ob(923,"figcaption",21),t.rc(924,"Compile help "),t.Nb(),t.Ob(925,"pre"),t.Ob(926,"code",2),t.rc(927,"$ travetto travetto email:compile --help\n\nUsage:  email:compile "),t.Ob(928,"span",16),t.rc(929,"["),t.Nb(),t.rc(930,"options"),t.Ob(931,"span",16),t.rc(932,"]"),t.Nb(),t.rc(933,"\n\nOptions:\n  -w, --watch "),t.Ob(934,"span",16),t.rc(935,"["),t.Nb(),t.rc(936,"watch"),t.Ob(937,"span",16),t.rc(938,"]"),t.Nb(),t.rc(939,"  Compile "),t.Ob(940,"span",25),t.rc(941,"in"),t.Nb(),t.rc(942," "),t.Ob(943,"span",3),t.rc(944,"watch"),t.Nb(),t.rc(945," mode, requires @travetto/watch\n                       "),t.Ob(946,"span",16),t.rc(947,"("),t.Nb(),t.rc(948,"default: "),t.Ob(949,"span",23),t.rc(950,"false"),t.Nb(),t.Ob(951,"span",16),t.rc(952,")"),t.Nb(),t.rc(953,"\n  -h, --help           display "),t.Ob(954,"span",24),t.rc(955,"help"),t.Nb(),t.rc(956," "),t.Ob(957,"span",25),t.rc(958,"for"),t.Nb(),t.rc(959," "),t.Ob(960,"span",24),t.rc(961,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(962,"h2",36),t.rc(963,"CLI - email:dev"),t.Nb(),t.rc(964," This command will spin up a web server (port "),t.Ob(965,"code",9),t.rc(966,"3839"),t.Nb(),t.rc(967,") with live reload. This is to allow for real time configuring and testing of email templates through the templating pipeline. Additionally, contextual variables can be specified via query parameters to see what a fully resolved email could look like. "),t.Ob(968,"figure",21),t.Ob(969,"figcaption",21),t.rc(970,"Dev help "),t.Nb(),t.Ob(971,"pre"),t.Ob(972,"code",2),t.rc(973,"$ travetto travetto email:dev --help\n\nUsage:  email:dev "),t.Ob(974,"span",16),t.rc(975,"["),t.Nb(),t.rc(976,"options"),t.Ob(977,"span",16),t.rc(978,"]"),t.Nb(),t.rc(979,"\n\nOptions:\n  -p, --port "),t.Ob(980,"span",16),t.rc(981,"["),t.Nb(),t.rc(982,"port"),t.Ob(983,"span",16),t.rc(984,"]"),t.Nb(),t.rc(985,"               Port to serve ui on "),t.Ob(986,"span",16),t.rc(987,"("),t.Nb(),t.rc(988,"default: "),t.Ob(989,"span",22),t.rc(990,'"3839"'),t.Nb(),t.Ob(991,"span",16),t.rc(992,")"),t.Nb(),t.rc(993,"\n  -r, --reload-rate "),t.Ob(994,"span",16),t.rc(995,"["),t.Nb(),t.rc(996,"reloadRate"),t.Ob(997,"span",16),t.rc(998,"]"),t.Nb(),t.rc(999,"  The rate to reload the UI at "),t.Ob(1e3,"span",16),t.rc(1001,"("),t.Nb(),t.rc(1002,"default:\n                                  "),t.Ob(1003,"span",22),t.rc(1004,'"1000"'),t.Nb(),t.Ob(1005,"span",16),t.rc(1006,")"),t.Nb(),t.rc(1007,"\n  -o, --open "),t.Ob(1008,"span",16),t.rc(1009,"["),t.Nb(),t.rc(1010,"open"),t.Ob(1011,"span",16),t.rc(1012,"]"),t.Nb(),t.rc(1013,"               Open the ui automatically on start "),t.Ob(1014,"span",16),t.rc(1015,"("),t.Nb(),t.rc(1016,"default:\n                                  "),t.Ob(1017,"span",23),t.rc(1018,"true"),t.Nb(),t.Ob(1019,"span",16),t.rc(1020,")"),t.Nb(),t.rc(1021,"\n  -h, --help                      display "),t.Ob(1022,"span",24),t.rc(1023,"help"),t.Nb(),t.rc(1024," "),t.Ob(1025,"span",25),t.rc(1026,"for"),t.Nb(),t.rc(1027," "),t.Ob(1028,"span",24),t.rc(1029,"command"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()}2&r&&(t.zb(85),t.wc("","{","","{","","{","> email/common-element ","}","","}","","}",""),t.zb(210),t.vc("","{","","{","left","}","","}",""),t.zb(27),t.vc("","{","","{","right","}","","}",""),t.zb(32),t.wc("","{","","{","","{"," ","}","","}","","}",""),t.zb(50),t.vc("","{","","{","left","}","","}",""),t.zb(27),t.vc("","{","","{","right","}","","}",""),t.zb(21),t.wc("\n  ","{","","{","","{","> email/footer ","}","","}","","}","\n"),t.zb(37),t.vc("","{","","{","salesLink","}","","}",""),t.zb(337),t.vc('"',"{","","{","salesLink","}","","}",'"'))},styles:[""]}),r}(),W=n("ofXK"),G=n("tyNb");function Q(r,e){if(1&r&&(t.Ob(0,"li"),t.Ob(1,"a",3),t.rc(2),t.Nb(),t.Nb()),2&r){var n=e.$implicit;t.Bb(n.path),t.zb(1),t.cc("routerLink","/docs/"+n.path),t.zb(1),t.sc(n.title)}}var K=function(){function r(){}return r.prototype.ngOnInit=function(){var r=this,e=n("Q4Jd").PAGES;this.pages=e.find((function(e){return e.component===r.constructor})).subs},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-core"]],decls:7,vars:1,consts:[[1,"documentation"],["id","core","id","core-components"],[3,"class",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1",1),t.rc(2,"Core Components"),t.Nb(),t.Ob(3,"p"),t.rc(4,"Within the framework there primarily internal modules that support the user facing modules. These modules are generally used for building modules."),t.Nb(),t.Ob(5,"ul"),t.qc(6,Q,3,5,"li",2),t.Nb(),t.Nb()),2&r&&(t.zb(6),t.cc("ngForOf",e.pages))},directives:[W.k,G.d],styles:[""]}),r}();function $(r,e){if(1&r&&(t.Ob(0,"li"),t.Ob(1,"a",3),t.rc(2),t.Nb(),t.Nb()),2&r){var n=e.$implicit;t.Bb(n.path),t.zb(1),t.cc("routerLink","/docs/"+n.path),t.zb(1),t.sc(n.title)}}var J=function(){function r(){}return r.prototype.ngOnInit=function(){var r=this,e=n("Q4Jd").PAGES;this.pages=e.find((function(e){return e.component===r.constructor})).subs},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-utils"]],decls:7,vars:1,consts:[[1,"documentation"],["id","utils","id","common-utilities"],[3,"class",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1",1),t.rc(2,"Common Utilities"),t.Nb(),t.Ob(3,"p"),t.rc(4,"The framework provides some basic utilities that are primarily support utilities for various modules. These modules are aimed at higher level consumption to deal with application facing needs."),t.Nb(),t.Ob(5,"ul"),t.qc(6,$,3,5,"li",2),t.Nb(),t.Nb()),2&r&&(t.zb(6),t.cc("ngForOf",e.pages))},directives:[W.k,G.d],styles:[""]}),r}(),Z=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-yaml"]],decls:393,vars:18,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["target","_blank","href","https://en.wikipedia.org/wiki/YAML",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/yaml/src/util.ts#L7",1,"source-link"],[1,"item","method"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/yaml/alt/docs/src/parse.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],[1,"token","operator"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","builtin"],[1,"token","constant"],[1,"token","number"],[1,"terminal"],[1,"token","builtin","class-name"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/yaml/alt/docs/src/serialize.ts"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"YAML "),t.Ob(3,"small"),t.rc(4,"Simple YAML support, provides only clean subset of yaml"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/yaml "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/yaml"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," In the desire to provide a minimal footprint, the framework provides a minimal "),t.Ob(17,"a",4),t.rc(18,"YAML"),t.Nb(),t.rc(19," parser/serializer to handle standard configuration structure. "),t.Ob(20,"a",5),t.rc(21,"YamlUtil"),t.Nb(),t.rc(22," is the main access point for this module, and will expose two method, "),t.Ob(23,"code",6),t.rc(24,"parse"),t.Nb(),t.rc(25," and "),t.Ob(26,"code",6),t.rc(27,"serialize"),t.Nb(),t.rc(28,". "),t.Ob(29,"figure",7),t.Ob(30,"figcaption",7),t.rc(31,"Simple YAML Parsing "),t.Ob(32,"cite"),t.Ob(33,"a",8),t.rc(34,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(35,"pre"),t.Ob(36,"code",9),t.Ob(37,"span",10),t.rc(38,"import"),t.Nb(),t.rc(39," "),t.Ob(40,"span",11),t.rc(41),t.Nb(),t.rc(42," YamlUtil "),t.Ob(43,"span",11),t.rc(44),t.Nb(),t.rc(45," "),t.Ob(46,"span",10),t.rc(47,"from"),t.Nb(),t.rc(48," "),t.Ob(49,"span",12),t.rc(50,"'@travetto/yaml/src/util'"),t.Nb(),t.Ob(51,"span",11),t.rc(52,";"),t.Nb(),t.rc(53,"\n\n"),t.Ob(54,"span",10),t.rc(55,"const"),t.Nb(),t.rc(56," obj "),t.Ob(57,"span",13),t.rc(58,"="),t.Nb(),t.rc(59," YamlUtil"),t.Ob(60,"span",11),t.rc(61,"."),t.Nb(),t.Ob(62,"span",3),t.rc(63,"parse"),t.Nb(),t.Ob(64,"span",11),t.rc(65,"("),t.Nb(),t.Ob(66,"span",14),t.Ob(67,"span",15),t.rc(68,"`"),t.Nb(),t.Ob(69,"span",12),t.rc(70),t.Nb(),t.Ob(71,"span",15),t.rc(72,"`"),t.Nb(),t.Nb(),t.Ob(73,"span",11),t.rc(74,")"),t.Nb(),t.Ob(75,"span",11),t.rc(76,";"),t.Nb(),t.rc(77,"\n\n"),t.Ob(78,"span",16),t.rc(79,"console"),t.Nb(),t.Ob(80,"span",11),t.rc(81,"."),t.Nb(),t.Ob(82,"span",3),t.rc(83,"log"),t.Nb(),t.Ob(84,"span",11),t.rc(85,"("),t.Nb(),t.Ob(86,"span",17),t.rc(87,"JSON"),t.Nb(),t.Ob(88,"span",11),t.rc(89,"."),t.Nb(),t.Ob(90,"span",3),t.rc(91,"stringify"),t.Nb(),t.Ob(92,"span",11),t.rc(93,"("),t.Nb(),t.rc(94,"obj"),t.Ob(95,"span",11),t.rc(96,","),t.Nb(),t.rc(97," "),t.Ob(98,"span",10),t.rc(99,"null"),t.Nb(),t.Ob(100,"span",11),t.rc(101,","),t.Nb(),t.rc(102," "),t.Ob(103,"span",18),t.rc(104,"2"),t.Nb(),t.Ob(105,"span",11),t.rc(106,")"),t.Nb(),t.Ob(107,"span",11),t.rc(108,")"),t.Nb(),t.Ob(109,"span",11),t.rc(110,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(111,"figure",19),t.Ob(112,"figcaption",19),t.rc(113,"Simple YAML Parsing "),t.Nb(),t.Ob(114,"pre"),t.Ob(115,"code",2),t.rc(116,"$ alt/docs/src/parse.ts -r @travetto/boot/register alt/docs/src/parse.ts\n\n"),t.Ob(117,"span",11),t.rc(118),t.Nb(),t.rc(119,"\n  "),t.Ob(120,"span",12),t.rc(121,'"name"'),t.Nb(),t.Ob(122,"span",20),t.rc(123,":"),t.Nb(),t.rc(124," "),t.Ob(125,"span",12),t.rc(126,'"Source"'),t.Nb(),t.rc(127,",\n  "),t.Ob(128,"span",12),t.rc(129,'"age"'),t.Nb(),t.Ob(130,"span",20),t.rc(131,":"),t.Nb(),t.rc(132," "),t.Ob(133,"span",18),t.rc(134,"20"),t.Nb(),t.rc(135,",\n  "),t.Ob(136,"span",12),t.rc(137,'"fields"'),t.Nb(),t.Ob(138,"span",20),t.rc(139,":"),t.Nb(),t.rc(140," "),t.Ob(141,"span",11),t.rc(142),t.Nb(),t.rc(143,"\n    "),t.Ob(144,"span",12),t.rc(145,'"sub"'),t.Nb(),t.Ob(146,"span",20),t.rc(147,":"),t.Nb(),t.rc(148," "),t.Ob(149,"span",11),t.rc(150,"["),t.Nb(),t.rc(151,"\n      "),t.Ob(152,"span",12),t.rc(153,'"a"'),t.Nb(),t.rc(154,",\n      "),t.Ob(155,"span",12),t.rc(156,'"b"'),t.Nb(),t.rc(157,",\n      "),t.Ob(158,"span",12),t.rc(159,'"c"'),t.Nb(),t.rc(160,"\n    "),t.Ob(161,"span",11),t.rc(162,"]"),t.Nb(),t.rc(163,",\n    "),t.Ob(164,"span",12),t.rc(165,'"sub2"'),t.Nb(),t.Ob(166,"span",20),t.rc(167,":"),t.Nb(),t.rc(168," "),t.Ob(169,"span",11),t.rc(170,"["),t.Nb(),t.rc(171,"\n      "),t.Ob(172,"span",18),t.rc(173,"1"),t.Nb(),t.rc(174,",\n      "),t.Ob(175,"span",18),t.rc(176,"2"),t.Nb(),t.rc(177,",\n      "),t.Ob(178,"span",18),t.rc(179,"3"),t.Nb(),t.rc(180,"\n    "),t.Ob(181,"span",11),t.rc(182,"]"),t.Nb(),t.rc(183,",\n    "),t.Ob(184,"span",12),t.rc(185,'"sub3"'),t.Nb(),t.Ob(186,"span",20),t.rc(187,":"),t.Nb(),t.rc(188," "),t.Ob(189,"span",11),t.rc(190),t.Nb(),t.rc(191,"\n      "),t.Ob(192,"span",12),t.rc(193,'"k"'),t.Nb(),t.Ob(194,"span",20),t.rc(195,":"),t.Nb(),t.rc(196," "),t.Ob(197,"span",18),t.rc(198,"5"),t.Nb(),t.rc(199,",\n      "),t.Ob(200,"span",12),t.rc(201,'"v"'),t.Nb(),t.Ob(202,"span",20),t.rc(203,":"),t.Nb(),t.rc(204," "),t.Ob(205,"span",18),t.rc(206,"20"),t.Nb(),t.rc(207,"\n    "),t.Ob(208,"span",11),t.rc(209),t.Nb(),t.rc(210,"\n  "),t.Ob(211,"span",11),t.rc(212),t.Nb(),t.rc(213,"\n"),t.Ob(214,"span",11),t.rc(215),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(216,"figure",7),t.Ob(217,"figcaption",7),t.rc(218,"Simple YAML Serialization "),t.Ob(219,"cite"),t.Ob(220,"a",21),t.rc(221,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(222,"pre"),t.Ob(223,"code",9),t.Ob(224,"span",10),t.rc(225,"import"),t.Nb(),t.rc(226," "),t.Ob(227,"span",11),t.rc(228),t.Nb(),t.rc(229," YamlUtil "),t.Ob(230,"span",11),t.rc(231),t.Nb(),t.rc(232," "),t.Ob(233,"span",10),t.rc(234,"from"),t.Nb(),t.rc(235," "),t.Ob(236,"span",12),t.rc(237,"'@travetto/yaml/src/util'"),t.Nb(),t.Ob(238,"span",11),t.rc(239,";"),t.Nb(),t.rc(240,"\n\n"),t.Ob(241,"span",10),t.rc(242,"const"),t.Nb(),t.rc(243," text "),t.Ob(244,"span",13),t.rc(245,"="),t.Nb(),t.rc(246," YamlUtil"),t.Ob(247,"span",11),t.rc(248,"."),t.Nb(),t.Ob(249,"span",3),t.rc(250,"serialize"),t.Nb(),t.Ob(251,"span",11),t.rc(252,"("),t.Nb(),t.Ob(253,"span",11),t.rc(254),t.Nb(),t.rc(255,"\n  name"),t.Ob(256,"span",13),t.rc(257,":"),t.Nb(),t.rc(258," "),t.Ob(259,"span",12),t.rc(260,"'Source'"),t.Nb(),t.Ob(261,"span",11),t.rc(262,","),t.Nb(),t.rc(263,"\n  age"),t.Ob(264,"span",13),t.rc(265,":"),t.Nb(),t.rc(266," "),t.Ob(267,"span",18),t.rc(268,"20"),t.Nb(),t.Ob(269,"span",11),t.rc(270,","),t.Nb(),t.rc(271,"\n  fields"),t.Ob(272,"span",13),t.rc(273,":"),t.Nb(),t.rc(274," "),t.Ob(275,"span",11),t.rc(276),t.Nb(),t.rc(277,"\n    sub"),t.Ob(278,"span",13),t.rc(279,":"),t.Nb(),t.rc(280," "),t.Ob(281,"span",11),t.rc(282,"["),t.Nb(),t.rc(283,"\n      "),t.Ob(284,"span",12),t.rc(285,"'a'"),t.Nb(),t.Ob(286,"span",11),t.rc(287,","),t.Nb(),t.rc(288,"\n      "),t.Ob(289,"span",12),t.rc(290,"'b'"),t.Nb(),t.Ob(291,"span",11),t.rc(292,","),t.Nb(),t.rc(293,"\n      "),t.Ob(294,"span",12),t.rc(295,"'c'"),t.Nb(),t.rc(296,"\n    "),t.Ob(297,"span",11),t.rc(298,"]"),t.Nb(),t.Ob(299,"span",11),t.rc(300,","),t.Nb(),t.rc(301,"\n    sub2"),t.Ob(302,"span",13),t.rc(303,":"),t.Nb(),t.rc(304," "),t.Ob(305,"span",11),t.rc(306,"["),t.Nb(),t.Ob(307,"span",18),t.rc(308,"1"),t.Nb(),t.Ob(309,"span",11),t.rc(310,","),t.Nb(),t.rc(311," "),t.Ob(312,"span",18),t.rc(313,"2"),t.Nb(),t.Ob(314,"span",11),t.rc(315,","),t.Nb(),t.rc(316," "),t.Ob(317,"span",18),t.rc(318,"3"),t.Nb(),t.Ob(319,"span",11),t.rc(320,"]"),t.Nb(),t.Ob(321,"span",11),t.rc(322,","),t.Nb(),t.rc(323,"\n    sub3"),t.Ob(324,"span",13),t.rc(325,":"),t.Nb(),t.rc(326," "),t.Ob(327,"span",11),t.rc(328),t.Nb(),t.rc(329," k"),t.Ob(330,"span",13),t.rc(331,":"),t.Nb(),t.rc(332," "),t.Ob(333,"span",18),t.rc(334,"5"),t.Nb(),t.Ob(335,"span",11),t.rc(336,","),t.Nb(),t.rc(337," v"),t.Ob(338,"span",13),t.rc(339,":"),t.Nb(),t.rc(340," "),t.Ob(341,"span",18),t.rc(342,"20"),t.Nb(),t.rc(343," "),t.Ob(344,"span",11),t.rc(345),t.Nb(),t.rc(346,"\n  "),t.Ob(347,"span",11),t.rc(348),t.Nb(),t.rc(349,"\n"),t.Ob(350,"span",11),t.rc(351),t.Nb(),t.Ob(352,"span",11),t.rc(353,")"),t.Nb(),t.Ob(354,"span",11),t.rc(355,";"),t.Nb(),t.rc(356,"\n\n"),t.Ob(357,"span",16),t.rc(358,"console"),t.Nb(),t.Ob(359,"span",11),t.rc(360,"."),t.Nb(),t.Ob(361,"span",3),t.rc(362,"log"),t.Nb(),t.Ob(363,"span",11),t.rc(364,"("),t.Nb(),t.rc(365,"text"),t.Ob(366,"span",11),t.rc(367,")"),t.Nb(),t.Ob(368,"span",11),t.rc(369,";"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(370,"figure",19),t.Ob(371,"figcaption",19),t.rc(372,"Simple YAML Serialization "),t.Nb(),t.Ob(373,"pre"),t.Ob(374,"code",2),t.rc(375,"$ alt/docs/src/serialize.ts -r @travetto/boot/register alt/docs/src/serialize.ts\n\nname: Source\nage: "),t.Ob(376,"span",18),t.rc(377,"20"),t.Nb(),t.rc(378,"\nfields:\n  sub:\n    - a\n    - b\n    - c\n  sub2:\n    - "),t.Ob(379,"span",18),t.rc(380,"1"),t.Nb(),t.rc(381,"\n    - "),t.Ob(382,"span",18),t.rc(383,"2"),t.Nb(),t.rc(384,"\n    - "),t.Ob(385,"span",18),t.rc(386,"3"),t.Nb(),t.rc(387,"\n  sub3:\n    k: "),t.Ob(388,"span",18),t.rc(389,"5"),t.Nb(),t.rc(390,"\n    v: "),t.Ob(391,"span",18),t.rc(392,"20"),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(41),t.sc("{"),t.zb(3),t.sc("}"),t.zb(26),t.uc("\nname: Source\nage: 20\nfields:\n  sub:\n    - a\n    - b\n    - c\n  sub2: [1,2,3]\n  sub3: ","{",'"k":5, "v":20',"}","\n"),t.zb(48),t.sc("{"),t.zb(24),t.sc("{"),t.zb(48),t.sc("{"),t.zb(19),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"),t.zb(13),t.sc("{"),t.zb(3),t.sc("}"),t.zb(23),t.sc("{"),t.zb(22),t.sc("{"),t.zb(52),t.sc("{"),t.zb(17),t.sc("}"),t.zb(3),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),Y=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-transformer"]],decls:620,vars:16,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],[1,"item","path"],["href","/docs/registry","title","Patterns and utilities for handling registration of metadata and functionality for run-time use",1,"module-link"],[1,"item","input"],["href","/docs/schema","title","Data type registry for runtime validation, reflection and binding. ",1,"module-link"],["href","/docs/di","title","Dependency registration/management and injection support.",1,"module-link"],["target","_blank","href","https://typescriptlang.org",1,"external-link"],["id","custom-transformer"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/transformer/alt/upper/support/transformer.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","operator"],[1,"token","string"],[1,"token","punctuation"],[1,"token","class-name"],[1,"token","meta"],[1,"token","parameter"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"note"]],template:function(r,e){if(1&r){t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Transformation "),t.Ob(3,"small"),t.rc(4,"Functionality for AST transformations, with transformer registration, and general utils"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/transformer "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/transformer"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides support for enhanced AST transformations, and declarative transformer registration, with common patterns to support all the transformers used throughout the framework. Transformations are located by "),t.Ob(17,"code",4),t.rc(18,"support/transformer.<name>.ts"),t.Nb(),t.rc(19," as the filename. The module is primarily aimed at extremely advanced usages for things that cannot be detected at runtime. The "),t.Ob(20,"a",5),t.rc(21,"Registry"),t.Nb(),t.rc(22," module already has knowledge of all "),t.Ob(23,"code",6),t.rc(24,"class"),t.Nb(),t.rc(25,"es and "),t.Ob(26,"code",6),t.rc(27,"field"),t.Nb(),t.rc(28,"s, and is able to listen to changes there. Many of the modules build upon work by some of the foundational transformers defined in "),t.Ob(29,"a",5),t.rc(30,"Registry"),t.Nb(),t.rc(31,", "),t.Ob(32,"a",7),t.rc(33,"Schema"),t.Nb(),t.rc(34," and "),t.Ob(35,"a",8),t.rc(36,"Dependency Injection"),t.Nb(),t.rc(37,". These all center around defining a registry of classes, and associated type information. Because working with the "),t.Ob(38,"a",9),t.rc(39,"Typescript"),t.Nb(),t.rc(40," API can be delicate (and open to breaking changes), creating new transformers should be done cautiously. "),t.Ob(41,"h2",10),t.rc(42,"Custom Transformer"),t.Nb(),t.rc(43," Below is an example of a transformer that uppercases all "),t.Ob(44,"code",6),t.rc(45,"class"),t.Nb(),t.rc(46,", "),t.Ob(47,"code",6),t.rc(48,"method"),t.Nb(),t.rc(49," and "),t.Ob(50,"code",6),t.rc(51,"param"),t.Nb(),t.rc(52," declarations. This will break any code that depends upon it as we are redefining all the identifiers at compile time. "),t.Ob(53,"figure",11),t.Ob(54,"figcaption",11),t.rc(55,"Sample Transformer - Upper case all declarations "),t.Ob(56,"cite"),t.Ob(57,"a",12),t.rc(58,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(59,"pre"),t.Ob(60,"code",13),t.Ob(61,"span",14),t.rc(62,"import"),t.Nb(),t.rc(63," "),t.Ob(64,"span",15),t.rc(65,"*"),t.Nb(),t.rc(66," "),t.Ob(67,"span",14),t.rc(68,"as"),t.Nb(),t.rc(69," ts "),t.Ob(70,"span",14),t.rc(71,"from"),t.Nb(),t.rc(72," "),t.Ob(73,"span",16),t.rc(74,"'typescript'"),t.Nb(),t.Ob(75,"span",17),t.rc(76,";"),t.Nb(),t.rc(77,"\n\n"),t.Ob(78,"span",14),t.rc(79,"import"),t.Nb(),t.rc(80," "),t.Ob(81,"span",17),t.rc(82),t.Nb(),t.rc(83," OnProperty"),t.Ob(84,"span",17),t.rc(85,","),t.Nb(),t.rc(86," TransformerState"),t.Ob(87,"span",17),t.rc(88,","),t.Nb(),t.rc(89," OnMethod"),t.Ob(90,"span",17),t.rc(91,","),t.Nb(),t.rc(92," OnClass "),t.Ob(93,"span",17),t.rc(94),t.Nb(),t.rc(95," "),t.Ob(96,"span",14),t.rc(97,"from"),t.Nb(),t.rc(98," "),t.Ob(99,"span",16),t.rc(100,"'@travetto/transformer'"),t.Nb(),t.Ob(101,"span",17),t.rc(102,";"),t.Nb(),t.rc(103,"\n\n"),t.Ob(104,"span",14),t.rc(105,"export"),t.Nb(),t.rc(106," "),t.Ob(107,"span",14),t.rc(108,"class"),t.Nb(),t.rc(109," "),t.Ob(110,"span",18),t.rc(111,"MakeUpper"),t.Nb(),t.rc(112," "),t.Ob(113,"span",17),t.rc(114),t.Nb(),t.rc(115,"\n  @"),t.Ob(116,"span",19),t.rc(117,"OnProperty"),t.Nb(),t.Ob(118,"span",17),t.rc(119,"("),t.Nb(),t.Ob(120,"span",17),t.rc(121,")"),t.Nb(),t.rc(122,"\n  "),t.Ob(123,"span",14),t.rc(124,"static"),t.Nb(),t.rc(125," "),t.Ob(126,"span",3),t.rc(127,"handleProperty"),t.Nb(),t.Ob(128,"span",17),t.rc(129,"("),t.Nb(),t.Ob(130,"span",20),t.rc(131,"state"),t.Ob(132,"span",15),t.rc(133,":"),t.Nb(),t.rc(134," TransformerState"),t.Ob(135,"span",17),t.rc(136,","),t.Nb(),t.rc(137," node"),t.Ob(138,"span",15),t.rc(139,":"),t.Nb(),t.rc(140," ts"),t.Ob(141,"span",17),t.rc(142,"."),t.Nb(),t.rc(143,"PropertyDeclaration"),t.Nb(),t.Ob(144,"span",17),t.rc(145,")"),t.Nb(),t.rc(146," "),t.Ob(147,"span",17),t.rc(148),t.Nb(),t.rc(149,"\n    "),t.Ob(150,"span",14),t.rc(151,"if"),t.Nb(),t.rc(152," "),t.Ob(153,"span",17),t.rc(154,"("),t.Nb(),t.Ob(155,"span",15),t.rc(156,"!"),t.Nb(),t.rc(157,"state"),t.Ob(158,"span",17),t.rc(159,"."),t.Nb(),t.rc(160,"source"),t.Ob(161,"span",17),t.rc(162,"."),t.Nb(),t.rc(163,"fileName"),t.Ob(164,"span",17),t.rc(165,"."),t.Nb(),t.Ob(166,"span",3),t.rc(167,"includes"),t.Nb(),t.Ob(168,"span",17),t.rc(169,"("),t.Nb(),t.Ob(170,"span",21),t.Ob(171,"span",22),t.rc(172,"`"),t.Nb(),t.Ob(173,"span",16),t.rc(174,"upper/src"),t.Nb(),t.Ob(175,"span",22),t.rc(176,"`"),t.Nb(),t.Nb(),t.Ob(177,"span",17),t.rc(178,")"),t.Nb(),t.Ob(179,"span",17),t.rc(180,")"),t.Nb(),t.rc(181," "),t.Ob(182,"span",17),t.rc(183),t.Nb(),t.rc(184,"\n      "),t.Ob(185,"span",14),t.rc(186,"return"),t.Nb(),t.rc(187," node"),t.Ob(188,"span",17),t.rc(189,";"),t.Nb(),t.rc(190,"\n    "),t.Ob(191,"span",17),t.rc(192),t.Nb(),t.rc(193,"\n    "),t.Ob(194,"span",14),t.rc(195,"return"),t.Nb(),t.rc(196," ts"),t.Ob(197,"span",17),t.rc(198,"."),t.Nb(),t.Ob(199,"span",3),t.rc(200,"updateProperty"),t.Nb(),t.Ob(201,"span",17),t.rc(202,"("),t.Nb(),t.rc(203,"\n      node"),t.Ob(204,"span",17),t.rc(205,","),t.Nb(),t.rc(206,"\n      "),t.Ob(207,"span",17),t.rc(208,"["),t.Nb(),t.Ob(209,"span",17),t.rc(210,"]"),t.Nb(),t.Ob(211,"span",17),t.rc(212,","),t.Nb(),t.rc(213,"\n      node"),t.Ob(214,"span",17),t.rc(215,"."),t.Nb(),t.rc(216,"modifiers"),t.Ob(217,"span",17),t.rc(218,","),t.Nb(),t.rc(219,"\n      node"),t.Ob(220,"span",17),t.rc(221,"."),t.Nb(),t.rc(222,"name"),t.Ob(223,"span",17),t.rc(224,"."),t.Nb(),t.Ob(225,"span",3),t.rc(226,"getText"),t.Nb(),t.Ob(227,"span",17),t.rc(228,"("),t.Nb(),t.Ob(229,"span",17),t.rc(230,")"),t.Nb(),t.Ob(231,"span",17),t.rc(232,"."),t.Nb(),t.Ob(233,"span",3),t.rc(234,"toUpperCase"),t.Nb(),t.Ob(235,"span",17),t.rc(236,"("),t.Nb(),t.Ob(237,"span",17),t.rc(238,")"),t.Nb(),t.Ob(239,"span",17),t.rc(240,","),t.Nb(),t.rc(241,"\n      "),t.Ob(242,"span",14),t.rc(243,"undefined"),t.Nb(),t.Ob(244,"span",17),t.rc(245,","),t.Nb(),t.rc(246,"\n      node"),t.Ob(247,"span",17),t.rc(248,"."),t.Nb(),t.Ob(249,"span",14),t.rc(250,"type"),t.Nb(),t.Ob(251,"span",17),t.rc(252,","),t.Nb(),t.rc(253,"\n      node"),t.Ob(254,"span",17),t.rc(255,"."),t.Nb(),t.rc(256,"initializer "),t.Ob(257,"span",15),t.rc(258,"??"),t.Nb(),t.rc(259," ts"),t.Ob(260,"span",17),t.rc(261,"."),t.Nb(),t.Ob(262,"span",3),t.rc(263,"createIdentifier"),t.Nb(),t.Ob(264,"span",17),t.rc(265,"("),t.Nb(),t.Ob(266,"span",16),t.rc(267,"'undefined'"),t.Nb(),t.Ob(268,"span",17),t.rc(269,")"),t.Nb(),t.rc(270,"\n    "),t.Ob(271,"span",17),t.rc(272,")"),t.Nb(),t.Ob(273,"span",17),t.rc(274,";"),t.Nb(),t.rc(275,"\n  "),t.Ob(276,"span",17),t.rc(277),t.Nb(),t.rc(278,"\n\n  @"),t.Ob(279,"span",19),t.rc(280,"OnClass"),t.Nb(),t.Ob(281,"span",17),t.rc(282,"("),t.Nb(),t.Ob(283,"span",17),t.rc(284,")"),t.Nb(),t.rc(285,"\n  "),t.Ob(286,"span",14),t.rc(287,"static"),t.Nb(),t.rc(288," "),t.Ob(289,"span",3),t.rc(290,"handleClass"),t.Nb(),t.Ob(291,"span",17),t.rc(292,"("),t.Nb(),t.Ob(293,"span",20),t.rc(294,"state"),t.Ob(295,"span",15),t.rc(296,":"),t.Nb(),t.rc(297," TransformerState"),t.Ob(298,"span",17),t.rc(299,","),t.Nb(),t.rc(300," node"),t.Ob(301,"span",15),t.rc(302,":"),t.Nb(),t.rc(303," ts"),t.Ob(304,"span",17),t.rc(305,"."),t.Nb(),t.rc(306,"ClassDeclaration"),t.Nb(),t.Ob(307,"span",17),t.rc(308,")"),t.Nb(),t.rc(309," "),t.Ob(310,"span",17),t.rc(311),t.Nb(),t.rc(312,"\n    "),t.Ob(313,"span",14),t.rc(314,"if"),t.Nb(),t.rc(315," "),t.Ob(316,"span",17),t.rc(317,"("),t.Nb(),t.Ob(318,"span",15),t.rc(319,"!"),t.Nb(),t.rc(320,"state"),t.Ob(321,"span",17),t.rc(322,"."),t.Nb(),t.rc(323,"source"),t.Ob(324,"span",17),t.rc(325,"."),t.Nb(),t.rc(326,"fileName"),t.Ob(327,"span",17),t.rc(328,"."),t.Nb(),t.Ob(329,"span",3),t.rc(330,"includes"),t.Nb(),t.Ob(331,"span",17),t.rc(332,"("),t.Nb(),t.Ob(333,"span",21),t.Ob(334,"span",22),t.rc(335,"`"),t.Nb(),t.Ob(336,"span",16),t.rc(337,"upper/src"),t.Nb(),t.Ob(338,"span",22),t.rc(339,"`"),t.Nb(),t.Nb(),t.Ob(340,"span",17),t.rc(341,")"),t.Nb(),t.Ob(342,"span",17),t.rc(343,")"),t.Nb(),t.rc(344," "),t.Ob(345,"span",17),t.rc(346),t.Nb(),t.rc(347,"\n      "),t.Ob(348,"span",14),t.rc(349,"return"),t.Nb(),t.rc(350," node"),t.Ob(351,"span",17),t.rc(352,";"),t.Nb(),t.rc(353,"\n    "),t.Ob(354,"span",17),t.rc(355),t.Nb(),t.rc(356,"\n    "),t.Ob(357,"span",14),t.rc(358,"return"),t.Nb(),t.rc(359," ts"),t.Ob(360,"span",17),t.rc(361,"."),t.Nb(),t.Ob(362,"span",3),t.rc(363,"updateClassDeclaration"),t.Nb(),t.Ob(364,"span",17),t.rc(365,"("),t.Nb(),t.rc(366,"\n      node"),t.Ob(367,"span",17),t.rc(368,","),t.Nb(),t.rc(369,"\n      "),t.Ob(370,"span",17),t.rc(371,"["),t.Nb(),t.Ob(372,"span",17),t.rc(373,"]"),t.Nb(),t.Ob(374,"span",17),t.rc(375,","),t.Nb(),t.rc(376,"\n      node"),t.Ob(377,"span",17),t.rc(378,"."),t.Nb(),t.rc(379,"modifiers"),t.Ob(380,"span",17),t.rc(381,","),t.Nb(),t.rc(382,"\n      ts"),t.Ob(383,"span",17),t.rc(384,"."),t.Nb(),t.Ob(385,"span",3),t.rc(386,"createIdentifier"),t.Nb(),t.Ob(387,"span",17),t.rc(388,"("),t.Nb(),t.rc(389,"node"),t.Ob(390,"span",17),t.rc(391,"."),t.Nb(),t.rc(392,"name"),t.Ob(393,"span",15),t.rc(394,"!"),t.Nb(),t.Ob(395,"span",17),t.rc(396,"."),t.Nb(),t.Ob(397,"span",3),t.rc(398,"getText"),t.Nb(),t.Ob(399,"span",17),t.rc(400,"("),t.Nb(),t.Ob(401,"span",17),t.rc(402,")"),t.Nb(),t.Ob(403,"span",17),t.rc(404,"."),t.Nb(),t.Ob(405,"span",3),t.rc(406,"toUpperCase"),t.Nb(),t.Ob(407,"span",17),t.rc(408,"("),t.Nb(),t.Ob(409,"span",17),t.rc(410,")"),t.Nb(),t.Ob(411,"span",17),t.rc(412,")"),t.Nb(),t.Ob(413,"span",17),t.rc(414,","),t.Nb(),t.rc(415,"\n      node"),t.Ob(416,"span",17),t.rc(417,"."),t.Nb(),t.rc(418,"typeParameters"),t.Ob(419,"span",17),t.rc(420,","),t.Nb(),t.rc(421,"\n      node"),t.Ob(422,"span",17),t.rc(423,"."),t.Nb(),t.rc(424,"heritageClauses"),t.Ob(425,"span",17),t.rc(426,","),t.Nb(),t.rc(427,"\n      node"),t.Ob(428,"span",17),t.rc(429,"."),t.Nb(),t.rc(430,"members\n    "),t.Ob(431,"span",17),t.rc(432,")"),t.Nb(),t.Ob(433,"span",17),t.rc(434,";"),t.Nb(),t.rc(435,"\n  "),t.Ob(436,"span",17),t.rc(437),t.Nb(),t.rc(438,"\n\n  @"),t.Ob(439,"span",19),t.rc(440,"OnMethod"),t.Nb(),t.Ob(441,"span",17),t.rc(442,"("),t.Nb(),t.Ob(443,"span",17),t.rc(444,")"),t.Nb(),t.rc(445,"\n  "),t.Ob(446,"span",14),t.rc(447,"static"),t.Nb(),t.rc(448," "),t.Ob(449,"span",3),t.rc(450,"handleMethod"),t.Nb(),t.Ob(451,"span",17),t.rc(452,"("),t.Nb(),t.Ob(453,"span",20),t.rc(454,"state"),t.Ob(455,"span",15),t.rc(456,":"),t.Nb(),t.rc(457," TransformerState"),t.Ob(458,"span",17),t.rc(459,","),t.Nb(),t.rc(460," node"),t.Ob(461,"span",15),t.rc(462,":"),t.Nb(),t.rc(463," ts"),t.Ob(464,"span",17),t.rc(465,"."),t.Nb(),t.rc(466,"MethodDeclaration"),t.Nb(),t.Ob(467,"span",17),t.rc(468,")"),t.Nb(),t.rc(469," "),t.Ob(470,"span",17),t.rc(471),t.Nb(),t.rc(472,"\n    "),t.Ob(473,"span",14),t.rc(474,"if"),t.Nb(),t.rc(475," "),t.Ob(476,"span",17),t.rc(477,"("),t.Nb(),t.Ob(478,"span",15),t.rc(479,"!"),t.Nb(),t.rc(480,"state"),t.Ob(481,"span",17),t.rc(482,"."),t.Nb(),t.rc(483,"source"),t.Ob(484,"span",17),t.rc(485,"."),t.Nb(),t.rc(486,"fileName"),t.Ob(487,"span",17),t.rc(488,"."),t.Nb(),t.Ob(489,"span",3),t.rc(490,"includes"),t.Nb(),t.Ob(491,"span",17),t.rc(492,"("),t.Nb(),t.Ob(493,"span",21),t.Ob(494,"span",22),t.rc(495,"`"),t.Nb(),t.Ob(496,"span",16),t.rc(497,"upper/src"),t.Nb(),t.Ob(498,"span",22),t.rc(499,"`"),t.Nb(),t.Nb(),t.Ob(500,"span",17),t.rc(501,")"),t.Nb(),t.Ob(502,"span",17),t.rc(503,")"),t.Nb(),t.rc(504," "),t.Ob(505,"span",17),t.rc(506),t.Nb(),t.rc(507,"\n      "),t.Ob(508,"span",14),t.rc(509,"return"),t.Nb(),t.rc(510," node"),t.Ob(511,"span",17),t.rc(512,";"),t.Nb(),t.rc(513,"\n    "),t.Ob(514,"span",17),t.rc(515),t.Nb(),t.rc(516,"\n    "),t.Ob(517,"span",14),t.rc(518,"return"),t.Nb(),t.rc(519," ts"),t.Ob(520,"span",17),t.rc(521,"."),t.Nb(),t.Ob(522,"span",3),t.rc(523,"updateMethod"),t.Nb(),t.Ob(524,"span",17),t.rc(525,"("),t.Nb(),t.rc(526,"\n      node"),t.Ob(527,"span",17),t.rc(528,","),t.Nb(),t.rc(529,"\n      "),t.Ob(530,"span",17),t.rc(531,"["),t.Nb(),t.Ob(532,"span",17),t.rc(533,"]"),t.Nb(),t.Ob(534,"span",17),t.rc(535,","),t.Nb(),t.rc(536,"\n      node"),t.Ob(537,"span",17),t.rc(538,"."),t.Nb(),t.rc(539,"modifiers"),t.Ob(540,"span",17),t.rc(541,","),t.Nb(),t.rc(542,"\n      "),t.Ob(543,"span",14),t.rc(544,"undefined"),t.Nb(),t.Ob(545,"span",17),t.rc(546,","),t.Nb(),t.rc(547,"\n      ts"),t.Ob(548,"span",17),t.rc(549,"."),t.Nb(),t.Ob(550,"span",3),t.rc(551,"createIdentifier"),t.Nb(),t.Ob(552,"span",17),t.rc(553,"("),t.Nb(),t.rc(554,"node"),t.Ob(555,"span",17),t.rc(556,"."),t.Nb(),t.rc(557,"name"),t.Ob(558,"span",17),t.rc(559,"."),t.Nb(),t.Ob(560,"span",3),t.rc(561,"getText"),t.Nb(),t.Ob(562,"span",17),t.rc(563,"("),t.Nb(),t.Ob(564,"span",17),t.rc(565,")"),t.Nb(),t.Ob(566,"span",17),t.rc(567,"."),t.Nb(),t.Ob(568,"span",3),t.rc(569,"toUpperCase"),t.Nb(),t.Ob(570,"span",17),t.rc(571,"("),t.Nb(),t.Ob(572,"span",17),t.rc(573,")");t.Nb(),t.Ob(574,"span",17),t.rc(575,")"),t.Nb(),t.Ob(576,"span",17),t.rc(577,","),t.Nb(),t.rc(578,"\n      "),t.Ob(579,"span",14),t.rc(580,"undefined"),t.Nb(),t.Ob(581,"span",17),t.rc(582,","),t.Nb(),t.rc(583,"\n      node"),t.Ob(584,"span",17),t.rc(585,"."),t.Nb(),t.rc(586,"typeParameters"),t.Ob(587,"span",17),t.rc(588,","),t.Nb(),t.rc(589,"\n      node"),t.Ob(590,"span",17),t.rc(591,"."),t.Nb(),t.rc(592,"parameters"),t.Ob(593,"span",17),t.rc(594,","),t.Nb(),t.rc(595,"\n      node"),t.Ob(596,"span",17),t.rc(597,"."),t.Nb(),t.Ob(598,"span",14),t.rc(599,"type"),t.Nb(),t.Ob(600,"span",17),t.rc(601,","),t.Nb(),t.rc(602,"\n      node"),t.Ob(603,"span",17),t.rc(604,"."),t.Nb(),t.rc(605,"body\n    "),t.Ob(606,"span",17),t.rc(607,")"),t.Nb(),t.Ob(608,"span",17),t.rc(609,";"),t.Nb(),t.rc(610,"\n  "),t.Ob(611,"span",17),t.rc(612),t.Nb(),t.rc(613,"\n"),t.Ob(614,"span",17),t.rc(615),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(616,"p",23),t.Ob(617,"strong"),t.rc(618,"Note"),t.Nb(),t.rc(619," This should be a strong indicator that it is very easy to break code in unexpected ways."),t.Nb(),t.Nb()}2&r&&(t.zb(82),t.sc("{"),t.zb(12),t.sc("}"),t.zb(20),t.sc("{"),t.zb(34),t.sc("{"),t.zb(35),t.sc("{"),t.zb(9),t.sc("}"),t.zb(85),t.sc("}"),t.zb(34),t.sc("{"),t.zb(35),t.sc("{"),t.zb(9),t.sc("}"),t.zb(82),t.sc("}"),t.zb(34),t.sc("{"),t.zb(35),t.sc("{"),t.zb(9),t.sc("}"),t.zb(97),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}(),X=[{path:"cli",title:"CLI Support",component:c,subs:[]},{path:"vscode-plugin",title:"VS Code Plugin",component:a,subs:[]},{path:"generator-app",title:"Yeoman App Generator",component:s,subs:[]},{path:"config",title:"Config ",component:b,subs:[{path:"yaml",title:"Simple YAML Parser",component:Z}]},{path:"app",title:"Application",component:i,subs:[]},{path:"di",title:"Dependency Injection  ",component:o,subs:[]},{path:"schema",title:"Schema",component:p,subs:[]},{path:"model",title:"Model",component:l,subs:[{path:"model-elasticsearch",title:"Elasticsearch",component:f},{path:"model-mongo",title:"Mongo",component:m},{path:"model-sql",title:"SQL",component:v}]},{path:"rest",title:"Rest",component:u,subs:[{path:"rest-express",title:"Express",component:k},{path:"rest-koa",title:"Koa",component:_},{path:"rest-fastify",title:"Fastify",component:w},{path:"rest-session",title:"Session",component:y},{path:"openapi",title:"OpenAPI",component:g},{path:"rest-aws-lambda",title:"Aws-Lambda",component:S}]},{path:"test",title:"Test",component:O,subs:[]},{path:"asset",title:"Asset",component:N,subs:[{path:"asset-mongo",title:"Mongo",component:L},{path:"asset-s3",title:"S3",component:D},{path:"asset-rest",title:"Rest",component:F}]},{path:"auth",title:"Auth",component:h,subs:[{path:"auth-model",title:"Model",component:U},{path:"auth-rest",title:"Rest",component:q},{path:"auth-passport",title:"Passport",component:B},{path:"jwt",title:"JWT",component:H}]},{path:"email",title:"Email",component:d,subs:[{path:"email-template",title:"Template",component:V},{path:"image",title:"Image",component:function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Fb({type:r,selectors:[["app-image"]],decls:282,vars:12,consts:[[1,"documentation"],[1,"install"],[1,"language-bash"],[1,"token","function"],["href","/docs/asset","title","Modular library for storing and retrieving binary assets",1,"module-link"],["href","/docs/email-template","title","Email templating module",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/command/src/command.ts#L11",1,"source-link"],["href","/docs/command","title","Support for executing complex commands at runtime.",1,"module-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/image/src/util.ts#L28",1,"source-link"],["target","_blank","href","https://imagemagick.org/index.php",1,"external-link"],["target","_blank","href","https://pngquant.org/",1,"external-link"],["target","_blank","href","https://github.com/tjko/jpegoptim",1,"external-link"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/image/alt/docs/src/resize.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","operator"],[1,"token","string"],[1,"token","punctuation"],[1,"token","class-name"],[1,"token","builtin"],[1,"token","regex"],[1,"token","parameter"],[1,"token","template-string"],[1,"token","template-punctuation","string"],[1,"token","interpolation"],[1,"token","interpolation-punctuation","punctuation"]],template:function(r,e){1&r&&(t.Ob(0,"div",0),t.Ob(1,"h1"),t.rc(2,"Image "),t.Ob(3,"small"),t.rc(4,"Image support, resizing, and optimization"),t.Nb(),t.Nb(),t.Ob(5,"figure",1),t.Ob(6,"figcaption",1),t.rc(7,"Install @travetto/image "),t.Nb(),t.Ob(8,"pre"),t.Ob(9,"code",2),t.Ob(10,"span",3),t.rc(11,"npm"),t.Nb(),t.rc(12," "),t.Ob(13,"span",3),t.rc(14,"install"),t.Nb(),t.rc(15," @travetto/image"),t.Nb(),t.Nb(),t.Nb(),t.rc(16," This module provides functionality for image resizing, and png optimization. This is primarily meant to be used in conjunction with other modules, like the "),t.Ob(17,"a",4),t.rc(18,"Asset"),t.Nb(),t.rc(19," module or the "),t.Ob(20,"a",5),t.rc(21,"Email Templating"),t.Nb(),t.rc(22," module. It can also be invoked directly as needed (as it can be very handy for batch processing images on the command line). The utility's primary structure revolves around the "),t.Ob(23,"a",6),t.rc(24,"CommandService"),t.Nb(),t.rc(25," from the "),t.Ob(26,"a",7),t.rc(27,"Command"),t.Nb(),t.rc(28," module. The "),t.Ob(29,"a",6),t.rc(30,"CommandService"),t.Nb(),t.rc(31," allows for declaration of a local executable, and a fall-back docker container (mainly meant for development). The "),t.Ob(32,"a",8),t.rc(33,"ImageUtil"),t.Nb(),t.rc(34," utilizes "),t.Ob(35,"a",9),t.rc(36,"ImageMagick"),t.Nb(),t.rc(37,", "),t.Ob(38,"a",10),t.rc(39,"pngquant"),t.Nb(),t.rc(40,", and "),t.Ob(41,"a",11),t.rc(42,"Jpegoptim"),t.Nb(),t.rc(43," as the backing for image resizing and png compression, respectively. "),t.Ob(44,"figure",12),t.Ob(45,"figcaption",12),t.rc(46,"Simple Image Resize "),t.Ob(47,"cite"),t.Ob(48,"a",13),t.rc(49,"Source"),t.Nb(),t.Nb(),t.Nb(),t.Ob(50,"pre"),t.Ob(51,"code",14),t.Ob(52,"span",15),t.rc(53,"import"),t.Nb(),t.rc(54," "),t.Ob(55,"span",16),t.rc(56,"*"),t.Nb(),t.rc(57," "),t.Ob(58,"span",15),t.rc(59,"as"),t.Nb(),t.rc(60," fs "),t.Ob(61,"span",15),t.rc(62,"from"),t.Nb(),t.rc(63," "),t.Ob(64,"span",17),t.rc(65,"'fs'"),t.Nb(),t.Ob(66,"span",18),t.rc(67,";"),t.Nb(),t.rc(68,"\n\n"),t.Ob(69,"span",15),t.rc(70,"import"),t.Nb(),t.rc(71," "),t.Ob(72,"span",18),t.rc(73),t.Nb(),t.rc(74," StreamUtil "),t.Ob(75,"span",18),t.rc(76),t.Nb(),t.rc(77," "),t.Ob(78,"span",15),t.rc(79,"from"),t.Nb(),t.rc(80," "),t.Ob(81,"span",17),t.rc(82,"'@travetto/boot'"),t.Nb(),t.Ob(83,"span",18),t.rc(84,";"),t.Nb(),t.rc(85,"\n"),t.Ob(86,"span",15),t.rc(87,"import"),t.Nb(),t.rc(88," "),t.Ob(89,"span",18),t.rc(90),t.Nb(),t.rc(91," ImageUtil "),t.Ob(92,"span",18),t.rc(93),t.Nb(),t.rc(94," "),t.Ob(95,"span",15),t.rc(96,"from"),t.Nb(),t.rc(97," "),t.Ob(98,"span",17),t.rc(99,"'@travetto/image/src/util'"),t.Nb(),t.Ob(100,"span",18),t.rc(101,";"),t.Nb(),t.rc(102,"\n\n"),t.Ob(103,"span",15),t.rc(104,"export"),t.Nb(),t.rc(105," "),t.Ob(106,"span",15),t.rc(107,"class"),t.Nb(),t.rc(108," "),t.Ob(109,"span",19),t.rc(110,"ResizeService"),t.Nb(),t.rc(111," "),t.Ob(112,"span",18),t.rc(113),t.Nb(),t.rc(114,"\n  "),t.Ob(115,"span",15),t.rc(116,"async"),t.Nb(),t.rc(117," "),t.Ob(118,"span",3),t.rc(119,"resizeImage"),t.Nb(),t.Ob(120,"span",18),t.rc(121,"("),t.Nb(),t.rc(122,"imgPath"),t.Ob(123,"span",16),t.rc(124,":"),t.Nb(),t.rc(125," "),t.Ob(126,"span",20),t.rc(127,"string"),t.Nb(),t.Ob(128,"span",18),t.rc(129,","),t.Nb(),t.rc(130," width"),t.Ob(131,"span",16),t.rc(132,":"),t.Nb(),t.rc(133," "),t.Ob(134,"span",20),t.rc(135,"number"),t.Nb(),t.Ob(136,"span",18),t.rc(137,","),t.Nb(),t.rc(138," height"),t.Ob(139,"span",16),t.rc(140,":"),t.Nb(),t.rc(141," "),t.Ob(142,"span",20),t.rc(143,"number"),t.Nb(),t.Ob(144,"span",18),t.rc(145,")"),t.Nb(),t.Ob(146,"span",16),t.rc(147,":"),t.Nb(),t.rc(148," "),t.Ob(149,"span",20),t.rc(150,"Promise"),t.Nb(),t.Ob(151,"span",16),t.rc(152,"<"),t.Nb(),t.Ob(153,"span",20),t.rc(154,"string"),t.Nb(),t.Ob(155,"span",16),t.rc(156,">"),t.Nb(),t.rc(157," "),t.Ob(158,"span",18),t.rc(159),t.Nb(),t.rc(160,"\n    "),t.Ob(161,"span",15),t.rc(162,"const"),t.Nb(),t.rc(163," stream "),t.Ob(164,"span",16),t.rc(165,"="),t.Nb(),t.rc(166," "),t.Ob(167,"span",15),t.rc(168,"await"),t.Nb(),t.rc(169," ImageUtil"),t.Ob(170,"span",18),t.rc(171,"."),t.Nb(),t.Ob(172,"span",3),t.rc(173,"resize"),t.Nb(),t.Ob(174,"span",18),t.rc(175,"("),t.Nb(),t.rc(176,"fs"),t.Ob(177,"span",18),t.rc(178,"."),t.Nb(),t.Ob(179,"span",3),t.rc(180,"createReadStream"),t.Nb(),t.Ob(181,"span",18),t.rc(182,"("),t.Nb(),t.rc(183,"imgPath"),t.Ob(184,"span",18),t.rc(185,")"),t.Nb(),t.Ob(186,"span",18),t.rc(187,","),t.Nb(),t.rc(188," "),t.Ob(189,"span",18),t.rc(190),t.Nb(),t.rc(191," w"),t.Ob(192,"span",16),t.rc(193,":"),t.Nb(),t.rc(194," width"),t.Ob(195,"span",18),t.rc(196,","),t.Nb(),t.rc(197," h"),t.Ob(198,"span",16),t.rc(199,":"),t.Nb(),t.rc(200," height "),t.Ob(201,"span",18),t.rc(202),t.Nb(),t.Ob(203,"span",18),t.rc(204,")"),t.Nb(),t.Ob(205,"span",18),t.rc(206,";"),t.Nb(),t.rc(207,"\n    "),t.Ob(208,"span",15),t.rc(209,"const"),t.Nb(),t.rc(210," out "),t.Ob(211,"span",16),t.rc(212,"="),t.Nb(),t.rc(213," imgPath"),t.Ob(214,"span",18),t.rc(215,"."),t.Nb(),t.Ob(216,"span",3),t.rc(217,"replace"),t.Nb(),t.Ob(218,"span",18),t.rc(219,"("),t.Nb(),t.Ob(220,"span",21),t.rc(221,"/[.][^.]+$/"),t.Nb(),t.Ob(222,"span",18),t.rc(223,","),t.Nb(),t.rc(224," "),t.Ob(225,"span",18),t.rc(226,"("),t.Nb(),t.Ob(227,"span",22),t.rc(228,"ext"),t.Nb(),t.Ob(229,"span",18),t.rc(230,")"),t.Nb(),t.rc(231," "),t.Ob(232,"span",16),t.rc(233,"=>"),t.Nb(),t.rc(234," "),t.Ob(235,"span",23),t.Ob(236,"span",24),t.rc(237,"`"),t.Nb(),t.Ob(238,"span",17),t.rc(239,".resized"),t.Nb(),t.Ob(240,"span",25),t.Ob(241,"span",26),t.rc(242),t.Nb(),t.rc(243,"ext"),t.Ob(244,"span",26),t.rc(245),t.Nb(),t.Nb(),t.Ob(246,"span",24),t.rc(247,"`"),t.Nb(),t.Nb(),t.Ob(248,"span",18),t.rc(249,")"),t.Nb(),t.Ob(250,"span",18),t.rc(251,";"),t.Nb(),t.rc(252,"\n    "),t.Ob(253,"span",15),t.rc(254,"await"),t.Nb(),t.rc(255," StreamUtil"),t.Ob(256,"span",18),t.rc(257,"."),t.Nb(),t.Ob(258,"span",3),t.rc(259,"writeToFile"),t.Nb(),t.Ob(260,"span",18),t.rc(261,"("),t.Nb(),t.rc(262,"stream"),t.Ob(263,"span",18),t.rc(264,","),t.Nb(),t.rc(265," out"),t.Ob(266,"span",18),t.rc(267,")"),t.Nb(),t.Ob(268,"span",18),t.rc(269,";"),t.Nb(),t.rc(270,"\n    "),t.Ob(271,"span",15),t.rc(272,"return"),t.Nb(),t.rc(273," out"),t.Ob(274,"span",18),t.rc(275,";"),t.Nb(),t.rc(276,"\n  "),t.Ob(277,"span",18),t.rc(278),t.Nb(),t.rc(279,"\n"),t.Ob(280,"span",18),t.rc(281),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Nb()),2&r&&(t.zb(73),t.sc("{"),t.zb(3),t.sc("}"),t.zb(14),t.sc("{"),t.zb(3),t.sc("}"),t.zb(20),t.sc("{"),t.zb(46),t.sc("{"),t.zb(31),t.sc("{"),t.zb(12),t.sc("}"),t.zb(40),t.tc("$","{",""),t.zb(3),t.sc("}"),t.zb(33),t.sc("}"),t.zb(3),t.sc("}"))},styles:[""]}),r}()}]},{path:"core",title:"Core Components",component:K,subs:[{path:"boot",title:"Boot",component:z},{path:"base",title:"Base",component:C},{path:"compiler",title:"Compiler",component:j},{path:"registry",title:"Registry",component:T},{path:"transformer",title:"Transformer",component:Y}]},{path:"utils",title:"Common Utilities",component:J,subs:[{path:"log",title:"Log",component:E},{path:"cache",title:"Cache",component:P},{path:"command",title:"Command",component:A},{path:"context",title:"Context",component:x},{path:"worker",title:"Worker",component:I},{path:"net",title:"Net",component:R},{path:"watch",title:"Watch",component:M}]}]},ReuC:function(r,e,n){"use strict";n.d(e,"a",(function(){return c}));var t=n("foSv");function c(r,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(r,e,n){var c=function(r,e){for(;!Object.prototype.hasOwnProperty.call(r,e)&&null!==(r=Object(t.a)(r)););return r}(r,e);if(c){var a=Object.getOwnPropertyDescriptor(c,e);return a.get?a.get.call(n):a.value}})(r,e,n||r)}},SeVD:function(r,e,n){"use strict";n.d(e,"a",(function(){return p}));var t=n("ngJS"),c=n("NJ4a"),a=n("Lhse"),s=n("kJWO"),b=n("I55L"),i=n("c2HN"),o=n("XoHu"),p=function(r){if(r&&"function"==typeof r[s.a])return p=r,function(r){var e=p[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(r)};if(Object(b.a)(r))return Object(t.a)(r);if(Object(i.a)(r))return n=r,function(r){return n.then((function(e){r.closed||(r.next(e),r.complete())}),(function(e){return r.error(e)})).then(null,c.a),r};if(r&&"function"==typeof r[a.a])return e=r,function(r){for(var n=e[a.a]();;){var t=void 0;try{t=n.next()}catch(c){return r.error(c),r}if(t.done){r.complete();break}if(r.next(t.value),r.closed)break}return"function"==typeof n.return&&r.add((function(){n.return&&n.return()})),r};var e,n,p,l=Object(o.a)(r)?"an invalid object":"'".concat(r,"'"),u="You provided ".concat(l," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(u)}},SpAZ:function(r,e,n){"use strict";function t(r){return r}n.d(e,"a",(function(){return t}))},VRyK:function(r,e,n){"use strict";n.d(e,"a",(function(){return b}));var t=n("HDdC"),c=n("z+Ro"),a=n("bHdf"),s=n("yCtX");function b(){for(var r=Number.POSITIVE_INFINITY,e=null,n=arguments.length,b=new Array(n),i=0;i<n;i++)b[i]=arguments[i];var o=b[b.length-1];return Object(c.a)(o)?(e=b.pop(),b.length>1&&"number"==typeof b[b.length-1]&&(r=b.pop())):"number"==typeof o&&(r=b.pop()),null===e&&1===b.length&&b[0]instanceof t.a?b[0]:Object(a.a)(r)(Object(s.a)(b,e))}},XNiG:function(r,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return d}));var t=n("vuIU"),c=n("ReuC"),a=n("foSv"),s=n("1OyB"),b=n("Ji7U"),i=n("LK+K"),o=n("HDdC"),p=n("7o/Q"),l=n("quSY"),u=n("9ppp"),O=n("Ylt2"),N=n("2QA8"),h=function(r){Object(b.a)(n,r);var e=Object(i.a)(n);function n(r){var t;return Object(s.a)(this,n),(t=e.call(this,r)).destination=r,t}return n}(p.a),d=function(){var r=function(r){Object(b.a)(n,r);var e=Object(i.a)(n);function n(){var r;return Object(s.a)(this,n),(r=e.call(this)).observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return Object(t.a)(n,[{key:N.a,value:function(){return new h(this)}},{key:"lift",value:function(r){var e=new f(this,this);return e.operator=r,e}},{key:"next",value:function(r){if(this.closed)throw new u.a;if(!this.isStopped)for(var e=this.observers,n=e.length,t=e.slice(),c=0;c<n;c++)t[c].next(r)}},{key:"error",value:function(r){if(this.closed)throw new u.a;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var e=this.observers,n=e.length,t=e.slice(),c=0;c<n;c++)t[c].error(r);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new u.a;this.isStopped=!0;for(var r=this.observers,e=r.length,n=r.slice(),t=0;t<e;t++)n[t].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(r){if(this.closed)throw new u.a;return Object(c.a)(Object(a.a)(n.prototype),"_trySubscribe",this).call(this,r)}},{key:"_subscribe",value:function(r){if(this.closed)throw new u.a;return this.hasError?(r.error(this.thrownError),l.a.EMPTY):this.isStopped?(r.complete(),l.a.EMPTY):(this.observers.push(r),new O.a(this,r))}},{key:"asObservable",value:function(){var r=new o.a;return r.source=this,r}}]),n}(o.a);return r.create=function(r,e){return new f(r,e)},r}(),f=function(r){Object(b.a)(n,r);var e=Object(i.a)(n);function n(r,t){var c;return Object(s.a)(this,n),(c=e.call(this)).destination=r,c.source=t,c}return Object(t.a)(n,[{key:"next",value:function(r){var e=this.destination;e&&e.next&&e.next(r)}},{key:"error",value:function(r){var e=this.destination;e&&e.error&&this.destination.error(r)}},{key:"complete",value:function(){var r=this.destination;r&&r.complete&&this.destination.complete()}},{key:"_subscribe",value:function(r){return this.source?this.source.subscribe(r):l.a.EMPTY}}]),n}(d)},XoHu:function(r,e,n){"use strict";function t(r){return null!==r&&"object"==typeof r}n.d(e,"a",(function(){return t}))},Ylt2:function(r,e,n){"use strict";n.d(e,"a",(function(){return b}));var t=n("1OyB"),c=n("vuIU"),a=n("Ji7U"),s=n("LK+K"),b=function(r){Object(a.a)(n,r);var e=Object(s.a)(n);function n(r,c){var a;return Object(t.a)(this,n),(a=e.call(this)).subject=r,a.subscriber=c,a.closed=!1,a}return Object(c.a)(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var r=this.subject,e=r.observers;if(this.subject=null,e&&0!==e.length&&!r.isStopped&&!r.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(r,e,n){"use strict";n.d(e,"a",(function(){return s}));var t=n("51Dv"),c=n("SeVD"),a=n("HDdC");function s(r,e,n,s){var b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new t.a(r,n,s);if(!b.closed)return e instanceof a.a?e.subscribe(b):Object(c.a)(e)(b)}},a3WO:function(r,e,n){"use strict";function t(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}n.d(e,"a",(function(){return t}))},bHdf:function(r,e,n){"use strict";n.d(e,"a",(function(){return a}));var t=n("5+tZ"),c=n("SpAZ");function a(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(t.a)(c.a,r)}},bOdf:function(r,e,n){"use strict";n.d(e,"a",(function(){return c}));var t=n("5+tZ");function c(r,e){return Object(t.a)(r,e,1)}},c2HN:function(r,e,n){"use strict";function t(r){return!!r&&"function"!=typeof r.subscribe&&"function"==typeof r.then}n.d(e,"a",(function(){return t}))},crnd:function(r,e){function n(r){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+r+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,r.exports=n,n.id="crnd"},eIep:function(r,e,n){"use strict";n.d(e,"a",(function(){return N}));var t=n("ReuC"),c=n("foSv"),a=n("Ji7U"),s=n("LK+K"),b=n("1OyB"),i=n("vuIU"),o=n("l7GE"),p=n("51Dv"),l=n("ZUHj"),u=n("lJxs"),O=n("Cfvw");function N(r,e){return"function"==typeof e?function(n){return n.pipe(N((function(n,t){return Object(O.a)(r(n,t)).pipe(Object(u.a)((function(r,c){return e(n,r,t,c)})))})))}:function(e){return e.lift(new h(r))}}var h=function(){function r(e){Object(b.a)(this,r),this.project=e}return Object(i.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new d(r,this.project))}}]),r}(),d=function(r){Object(a.a)(n,r);var e=Object(s.a)(n);function n(r,t){var c;return Object(b.a)(this,n),(c=e.call(this,r)).project=t,c.index=0,c}return Object(i.a)(n,[{key:"_next",value:function(r){var e,n=this.index++;try{e=this.project(r,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,r,n)}},{key:"_innerSub",value:function(r,e,n){var t=this.innerSubscription;t&&t.unsubscribe();var c=new p.a(this,e,n),a=this.destination;a.add(c),this.innerSubscription=Object(l.a)(this,r,void 0,void 0,c),this.innerSubscription!==c&&a.add(this.innerSubscription)}},{key:"_complete",value:function(){var r=this.innerSubscription;r&&!r.closed||Object(t.a)(Object(c.a)(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(r){this.destination.remove(r),this.innerSubscription=null,this.isStopped&&Object(t.a)(Object(c.a)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(r,e,n,t,c){this.destination.next(e)}}]),n}(o.a)},fXoL:function(r,e,n){"use strict";n.d(e,"a",(function(){return Za})),n.d(e,"b",(function(){return co})),n.d(e,"c",(function(){return Xi})),n.d(e,"d",(function(){return Zi})),n.d(e,"e",(function(){return Yi})),n.d(e,"f",(function(){return Zo})),n.d(e,"g",(function(){return qo})),n.d(e,"h",(function(){return Pa})),n.d(e,"i",(function(){return ho})),n.d(e,"j",(function(){return Cb})),n.d(e,"k",(function(){return bo})),n.d(e,"l",(function(){return jb})),n.d(e,"m",(function(){return Wn})),n.d(e,"n",(function(){return ji})),n.d(e,"o",(function(){return Nr})),n.d(e,"p",(function(){return E})),n.d(e,"q",(function(){return Or})),n.d(e,"r",(function(){return Ja})),n.d(e,"s",(function(){return Qb})),n.d(e,"t",(function(){return Kb})),n.d(e,"u",(function(){return so})),n.d(e,"v",(function(){return xr})),n.d(e,"w",(function(){return Ho})),n.d(e,"x",(function(){return jr})),n.d(e,"y",(function(){return Io})),n.d(e,"z",(function(){return vo})),n.d(e,"A",(function(){return P})),n.d(e,"B",(function(){return to})),n.d(e,"C",(function(){return no})),n.d(e,"D",(function(){return Ti})),n.d(e,"E",(function(){return Pb})),n.d(e,"F",(function(){return Tb})),n.d(e,"G",(function(){return Eb})),n.d(e,"H",(function(){return Ib})),n.d(e,"I",(function(){return At})),n.d(e,"J",(function(){return I})),n.d(e,"K",(function(){return Go})),n.d(e,"L",(function(){return Yb})),n.d(e,"M",(function(){return Co})),n.d(e,"N",(function(){return Ia})),n.d(e,"O",(function(){return Rb})),n.d(e,"P",(function(){return ri})),n.d(e,"Q",(function(){return Dr})),n.d(e,"R",(function(){return Mo})),n.d(e,"S",(function(){return ot})),n.d(e,"T",(function(){return Z})),n.d(e,"U",(function(){return _r})),n.d(e,"V",(function(){return it})),n.d(e,"W",(function(){return $o})),n.d(e,"X",(function(){return xo})),n.d(e,"Y",(function(){return ao})),n.d(e,"Z",(function(){return Ra})),n.d(e,"ab",(function(){return di})),n.d(e,"bb",(function(){return Et})),n.d(e,"cb",(function(){return Nt})),n.d(e,"db",(function(){return Xn})),n.d(e,"eb",(function(){return et})),n.d(e,"fb",(function(){return at})),n.d(e,"gb",(function(){return tt})),n.d(e,"hb",(function(){return nt})),n.d(e,"ib",(function(){return ct})),n.d(e,"jb",(function(){return ui})),n.d(e,"kb",(function(){return Ko})),n.d(e,"lb",(function(){return Oi})),n.d(e,"mb",(function(){return Ni})),n.d(e,"nb",(function(){return rt})),n.d(e,"ob",(function(){return ar})),n.d(e,"pb",(function(){return ns})),n.d(e,"qb",(function(){return gs})),n.d(e,"rb",(function(){return vs})),n.d(e,"sb",(function(){return li})),n.d(e,"tb",(function(){return ie})),n.d(e,"ub",(function(){return K})),n.d(e,"vb",(function(){return Yn})),n.d(e,"wb",(function(){return sb})),n.d(e,"xb",(function(){return ub})),n.d(e,"yb",(function(){return _b})),n.d(e,"zb",(function(){return nc})),n.d(e,"Ab",(function(){return is})),n.d(e,"Bb",(function(){return Us})),n.d(e,"Cb",(function(){return Fs})),n.d(e,"Db",(function(){return ks})),n.d(e,"Eb",(function(){return Hi})),n.d(e,"Fb",(function(){return Br})),n.d(e,"Gb",(function(){return $r})),n.d(e,"Hb",(function(){return D})),n.d(e,"Ib",(function(){return F})),n.d(e,"Jb",(function(){return Gr})),n.d(e,"Kb",(function(){return Jr})),n.d(e,"Lb",(function(){return ls})),n.d(e,"Mb",(function(){return fs})),n.d(e,"Nb",(function(){return ds})),n.d(e,"Ob",(function(){return hs})),n.d(e,"Pb",(function(){return ms})),n.d(e,"Qb",(function(){return qn})),n.d(e,"Rb",(function(){return tb})),n.d(e,"Sb",(function(){return kr})),n.d(e,"Tb",(function(){return us})),n.d(e,"Ub",(function(){return Ji})),n.d(e,"Vb",(function(){return ys})),n.d(e,"Wb",(function(){return Gi})),n.d(e,"Xb",(function(){return Cs})),n.d(e,"Yb",(function(){return zi})),n.d(e,"Zb",(function(){return Ci})),n.d(e,"ac",(function(){return Ts})),n.d(e,"bc",(function(){return xs})),n.d(e,"cc",(function(){return Os})),n.d(e,"dc",(function(){return yi})),n.d(e,"ec",(function(){return ki})),n.d(e,"fc",(function(){return _i})),n.d(e,"gc",(function(){return Fi})),n.d(e,"hc",(function(){return ps})),n.d(e,"ic",(function(){return yn})),n.d(e,"jc",(function(){return je})),n.d(e,"kc",(function(){return It})),n.d(e,"lc",(function(){return Rt})),n.d(e,"mc",(function(){return Qr})),n.d(e,"nc",(function(){return Vi})),n.d(e,"oc",(function(){return Ui})),n.d(e,"pc",(function(){return Ds})),n.d(e,"qc",(function(){return os})),n.d(e,"rc",(function(){return Zs})),n.d(e,"sc",(function(){return Ys})),n.d(e,"tc",(function(){return Xs})),n.d(e,"uc",(function(){return rb})),n.d(e,"vc",(function(){return eb})),n.d(e,"wc",(function(){return nb})),n.d(e,"xc",(function(){return cb})),n.d(e,"yc",(function(){return qi}));var t=n("ReuC"),c=n("foSv"),a=n("JX7q"),s=n("ODXe"),b=n("KQm4");n("rePB"),n("DSFK"),n("25BE"),n("BsWD"),n("PYwp");var i=n("uFwe"),o=n("Ji7U"),p=n("LK+K"),l=n("1OyB"),u=n("vuIU"),O=n("s4An"),N=n("2WcH");function h(r,e,n){return(h=Object(N.a)()?Reflect.construct:function(r,e,n){var t=[null];t.push.apply(t,e);var c=new(Function.bind.apply(r,t));return n&&Object(O.a)(c,n.prototype),c}).apply(null,arguments)}var d=n("quSY"),f=n("XNiG"),m=n("HDdC"),v=n("VRyK"),g=n("7o/Q");function y(){return function(r){return r.lift(new k(r))}}var k=function(){function r(e){Object(l.a)(this,r),this.connectable=e}return Object(u.a)(r,[{key:"call",value:function(r,e){var n=this.connectable;n._refCount++;var t=new _(r,n),c=e.subscribe(t);return t.closed||(t.connection=n.connect()),c}}]),r}(),_=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;return Object(l.a)(this,n),(c=e.call(this,r)).connectable=t,c}return Object(u.a)(n,[{key:"_unsubscribe",value:function(){var r=this.connectable;if(r){this.connectable=null;var e=r._refCount;if(e<=0)this.connection=null;else if(r._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,t=r._connection;this.connection=null,!t||n&&t!==n||t.unsubscribe()}}else this.connection=null}}]),n}(g.a),w=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;return Object(l.a)(this,n),(c=e.call(this)).source=r,c.subjectFactory=t,c._refCount=0,c._isComplete=!1,c}return Object(u.a)(n,[{key:"_subscribe",value:function(r){return this.getSubject().subscribe(r)}},{key:"getSubject",value:function(){var r=this._subject;return r&&!r.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var r=this._connection;return r||(this._isComplete=!1,(r=this._connection=new d.a).add(this.source.subscribe(new z(this.getSubject(),this))),r.closed&&(this._connection=null,r=d.a.EMPTY)),r}},{key:"refCount",value:function(){return y()(this)}}]),n}(m.a),S=function(){var r=w.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}(),z=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;return Object(l.a)(this,n),(c=e.call(this,r)).connectable=t,c}return Object(u.a)(n,[{key:"_error",value:function(r){this._unsubscribe(),Object(t.a)(Object(c.a)(n.prototype),"_error",this).call(this,r)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),Object(t.a)(Object(c.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var r=this.connectable;if(r){this.connectable=null;var e=r._connection;r._refCount=0,r._subject=null,r._connection=null,e&&e.unsubscribe()}}}]),n}(f.b);function C(){return new f.a}function j(r){return{toString:r}.toString()}var x="__parameters__";function T(r,e,n){return j((function(){var t=function(r){return function(){if(r){var e=r.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function c(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];if(this instanceof c)return t.apply(this,e),this;var a=h(c,e);return s.annotation=a,s;function s(r,e,n){for(var t=r.hasOwnProperty(x)?r[x]:Object.defineProperty(r,x,{value:[]})[x];t.length<=n;)t.push(null);return(t[n]=t[n]||[]).push(a),r}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c}))}var E=T("Inject",(function(r){return{token:r}})),P=T("Optional"),A=T("Self"),I=T("SkipSelf"),R=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}({});function M(r){for(var e in r)if(r[e]===M)return e;throw Error("Could not find renamed property on target object.")}function L(r,e){for(var n in e)e.hasOwnProperty(n)&&!r.hasOwnProperty(n)&&(r[n]=e[n])}function D(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function F(r){return{factory:r.factory,providers:r.providers||[],imports:r.imports||[]}}function U(r){return q(r,r[H])||q(r,r[G])}function q(r,e){return e&&e.token===r?e:null}function B(r){return r&&(r.hasOwnProperty(V)||r.hasOwnProperty(Q))?r[V]:null}var H=M({"\u0275prov":M}),V=M({"\u0275inj":M}),W=M({"\u0275provFallback":M}),G=M({ngInjectableDef:M}),Q=M({ngInjectorDef:M});function K(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(K).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return"".concat(r.overriddenName);if(r.name)return"".concat(r.name);var e=r.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function $(r,e){return null==r||""===r?null===e?"":e:null==e||""===e?r:r+" "+e}var J=M({__forward_ref__:M});function Z(r){return r.__forward_ref__=Z,r.toString=function(){return K(this())},r}function Y(r){return X(r)?r():r}function X(r){return"function"==typeof r&&r.hasOwnProperty(J)&&r.__forward_ref__===Z}var rr,er="undefined"!=typeof globalThis&&globalThis,nr="undefined"!=typeof window&&window,tr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,cr="undefined"!=typeof global&&global,ar=er||cr||nr||tr,sr=M({"\u0275cmp":M}),br=M({"\u0275dir":M}),ir=M({"\u0275pipe":M}),or=M({"\u0275mod":M}),pr=M({"\u0275loc":M}),lr=M({"\u0275fac":M}),ur=M({__NG_ELEMENT_ID__:M}),Or=function(){function r(e,n){Object(l.a)(this,r),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return Object(u.a)(r,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),r}(),Nr=new Or("INJECTOR",-1),hr={},dr=/\n/gm,fr=M({provide:String,useValue:M}),mr=void 0;function vr(r){var e=mr;return mr=r,e}function gr(r){var e=rr;return rr=r,e}function yr(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.Default;if(void 0===mr)throw new Error("inject() must be called from an injection context");return null===mr?wr(r,void 0,e):mr.get(r,e&R.Optional?null:void 0,e)}function kr(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.Default;return(rr||yr)(Y(r),e)}var _r=kr;function wr(r,e,n){var t=U(r);if(t&&"root"==t.providedIn)return void 0===t.value?t.value=t.factory():t.value;if(n&R.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(K(r),"]"))}function Sr(r){for(var e=[],n=0;n<r.length;n++){var t=Y(r[n]);if(Array.isArray(t)){if(0===t.length)throw new Error("Arguments array must have arguments.");for(var c=void 0,a=R.Default,s=0;s<t.length;s++){var b=t[s];b instanceof P||"Optional"===b.ngMetadataName||b===P?a|=R.Optional:b instanceof I||"SkipSelf"===b.ngMetadataName||b===I?a|=R.SkipSelf:b instanceof A||"Self"===b.ngMetadataName||b===A?a|=R.Self:c=b instanceof E||b===E?b.token:b}e.push(kr(c,a))}else e.push(kr(t))}return e}var zr=function(){function r(){Object(l.a)(this,r)}return Object(u.a)(r,[{key:"get",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hr;if(e===hr){var n=new Error("NullInjectorError: No provider for ".concat(K(r),"!"));throw n.name="NullInjectorError",n}return e}}]),r}();function Cr(r,e,n,t){var c=r.ngTempTokenPath;throw e.__source&&c.unshift(e.__source),r.message=function(r,e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;var c=K(e);if(Array.isArray(e))c=e.map(K).join(" -> ");else if("object"==typeof e){var a=[];for(var s in e)if(e.hasOwnProperty(s)){var b=e[s];a.push(s+":"+("string"==typeof b?JSON.stringify(b):K(b)))}c="{".concat(a.join(", "),"}")}return"".concat(n).concat(t?"("+t+")":"","[").concat(c,"]: ").concat(r.replace(dr,"\n  "))}("\n"+r.message,c,n,t),r.ngTokenPath=c,r.ngTempTokenPath=null,r}var jr=function r(){Object(l.a)(this,r)},xr=function r(){Object(l.a)(this,r)};function Tr(r,e){r.forEach((function(r){return Array.isArray(r)?Tr(r,e):e(r)}))}function Er(r,e,n){e>=r.length?r.push(n):r.splice(e,0,n)}function Pr(r,e){return e>=r.length-1?r.pop():r.splice(e,1)[0]}function Ar(r,e){for(var n=[],t=0;t<r;t++)n.push(e);return n}function Ir(r,e,n){var t=Mr(r,e);return t>=0?r[1|t]=n:function(r,e,n,t){var c=r.length;if(c==e)r.push(n,t);else if(1===c)r.push(t,r[0]),r[0]=n;else{for(c--,r.push(r[c-1],r[c]);c>e;)r[c]=r[c-2],c--;r[e]=n,r[e+1]=t}}(r,t=~t,e,n),t}function Rr(r,e){var n=Mr(r,e);if(n>=0)return r[1|n]}function Mr(r,e){return function(r,e,n){for(var t=0,c=r.length>>1;c!==t;){var a=t+(c-t>>1),s=r[a<<1];if(e===s)return a<<1;s>e?c=a:t=a+1}return~(c<<1)}(r,e)}var Lr=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}({}),Dr=function(r){return r[r.Emulated=0]="Emulated",r[r.Native=1]="Native",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}({}),Fr={},Ur=[],qr=0;function Br(r){return j((function(){var e=r.type,n=e.prototype,t={},c={type:e,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:r.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:r.changeDetection===Lr.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ur,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Dr.Emulated,id:"c",styles:r.styles||Ur,_:null,setInput:null,schemas:r.schemas||null,tView:null},a=r.directives,s=r.features,b=r.pipes;return c.id+=qr++,c.inputs=Kr(r.inputs,t),c.outputs=Kr(r.outputs),s&&s.forEach((function(r){return r(c)})),c.directiveDefs=a?function(){return("function"==typeof a?a():a).map(Hr)}:null,c.pipeDefs=b?function(){return("function"==typeof b?b():b).map(Vr)}:null,c}))}function Hr(r){return Zr(r)||function(r){return r[br]||null}(r)}function Vr(r){return function(r){return r[ir]||null}(r)}var Wr={};function Gr(r){var e={type:r.type,bootstrap:r.bootstrap||Ur,declarations:r.declarations||Ur,imports:r.imports||Ur,exports:r.exports||Ur,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&j((function(){Wr[r.id]=r.type})),e}function Qr(r,e){return j((function(){var n=Xr(r,!0);n.declarations=e.declarations||Ur,n.imports=e.imports||Ur,n.exports=e.exports||Ur}))}function Kr(r,e){if(null==r)return Fr;var n={};for(var t in r)if(r.hasOwnProperty(t)){var c=r[t],a=c;Array.isArray(c)&&(a=c[1],c=c[0]),n[c]=t,e&&(e[c]=a)}return n}var $r=Br;function Jr(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Zr(r){return r[sr]||null}function Yr(r,e){return r.hasOwnProperty(lr)?r[lr]:null}function Xr(r,e){var n=r[or]||null;if(!n&&!0===e)throw new Error("Type ".concat(K(r)," does not have '\u0275mod' property."));return n}function re(r){return Array.isArray(r)&&"object"==typeof r[1]}function ee(r){return Array.isArray(r)&&!0===r[1]}function ne(r){return 0!=(8&r.flags)}function te(r){return 2==(2&r.flags)}function ce(r){return 1==(1&r.flags)}function ae(r){return null!==r.template}function se(r){return 0!=(512&r[2])}var be=void 0;function ie(r){be=r}function oe(){return void 0!==be?be:"undefined"!=typeof document?document:void 0}function pe(r){return!!r.listen}var le={createRenderer:function(r,e){return oe()}};function ue(r){for(;Array.isArray(r);)r=r[0];return r}function Oe(r,e){return ue(e[r+20])}function Ne(r,e){return ue(e[r.index])}function he(r,e){return r.data[e+20]}function de(r,e){return r[e+20]}function fe(r,e){var n=e[r];return re(n)?n:n[0]}function me(r){var e=function(r){return r.__ngContext__||null}(r);return e?Array.isArray(e)?e:e.lView:null}function ve(r){return 4==(4&r[2])}function ge(r){return 128==(128&r[2])}function ye(r,e){return null===r||null==e?null:r[e]}function ke(r){r[18]=0}function _e(r,e){r[5]+=e;for(var n=r,t=r[3];null!==t&&(1===e&&1===n[5]||-1===e&&0===n[5]);)t[5]+=e,n=t,t=t[3]}var we={lFrame:Qe(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Se(){return we.bindingsEnabled}function ze(){return we.lFrame.lView}function Ce(){return we.lFrame.tView}function je(r){we.lFrame.contextLView=r}function xe(){return we.lFrame.previousOrParentTNode}function Te(r,e){we.lFrame.previousOrParentTNode=r,we.lFrame.isParent=e}function Ee(){return we.lFrame.isParent}function Pe(){we.lFrame.isParent=!1}function Ae(){return we.checkNoChangesMode}function Ie(r){we.checkNoChangesMode=r}function Re(){var r=we.lFrame,e=r.bindingRootIndex;return-1===e&&(e=r.bindingRootIndex=r.tView.bindingStartIndex),e}function Me(){return we.lFrame.bindingIndex}function Le(){return we.lFrame.bindingIndex++}function De(r){var e=we.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+r,n}function Fe(r,e){var n=we.lFrame;n.bindingIndex=n.bindingRootIndex=r,Ue(e)}function Ue(r){we.lFrame.currentDirectiveIndex=r}function qe(r){var e=we.lFrame.currentDirectiveIndex;return-1===e?null:r[e]}function Be(){return we.lFrame.currentQueryIndex}function He(r){we.lFrame.currentQueryIndex=r}function Ve(r,e){var n=Ge();we.lFrame=n,n.previousOrParentTNode=e,n.lView=r}function We(r,e){var n=Ge(),t=r[1];we.lFrame=n,n.previousOrParentTNode=e,n.lView=r,n.tView=t,n.contextLView=r,n.bindingIndex=t.bindingStartIndex}function Ge(){var r=we.lFrame,e=null===r?null:r.child;return null===e?Qe(r):e}function Qe(r){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null};return null!==r&&(r.child=e),e}function Ke(){var r=we.lFrame;return we.lFrame=r.parent,r.previousOrParentTNode=null,r.lView=null,r}var $e=Ke;function Je(){var r=Ke();r.isParent=!0,r.tView=null,r.selectedIndex=0,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Ze(r){return(we.lFrame.contextLView=function(r,e){for(;r>0;)e=e[15],r--;return e}(r,we.lFrame.contextLView))[8]}function Ye(){return we.lFrame.selectedIndex}function Xe(r){we.lFrame.selectedIndex=r}function rn(){var r=we.lFrame;return he(r.tView,r.selectedIndex)}function en(r,e){for(var n=e.directiveStart,t=e.directiveEnd;n<t;n++){var c=r.data[n];c.afterContentInit&&(r.contentHooks||(r.contentHooks=[])).push(-n,c.afterContentInit),c.afterContentChecked&&((r.contentHooks||(r.contentHooks=[])).push(n,c.afterContentChecked),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(n,c.afterContentChecked)),c.afterViewInit&&(r.viewHooks||(r.viewHooks=[])).push(-n,c.afterViewInit),c.afterViewChecked&&((r.viewHooks||(r.viewHooks=[])).push(n,c.afterViewChecked),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(n,c.afterViewChecked)),null!=c.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(n,c.onDestroy)}}function nn(r,e,n){an(r,e,3,n)}function tn(r,e,n,t){(3&r[2])===n&&an(r,e,n,t)}function cn(r,e){var n=r[2];(3&n)===e&&(n&=2047,r[2]=n+=1)}function an(r,e,n,t){for(var c=null!=t?t:-1,a=0,s=void 0!==t?65535&r[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=t&&a>=t)break}else e[s]<0&&(r[18]+=65536),(a<c||-1==c)&&(sn(r,n,e,s),r[18]=(4294901760&r[18])+s+2),s++}function sn(r,e,n,t){var c=n[t]<0,a=n[t+1],s=r[c?-n[t]:n[t]];c?r[2]>>11<r[18]>>16&&(3&r[2])===e&&(r[2]+=2048,a.call(s)):a.call(s)}var bn=function r(e,n,t){Object(l.a)(this,r),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=t};function on(r,e,n){for(var t=pe(r),c=0;c<n.length;){var a=n[c];if("number"==typeof a){if(0!==a)break;c++;var s=n[c++],b=n[c++],i=n[c++];t?r.setAttribute(e,b,i,s):e.setAttributeNS(s,b,i)}else{var o=a,p=n[++c];ln(o)?t&&r.setProperty(e,o,p):t?r.setAttribute(e,o,p):e.setAttribute(o,p),c++}}return c}function pn(r){return 3===r||4===r||6===r}function ln(r){return 64===r.charCodeAt(0)}function un(r,e){if(null===e||0===e.length);else if(null===r||0===r.length)r=e.slice();else for(var n=-1,t=0;t<e.length;t++){var c=e[t];"number"==typeof c?n=c:0===n||On(r,n,c,null,-1===n||2===n?e[++t]:null)}return r}function On(r,e,n,t,c){var a=0,s=r.length;if(-1===e)s=-1;else for(;a<r.length;){var b=r[a++];if("number"==typeof b){if(b===e){s=-1;break}if(b>e){s=a-1;break}}}for(;a<r.length;){var i=r[a];if("number"==typeof i)break;if(i===n){if(null===t)return void(null!==c&&(r[a+1]=c));if(t===r[a+1])return void(r[a+2]=c)}a++,null!==t&&a++,null!==c&&a++}-1!==s&&(r.splice(s,0,e),a=s+1),r.splice(a++,0,n),null!==t&&r.splice(a++,0,t),null!==c&&r.splice(a++,0,c)}function Nn(r){return-1!==r}function hn(r){return 32767&r}function dn(r){return r>>16}function fn(r,e){for(var n=dn(r),t=e;n>0;)t=t[15],n--;return t}function mn(r){return"string"==typeof r?r:null==r?"":""+r}function vn(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():mn(r)}var gn=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ar)}();function yn(r){return{name:"body",target:r.ownerDocument.body}}function kn(r){return r instanceof Function?r():r}var _n=!0;function wn(r){var e=_n;return _n=r,e}var Sn=0;function zn(r,e){var n=jn(r,e);if(-1!==n)return n;var t=e[1];t.firstCreatePass&&(r.injectorIndex=e.length,Cn(t.data,r),Cn(e,null),Cn(t.blueprint,null));var c=xn(r,e),a=r.injectorIndex;if(Nn(c))for(var s=hn(c),b=fn(c,e),i=b[1].data,o=0;o<8;o++)e[a+o]=b[s+o]|i[s+o];return e[a+8]=c,a}function Cn(r,e){r.push(0,0,0,0,0,0,0,0,e)}function jn(r,e){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null==e[r.injectorIndex+8]?-1:r.injectorIndex}function xn(r,e){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;for(var n=e[6],t=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,t++;return n?n.injectorIndex|t<<16:-1}function Tn(r,e,n){!function(r,e,n){var t;"string"==typeof n?t=n.charCodeAt(0)||0:n.hasOwnProperty(ur)&&(t=n[ur]),null==t&&(t=n[ur]=Sn++);var c=255&t,a=1<<c,s=64&c,b=32&c,i=e.data;128&c?s?b?i[r+7]|=a:i[r+6]|=a:b?i[r+5]|=a:i[r+4]|=a:s?b?i[r+3]|=a:i[r+2]|=a:b?i[r+1]|=a:i[r]|=a}(r,e,n)}function En(r,e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.Default,c=arguments.length>4?arguments[4]:void 0;if(null!==r){var a=Mn(n);if("function"==typeof a){Ve(e,r);try{var s=a();if(null!=s||t&R.Optional)return s;throw new Error("No provider for ".concat(vn(n),"!"))}finally{$e()}}else if("number"==typeof a){if(-1===a)return new Fn(r,e);var b=null,i=jn(r,e),o=-1,p=t&R.Host?e[16][6]:null;for((-1===i||t&R.SkipSelf)&&(o=-1===i?xn(r,e):e[i+8],Dn(t,!1)?(b=e[1],i=hn(o),e=fn(o,e)):i=-1);-1!==i;){o=e[i+8];var l=e[1];if(Ln(a,i,l.data)){var u=An(i,e,n,b,t,p);if(u!==Pn)return u}Dn(t,e[1].data[i+8]===p)&&Ln(a,i,e)?(b=l,i=hn(o),e=fn(o,e)):i=-1}}}if(t&R.Optional&&void 0===c&&(c=null),0==(t&(R.Self|R.Host))){var O=e[9],N=gr(void 0);try{return O?O.get(n,c,t&R.Optional):wr(n,c,t&R.Optional)}finally{gr(N)}}if(t&R.Optional)return c;throw new Error("NodeInjector: NOT_FOUND [".concat(vn(n),"]"))}var Pn={};function An(r,e,n,t,c,a){var s=e[1],b=s.data[r+8],i=In(b,s,n,null==t?te(b)&&_n:t!=s&&3===b.type,c&R.Host&&a===b);return null!==i?Rn(e,s,i,b):Pn}function In(r,e,n,t,c){for(var a=r.providerIndexes,s=e.data,b=65535&a,i=r.directiveStart,o=a>>16,p=c?b+o:r.directiveEnd,l=t?b:b+o;l<p;l++){var u=s[l];if(l<i&&n===u||l>=i&&u.type===n)return l}if(c){var O=s[i];if(O&&ae(O)&&O.type===n)return i}return null}function Rn(r,e,n,t){var c=r[n],a=e.data;if(c instanceof bn){var s=c;if(s.resolving)throw new Error("Circular dep for ".concat(vn(a[n])));var b,i=wn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(b=gr(s.injectImpl)),Ve(r,t);try{c=r[n]=s.factory(void 0,a,r,t),e.firstCreatePass&&n>=t.directiveStart&&function(r,e,n){var t=e.onChanges,c=e.onInit,a=e.doCheck;t&&((n.preOrderHooks||(n.preOrderHooks=[])).push(r,t),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r,t)),c&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-r,c),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(r,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r,a))}(n,a[n],e)}finally{s.injectImpl&&gr(b),wn(i),s.resolving=!1,$e()}}return c}function Mn(r){if("string"==typeof r)return r.charCodeAt(0)||0;var e=r.hasOwnProperty(ur)?r[ur]:void 0;return"number"==typeof e&&e>0?255&e:e}function Ln(r,e,n){var t=64&r,c=32&r;return!!((128&r?t?c?n[e+7]:n[e+6]:c?n[e+5]:n[e+4]:t?c?n[e+3]:n[e+2]:c?n[e+1]:n[e])&1<<r)}function Dn(r,e){return!(r&R.Self||r&R.Host&&e)}var Fn=function(){function r(e,n){Object(l.a)(this,r),this._tNode=e,this._lView=n}return Object(u.a)(r,[{key:"get",value:function(r,e){return En(this._tNode,this._lView,r,void 0,e)}}]),r}();function Un(r){var e=r;if(X(r))return function(){var r=Un(Y(e));return r?r():null};var n=Yr(e);if(null===n){var t=B(e);n=t&&t.factory}return n||null}function qn(r){return j((function(){for(var e=r.prototype.constructor,n=e[lr]||Un(e),t=Object.prototype,c=Object.getPrototypeOf(r.prototype).constructor;c&&c!==t;){var a=c[lr]||Un(c);if(a&&a!==n)return a;c=Object.getPrototypeOf(c)}return function(r){return new r}}))}function Bn(r){return r.ngDebugContext}function Hn(r){return r.ngOriginalError}function Vn(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];r.error.apply(r,n)}var Wn=function(){function r(){Object(l.a)(this,r),this._console=console}return Object(u.a)(r,[{key:"handleError",value:function(r){var e=this._findOriginalError(r),n=this._findContext(r),t=function(r){return r.ngErrorLogger||Vn}(r);t(this._console,"ERROR",r),e&&t(this._console,"ORIGINAL ERROR",e),n&&t(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(r){return r?Bn(r)?Bn(r):this._findContext(Hn(r)):null}},{key:"_findOriginalError",value:function(r){for(var e=Hn(r);e&&Hn(e);)e=Hn(e);return e}}]),r}(),Gn=function(){function r(e){Object(l.a)(this,r),this.changingThisBreaksApplicationSecurity=e}return Object(u.a)(r,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),r}(),Qn=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Gn),Kn=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Gn),$n=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Gn),Jn=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Gn),Zn=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Gn);function Yn(r){return r instanceof Gn?r.changingThisBreaksApplicationSecurity:r}function Xn(r,e){var n=rt(r);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function rt(r){return r instanceof Gn&&r.getTypeName()||null}function et(r){return new Qn(r)}function nt(r){return new Kn(r)}function tt(r){return new $n(r)}function ct(r){return new Jn(r)}function at(r){return new Zn(r)}var st=!0,bt=!1;function it(){return bt=!0,st}function ot(){if(bt)throw new Error("Cannot enable prod mode after platform setup.");st=!1}var pt=function(){function r(){Object(l.a)(this,r)}return Object(u.a)(r,[{key:"getInertBodyElement",value:function(r){r="<body><remove></remove>"+r+"</body>";try{var e=(new window.DOMParser).parseFromString(r,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}}]),r}(),lt=function(){function r(e){if(Object(l.a)(this,r),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var t=this.inertDocument.createElement("body");n.appendChild(t)}}return Object(u.a)(r,[{key:"getInertBodyElement",value:function(r){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=r,e;var n=this.inertDocument.createElement("body");return n.innerHTML=r,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(r){for(var e=r.attributes,n=e.length-1;0<n;n--){var t=e.item(n).name;"xmlns:ns1"!==t&&0!==t.indexOf("ns1:")||r.removeAttribute(t)}for(var c=r.firstChild;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}]),r}(),ut=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ot=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nt(r){return(r=String(r)).match(ut)||r.match(Ot)?r:(it()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(r," (see http://g.co/ng/security#xss)")),"unsafe:"+r)}function ht(r){var e,n={},t=Object(i.a)(r.split(","));try{for(t.s();!(e=t.n()).done;)n[e.value]=!0}catch(c){t.e(c)}finally{t.f()}return n}function dt(){for(var r={},e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];for(var c=0,a=n;c<a.length;c++){var s=a[c];for(var b in s)s.hasOwnProperty(b)&&(r[b]=!0)}return r}var ft,mt=ht("area,br,col,hr,img,wbr"),vt=ht("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gt=ht("rp,rt"),yt=dt(gt,vt),kt=dt(mt,dt(vt,ht("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dt(gt,ht("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yt),_t=ht("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wt=ht("srcset"),St=dt(_t,wt,ht("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ht("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zt=ht("script,style,template"),Ct=function(){function r(){Object(l.a)(this,r),this.sanitizedSomething=!1,this.buf=[]}return Object(u.a)(r,[{key:"sanitizeChildren",value:function(r){for(var e=r.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(r){var e,n=r.nodeName.toLowerCase();if(!kt.hasOwnProperty(n))return this.sanitizedSomething=!0,!zt.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var t=r.attributes,c=0;c<t.length;c++){var a=t.item(c),s=a.name,b=s.toLowerCase();if(St.hasOwnProperty(b)){var i=a.value;_t[b]&&(i=Nt(i)),wt[b]&&(e=i,i=(e=String(e)).split(",").map((function(r){return Nt(r.trim())})).join(", ")),this.buf.push(" ",s,'="',Tt(i),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(r){var e=r.nodeName.toLowerCase();kt.hasOwnProperty(e)&&!mt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(r){this.buf.push(Tt(r))}},{key:"checkClobberedElement",value:function(r,e){if(e&&(r.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(r.outerHTML));return e}}]),r}(),jt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xt=/([^\#-~ |!])/g;function Tt(r){return r.replace(/&/g,"&amp;").replace(jt,(function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"})).replace(xt,(function(r){return"&#"+r.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Et(r,e){var n=null;try{ft=ft||function(r){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(r){return!1}}()?new pt:new lt(r)}(r);var t=e?String(e):"";n=ft.getInertBodyElement(t);var c=5,a=t;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,t=a,a=n.innerHTML,n=ft.getInertBodyElement(t)}while(t!==a);var s=new Ct,b=s.sanitizeChildren(Pt(n)||n);return it()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),b}finally{if(n)for(var i=Pt(n)||n;i.firstChild;)i.removeChild(i.firstChild)}}function Pt(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var At=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}({});function It(r){var e=Mt();return e?e.sanitize(At.HTML,r)||"":Xn(r,"HTML")?Yn(r):Et(oe(),mn(r))}function Rt(r){var e=Mt();return e?e.sanitize(At.URL,r)||"":Xn(r,"URL")?Yn(r):Nt(mn(r))}function Mt(){var r=ze();return r&&r[12]}function Lt(r,e){r.__ngContext__=e}function Dt(r){throw new Error("Multiple components match node with tagname ".concat(r.tagName))}function Ft(){throw new Error("Cannot mix multi providers and regular providers")}function Ut(r,e,n){for(var t=r.length;;){var c=r.indexOf(e,n);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){var a=e.length;if(c+a===t||r.charCodeAt(c+a)<=32)return c}n=c+1}}function qt(r,e,n){for(var t=0;t<r.length;){var c=r[t++];if(n&&"class"===c){if(-1!==Ut((c=r[t]).toLowerCase(),e,0))return!0}else if(1===c){for(;t<r.length&&"string"==typeof(c=r[t++]);)if(c.toLowerCase()===e)return!0;return!1}}return!1}function Bt(r){return 0===r.type&&"ng-template"!==r.tagName}function Ht(r,e,n){return e===(0!==r.type||n?r.tagName:"ng-template")}function Vt(r,e,n){for(var t=4,c=r.attrs||[],a=function(r){for(var e=0;e<r.length;e++)if(pn(r[e]))return e;return r.length}(c),s=!1,b=0;b<e.length;b++){var i=e[b];if("number"!=typeof i){if(!s)if(4&t){if(t=2|1&t,""!==i&&!Ht(r,i,n)||""===i&&1===e.length){if(Wt(t))return!1;s=!0}}else{var o=8&t?i:e[++b];if(8&t&&null!==r.attrs){if(!qt(r.attrs,o,n)){if(Wt(t))return!1;s=!0}continue}var p=Gt(8&t?"class":i,c,Bt(r),n);if(-1===p){if(Wt(t))return!1;s=!0;continue}if(""!==o){var l;l=p>a?"":c[p+1].toLowerCase();var u=8&t?l:null;if(u&&-1!==Ut(u,o,0)||2&t&&o!==l){if(Wt(t))return!1;s=!0}}}}else{if(!s&&!Wt(t)&&!Wt(i))return!1;if(s&&Wt(i))continue;s=!1,t=i|1&t}}return Wt(t)||s}function Wt(r){return 0==(1&r)}function Gt(r,e,n,t){if(null===e)return-1;var c=0;if(t||!n){for(var a=!1;c<e.length;){var s=e[c];if(s===r)return c;if(3===s||6===s)a=!0;else{if(1===s||2===s){for(var b=e[++c];"string"==typeof b;)b=e[++c];continue}if(4===s)break;if(0===s){c+=4;continue}}c+=a?1:2}return-1}return function(r,e){var n=r.indexOf(4);if(n>-1)for(n++;n<r.length;){var t=r[n];if("number"==typeof t)return-1;if(t===e)return n;n++}return-1}(e,r)}function Qt(r,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=0;t<e.length;t++)if(Vt(r,e[t],n))return!0;return!1}function Kt(r,e){r:for(var n=0;n<e.length;n++){var t=e[n];if(r.length===t.length){for(var c=0;c<r.length;c++)if(r[c]!==t[c])continue r;return!0}}return!1}function $t(r,e){return r?":not("+e.trim()+")":e}function Jt(r){for(var e=r[0],n=1,t=2,c="",a=!1;n<r.length;){var s=r[n];if("string"==typeof s)if(2&t){var b=r[++n];c+="["+s+(b.length>0?'="'+b+'"':"")+"]"}else 8&t?c+="."+s:4&t&&(c+=" "+s);else""===c||Wt(s)||(e+=$t(a,c),c=""),t=s,a=a||!Wt(t);n++}return""!==c&&(e+=$t(a,c)),e}var Zt={};function Yt(r){var e=r[3];return ee(e)?e[3]:e}function Xt(r){return ec(r[13])}function rc(r){return ec(r[4])}function ec(r){for(;null!==r&&!ee(r);)r=r[4];return r}function nc(r){tc(Ce(),ze(),Ye()+r,Ae())}function tc(r,e,n,t){if(!t)if(3==(3&e[2])){var c=r.preOrderCheckHooks;null!==c&&nn(e,c,n)}else{var a=r.preOrderHooks;null!==a&&tn(e,a,0,n)}Xe(n)}function cc(r,e){return r<<17|e<<2}function ac(r){return r>>17&32767}function sc(r){return 2|r}function bc(r){return(131068&r)>>2}function ic(r,e){return-131069&r|e<<2}function oc(r){return 1|r}function pc(r,e){var n=r.contentQueries;if(null!==n)for(var t=0;t<n.length;t+=2){var c=n[t+1];if(-1!==c){var a=r.data[c];He(n[t]),a.contentQueries(2,e[c],c)}}}function lc(r,e,n){return pe(e)?e.createElement(r,n):null===n?e.createElement(r):e.createElementNS(n,r)}function uc(r,e,n,t,c,a,s,b,i,o){var p=e.blueprint.slice();return p[0]=c,p[2]=140|t,ke(p),p[3]=p[15]=r,p[8]=n,p[10]=s||r&&r[10],p[11]=b||r&&r[11],p[12]=i||r&&r[12]||null,p[9]=o||r&&r[9]||null,p[6]=a,p[16]=2==e.type?r[16]:p,p}function Oc(r,e,n,t,c,a){var s=n+20,b=r.data[s]||function(r,e,n,t,c,a){var s=xe(),b=Ee(),i=b?s:s&&s.parent,o=r.data[n]=_c(0,i&&i!==e?i:null,t,n,c,a);return null===r.firstChild&&(r.firstChild=o),s&&(!b||null!=s.child||null===o.parent&&2!==s.type?b||(s.next=o):s.child=o),o}(r,e,s,t,c,a);return Te(b,!0),b}function Nc(r,e,n){We(e,e[6]);try{var t=r.viewQuery;null!==t&&Wc(1,t,n);var c=r.template;null!==c&&fc(r,e,c,1,n),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&pc(r,e),r.staticViewQueries&&Wc(2,r.viewQuery,n);var a=r.components;null!==a&&function(r,e){for(var n=0;n<e.length;n++)Uc(r,e[n])}(e,a)}catch(s){throw r.firstCreatePass&&(r.incompleteFirstPass=!0),s}finally{e[2]&=-5,Je()}}function hc(r,e,n,t){var c=e[2];if(256!=(256&c)){We(e,e[6]);var a=Ae();try{ke(e),we.lFrame.bindingIndex=r.bindingStartIndex,null!==n&&fc(r,e,n,2,t);var s=3==(3&c);if(!a)if(s){var b=r.preOrderCheckHooks;null!==b&&nn(e,b,null)}else{var i=r.preOrderHooks;null!==i&&tn(e,i,0,null),cn(e,0)}if(function(r){for(var e=Xt(r);null!==e;e=rc(e))if(e[2])for(var n=e[9],t=0;t<n.length;t++){var c=n[t];0==(1024&c[2])&&_e(c[3],1),c[2]|=1024}}(e),function(r){for(var e=Xt(r);null!==e;e=rc(e))for(var n=10;n<e.length;n++){var t=e[n],c=t[1];ge(t)&&hc(c,t,c.template,t[8])}}(e),null!==r.contentQueries&&pc(r,e),!a)if(s){var o=r.contentCheckHooks;null!==o&&nn(e,o)}else{var p=r.contentHooks;null!==p&&tn(e,p,1),cn(e,1)}!function(r,e){try{var n=r.expandoInstructions;if(null!==n)for(var t=r.expandoStartIndex,c=-1,a=0;a<n.length;a++){var s=n[a];"number"==typeof s?s<=0?(Xe(0-s),c=t+=9+n[++a]):t+=s:(null!==s&&(Fe(t,c),s(2,e[c])),c++)}}finally{Xe(-1)}}(r,e);var l=r.components;null!==l&&function(r,e){for(var n=0;n<e.length;n++)Fc(r,e[n])}(e,l);var u=r.viewQuery;if(null!==u&&Wc(2,u,t),!a)if(s){var O=r.viewCheckHooks;null!==O&&nn(e,O)}else{var N=r.viewHooks;null!==N&&tn(e,N,2),cn(e,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),a||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,_e(e[3],-1))}finally{Je()}}}function dc(r,e,n,t){var c=e[10],a=!Ae(),s=ve(e);try{a&&!s&&c.begin&&c.begin(),s&&Nc(r,e,t),hc(r,e,n,t)}finally{a&&!s&&c.end&&c.end()}}function fc(r,e,n,t,c){var a=Ye();try{Xe(-1),2&t&&e.length>20&&tc(r,e,0,Ae()),n(t,c)}finally{Xe(a)}}function mc(r,e,n){Se()&&(function(r,e,n,t){var c=n.directiveStart,a=n.directiveEnd;r.firstCreatePass||zn(n,e),Lt(t,e);for(var s=n.initialInputs,b=c;b<a;b++){var i=r.data[b],o=ae(i);o&&Rc(e,n,i);var p=Rn(e,r,b,n);Lt(p,e),null!==s&&Mc(0,b-c,p,i,0,s),o&&(fe(n.index,e)[8]=p)}}(r,e,n,Ne(n,e)),128==(128&n.flags)&&function(r,e,n){var t=n.directiveStart,c=n.directiveEnd,a=r.expandoInstructions,s=r.firstCreatePass,b=n.index-20,i=we.lFrame.currentDirectiveIndex;try{Xe(b);for(var o=t;o<c;o++){var p=r.data[o],l=e[o];Ue(o),null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs?xc(p,l):s&&a.push(null)}}finally{Xe(-1),Ue(i)}}(r,e,n))}function vc(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne,t=e.localNames;if(null!==t)for(var c=e.index+1,a=0;a<t.length;a+=2){var s=t[a+1],b=-1===s?n(e,r):r[s];r[c++]=b}}function gc(r){var e=r.tView;return null===e||e.incompleteFirstPass?r.tView=yc(1,-1,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):e}function yc(r,e,n,t,c,a,s,b,i,o){var p=20+t,l=p+c,u=function(r,e){for(var n=[],t=0;t<e;t++)n.push(t<r?null:Zt);return n}(p,l);return u[1]={type:r,id:e,blueprint:u,template:n,queries:null,viewQuery:b,node:null,data:u.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:l,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:i,consts:o,incompleteFirstPass:!1}}function kc(r,e,n,t){var c=Qc(e);c.push(n),r.firstCreatePass&&function(r){return r.cleanup||(r.cleanup=[])}(r).push(t,c.length-1)}function _c(r,e,n,t,c,a){return{type:n,index:t,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:c,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function wc(r,e,n){for(var t in r)if(r.hasOwnProperty(t)){var c=r[t];(n=null===n?{}:n).hasOwnProperty(t)?n[t].push(e,c):n[t]=[e,c]}return n}function Sc(r,e,n,t,c,a,s,b){var i,o,p=Ne(e,n),l=e.inputs;!b&&null!=l&&(i=l[t])?(Jc(r,n,i,t,c),te(e)&&function(r,e){var n=fe(e,r);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(t="class"===(o=t)?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o,c=null!=s?s(c,e.tagName||"",t):c,pe(a)?a.setProperty(p,t,c):ln(t)||(p.setProperty?p.setProperty(t,c):p[t]=c))}function zc(r,e,n,t){var c=!1;if(Se()){var a=function(r,e,n){var t=r.directiveRegistry,c=null;if(t)for(var a=0;a<t.length;a++){var s=t[a];Qt(n,s.selectors,!1)&&(c||(c=[]),Tn(zn(n,e),r,s.type),ae(s)?(2&n.flags&&Dt(n),Ec(r,n),c.unshift(s)):c.push(s))}return c}(r,e,n),s=null===t?null:{"":-1};if(null!==a){var b=0;c=!0,Ac(n,r.data.length,a.length);for(var i=0;i<a.length;i++){var o=a[i];o.providersResolver&&o.providersResolver(o)}Tc(r,n,a.length);for(var p=!1,l=!1,u=0;u<a.length;u++){var O=a[u];n.mergedAttrs=un(n.mergedAttrs,O.hostAttrs),Ic(r,e,O),Pc(r.data.length-1,O,s),null!==O.contentQueries&&(n.flags|=8),null===O.hostBindings&&null===O.hostAttrs&&0===O.hostVars||(n.flags|=128),!p&&(O.onChanges||O.onInit||O.doCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(n.index-20),p=!0),l||!O.onChanges&&!O.doCheck||((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(n.index-20),l=!0),Cc(r,O),b+=O.hostVars}!function(r,e){for(var n=e.directiveEnd,t=r.data,c=e.attrs,a=[],s=null,b=null,i=e.directiveStart;i<n;i++){var o=t[i],p=o.inputs,l=null===c||Bt(e)?null:Lc(p,c);a.push(l),s=wc(p,i,s),b=wc(o.outputs,i,b)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=s,e.outputs=b}(r,n),jc(r,e,b)}s&&function(r,e,n){if(e)for(var t=r.localNames=[],c=0;c<e.length;c+=2){var a=n[e[c+1]];if(null==a)throw new Error("Export of name '".concat(e[c+1],"' not found!"));t.push(e[c],a)}}(n,t,s)}return n.mergedAttrs=un(n.mergedAttrs,n.attrs),c}function Cc(r,e){var n=r.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function jc(r,e,n){for(var t=0;t<n;t++)e.push(Zt),r.blueprint.push(Zt),r.data.push(null)}function xc(r,e){null!==r.hostBindings&&r.hostBindings(1,e)}function Tc(r,e,n){var t=20-e.index,c=r.data.length-(65535&e.providerIndexes);(r.expandoInstructions||(r.expandoInstructions=[])).push(t,c,n)}function Ec(r,e){e.flags|=2,(r.components||(r.components=[])).push(e.index)}function Pc(r,e,n){if(n){if(e.exportAs)for(var t=0;t<e.exportAs.length;t++)n[e.exportAs[t]]=r;ae(e)&&(n[""]=r)}}function Ac(r,e,n){r.flags|=1,r.directiveStart=e,r.directiveEnd=e+n,r.providerIndexes=e}function Ic(r,e,n){r.data.push(n);var t=n.factory||(n.factory=Yr(n.type)),c=new bn(t,ae(n),null);r.blueprint.push(c),e.push(c)}function Rc(r,e,n){var t=Ne(e,r),c=gc(n),a=r[10],s=qc(r,uc(r,c,null,n.onPush?64:16,t,e,a,a.createRenderer(t,n)));r[e.index]=s}function Mc(r,e,n,t,c,a){var s=a[e];if(null!==s)for(var b=t.setInput,i=0;i<s.length;){var o=s[i++],p=s[i++],l=s[i++];null!==b?t.setInput(n,l,o,p):n[p]=l}}function Lc(r,e){for(var n=null,t=0;t<e.length;){var c=e[t];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===n&&(n=[]),n.push(c,r[c],e[t+1])),t+=2}else t+=2;else t+=4}return n}function Dc(r,e,n,t){return new Array(r,!0,!1,e,null,0,t,n,null,null)}function Fc(r,e){var n=fe(e,r);if(ge(n)){var t=n[1];80&n[2]?hc(t,n,t.template,n[8]):n[5]>0&&function r(e){for(var n=Xt(e);null!==n;n=rc(n))for(var t=10;t<n.length;t++){var c=n[t];if(1024&c[2]){var a=c[1];hc(a,c,a.template,c[8])}else c[5]>0&&r(c)}var s=e[1].components;if(null!==s)for(var b=0;b<s.length;b++){var i=fe(s[b],e);ge(i)&&i[5]>0&&r(i)}}(n)}}function Uc(r,e){var n=fe(e,r),t=n[1];!function(r,e){for(var n=e.length;n<r.blueprint.length;n++)e.push(r.blueprint[n])}(t,n),Nc(t,n,n[8])}function qc(r,e){return r[13]?r[14][4]=e:r[13]=e,r[14]=e,e}function Bc(r){for(;r;){r[2]|=64;var e=Yt(r);if(se(r)&&!e)return r;r=e}return null}function Hc(r,e,n){var t=e[10];t.begin&&t.begin();try{hc(r,e,r.template,n)}catch(c){throw $c(e,c),c}finally{t.end&&t.end()}}function Vc(r){!function(r){for(var e=0;e<r.components.length;e++){var n=r.components[e],t=me(n),c=t[1];dc(c,t,c.template,n)}}(r[8])}function Wc(r,e,n){He(0),e(r,n)}var Gc=function(){return Promise.resolve(null)}();function Qc(r){return r[7]||(r[7]=[])}function Kc(r,e,n){return(null===r||ae(r))&&(n=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(n[e.index])),n[11]}function $c(r,e){var n=r[9],t=n?n.get(Wn,null):null;t&&t.handleError(e)}function Jc(r,e,n,t,c){for(var a=0;a<n.length;){var s=n[a++],b=n[a++],i=e[s],o=r.data[s];null!==o.setInput?o.setInput(i,c,t,b):i[b]=c}}function Zc(r,e,n){var t=Oe(e,r),c=r[11];pe(c)?c.setValue(t,n):t.textContent=n}function Yc(r,e){var n=e[3];return-1===r.index?ee(n)?n:null:n}function Xc(r,e){var n=Yc(r,e);return n?ua(e[11],n[7]):null}function ra(r,e,n,t,c){if(null!=t){var a,s=!1;ee(t)?a=t:re(t)&&(s=!0,t=t[0]);var b=ue(t);0===r&&null!==n?null==c?pa(e,n,b):oa(e,n,b,c||null):1===r&&null!==n?oa(e,n,b,c||null):2===r?function(r,e,n){var t=ua(r,e);t&&function(r,e,n,t){pe(r)?r.removeChild(e,n,t):e.removeChild(n)}(r,t,e,n)}(e,b,s):3===r&&e.destroyNode(b),null!=a&&function(r,e,n,t,c){var a=n[7];a!==ue(n)&&ra(e,r,t,a,c);for(var s=10;s<n.length;s++){var b=n[s];fa(b[1],b,r,e,t,a)}}(e,r,a,n,c)}}function ea(r,e){return pe(e)?e.createText(r):e.createTextNode(r)}function na(r,e,n,t){var c=Xc(r.node,e);c&&fa(r,e,e[11],n?1:2,c,t)}function ta(r,e){var n=r[9],t=n.indexOf(e);1024&e[2]&&_e(e[3],-1),n.splice(t,1)}function ca(r,e){if(!(r.length<=10)){var n=10+e,t=r[n];if(t){var c=t[17];null!==c&&c!==r&&ta(c,t),e>0&&(r[n-1][4]=t[4]);var a=Pr(r,10+e);na(t[1],t,!1,null);var s=a[19];null!==s&&s.detachView(a[1]),t[3]=null,t[4]=null,t[2]&=-129}return t}}function aa(r,e){if(!(256&e[2])){var n=e[11];pe(n)&&n.destroyNode&&fa(r,e,n,3,null,null),function(r){var e=r[13];if(!e)return ba(r[1],r);for(;e;){var n=null;if(re(e))n=e[13];else{var t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==r;)re(e)&&ba(e[1],e),e=sa(e,r);null===e&&(e=r),re(e)&&ba(e[1],e),n=e&&e[4]}e=n}}(e)}}function sa(r,e){var n;return re(r)&&(n=r[6])&&2===n.type?Yc(n,r):r[3]===e?null:r[3]}function ba(r,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(r,e){var n;if(null!=r&&null!=(n=r.destroyHooks))for(var t=0;t<n.length;t+=2){var c=e[n[t]];if(!(c instanceof bn)){var a=n[t+1];if(Array.isArray(a))for(var s=0;s<a.length;s+=2)a[s+1].call(c[a[s]]);else a.call(c)}}}(r,e),function(r,e){var n=r.cleanup;if(null!==n){for(var t=e[7],c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){var a=n[c+1],s="function"==typeof a?a(e):ue(e[a]),b=n[c+3];"boolean"==typeof b?s.removeEventListener(n[c],t[n[c+2]],b):b>=0?t[b]():t[-b].unsubscribe(),c+=2}else n[c].call(t[n[c+1]]);e[7]=null}}(r,e);var n=e[6];n&&3===n.type&&pe(e[11])&&e[11].destroy();var t=e[17];if(null!==t&&ee(e[3])){t!==e[3]&&ta(t,e);var c=e[19];null!==c&&c.detachView(r)}}}function ia(r,e,n){for(var t=e.parent;null!=t&&(4===t.type||5===t.type);)t=(e=t).parent;if(null==t){var c=n[6];return 2===c.type?Xc(c,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ne(e,n).parentNode;if(2&t.flags){var a=r.data,s=a[a[t.index].directiveStart].encapsulation;if(s!==Dr.ShadowDom&&s!==Dr.Native)return null}return Ne(t,n)}function oa(r,e,n,t){pe(r)?r.insertBefore(e,n,t):e.insertBefore(n,t,!0)}function pa(r,e,n){pe(r)?r.appendChild(e,n):e.appendChild(n)}function la(r,e,n,t){null!==t?oa(r,e,n,t):pa(r,e,n)}function ua(r,e){return pe(r)?r.parentNode(e):e.parentNode}function Oa(r,e){if(2===r.type){var n=Yc(r,e);return null===n?null:ha(n.indexOf(e,10)-10,n)}return 4===r.type||5===r.type?Ne(r,e):null}function Na(r,e,n,t){var c=ia(r,t,e);if(null!=c){var a=e[11],s=Oa(t.parent||e[6],e);if(Array.isArray(n))for(var b=0;b<n.length;b++)la(a,c,n[b],s);else la(a,c,n,s)}}function ha(r,e){var n=10+r+1;if(n<e.length){var t=e[n],c=t[1].firstChild;if(null!==c)return function r(e,n){if(null!==n){var t=n.type;if(3===t)return Ne(n,e);if(0===t)return ha(-1,e[n.index]);if(4===t||5===t){var c=n.child;if(null!==c)return r(e,c);var a=e[n.index];return ee(a)?ha(-1,a):ue(a)}var s=e[16],b=s[6],i=Yt(s),o=b.projection[n.projection];return null!=o?r(i,o):r(e,n.next)}return null}(t,c)}return e[7]}function da(r,e,n,t,c,a,s){for(;null!=n;){var b=t[n.index],i=n.type;s&&0===e&&(b&&Lt(ue(b),t),n.flags|=4),64!=(64&n.flags)&&(4===i||5===i?(da(r,e,n.child,t,c,a,!1),ra(e,r,c,b,a)):1===i?va(r,e,t,n,c,a):ra(e,r,c,b,a)),n=s?n.projectionNext:n.next}}function fa(r,e,n,t,c,a){da(n,t,r.node.child,e,c,a,!1)}function ma(r,e,n){va(e[11],0,e,n,ia(r,n,e),Oa(n.parent||e[6],e))}function va(r,e,n,t,c,a){var s=n[16],b=s[6].projection[t.projection];if(Array.isArray(b))for(var i=0;i<b.length;i++)ra(e,r,c,b[i],a);else da(r,e,b,s[3],c,a,!0)}function ga(r,e,n){pe(r)?r.setAttribute(e,"style",n):e.style.cssText=n}function ya(r,e,n){pe(r)?""===n?r.removeAttribute(e,"class"):r.setAttribute(e,"class",n):e.className=n}var ka,_a,wa,Sa=function(){function r(e,n){Object(l.a)(this,r),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return Object(u.a)(r,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var r=this._viewContainerRef.indexOf(this);r>-1&&this._viewContainerRef.detach(r),this._viewContainerRef=null}aa(this._lView[1],this._lView)}},{key:"onDestroy",value:function(r){kc(this._lView[1],this._lView,null,r)}},{key:"markForCheck",value:function(){Bc(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Hc(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(r,e,n){Ie(!0);try{Hc(r,e,n)}finally{Ie(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(r){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=r}},{key:"detachFromAppRef",value:function(){var r;this._appRef=null,fa(this._lView[1],r=this._lView,r[11],2,null,null)}},{key:"attachToAppRef",value:function(r){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}},{key:"rootNodes",get:function(){var r=this._lView;return null==r[0]?function r(e,n,t,c){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==t;){var s=n[t.index];if(null!==s&&c.push(ue(s)),ee(s))for(var i=10;i<s.length;i++){var o=s[i],p=o[1].firstChild;null!==p&&r(o[1],o,p,c)}var l=t.type;if(4===l||5===l)r(e,n,t.child,c);else if(1===l){var u=n[16],O=u[6],N=t.projection,h=O.projection[N];if(Array.isArray(h))c.push.apply(c,Object(b.a)(h));else{var d=Yt(u);r(d[1],d,h,c,!0)}}t=a?t.projectionNext:t.next}return c}(r[1],r,r[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),r}(),za=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){var t;return Object(l.a)(this,n),(t=e.call(this,r))._view=r,t}return Object(u.a)(n,[{key:"detectChanges",value:function(){Vc(this._view)}},{key:"checkNoChanges",value:function(){!function(r){Ie(!0);try{Vc(r)}finally{Ie(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Sa);function Ca(r,e,n){return ka||(ka=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return n}(r)),new ka(Ne(e,n))}function ja(r,e,n,t){return _a||(_a=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c){var a;return Object(l.a)(this,n),(a=e.call(this))._declarationView=r,a._declarationTContainer=t,a.elementRef=c,a}return Object(u.a)(n,[{key:"createEmbeddedView",value:function(r){var e=this._declarationTContainer.tViews,n=uc(this._declarationView,e,r,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var t=this._declarationView[19];return null!==t&&(n[19]=t.createEmbeddedView(e)),Nc(e,n,r),new Sa(n)}}]),n}(r)),0===n.type?new _a(t,n,Ca(e,n,t)):null}function xa(r,e,n,t){var c;wa||(wa=function(r){Object(o.a)(t,r);var n=Object(p.a)(t);function t(r,e,c){var a;return Object(l.a)(this,t),(a=n.call(this))._lContainer=r,a._hostTNode=e,a._hostView=c,a}return Object(u.a)(t,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(r){return null!==this._lContainer[8]&&this._lContainer[8][r]||null}},{key:"createEmbeddedView",value:function(r,e,n){var t=r.createEmbeddedView(e||{});return this.insert(t,n),t}},{key:"createComponent",value:function(r,e,n,t,c){var a=n||this.parentInjector;if(!c&&null==r.ngModule&&a){var s=a.get(jr,null);s&&(c=s)}var b=r.create(a,t,void 0,c);return this.insert(b.hostView,e),b}},{key:"insert",value:function(r,e){var n=r._lView,t=n[1];if(r.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ee(n[3])){var c=this.indexOf(r);if(-1!==c)this.detach(c);else{var a=n[3],s=new wa(a,a[6],a[3]);s.detach(s.indexOf(r))}}var b=this._adjustIndex(e);return function(r,e,n,t){var c=10+t,a=n.length;t>0&&(n[c-1][4]=e),t<a-10?(e[4]=n[c],Er(n,10+t,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(r,e){var n=r[9];e[16]!==e[3][3][16]&&(r[2]=!0),null===n?r[9]=[e]:n.push(e)}(s,e);var b=e[19];null!==b&&b.insertView(r),e[2]|=128}(t,n,this._lContainer,b),na(t,n,!0,ha(b,this._lContainer)),r.attachToViewContainerRef(this),Er(this._lContainer[8],b,r),r}},{key:"move",value:function(r,e){if(r.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(r,e)}},{key:"indexOf",value:function(r){var e=this._lContainer[8];return null!==e?e.indexOf(r):-1}},{key:"remove",value:function(r){this.allocateContainerIfNeeded();var e=this._adjustIndex(r,-1);!function(r,e){var n=ca(r,e);n&&aa(n[1],n)}(this._lContainer,e),Pr(this._lContainer[8],e)}},{key:"detach",value:function(r){this.allocateContainerIfNeeded();var e=this._adjustIndex(r,-1),n=ca(this._lContainer,e);return n&&null!=Pr(this._lContainer[8],e)?new Sa(n):null}},{key:"_adjustIndex",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==r?this.length+e:r}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Ca(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Fn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var r=xn(this._hostTNode,this._hostView),e=fn(r,this._hostView),n=function(r,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var t=n.parent.injectorIndex,c=n.parent;null!=c.parent&&t==c.parent.injectorIndex;)c=c.parent;return c}for(var a=dn(r),s=e,b=e[6];a>1;)b=(s=s[15])[6],a--;return b}(r,this._hostView,this._hostTNode);return Nn(r)&&null!=n?new Fn(n,e):new Fn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),t}(r));var a=t[n.index];if(ee(a))c=a;else{var s;if(4===n.type)s=ue(a);else if(s=t[11].createComment(""),se(t)){var b=t[11],i=Ne(n,t);oa(b,ua(b,i),s,function(r,e){return pe(r)?r.nextSibling(e):e.nextSibling}(b,i))}else Na(t[1],t,s,n);t[n.index]=c=Dc(a,t,s,n),qc(t,c)}return new wa(c,n,t)}function Ta(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ea(xe(),ze(),r)}function Ea(r,e,n){if(!n&&te(r)){var t=fe(r.index,e);return new Sa(t,t)}return 3===r.type||0===r.type||4===r.type||5===r.type?new Sa(e[16],e):null}var Pa=function(){var r=function r(){Object(l.a)(this,r)};return r.__NG_ELEMENT_ID__=function(){return Aa()},r}(),Aa=Ta,Ia=Function,Ra=new Or("Set Injector scope."),Ma={},La={},Da=[],Fa=void 0;function Ua(){return void 0===Fa&&(Fa=new zr),Fa}function qa(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=arguments.length>3?arguments[3]:void 0;return new Ba(r,n,e||Ua(),t)}var Ba=function(){function r(e,n,t){var c=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(l.a)(this,r),this.parent=t,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&Tr(n,(function(r){return c.processProvider(r,e,n)})),Tr([e],(function(r){return c.processInjectorType(r,[],s)})),this.records.set(Nr,Wa(void 0,this));var b=this.records.get(Ra);this.scope=null!=b?b.value:null,this.source=a||("object"==typeof e?null:K(e))}return Object(u.a)(r,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(r){return r.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.Default;this.assertNotDestroyed();var t=vr(this);try{if(!(n&R.SkipSelf)){var c=this.records.get(r);if(void 0===c){var a=Ka(r)&&U(r);c=a&&this.injectableDefInScope(a)?Wa(Ha(r),Ma):null,this.records.set(r,c)}if(null!=c)return this.hydrate(r,c)}var s=n&R.Self?Ua():this.parent;return s.get(r,e=n&R.Optional&&e===hr?null:e)}catch(i){if("NullInjectorError"===i.name){var b=i.ngTempTokenPath=i.ngTempTokenPath||[];if(b.unshift(K(r)),t)throw i;return Cr(i,r,"R3InjectorError",this.source)}throw i}finally{vr(t)}}},{key:"_resolveInjectorDefTypes",value:function(){var r=this;this.injectorDefTypes.forEach((function(e){return r.get(e)}))}},{key:"toString",value:function(){var r=[];return this.records.forEach((function(e,n){return r.push(K(n))})),"R3Injector[".concat(r.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(r,e,n){var t=this;if(!(r=Y(r)))return!1;var c=B(r),a=null==c&&r.ngModule||void 0,s=void 0===a?r:a,b=-1!==n.indexOf(s);if(void 0!==a&&(c=B(a)),null==c)return!1;if(null!=c.imports&&!b){var i;n.push(s);try{Tr(c.imports,(function(r){t.processInjectorType(r,e,n)&&(void 0===i&&(i=[]),i.push(r))}))}finally{}if(void 0!==i)for(var o=function(r){var e=i[r],n=e.ngModule,c=e.providers;Tr(c,(function(r){return t.processProvider(r,n,c||Da)}))},p=0;p<i.length;p++)o(p)}this.injectorDefTypes.add(s),this.records.set(s,Wa(c.factory,Ma));var l=c.providers;if(null!=l&&!b){var u=r;Tr(l,(function(r){return t.processProvider(r,u,l)}))}return void 0!==a&&void 0!==r.providers}},{key:"processProvider",value:function(r,e,n){var t=Qa(r=Y(r))?r:Y(r&&r.provide),c=function(r,e,n){return Ga(r)?Wa(void 0,r.useValue):Wa(Va(r,e,n),Ma)}(r,e,n);if(Qa(r)||!0!==r.multi){var a=this.records.get(t);a&&void 0!==a.multi&&Ft()}else{var s=this.records.get(t);s?void 0===s.multi&&Ft():((s=Wa(void 0,Ma,!0)).factory=function(){return Sr(s.multi)},this.records.set(t,s)),t=r,s.multi.push(r)}this.records.set(t,c)}},{key:"hydrate",value:function(r,e){var n;return e.value===La?function(r){throw new Error("Cannot instantiate cyclic dependency! ".concat(r))}(K(r)):e.value===Ma&&(e.value=La,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(r){return!!r.providedIn&&("string"==typeof r.providedIn?"any"===r.providedIn||r.providedIn===this.scope:this.injectorDefTypes.has(r.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),r}();function Ha(r){var e=U(r),n=null!==e?e.factory:Yr(r);if(null!==n)return n;var t=B(r);if(null!==t)return t.factory;if(r instanceof Or)throw new Error("Token ".concat(K(r)," is missing a \u0275prov definition."));if(r instanceof Function)return function(r){var e=r.length;if(e>0){var n=Ar(e,"?");throw new Error("Can't resolve all parameters for ".concat(K(r),": (").concat(n.join(", "),")."))}var t=function(r){var e=r&&(r[H]||r[G]||r[W]&&r[W]());if(e){var n=function(r){if(r.hasOwnProperty("name"))return r.name;var e=(""+r).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(r);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),e}return null}(r);return null!==t?function(){return t.factory(r)}:function(){return new r}}(r);throw new Error("unreachable")}function Va(r,e,n){var t,c=void 0;if(Qa(r)){var a=Y(r);return Yr(a)||Ha(a)}if(Ga(r))c=function(){return Y(r.useValue)};else if((t=r)&&t.useFactory)c=function(){return r.useFactory.apply(r,Object(b.a)(Sr(r.deps||[])))};else if(function(r){return!(!r||!r.useExisting)}(r))c=function(){return kr(Y(r.useExisting))};else{var s=Y(r&&(r.useClass||r.provide));if(s||function(r,e,n){var t="";if(r&&e){var c=e.map((function(r){return r==n?"?"+n+"?":"..."}));t=" - only instances of Provider and Type are allowed, got: [".concat(c.join(", "),"]")}throw new Error("Invalid provider for the NgModule '".concat(K(r),"'")+t)}(e,n,r),!function(r){return!!r.deps}(r))return Yr(s)||Ha(s);c=function(){return h(s,Object(b.a)(Sr(r.deps)))}}return c}function Wa(r,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:r,value:e,multi:n?[]:void 0}}function Ga(r){return null!==r&&"object"==typeof r&&fr in r}function Qa(r){return"function"==typeof r}function Ka(r){return"function"==typeof r||"object"==typeof r&&r instanceof Or}var $a=function(r,e,n){return function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=arguments.length>3?arguments[3]:void 0,c=qa(r,e,n,t);return c._resolveInjectorDefTypes(),c}({name:n},e,r,n)},Ja=function(){var r=function(){function r(){Object(l.a)(this,r)}return Object(u.a)(r,null,[{key:"create",value:function(r,e){return Array.isArray(r)?$a(r,e,""):$a(r.providers,r.parent,r.name||"")}}]),r}();return r.THROW_IF_NOT_FOUND=hr,r.NULL=new zr,r.\u0275prov=D({token:r,providedIn:"any",factory:function(){return kr(Nr)}}),r.__NG_ELEMENT_ID__=-1,r}(),Za=new Or("AnalyzeForEntryComponents");function Ya(r,e,n){var t=n?r.styles:null,c=n?r.classes:null,a=0;if(null!==e)for(var s=0;s<e.length;s++){var b=e[s];"number"==typeof b?a=b:1==a?c=$(c,b):2==a&&(t=$(t,b+": "+e[++s]+";"))}n?r.styles=t:r.stylesWithoutHost=t,n?r.classes=c:r.classesWithoutHost=c}var Xa=null;function rs(){if(!Xa){var r=ar.Symbol;if(r&&r.iterator)Xa=r.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var t=e[n];"entries"!==t&&"size"!==t&&Map.prototype[t]===Map.prototype.entries&&(Xa=t)}}return Xa}var es=function(){function r(e){Object(l.a)(this,r),this.wrapped=e}return Object(u.a)(r,null,[{key:"wrap",value:function(e){return new r(e)}},{key:"unwrap",value:function(e){return r.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof r}}]),r}();function ns(r){return!!ts(r)&&(Array.isArray(r)||!(r instanceof Map)&&rs()in r)}function ts(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function cs(r,e,n){return r[e]=n}function as(r,e,n){return!Object.is(r[e],n)&&(r[e]=n,!0)}function ss(r,e,n,t){var c=as(r,e,n);return as(r,e+1,t)||c}function bs(r,e,n,t,c,a){var s=ss(r,e,n,t);return ss(r,e+2,c,a)||s}function is(r,e,n,t){var c=ze();return as(c,Le(),e)&&(Ce(),function(r,e,n,t,c,a){var s=Ne(r,e),b=e[11];if(null==t)pe(b)?b.removeAttribute(s,n,a):s.removeAttribute(n);else{var i=null==c?mn(t):c(t,r.tagName||"",n);pe(b)?b.setAttribute(s,n,i,a):a?s.setAttributeNS(a,n,i):s.setAttribute(n,i)}}(rn(),c,r,e,n,t)),is}function os(r,e,n,t,c,a,s,b){var i=ze(),o=Ce(),p=r+20,l=o.firstCreatePass?function(r,e,n,t,c,a,s,b,i){var o=e.consts,p=Oc(e,n[6],r,0,s||null,ye(o,b));zc(e,n,p,ye(o,i)),en(e,p);var l=p.tViews=yc(2,-1,t,c,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,o),u=_c(0,null,2,-1,null,null);return u.injectorIndex=p.injectorIndex,l.node=u,null!==e.queries&&(e.queries.template(e,p),l.queries=e.queries.embeddedTView(p)),p}(r,o,i,e,n,t,c,a,s):o.data[p];Te(l,!1);var u=i[11].createComment("");Na(o,i,u,l),Lt(u,i),qc(i,i[p]=Dc(u,i,u,l)),ce(l)&&mc(o,i,l),null!=s&&vc(i,l,b)}function ps(r){return de(we.lFrame.contextLView,r)}function ls(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.Default,n=ze();if(null==n)return kr(r,e);var t=xe();return En(t,n,Y(r),e)}function us(r){return function(r,e){if("class"===e)return r.classes;if("style"===e)return r.styles;var n=r.attrs;if(n)for(var t=n.length,c=0;c<t;){var a=n[c];if(pn(a))break;if(0===a)c+=2;else if("number"==typeof a)for(c++;c<t&&"string"==typeof n[c];)c++;else{if(a===e)return n[c+1];c+=2}}return null}(xe(),r)}function Os(r,e,n){var t=ze();return as(t,Le(),e)&&Sc(Ce(),rn(),t,r,e,t[11],n,!1),Os}function Ns(r,e,n,t,c){var a=c?"class":"style";Jc(r,n,e.inputs[a],a,t)}function hs(r,e,n,t){var c=ze(),a=Ce(),s=20+r,b=c[11],i=c[s]=lc(e,b,we.lFrame.currentNamespace),o=a.firstCreatePass?function(r,e,n,t,c,a,s){var b=e.consts,i=ye(b,a),o=Oc(e,n[6],r,3,c,i);return zc(e,n,o,ye(b,s)),null!==o.attrs&&Ya(o,o.attrs,!1),null!==o.mergedAttrs&&Ya(o,o.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,o),o}(r,a,c,0,e,n,t):a.data[s];Te(o,!0);var p=o.mergedAttrs;null!==p&&on(b,i,p);var l=o.classes;null!==l&&ya(b,i,l);var u=o.styles;null!==u&&ga(b,i,u),Na(a,c,i,o),0===we.lFrame.elementDepthCount&&Lt(i,c),we.lFrame.elementDepthCount++,ce(o)&&(mc(a,c,o),function(r,e,n){if(ne(e))for(var t=e.directiveEnd,c=e.directiveStart;c<t;c++){var a=r.data[c];a.contentQueries&&a.contentQueries(1,n[c],c)}}(a,o,c)),null!==t&&vc(c,o)}function ds(){var r=xe();Ee()?Pe():Te(r=r.parent,!1);var e=r;we.lFrame.elementDepthCount--;var n=Ce();n.firstCreatePass&&(en(n,r),ne(r)&&n.queries.elementEnd(r)),null!=e.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(e)&&Ns(n,e,ze(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(e)&&Ns(n,e,ze(),e.stylesWithoutHost,!1)}function fs(r,e,n,t){hs(r,e,n,t),ds()}function ms(){return ze()}function vs(r){return!!r&&"function"==typeof r.then}function gs(r){return!!r&&"function"==typeof r.subscribe}function ys(r,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3?arguments[3]:void 0,c=ze(),a=Ce(),s=xe();return ws(a,c,c[11],s,r,e,n,t),ys}function ks(r,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3?arguments[3]:void 0,c=xe(),a=ze(),s=Ce(),b=qe(s.data),i=Kc(b,c,a);return ws(s,a,i,c,r,e,n,t),ks}function _s(r,e,n,t){var c=r.cleanup;if(null!=c)for(var a=0;a<c.length-1;a+=2){var s=c[a];if(s===n&&c[a+1]===t){var b=e[7],i=c[a+2];return b.length>i?b[i]:null}"string"==typeof s&&(a+=2)}return null}function ws(r,e,n,t,c,a){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],b=arguments.length>7?arguments[7]:void 0,i=ce(t),o=r.firstCreatePass,p=o&&(r.cleanup||(r.cleanup=[])),l=Qc(e),u=!0;if(3===t.type){var O=Ne(t,e),N=b?b(O):Fr,h=N.target||O,d=l.length,f=b?function(r){return b(ue(r[t.index])).target}:t.index;if(pe(n)){var m=null;if(!b&&i&&(m=_s(r,e,c,t.index)),null!==m){var v=m.__ngLastListenerFn__||m;v.__ngNextListenerFn__=a,m.__ngLastListenerFn__=a,u=!1}else{a=zs(t,e,a,!1);var g=n.listen(N.name||h,c,a);l.push(a,g),p&&p.push(c,f,d,d+1)}}else a=zs(t,e,a,!0),h.addEventListener(c,a,s),l.push(a),p&&p.push(c,f,d,s)}var y,k=t.outputs;if(u&&null!==k&&(y=k[c])){var _=y.length;if(_)for(var w=0;w<_;w+=2){var S=y[w],z=y[w+1],C=e[S],j=C[z],x=j.subscribe(a),T=l.length;l.push(a,x),p&&p.push(c,t.index,T,-(T+1))}}}function Ss(r,e,n){try{return!1!==e(n)}catch(t){return $c(r,t),!1}}function zs(r,e,n,t){return function c(a){if(a===Function)return n;var s=2&r.flags?fe(r.index,e):e;0==(32&e[2])&&Bc(s);for(var b=Ss(e,n,a),i=c.__ngNextListenerFn__;i;)b=Ss(e,i,a)&&b,i=i.__ngNextListenerFn__;return t&&!1===b&&(a.preventDefault(),a.returnValue=!1),b}}function Cs(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Ze(r)}function js(r,e){for(var n=null,t=function(r){var e=r.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(r),c=0;c<e.length;c++){var a=e[c];if("*"!==a){if(null===t?Qt(r,a,!0):Kt(t,a))return c}else n=c}return n}function xs(r){var e=ze()[16][6];if(!e.projection)for(var n=e.projection=Ar(r?r.length:1,null),t=n.slice(),c=e.child;null!==c;){var a=r?js(c,r):0;null!==a&&(t[a]?t[a].projectionNext=c:n[a]=c,t[a]=c),c=c.next}}function Ts(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,t=ze(),c=Ce(),a=Oc(c,t[6],r,1,null,n||null);null===a.projection&&(a.projection=e),Pe(),ma(c,t,a)}var Es=[];function Ps(r,e,n,t,c){for(var a=r[n+1],s=null===e,b=t?ac(a):bc(a),i=!1;0!==b&&(!1===i||s);){var o=r[b+1];As(r[b],e)&&(i=!0,r[b+1]=t?oc(o):sc(o)),b=t?ac(o):bc(o)}i&&(r[n+1]=t?sc(a):oc(a))}function As(r,e){return null===r||null==e||(Array.isArray(r)?r[1]:r)===e||!(!Array.isArray(r)||"string"!=typeof e)&&Mr(r,e)>=0}var Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rs(r){return r.substring(Is.key,Is.keyEnd)}function Ms(r,e){var n=Is.textEnd;return n===e?-1:(e=Is.keyEnd=function(r,e,n){for(;e<n&&r.charCodeAt(e)>32;)e++;return e}(r,Is.key=e,n),Ls(r,e,n))}function Ls(r,e,n){for(;e<n&&r.charCodeAt(e)<=32;)e++;return e}function Ds(r,e,n){return Bs(r,e,n,!1),Ds}function Fs(r,e){return Bs(r,e,null,!0),Fs}function Us(r){!function(r,e,n,t){var c=Ce(),a=De(2);c.firstUpdatePass&&Vs(c,null,a,!0);var s=ze();if(n!==Zt&&as(s,a,n)){var b=c.data[Ye()+20];if(Js(b,!0)&&!Hs(c,a)){var i=b.classesWithoutHost;null!==i&&(n=$(i,n||"")),Ns(c,b,s,n,!0)}else!function(r,e,n,t,c,a,s,b){c===Zt&&(c=Es);for(var i=0,o=0,p=0<c.length?c[0]:null,l=0<a.length?a[0]:null;null!==p||null!==l;){var u=i<c.length?c[i+1]:void 0,O=o<a.length?a[o+1]:void 0,N=null,h=void 0;p===l?(i+=2,o+=2,u!==O&&(N=l,h=O)):null===l||null!==p&&p<l?(i+=2,N=p):(o+=2,N=l,h=O),null!==N&&Qs(r,e,n,t,N,h,!0,b),p=i<c.length?c[i]:null,l=o<a.length?a[o]:null}}(c,b,s,s[11],s[a+1],s[a+1]=function(r,e,n){if(null==n||""===n)return Es;var t=[],c=Yn(n);if(Array.isArray(c))for(var a=0;a<c.length;a++)r(t,c[a],!0);else if("object"==typeof c)for(var s in c)c.hasOwnProperty(s)&&r(t,s,c[s]);else"string"==typeof c&&e(t,c);return t}(r,e,n),0,a)}}(Ir,qs,r)}function qs(r,e){for(var n=function(r){return function(r){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=r.length}(r),Ms(r,Ls(r,0,Is.textEnd))}(e);n>=0;n=Ms(e,n))Ir(r,Rs(e),!0)}function Bs(r,e,n,t){var c=ze(),a=Ce(),s=De(2);a.firstUpdatePass&&Vs(a,r,s,t),e!==Zt&&as(c,s,e)&&Qs(a,a.data[Ye()+20],c,c[11],r,c[s+1]=function(r,e){return null==r||("string"==typeof e?r+=e:"object"==typeof r&&(r=K(Yn(r)))),r}(e,n),t,s)}function Hs(r,e){return e>=r.expandoStartIndex}function Vs(r,e,n,t){var c=r.data;if(null===c[n+1]){var a=c[Ye()+20],s=Hs(r,n);Js(a,t)&&null===e&&!s&&(e=!1),e=function(r,e,n,t){var c=qe(r),a=t?e.residualClasses:e.residualStyles;if(null===c)0===(t?e.classBindings:e.styleBindings)&&(n=Gs(n=Ws(null,r,e,n,t),e.attrs,t),a=null);else{var s=e.directiveStylingLast;if(-1===s||r[s]!==c)if(n=Ws(c,r,e,n,t),null===a){var b=function(r,e,n){var t=n?e.classBindings:e.styleBindings;if(0!==bc(t))return r[ac(t)]}(r,e,t);void 0!==b&&Array.isArray(b)&&function(r,e,n,t){r[ac(n?e.classBindings:e.styleBindings)]=t}(r,e,t,b=Gs(b=Ws(null,r,e,b[1],t),e.attrs,t))}else a=function(r,e,n){for(var t=void 0,c=e.directiveEnd,a=1+e.directiveStylingLast;a<c;a++)t=Gs(t,r[a].hostAttrs,n);return Gs(t,e.attrs,n)}(r,e,t)}return void 0!==a&&(t?e.residualClasses=a:e.residualStyles=a),n}(c,a,e,t),function(r,e,n,t,c,a){var s=a?e.classBindings:e.styleBindings,b=ac(s),i=bc(s);r[t]=n;var o,p=!1;if(Array.isArray(n)?(null===(o=n[1])||Mr(n,o)>0)&&(p=!0):o=n,c)if(0!==i){var l=ac(r[b+1]);r[t+1]=cc(l,b),0!==l&&(r[l+1]=ic(r[l+1],t)),r[b+1]=131071&r[b+1]|t<<17}else r[t+1]=cc(b,0),0!==b&&(r[b+1]=ic(r[b+1],t)),b=t;else r[t+1]=cc(i,0),0===b?b=t:r[i+1]=ic(r[i+1],t),i=t;p&&(r[t+1]=sc(r[t+1])),Ps(r,o,t,!0),Ps(r,o,t,!1),function(r,e,n,t,c){var a=c?r.residualClasses:r.residualStyles;null!=a&&"string"==typeof e&&Mr(a,e)>=0&&(n[t+1]=oc(n[t+1]))}(e,o,r,t,a),s=cc(b,i),a?e.classBindings=s:e.styleBindings=s}(c,a,e,n,s,t)}}function Ws(r,e,n,t,c){var a=null,s=n.directiveEnd,b=n.directiveStylingLast;for(-1===b?b=n.directiveStart:b++;b<s&&(t=Gs(t,(a=e[b]).hostAttrs,c),a!==r);)b++;return null!==r&&(n.directiveStylingLast=b),t}function Gs(r,e,n){var t=n?1:2,c=-1;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?c=s:c===t&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ir(r,s,!!n||e[++a]))}return void 0===r?null:r}function Qs(r,e,n,t,c,a,s,b){if(3===e.type){var i=r.data,o=i[b+1];$s(1==(1&o)?Ks(i,e,n,c,bc(o),s):void 0)||($s(a)||function(r){return 2==(2&r)}(o)&&(a=Ks(i,null,n,c,b,s)),function(r,e,n,t,c){var a=pe(r);if(e)c?a?r.addClass(n,t):n.classList.add(t):a?r.removeClass(n,t):n.classList.remove(t);else{var s=-1==t.indexOf("-")?void 0:2;null==c?a?r.removeStyle(n,t,s):n.style.removeProperty(t):a?r.setStyle(n,t,c,s):n.style.setProperty(t,c)}}(t,s,Oe(Ye(),n),c,a))}}function Ks(r,e,n,t,c,a){for(var s=null===e,b=void 0;c>0;){var i=r[c],o=Array.isArray(i),p=o?i[1]:i,l=null===p,u=n[c+1];u===Zt&&(u=l?Es:void 0);var O=l?Rr(u,t):p===t?u:void 0;if(o&&!$s(O)&&(O=Rr(i,t)),$s(O)&&(b=O,s))return b;var N=r[c+1];c=s?ac(N):bc(N)}if(null!==e){var h=a?e.residualClasses:e.residualStyles;null!=h&&(b=Rr(h,t))}return b}function $s(r){return void 0!==r}function Js(r,e){return 0!=(r.flags&(e?16:32))}function Zs(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ze(),t=Ce(),c=r+20,a=t.firstCreatePass?Oc(t,n[6],r,3,null,null):t.data[c],s=n[c]=ea(e,n[11]);Na(t,n,s,a),Te(a,!1)}function Ys(r){return Xs("",r,""),Ys}function Xs(r,e,n){var t=ze(),c=function(r,e,n,t){return as(r,Le(),n)?e+mn(n)+t:Zt}(t,r,e,n);return c!==Zt&&Zc(t,Ye(),c),Xs}function rb(r,e,n,t,c){var a=ze(),s=function(r,e,n,t,c,a){var s=ss(r,Me(),n,c);return De(2),s?e+mn(n)+t+mn(c)+a:Zt}(a,r,e,n,t,c);return s!==Zt&&Zc(a,Ye(),s),rb}function eb(r,e,n,t,c,a,s,b,i){var o=ze(),p=function(r,e,n,t,c,a,s,b,i,o){var p=bs(r,Me(),n,c,s,i);return De(4),p?e+mn(n)+t+mn(c)+a+mn(s)+b+mn(i)+o:Zt}(o,r,e,n,t,c,a,s,b,i);return p!==Zt&&Zc(o,Ye(),p),eb}function nb(r,e,n,t,c,a,s,b,i,o,p,l,u){var O=ze(),N=function(r,e,n,t,c,a,s,b,i,o,p,l,u,O){var N=Me(),h=bs(r,N,n,c,s,i);return h=ss(r,N+4,p,u)||h,De(6),h?e+mn(n)+t+mn(c)+a+mn(s)+b+mn(i)+o+mn(p)+l+mn(u)+O:Zt}(O,r,e,n,t,c,a,s,b,i,o,p,l,u);return N!==Zt&&Zc(O,Ye(),N),nb}function tb(r,e,n){var t=ze();return as(t,Le(),e)&&Sc(Ce(),rn(),t,r,e,t[11],n,!0),tb}function cb(r,e,n){var t=ze();if(as(t,Le(),e)){var c=Ce(),a=rn();Sc(c,a,t,r,e,Kc(qe(c.data),a,t),n,!0)}return cb}function ab(r,e){var n=me(r)[1],t=n.data.length-1;en(n,{directiveStart:t,directiveEnd:t+1})}function sb(r){for(var e=Object.getPrototypeOf(r.type.prototype).constructor,n=!0,t=[r];e;){var c=void 0;if(ae(r))c=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");c=e.\u0275dir}if(c){if(n){t.push(c);var a=r;a.inputs=bb(r.inputs),a.declaredInputs=bb(r.declaredInputs),a.outputs=bb(r.outputs);var s=c.hostBindings;s&&pb(r,s);var b=c.viewQuery,i=c.contentQueries;if(b&&ib(r,b),i&&ob(r,i),L(r.inputs,c.inputs),L(r.declaredInputs,c.declaredInputs),L(r.outputs,c.outputs),ae(c)&&c.data.animation){var o=r.data;o.animation=(o.animation||[]).concat(c.data.animation)}a.afterContentChecked=a.afterContentChecked||c.afterContentChecked,a.afterContentInit=r.afterContentInit||c.afterContentInit,a.afterViewChecked=r.afterViewChecked||c.afterViewChecked,a.afterViewInit=r.afterViewInit||c.afterViewInit,a.doCheck=r.doCheck||c.doCheck,a.onDestroy=r.onDestroy||c.onDestroy,a.onInit=r.onInit||c.onInit}var p=c.features;if(p)for(var l=0;l<p.length;l++){var u=p[l];u&&u.ngInherit&&u(r),u===sb&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(r){for(var e=0,n=null,t=r.length-1;t>=0;t--){var c=r[t];c.hostVars=e+=c.hostVars,c.hostAttrs=un(c.hostAttrs,n=un(n,c.hostAttrs))}}(t)}function bb(r){return r===Fr?{}:r===Ur?[]:r}function ib(r,e){var n=r.viewQuery;r.viewQuery=n?function(r,t){e(r,t),n(r,t)}:e}function ob(r,e){var n=r.contentQueries;r.contentQueries=n?function(r,t,c){e(r,t,c),n(r,t,c)}:e}function pb(r,e){var n=r.hostBindings;r.hostBindings=n?function(r,t){e(r,t),n(r,t)}:e}var lb=function(){function r(e,n,t){Object(l.a)(this,r),this.previousValue=e,this.currentValue=n,this.firstChange=t}return Object(u.a)(r,[{key:"isFirstChange",value:function(){return this.firstChange}}]),r}();function ub(r){r.type.prototype.ngOnChanges&&(r.setInput=Ob,r.onChanges=function(){var r=Nb(this),e=r&&r.current;if(e){var n=r.previous;if(n===Fr)r.previous=e;else for(var t in e)n[t]=e[t];r.current=null,this.ngOnChanges(e)}})}function Ob(r,e,n,t){var c=Nb(r)||function(r,e){return r.__ngSimpleChanges__=e}(r,{previous:Fr,current:null}),a=c.current||(c.current={}),s=c.previous,b=this.declaredInputs[n],i=s[b];a[b]=new lb(i&&i.currentValue,e,s===Fr),r[t]=e}function Nb(r){return r.__ngSimpleChanges__||null}function hb(r,e,n){var t=Ce();if(t.firstCreatePass){var c=ae(r);db(n,t.data,t.blueprint,c,!0),db(e,t.data,t.blueprint,c,!1)}}function db(r,e,n,t,c){if(r=Y(r),Array.isArray(r))for(var a=0;a<r.length;a++)db(r[a],e,n,t,c);else{var s=Ce(),b=ze(),i=Qa(r)?r:Y(r.provide),o=Va(r),p=xe(),l=65535&p.providerIndexes,u=p.directiveStart,O=p.providerIndexes>>16;if(Qa(r)||!r.multi){var N=new bn(o,c,ls),h=vb(i,e,c?l:l+O,u);-1===h?(Tn(zn(p,b),s,i),fb(s,r,e.length),e.push(i),p.directiveStart++,p.directiveEnd++,c&&(p.providerIndexes+=65536),n.push(N),b.push(N)):(n[h]=N,b[h]=N)}else{var d=vb(i,e,l+O,u),f=vb(i,e,l,l+O),m=f>=0&&n[f];if(c&&!m||!c&&!(d>=0&&n[d])){Tn(zn(p,b),s,i);var v=function(r,e,n,t,c){var a=new bn(r,n,ls);return a.multi=[],a.index=e,a.componentProviders=0,mb(a,c,t&&!n),a}(c?yb:gb,n.length,c,t,o);!c&&m&&(n[f].providerFactory=v),fb(s,r,e.length,0),e.push(i),p.directiveStart++,p.directiveEnd++,c&&(p.providerIndexes+=65536),n.push(v),b.push(v)}else fb(s,r,d>-1?d:f,mb(n[c?f:d],o,!c&&t));!c&&t&&m&&n[f].componentProviders++}}}function fb(r,e,n,t){var c=Qa(e);if(c||e.useClass){var a=(e.useClass||e).prototype.ngOnDestroy;if(a){var s=r.destroyHooks||(r.destroyHooks=[]);if(!c&&e.multi){var b=s.indexOf(n);-1===b?s.push(n,[t,a]):s[b+1].push(t,a)}else s.push(n,a)}}}function mb(r,e,n){return n&&r.componentProviders++,r.multi.push(e)-1}function vb(r,e,n,t){for(var c=n;c<t;c++)if(e[c]===r)return c;return-1}function gb(r,e,n,t){return kb(this.multi,[])}function yb(r,e,n,t){var c,a=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,b=Rn(n,n[1],this.providerFactory.index,t);kb(a,c=b.slice(0,s));for(var i=s;i<b.length;i++)c.push(b[i])}else kb(a,c=[]);return c}function kb(r,e){for(var n=0;n<r.length;n++)e.push((0,r[n])());return e}function _b(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,t){return hb(n,t?t(r):r,e)}}}ub.ngInherit=!0;var wb=function r(){Object(l.a)(this,r)},Sb=function r(){Object(l.a)(this,r)},zb=function(){function r(){Object(l.a)(this,r)}return Object(u.a)(r,[{key:"resolveComponentFactory",value:function(r){throw function(r){var e=Error("No component factory found for ".concat(K(r),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=r,e}(r)}}]),r}(),Cb=function(){var r=function r(){Object(l.a)(this,r)};return r.NULL=new zb,r}(),jb=function(){var r=function r(e){Object(l.a)(this,r),this.nativeElement=e};return r.__NG_ELEMENT_ID__=function(){return xb(r)},r}(),xb=function(r){return Ca(r,xe(),ze())},Tb=function r(){Object(l.a)(this,r)},Eb=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}({}),Pb=function(){var r=function r(){Object(l.a)(this,r)};return r.__NG_ELEMENT_ID__=function(){return Ab()},r}(),Ab=function(){var r=ze(),e=fe(xe().index,r);return function(r){var e=r[11];if(pe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(re(e)?e:r)},Ib=function(){var r=function r(){Object(l.a)(this,r)};return r.\u0275prov=D({token:r,providedIn:"root",factory:function(){return null}}),r}(),Rb=function r(e){Object(l.a)(this,r),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Mb=new Rb("10.0.2"),Lb=function(){function r(){Object(l.a)(this,r)}return Object(u.a)(r,[{key:"supports",value:function(r){return ns(r)}},{key:"create",value:function(r){return new Fb(r)}}]),r}(),Db=function(r,e){return e},Fb=function(){function r(e){Object(l.a)(this,r),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Db}return Object(u.a)(r,[{key:"forEachItem",value:function(r){var e;for(e=this._itHead;null!==e;e=e._next)r(e)}},{key:"forEachOperation",value:function(r){for(var e=this._itHead,n=this._removalsHead,t=0,c=null;e||n;){var a=!n||e&&e.currentIndex<Hb(n,t,c)?e:n,s=Hb(a,t,c),b=a.currentIndex;if(a===n)t--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)t++;else{c||(c=[]);var i=s-t,o=b-t;if(i!=o){for(var p=0;p<i;p++){var l=p<c.length?c[p]:c[p]=0,u=l+p;o<=u&&u<i&&(c[p]=l+1)}c[a.previousIndex]=o-i}}s!==b&&r(a,s,b)}}},{key:"forEachPreviousItem",value:function(r){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)r(e)}},{key:"forEachAddedItem",value:function(r){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)r(e)}},{key:"forEachMovedItem",value:function(r){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)r(e)}},{key:"forEachRemovedItem",value:function(r){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)r(e)}},{key:"forEachIdentityChange",value:function(r){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)r(e)}},{key:"diff",value:function(r){if(null==r&&(r=[]),!ns(r))throw new Error("Error trying to diff '".concat(K(r),"'. Only arrays and iterables are allowed"));return this.check(r)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(r){var e=this;this._reset();var n,t,c,a=this._itHead,s=!1;if(Array.isArray(r)){this.length=r.length;for(var b=0;b<this.length;b++)c=this._trackByFn(b,t=r[b]),null!==a&&Object.is(a.trackById,c)?(s&&(a=this._verifyReinsertion(a,t,c,b)),Object.is(a.item,t)||this._addIdentityChange(a,t)):(a=this._mismatch(a,t,c,b),s=!0),a=a._next}else n=0,function(r,e){if(Array.isArray(r))for(var n=0;n<r.length;n++)e(r[n]);else for(var t,c=r[rs()]();!(t=c.next()).done;)e(t.value)}(r,(function(r){c=e._trackByFn(n,r),null!==a&&Object.is(a.trackById,c)?(s&&(a=e._verifyReinsertion(a,r,c,n)),Object.is(a.item,r)||e._addIdentityChange(a,r)):(a=e._mismatch(a,r,c,n),s=!0),a=a._next,n++})),this.length=n;return this._truncate(a),this.collection=r,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var r,e;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=e)r.previousIndex=r.currentIndex,e=r._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(r,e,n,t){var c;return null===r?c=this._itTail:(c=r._prev,this._remove(r)),null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(n,t))?(Object.is(r.item,e)||this._addIdentityChange(r,e),this._moveAfter(r,c,t)):null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(r.item,e)||this._addIdentityChange(r,e),this._reinsertAfter(r,c,t)):r=this._addAfter(new Ub(e,n),c,t),r}},{key:"_verifyReinsertion",value:function(r,e,n,t){var c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==c?r=this._reinsertAfter(c,r._prev,t):r.currentIndex!=t&&(r.currentIndex=t,this._addToMoves(r,t)),r}},{key:"_truncate",value:function(r){for(;null!==r;){var e=r._next;this._addToRemovals(this._unlink(r)),r=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(r,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);var t=r._prevRemoved,c=r._nextRemoved;return null===t?this._removalsHead=c:t._nextRemoved=c,null===c?this._removalsTail=t:c._prevRemoved=t,this._insertAfter(r,e,n),this._addToMoves(r,n),r}},{key:"_moveAfter",value:function(r,e,n){return this._unlink(r),this._insertAfter(r,e,n),this._addToMoves(r,n),r}},{key:"_addAfter",value:function(r,e,n){return this._insertAfter(r,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}},{key:"_insertAfter",value:function(r,e,n){var t=null===e?this._itHead:e._next;return r._next=t,r._prev=e,null===t?this._itTail=r:t._prev=r,null===e?this._itHead=r:e._next=r,null===this._linkedRecords&&(this._linkedRecords=new Bb),this._linkedRecords.put(r),r.currentIndex=n,r}},{key:"_remove",value:function(r){return this._addToRemovals(this._unlink(r))}},{key:"_unlink",value:function(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);var e=r._prev,n=r._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,r}},{key:"_addToMoves",value:function(r,e){return r.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}},{key:"_addToRemovals",value:function(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}},{key:"_addIdentityChange",value:function(r,e){return r.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),r}(),Ub=function r(e,n){Object(l.a)(this,r),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},qb=function(){function r(){Object(l.a)(this,r),this._head=null,this._tail=null}return Object(u.a)(r,[{key:"add",value:function(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}},{key:"get",value:function(r,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,r))return n;return null}},{key:"remove",value:function(r){var e=r._prevDup,n=r._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),r}(),Bb=function(){function r(){Object(l.a)(this,r),this.map=new Map}return Object(u.a)(r,[{key:"put",value:function(r){var e=r.trackById,n=this.map.get(e);n||(n=new qb,this.map.set(e,n)),n.add(r)}},{key:"get",value:function(r,e){var n=this.map.get(r);return n?n.get(r,e):null}},{key:"remove",value:function(r){var e=r.trackById;return this.map.get(e).remove(r)&&this.map.delete(e),r}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),r}();function Hb(r,e,n){var t=r.previousIndex;if(null===t)return t;var c=0;return n&&t<n.length&&(c=n[t]),t+e+c}var Vb=function(){function r(){Object(l.a)(this,r)}return Object(u.a)(r,[{key:"supports",value:function(r){return r instanceof Map||ts(r)}},{key:"create",value:function(){return new Wb}}]),r}(),Wb=function(){function r(){Object(l.a)(this,r),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object(u.a)(r,[{key:"forEachItem",value:function(r){var e;for(e=this._mapHead;null!==e;e=e._next)r(e)}},{key:"forEachPreviousItem",value:function(r){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)r(e)}},{key:"forEachChangedItem",value:function(r){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)r(e)}},{key:"forEachAddedItem",value:function(r){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)r(e)}},{key:"forEachRemovedItem",value:function(r){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)r(e)}},{key:"diff",value:function(r){if(r){if(!(r instanceof Map||ts(r)))throw new Error("Error trying to diff '".concat(K(r),"'. Only maps and objects are allowed"))}else r=new Map;return this.check(r)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(r){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(r,(function(r,t){if(n&&n.key===t)e._maybeAddToChanges(n,r),e._appendAfter=n,n=n._next;else{var c=e._getOrCreateRecordForKey(t,r);n=e._insertBeforeOrAppend(n,c)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var t=n;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(r,e){if(r){var n=r._prev;return e._next=r,e._prev=n,r._prev=e,n&&(n._next=e),r===this._mapHead&&(this._mapHead=e),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(r,e){if(this._records.has(r)){var n=this._records.get(r);this._maybeAddToChanges(n,e);var t=n._prev,c=n._next;return t&&(t._next=c),c&&(c._prev=t),n._next=null,n._prev=null,n}var a=new Gb(r);return this._records.set(r,a),a.currentValue=e,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(r,e){Object.is(e,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=e,this._addToChanges(r))}},{key:"_addToAdditions",value:function(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}},{key:"_addToChanges",value:function(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}},{key:"_forEach",value:function(r,e){r instanceof Map?r.forEach(e):Object.keys(r).forEach((function(n){return e(r[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),r}(),Gb=function r(e){Object(l.a)(this,r),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Qb=function(){var r=function(){function r(e){Object(l.a)(this,r),this.factories=e}return Object(u.a)(r,[{key:"find",value:function(r){var e,n=this.factories.find((function(e){return e.supports(r)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(r,"' of type '").concat((e=r).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var t=n.factories.slice();e=e.concat(t)}return new r(e)}},{key:"extend",value:function(e){return{provide:r,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return r.create(e,n)},deps:[[r,new I,new P]]}}}]),r}();return r.\u0275prov=D({token:r,providedIn:"root",factory:function(){return new r([new Lb])}}),r}(),Kb=function(){var r=function(){function r(e){Object(l.a)(this,r),this.factories=e}return Object(u.a)(r,[{key:"find",value:function(r){var e=this.factories.find((function(e){return e.supports(r)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(r,"'"))}}],[{key:"create",value:function(e,n){if(n){var t=n.factories.slice();e=e.concat(t)}return new r(e)}},{key:"extend",value:function(e){return{provide:r,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return r.create(e,n)},deps:[[r,new I,new P]]}}}]),r}();return r.\u0275prov=D({token:r,providedIn:"root",factory:function(){return new r([new Vb])}}),r}(),$b=[new Vb],Jb=new Qb([new Lb]),Zb=new Kb($b),Yb=function(){var r=function r(){Object(l.a)(this,r)};return r.__NG_ELEMENT_ID__=function(){return Xb(r,jb)},r}(),Xb=function(r,e){return ja(r,e,xe(),ze())},ri=function(){var r=function r(){Object(l.a)(this,r)};return r.__NG_ELEMENT_ID__=function(){return ei(r,jb)},r}(),ei=function(r,e){return xa(r,e,xe(),ze())},ni={},ti=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){var t;return Object(l.a)(this,n),(t=e.call(this)).ngModule=r,t}return Object(u.a)(n,[{key:"resolveComponentFactory",value:function(r){var e=Zr(r);return new si(e,this.ngModule)}}]),n}(Cb);function ci(r){var e=[];for(var n in r)r.hasOwnProperty(n)&&e.push({propName:r[n],templateName:n});return e}var ai=new Or("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return gn}}),si=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;return Object(l.a)(this,n),(c=e.call(this)).componentDef=r,c.ngModule=t,c.componentType=r.type,c.selector=r.selectors.map(Jt).join(","),c.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],c.isBoundToModule=!!t,c}return Object(u.a)(n,[{key:"create",value:function(r,e,n,t){var c,a,s=(t=t||this.ngModule)?function(r,e){return{get:function(n,t,c){var a=r.get(n,ni,c);return a!==ni||t===ni?a:e.get(n,t,c)}}}(r,t.injector):r,b=s.get(Tb,le),i=s.get(Ib,null),o=b.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",l=n?function(r,e,n){if(pe(r))return r.selectRootElement(e,n===Dr.ShadowDom);var t="string"==typeof e?r.querySelector(e):e;return t.textContent="",t}(o,n,this.componentDef.encapsulation):lc(p,b.createRenderer(null,this.componentDef),function(r){var e=r.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(p)),u=this.componentDef.onPush?576:528,O={components:[],scheduler:gn,clean:Gc,playerHandler:null,flags:0},N=yc(0,-1,null,1,0,null,null,null,null,null),h=uc(null,N,O,u,null,null,b,o,i,s);We(h,null);try{var d=function(r,e,n,t,c,a){var s=n[1];n[20]=r;var b=Oc(s,null,0,3,null,null),i=b.mergedAttrs=e.hostAttrs;null!==i&&(Ya(b,i,!0),null!==r&&(on(c,r,i),null!==b.classes&&ya(c,r,b.classes),null!==b.styles&&ga(c,r,b.styles)));var o=t.createRenderer(r,e),p=uc(n,gc(e),null,e.onPush?64:16,n[20],b,t,o,void 0);return s.firstCreatePass&&(Tn(zn(b,n),s,e.type),Ec(s,b),Ac(b,n.length,1)),qc(n,p),n[20]=p}(l,this.componentDef,h,b,o);if(l)if(n)on(o,l,["ng-version",Mb.full]);else{var f=function(r){for(var e=[],n=[],t=1,c=2;t<r.length;){var a=r[t];if("string"==typeof a)2===c?""!==a&&e.push(a,r[++t]):8===c&&n.push(a);else{if(!Wt(c))break;c=a}t++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=f.attrs,v=f.classes;m&&on(o,l,m),v&&v.length>0&&ya(o,l,v.join(" "))}if(a=he(N,0),void 0!==e)for(var g=a.projection=[],y=0;y<this.ngContentSelectors.length;y++){var k=e[y];g.push(null!=k?Array.from(k):null)}c=function(r,e,n,t,c){var a=n[1],s=function(r,e,n){var t=xe();r.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Tc(r,t,1),Ic(r,e,n));var c=Rn(e,r,e.length-1,t);Lt(c,e);var a=Ne(t,e);return a&&Lt(a,e),c}(a,n,e);t.components.push(s),r[8]=s,c&&c.forEach((function(r){return r(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var b=xe();if(a.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Xe(b.index-20);var i=n[1];Cc(i,e),jc(i,n,e.hostVars),xc(e,s)}return s}(d,this.componentDef,h,O,[ab]),Nc(N,h,null)}finally{Je()}var _=new bi(this.componentType,c,Ca(jb,a,h),h,a);return N.node.child=a,_}},{key:"inputs",get:function(){return ci(this.componentDef.inputs)}},{key:"outputs",get:function(){return ci(this.componentDef.outputs)}}]),n}(Sb),bi=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c,a,s){var b,i,o,p;return Object(l.a)(this,n),(b=e.call(this)).location=c,b._rootLView=a,b._tNode=s,b.destroyCbs=[],b.instance=t,b.hostView=b.changeDetectorRef=new za(a),o=a,null==(p=(i=a[1]).node)&&(i.node=p=_c(0,null,2,-1,null,null)),o[6]=p,b.componentType=r,b}return Object(u.a)(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(r){return r()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(r){this.destroyCbs&&this.destroyCbs.push(r)}},{key:"injector",get:function(){return new Fn(this._tNode,this._rootLView)}}]),n}(wb),ii=void 0,oi=["en",[["a","p"],["AM","PM"],ii],[["AM","PM"],ii,ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ii,"{1} 'at' {0}",ii],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){var e=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],pi={};function li(r,e,n){"string"!=typeof e&&(n=e,e=r[di.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),pi[e]=r,n&&(pi[e][di.ExtraData]=n)}function ui(r){var e=function(r){return r.toLowerCase().replace(/_/g,"-")}(r),n=hi(e);if(n)return n;var t=e.split("-")[0];if(n=hi(t))return n;if("en"===t)return oi;throw new Error('Missing locale data for the locale "'.concat(r,'".'))}function Oi(r){return ui(r)[di.CurrencyCode]||null}function Ni(r){return ui(r)[di.PluralCase]}function hi(r){return r in pi||(pi[r]=ar.ng&&ar.ng.common&&ar.ng.common.locales&&ar.ng.common.locales[r]),pi[r]}var di=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}({});function fi(r){var e,n;n="Expected localeId to be defined",null==(e=r)&&function(r,e,n,t){throw new Error("ASSERTION ERROR: ".concat(r)+" [Expected=> ".concat(null," ").concat("!="," ").concat(e," <=Actual]"))}(n,e),"string"==typeof r&&r.toLowerCase().replace(/_/g,"-")}var mi=new Map,vi=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;Object(l.a)(this,n),(c=e.call(this))._parent=t,c._bootstrapComponents=[],c.injector=Object(a.a)(c),c.destroyCbs=[],c.componentFactoryResolver=new ti(Object(a.a)(c));var s=Xr(r),b=r[pr]||null;return b&&fi(b),c._bootstrapComponents=kn(s.bootstrap),c._r3Injector=qa(r,t,[{provide:jr,useValue:Object(a.a)(c)},{provide:Cb,useValue:c.componentFactoryResolver}],K(r)),c._r3Injector._resolveInjectorDefTypes(),c.instance=c.get(r),c}return Object(u.a)(n,[{key:"get",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.Default;return r===Ja||r===jr||r===Nr?this:this._r3Injector.get(r,e,n)}},{key:"destroy",value:function(){var r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach((function(r){return r()})),this.destroyCbs=null}},{key:"onDestroy",value:function(r){this.destroyCbs.push(r)}}]),n}(jr),gi=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){var t;return Object(l.a)(this,n),(t=e.call(this)).moduleType=r,null!==Xr(r)&&function r(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(r,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(r," - ").concat(K(e)," vs ").concat(K(e.name)))})(n,mi.get(n),e),mi.set(n,e)}var t=e.\u0275mod.imports;t instanceof Function&&(t=t()),t&&t.forEach((function(e){return r(e)}))}(r),t}return Object(u.a)(n,[{key:"create",value:function(r){return new vi(this.moduleType,r)}}]),n}(xr);function yi(r,e,n){var t=Re()+r,c=ze();return c[t]===Zt?cs(c,t,n?e.call(n):e()):function(r,e){return r[e]}(c,t)}function ki(r,e,n,t){return Si(ze(),Re(),r,e,n,t)}function _i(r,e,n,t,c){return function(r,e,n,t,c,a,s){var b=e+n;return ss(r,b,c,a)?cs(r,b+2,s?t.call(s,c,a):t(c,a)):wi(r,b+2)}(ze(),Re(),r,e,n,t,c)}function wi(r,e){var n=r[e];return n===Zt?void 0:n}function Si(r,e,n,t,c,a){var s=e+n;return as(r,s,c)?cs(r,s+1,a?t.call(a,c):t(c)):wi(r,s+1)}function zi(r,e){var n,t=Ce(),c=r+20;t.firstCreatePass?(n=function(r,e){if(e)for(var n=e.length-1;n>=0;n--){var t=e[n];if(r===t.name)return t}throw new Error("The pipe '".concat(r,"' could not be found!"))}(e,t.pipeRegistry),t.data[c]=n,n.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(c,n.onDestroy)):n=t.data[c];var a=n.factory||(n.factory=Yr(n.type)),s=gr(ls),b=wn(!1),i=a();return wn(b),gr(s),function(r,e,n,t){var c=n+20;c>=r.data.length&&(r.data[c]=null,r.blueprint[c]=null),e[c]=t}(t,ze(),r,i),i}function Ci(r,e,n){var t=ze(),c=de(t,r);return function(r,e){return es.isWrapped(e)&&(e=es.unwrap(e),r[Me()]=Zt),e}(t,function(r,e){return r[1].data[e+20].pure}(t,r)?Si(t,Re(),e,c.transform,n,c):c.transform(n))}var ji=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){var r,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(l.a)(this,n),(r=e.call(this)).__isAsync=t,r}return Object(u.a)(n,[{key:"emit",value:function(r){Object(t.a)(Object(c.a)(n.prototype),"next",this).call(this,r)}},{key:"subscribe",value:function(r,e,a){var s,b=function(r){return null},i=function(){return null};r&&"object"==typeof r?(s=this.__isAsync?function(e){setTimeout((function(){return r.next(e)}))}:function(e){r.next(e)},r.error&&(b=this.__isAsync?function(e){setTimeout((function(){return r.error(e)}))}:function(e){r.error(e)}),r.complete&&(i=this.__isAsync?function(){setTimeout((function(){return r.complete()}))}:function(){r.complete()})):(s=this.__isAsync?function(e){setTimeout((function(){return r(e)}))}:function(e){r(e)},e&&(b=this.__isAsync?function(r){setTimeout((function(){return e(r)}))}:function(r){e(r)}),a&&(i=this.__isAsync?function(){setTimeout((function(){return a()}))}:function(){a()}));var o=Object(t.a)(Object(c.a)(n.prototype),"subscribe",this).call(this,s,b,i);return r instanceof d.a&&r.add(o),o}}]),n}(f.a);function xi(){return this._results[rs()]()}var Ti=function(){function r(){Object(l.a)(this,r),this.dirty=!0,this._results=[],this.changes=new ji,this.length=0;var e=rs(),n=r.prototype;n[e]||(n[e]=xi)}return Object(u.a)(r,[{key:"map",value:function(r){return this._results.map(r)}},{key:"filter",value:function(r){return this._results.filter(r)}},{key:"find",value:function(r){return this._results.find(r)}},{key:"reduce",value:function(r,e){return this._results.reduce(r,e)}},{key:"forEach",value:function(r){this._results.forEach(r)}},{key:"some",value:function(r){return this._results.some(r)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(r){this._results=function r(e,n){void 0===n&&(n=e);for(var t=0;t<e.length;t++){var c=e[t];Array.isArray(c)?(n===e&&(n=e.slice(0,t)),r(c,n)):n!==e&&n.push(c)}return n}(r),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),r}(),Ei=function(){function r(e){Object(l.a)(this,r),this.queryList=e,this.matches=null}return Object(u.a)(r,[{key:"clone",value:function(){return new r(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),r}(),Pi=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(l.a)(this,r),this.queries=e}return Object(u.a)(r,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var t=null!==e.contentQueries?e.contentQueries[0]:n.length,c=[],a=0;a<t;a++){var s=n.getByIndex(a);c.push(this.queries[s.indexInDeclarationView].clone())}return new r(c)}return null}},{key:"insertView",value:function(r){this.dirtyQueriesWithMatches(r)}},{key:"detachView",value:function(r){this.dirtyQueriesWithMatches(r)}},{key:"dirtyQueriesWithMatches",value:function(r){for(var e=0;e<this.queries.length;e++)null!==$i(r,e).matches&&this.queries[e].setDirty()}}]),r}(),Ai=function r(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(l.a)(this,r),this.predicate=e,this.descendants=n,this.isStatic=t,this.read=c},Ii=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(l.a)(this,r),this.queries=e}return Object(u.a)(r,[{key:"elementStart",value:function(r,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(r,e)}},{key:"elementEnd",value:function(r){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(r)}},{key:"embeddedTView",value:function(e){for(var n=null,t=0;t<this.length;t++){var c=null!==n?n.length:0,a=this.getByIndex(t).embeddedTView(e,c);a&&(a.indexInDeclarationView=t,null!==n?n.push(a):n=[a])}return null!==n?new r(n):null}},{key:"template",value:function(r,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(r,e)}},{key:"getByIndex",value:function(r){return this.queries[r]}},{key:"track",value:function(r){this.queries.push(r)}},{key:"length",get:function(){return this.queries.length}}]),r}(),Ri=function(){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(l.a)(this,r),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return Object(u.a)(r,[{key:"elementStart",value:function(r,e){this.isApplyingToNode(e)&&this.matchTNode(r,e)}},{key:"elementEnd",value:function(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(r,e){this.elementStart(r,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new r(this.metadata)):null}},{key:"isApplyingToNode",value:function(r){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=r.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(r,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,t=0;t<n.length;t++)this.matchTNodeWithReadOption(r,e,Mi(e,n[t]));else{var c=this.metadata.predicate;c===Yb?0===e.type&&this.matchTNodeWithReadOption(r,e,-1):this.matchTNodeWithReadOption(r,e,In(e,r,c,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(r,e,n){if(null!==n){var t=this.metadata.read;if(null!==t)if(t===jb||t===ri||t===Yb&&0===e.type)this.addMatch(e.index,-2);else{var c=In(e,r,t,!1,!1);null!==c&&this.addMatch(e.index,c)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(r,e){null===this.matches?this.matches=[r,e]:this.matches.push(r,e)}}]),r}();function Mi(r,e){var n=r.localNames;if(null!==n)for(var t=0;t<n.length;t+=2)if(n[t]===e)return n[t+1];return null}function Li(r,e,n,t){return-1===n?function(r,e){return 3===r.type||4===r.type?Ca(jb,r,e):0===r.type?ja(Yb,jb,r,e):null}(e,r):-2===n?function(r,e,n){return n===jb?Ca(jb,e,r):n===Yb?ja(Yb,jb,e,r):n===ri?xa(ri,jb,e,r):void 0}(r,e,t):Rn(r,r[1],n,e)}function Di(r,e,n,t){var c=e[19].queries[t];if(null===c.matches){for(var a=r.data,s=n.matches,b=[],i=0;i<s.length;i+=2){var o=s[i];b.push(o<0?null:Li(e,a[o],s[i+1],n.metadata.read))}c.matches=b}return c.matches}function Fi(r){var e=ze(),n=Ce(),t=Be();He(t+1);var c=$i(n,t);if(r.dirty&&ve(e)===c.metadata.isStatic){if(null===c.matches)r.reset([]);else{var a=c.crossesNgTemplate?function r(e,n,t,c){var a=e.queries.getByIndex(t),s=a.matches;if(null!==s)for(var b=Di(e,n,a,t),i=0;i<s.length;i+=2){var o=s[i];if(o>0)c.push(b[i/2]);else{for(var p=s[i+1],l=n[-o],u=10;u<l.length;u++){var O=l[u];O[17]===O[3]&&r(O[1],O,p,c)}if(null!==l[9])for(var N=l[9],h=0;h<N.length;h++){var d=N[h];r(d[1],d,p,c)}}}return c}(n,e,t,[]):Di(n,e,c,t);r.reset(a),r.notifyOnChanges()}return!0}return!1}function Ui(r,e,n){Bi(Ce(),ze(),r,e,n,!0)}function qi(r,e,n){Bi(Ce(),ze(),r,e,n,!1)}function Bi(r,e,n,t,c,a){r.firstCreatePass&&(Ki(r,new Ai(n,t,a,c),-1),a&&(r.staticViewQueries=!0)),Qi(r,e)}function Hi(r,e,n,t){Wi(Ce(),ze(),e,n,t,!1,xe(),r)}function Vi(r,e,n,t){Wi(Ce(),ze(),e,n,t,!0,xe(),r)}function Wi(r,e,n,t,c,a,s,b){r.firstCreatePass&&(Ki(r,new Ai(n,t,a,c),s.index),function(r,e){var n=r.contentQueries||(r.contentQueries=[]);e!==(r.contentQueries.length?n[n.length-1]:-1)&&n.push(r.queries.length-1,e)}(r,b),a&&(r.staticContentQueries=!0)),Qi(r,e)}function Gi(){return r=ze(),e=Be(),r[19].queries[e].queryList;var r,e}function Qi(r,e){var n=new Ti;kc(r,e,n,n.destroy),null===e[19]&&(e[19]=new Pi),e[19].queries.push(new Ei(n))}function Ki(r,e,n){null===r.queries&&(r.queries=new Ii),r.queries.track(new Ri(e,n))}function $i(r,e){return r.queries.getByIndex(e)}function Ji(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.Default,e=Ta(!0);if(null!=e||r&R.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var Zi=new Or("Application Initializer"),Yi=function(){var r=function(){function r(e){var n=this;Object(l.a)(this,r),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(r,e){n.resolve=r,n.reject=e}))}return Object(u.a)(r,[{key:"runInitializers",value:function(){var r=this;if(!this.initialized){var e=[],n=function(){r.done=!0,r.resolve()};if(this.appInits)for(var t=0;t<this.appInits.length;t++){var c=this.appInits[t]();vs(c)&&e.push(c)}Promise.all(e).then((function(){n()})).catch((function(e){r.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),r}();return r.\u0275fac=function(e){return new(e||r)(kr(Zi,8))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r}(),Xi=new Or("AppId"),ro={provide:Xi,useFactory:function(){return"".concat(eo()).concat(eo()).concat(eo())},deps:[]};function eo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var no=new Or("Platform Initializer"),to=new Or("Platform ID"),co=new Or("appBootstrapListener"),ao=function(){var r=function(){function r(){Object(l.a)(this,r)}return Object(u.a)(r,[{key:"log",value:function(r){console.log(r)}},{key:"warn",value:function(r){console.warn(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r}(),so=new Or("LocaleId"),bo=new Or("DefaultCurrencyCode"),io=function r(e,n){Object(l.a)(this,r),this.ngModuleFactory=e,this.componentFactories=n},oo=function(r){return new gi(r)},po=oo,lo=function(r){return Promise.resolve(oo(r))},uo=function(r){var e=oo(r),n=kn(Xr(r).declarations).reduce((function(r,e){var n=Zr(e);return n&&r.push(new si(n)),r}),[]);return new io(e,n)},Oo=uo,No=function(r){return Promise.resolve(uo(r))},ho=function(){var r=function(){function r(){Object(l.a)(this,r),this.compileModuleSync=po,this.compileModuleAsync=lo,this.compileModuleAndAllComponentsSync=Oo,this.compileModuleAndAllComponentsAsync=No}return Object(u.a)(r,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(r){}},{key:"getModuleId",value:function(r){}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r}(),fo=function(){return Promise.resolve(0)}();function mo(r){"undefined"==typeof Zone?fo.then((function(){r&&r.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}var vo=function(){function r(e){var n,t,c=e.enableLongStackTrace,a=void 0!==c&&c,s=e.shouldCoalesceEventChangeDetection,b=void 0!==s&&s;if(Object(l.a)(this,r),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ji(!1),this.onMicrotaskEmpty=new ji(!1),this.onStable=new ji(!1),this.onError=new ji(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=b,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var r=ar.requestAnimationFrame,e=ar.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&e){var n=r[Zone.__symbol__("OriginalDelegate")];n&&(r=n);var t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,t=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(r){-1===r.lastRequestAnimationFrameId&&(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ar,(function(){r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){r.lastRequestAnimationFrameId=-1,_o(r),ko(r)}),void 0,(function(){}),(function(){}))),r.fakeTopEventTask.invoke()})),_o(r))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:function(r,e,c,a,s,b){try{return wo(n),r.invokeTask(c,a,s,b)}finally{t&&"eventTask"===a.type&&t(),So(n)}},onInvoke:function(r,e,t,c,a,s,b){try{return wo(n),r.invoke(t,c,a,s,b)}finally{So(n)}},onHasTask:function(r,e,t,c){r.hasTask(t,c),e===t&&("microTask"==c.change?(n._hasPendingMicrotasks=c.microTask,_o(n),ko(n)):"macroTask"==c.change&&(n.hasPendingMacrotasks=c.macroTask))},onHandleError:function(r,e,t,c){return r.handleError(t,c),n.runOutsideAngular((function(){return n.onError.emit(c)})),!1}})}return Object(u.a)(r,[{key:"run",value:function(r,e,n){return this._inner.run(r,e,n)}},{key:"runTask",value:function(r,e,n,t){var c=this._inner,a=c.scheduleEventTask("NgZoneEvent: "+t,r,yo,go,go);try{return c.runTask(a,e,n)}finally{c.cancelTask(a)}}},{key:"runGuarded",value:function(r,e,n){return this._inner.runGuarded(r,e,n)}},{key:"runOutsideAngular",value:function(r){return this._outer.run(r)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!r.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(r.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),r}();function go(){}var yo={};function ko(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular((function(){return r.onStable.emit(null)}))}finally{r.isStable=!0}}}function _o(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||r.shouldCoalesceEventChangeDetection&&-1!==r.lastRequestAnimationFrameId)}function wo(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function So(r){r._nesting--,ko(r)}var zo=function(){function r(){Object(l.a)(this,r),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ji,this.onMicrotaskEmpty=new ji,this.onStable=new ji,this.onError=new ji}return Object(u.a)(r,[{key:"run",value:function(r,e,n){return r.apply(e,n)}},{key:"runGuarded",value:function(r,e,n){return r.apply(e,n)}},{key:"runOutsideAngular",value:function(r){return r()}},{key:"runTask",value:function(r,e,n,t){return r.apply(e,n)}}]),r}(),Co=function(){var r=function(){function r(e){var n=this;Object(l.a)(this,r),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return Object(u.a)(r,[{key:"_watchAngularEvents",value:function(){var r=this;this._ngZone.onUnstable.subscribe({next:function(){r._didWork=!0,r._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){r._ngZone.onStable.subscribe({next:function(){vo.assertNotInAngularZone(),mo((function(){r._isZoneStable=!0,r._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var r=this;if(this.isStable())mo((function(){for(;0!==r._callbacks.length;){var e=r._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(r._didWork)}r._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(r){return!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(r){return{source:r.source,creationLocation:r.creationLocation,data:r.data}})):[]}},{key:"addCallback",value:function(r,e,n){var t=this,c=-1;e&&e>0&&(c=setTimeout((function(){t._callbacks=t._callbacks.filter((function(r){return r.timeoutId!==c})),r(t._didWork,t.getPendingTasks())}),e)),this._callbacks.push({doneCb:r,timeoutId:c,updateCb:n})}},{key:"whenStable",value:function(r,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(r,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(r,e,n){return[]}}]),r}();return r.\u0275fac=function(e){return new(e||r)(kr(vo))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r}(),jo=function(){var r=function(){function r(){Object(l.a)(this,r),this._applications=new Map,Eo.addToWindow(this)}return Object(u.a)(r,[{key:"registerApplication",value:function(r,e){this._applications.set(r,e)}},{key:"unregisterApplication",value:function(r){this._applications.delete(r)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(r){return this._applications.get(r)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(r){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Eo.findTestabilityInTree(this,r,e)}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r}();function xo(r){Eo=r}var To,Eo=new(function(){function r(){Object(l.a)(this,r)}return Object(u.a)(r,[{key:"addToWindow",value:function(r){}},{key:"findTestabilityInTree",value:function(r,e,n){return null}}]),r}()),Po=function(r,e,n){var t=new gi(n);return Promise.resolve(t)},Ao=new Or("AllowMultipleToken"),Io=function r(e,n){Object(l.a)(this,r),this.name=e,this.token=n};function Ro(r){if(To&&!To.destroyed&&!To.injector.get(Ao,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");To=r.get(Fo);var e=r.get(no,null);return e&&e.forEach((function(r){return r()})),To}function Mo(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t="Platform: ".concat(e),c=new Or(t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=Do();if(!a||a.injector.get(Ao,!1))if(r)r(n.concat(e).concat({provide:c,useValue:!0}));else{var s=n.concat(e).concat({provide:c,useValue:!0},{provide:Ra,useValue:"platform"});Ro(Ja.create({providers:s,name:t}))}return Lo(c)}}function Lo(r){var e=Do();if(!e)throw new Error("No platform exists!");if(!e.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Do(){return To&&!To.destroyed?To:null}var Fo=function(){var r=function(){function r(e){Object(l.a)(this,r),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return Object(u.a)(r,[{key:"bootstrapModuleFactory",value:function(r,e){var n,t,c=this,a=(t=e&&e.ngZoneEventCoalescing||!1,"noop"===(n=e?e.ngZone:void 0)?new zo:("zone.js"===n?void 0:n)||new vo({enableLongStackTrace:it(),shouldCoalesceEventChangeDetection:t})),s=[{provide:vo,useValue:a}];return a.run((function(){var e=Ja.create({providers:s,parent:c.injector,name:r.moduleType.name}),n=r.create(e),t=n.injector.get(Wn,null);if(!t)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Bo(c._modules,n)})),a.runOutsideAngular((function(){return a.onError.subscribe({next:function(r){t.handleError(r)}})})),function(r,e,t){try{var a=((s=n.injector.get(Yi)).runInitializers(),s.donePromise.then((function(){return fi(n.injector.get(so,"en-US")||"en-US"),c._moduleDoBootstrap(n),n})));return vs(a)?a.catch((function(n){throw e.runOutsideAngular((function(){return r.handleError(n)})),n})):a}catch(b){throw e.runOutsideAngular((function(){return r.handleError(b)})),b}var s}(t,a)}))}},{key:"bootstrapModule",value:function(r){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Uo({},n);return Po(0,0,r).then((function(r){return e.bootstrapModuleFactory(r,t)}))}},{key:"_moduleDoBootstrap",value:function(r){var e=r.injector.get(qo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach((function(r){return e.bootstrap(r)}));else{if(!r.instance.ngDoBootstrap)throw new Error("The module ".concat(K(r.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");r.instance.ngDoBootstrap(e)}this._modules.push(r)}},{key:"onDestroy",value:function(r){this._destroyListeners.push(r)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(r){return r.destroy()})),this._destroyListeners.forEach((function(r){return r()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),r}();return r.\u0275fac=function(e){return new(e||r)(kr(Ja))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r}();function Uo(r,e){return Array.isArray(e)?e.reduce(Uo,r):Object.assign(Object.assign({},r),e)}var qo=function(){var r=function(){function r(e,n,t,c,a,s){var b=this;Object(l.a)(this,r),this._zone=e,this._console=n,this._injector=t,this._exceptionHandler=c,this._componentFactoryResolver=a,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=it(),this._zone.onMicrotaskEmpty.subscribe({next:function(){b._zone.run((function(){b.tick()}))}});var i=new m.a((function(r){b._stable=b._zone.isStable&&!b._zone.hasPendingMacrotasks&&!b._zone.hasPendingMicrotasks,b._zone.runOutsideAngular((function(){r.next(b._stable),r.complete()}))})),o=new m.a((function(r){var e;b._zone.runOutsideAngular((function(){e=b._zone.onStable.subscribe((function(){vo.assertNotInAngularZone(),mo((function(){b._stable||b._zone.hasPendingMacrotasks||b._zone.hasPendingMicrotasks||(b._stable=!0,r.next(!0))}))}))}));var n=b._zone.onUnstable.subscribe((function(){vo.assertInAngularZone(),b._stable&&(b._stable=!1,b._zone.runOutsideAngular((function(){r.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(v.a)(i,o.pipe((function(r){return y()((e=C,function(r){var n;n="function"==typeof e?e:function(){return e};var t=Object.create(r,S);return t.source=r,t.subjectFactory=n,t})(r));var e})))}return Object(u.a)(r,[{key:"bootstrap",value:function(r,e){var n,t=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=r instanceof Sb?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(n.componentType);var c=n.isBoundToModule?void 0:this._injector.get(jr),a=n.create(Ja.NULL,[],e||n.selector,c);a.onDestroy((function(){t._unloadComponent(a)}));var s=a.injector.get(Co,null);return s&&a.injector.get(jo).registerApplication(a.location.nativeElement,s),this._loadComponent(a),it()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),a}},{key:"tick",value:function(){var r=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=Object(i.a)(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(a){n.e(a)}finally{n.f()}if(this._enforceNoNewChanges){var t,c=Object(i.a)(this._views);try{for(c.s();!(t=c.n()).done;)t.value.checkNoChanges()}catch(a){c.e(a)}finally{c.f()}}}catch(s){this._zone.runOutsideAngular((function(){return r._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(r){var e=r;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(r){var e=r;Bo(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(co,[]).concat(this._bootstrapListeners).forEach((function(e){return e(r)}))}},{key:"_unloadComponent",value:function(r){this.detachView(r.hostView),Bo(this.components,r)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(r){return r.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),r}();return r.\u0275fac=function(e){return new(e||r)(kr(vo),kr(ao),kr(Ja),kr(Wn),kr(Cb),kr(Yi))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r}();function Bo(r,e){var n=r.indexOf(e);n>-1&&r.splice(n,1)}var Ho=function r(){Object(l.a)(this,r)},Vo=function r(){Object(l.a)(this,r)},Wo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Go=function(){var r=function(){function r(e,n){Object(l.a)(this,r),this._compiler=e,this._config=n||Wo}return Object(u.a)(r,[{key:"load",value:function(r){return this.loadAndCompile(r)}},{key:"loadAndCompile",value:function(r){var e=this,t=r.split("#"),c=Object(s.a)(t,2),a=c[0],b=c[1];return void 0===b&&(b="default"),n("crnd")(a).then((function(r){return r[b]})).then((function(r){return Qo(r,a,b)})).then((function(r){return e._compiler.compileModuleAsync(r)}))}},{key:"loadFactory",value:function(r){var e=r.split("#"),t=Object(s.a)(e,2),c=t[0],a=t[1],b="NgFactory";return void 0===a&&(a="default",b=""),n("crnd")(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then((function(r){return r[a+b]})).then((function(r){return Qo(r,c,a)}))}}]),r}();return r.\u0275fac=function(e){return new(e||r)(kr(ho),kr(Vo,8))},r.\u0275prov=D({token:r,factory:r.\u0275fac}),r}();function Qo(r,e,n){if(!r)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return r}var Ko=function(r){return null},$o=Mo(null,"core",[{provide:to,useValue:"unknown"},{provide:Fo,deps:[Ja]},{provide:jo,deps:[]},{provide:ao,deps:[]}]),Jo=[{provide:qo,useClass:qo,deps:[vo,ao,Ja,Wn,Cb,Yi]},{provide:ai,deps:[vo],useFactory:function(r){var e=[];return r.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(r){e.push(r)}}},{provide:Yi,useClass:Yi,deps:[[new P,Zi]]},{provide:ho,useClass:ho,deps:[]},ro,{provide:Qb,useFactory:function(){return Jb},deps:[]},{provide:Kb,useFactory:function(){return Zb},deps:[]},{provide:so,useFactory:function(r){return fi(r=r||"undefined"!=typeof $localize&&$localize.locale||"en-US"),r},deps:[[new E(so),new P,new I]]},{provide:bo,useValue:"USD"}],Zo=function(){var r=function r(e){Object(l.a)(this,r)};return r.\u0275mod=Gr({type:r}),r.\u0275inj=F({factory:function(e){return new(e||r)(kr(qo))},providers:Jo}),r}()},foSv:function(r,e,n){"use strict";function t(r){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}n.d(e,"a",(function(){return t}))},gRHU:function(r,e,n){"use strict";n.d(e,"a",(function(){return a}));var t=n("2fFW"),c=n("NJ4a"),a={closed:!0,next:function(r){},error:function(r){if(t.a.useDeprecatedSynchronousErrorHandling)throw r;Object(c.a)(r)},complete:function(){}}},itXk:function(r,e,n){"use strict";n.d(e,"a",(function(){return O}));var t=n("Ji7U"),c=n("LK+K"),a=n("1OyB"),s=n("vuIU"),b=n("z+Ro"),i=n("DH7j"),o=n("l7GE"),p=n("ZUHj"),l=n("yCtX"),u={};function O(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];var t=null,c=null;return Object(b.a)(e[e.length-1])&&(c=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(i.a)(e[0])&&(e=e[0]),Object(l.a)(e,c).lift(new N(t))}var N=function(){function r(e){Object(a.a)(this,r),this.resultSelector=e}return Object(s.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new h(r,this.resultSelector))}}]),r}(),h=function(r){Object(t.a)(n,r);var e=Object(c.a)(n);function n(r,t){var c;return Object(a.a)(this,n),(c=e.call(this,r)).resultSelector=t,c.active=0,c.values=[],c.observables=[],c}return Object(s.a)(n,[{key:"_next",value:function(r){this.values.push(u),this.observables.push(r)}},{key:"_complete",value:function(){var r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var t=r[n];this.add(Object(p.a)(this,t,t,n))}}}},{key:"notifyComplete",value:function(r){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(r,e,n,t,c){var a=this.values,s=this.toRespond?a[n]===u?--this.toRespond:this.toRespond:0;a[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}},{key:"_tryResultSelector",value:function(r){var e;try{e=this.resultSelector.apply(this,r)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(o.a)},jZKg:function(r,e,n){"use strict";n.d(e,"a",(function(){return a}));var t=n("HDdC"),c=n("quSY");function a(r,e){return new t.a((function(n){var t=new c.a,a=0;return t.add(e.schedule((function(){a!==r.length?(n.next(r[a++]),n.closed||t.add(this.schedule())):n.complete()}))),t}))}},kJWO:function(r,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},l7GE:function(r,e,n){"use strict";n.d(e,"a",(function(){return b}));var t=n("1OyB"),c=n("vuIU"),a=n("Ji7U"),s=n("LK+K"),b=function(r){Object(a.a)(n,r);var e=Object(s.a)(n);function n(){return Object(t.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"notifyNext",value:function(r,e,n,t,c){this.destination.next(e)}},{key:"notifyError",value:function(r,e){this.destination.error(r)}},{key:"notifyComplete",value:function(r){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(r,e,n){"use strict";n.d(e,"a",(function(){return o}));var t=n("JX7q"),c=n("Ji7U"),a=n("LK+K"),s=n("1OyB"),b=n("vuIU"),i=n("7o/Q");function o(r,e){return function(n){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new p(r,e))}}var p=function(){function r(e,n){Object(s.a)(this,r),this.project=e,this.thisArg=n}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new l(r,this.project,this.thisArg))}}]),r}(),l=function(r){Object(c.a)(n,r);var e=Object(a.a)(n);function n(r,c,a){var b;return Object(s.a)(this,n),(b=e.call(this,r)).project=c,b.count=0,b.thisArg=a||Object(t.a)(b),b}return Object(b.a)(n,[{key:"_next",value:function(r){var e;try{e=this.project.call(this.thisArg,r,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(i.a)},n6bG:function(r,e,n){"use strict";function t(r){return"function"==typeof r}n.d(e,"a",(function(){return t}))},ngJS:function(r,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=function(r){return function(e){for(var n=0,t=r.length;n<t&&!e.closed;n++)e.next(r[n]);e.complete()}}},ofXK:function(r,e,n){"use strict";n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return zr})),n.d(e,"c",(function(){return jr})),n.d(e,"d",(function(){return N})),n.d(e,"e",(function(){return Cr})),n.d(e,"f",(function(){return j})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return x})),n.d(e,"i",(function(){return w})),n.d(e,"j",(function(){return hr})),n.d(e,"k",(function(){return fr})),n.d(e,"l",(function(){return vr})),n.d(e,"m",(function(){return C})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return Er})),n.d(e,"p",(function(){return Tr})),n.d(e,"q",(function(){return O})),n.d(e,"r",(function(){return xr})),n.d(e,"s",(function(){return l})),n.d(e,"t",(function(){return Nr})),n.d(e,"u",(function(){return u}));var t=n("uFwe"),c=n("ODXe"),a=n("vuIU"),s=n("Ji7U"),b=n("LK+K"),i=n("1OyB"),o=n("fXoL"),p=null;function l(){return p}function u(r){p||(p=r)}var O=function r(){Object(i.a)(this,r)},N=new o.q("DocumentToken"),h=function(){var r=function r(){Object(i.a)(this,r)};return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=Object(o.Hb)({factory:d,token:r,providedIn:"platform"}),r}();function d(){return Object(o.Sb)(m)}var f=new o.q("Location Initialized"),m=function(){var r=function(r){Object(s.a)(n,r);var e=Object(b.a)(n);function n(r){var t;return Object(i.a)(this,n),(t=e.call(this))._doc=r,t._init(),t}return Object(a.a)(n,[{key:"_init",value:function(){this.location=l().getLocation(),this._history=l().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return l().getBaseHref(this._doc)}},{key:"onPopState",value:function(r){l().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",r,!1)}},{key:"onHashChange",value:function(r){l().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",r,!1)}},{key:"pushState",value:function(r,e,n){v()?this._history.pushState(r,e,n):this.location.hash=n}},{key:"replaceState",value:function(r,e,n){v()?this._history.replaceState(r,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(r){this.location.pathname=r}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(h);return r.\u0275fac=function(e){return new(e||r)(o.Sb(N))},r.\u0275prov=Object(o.Hb)({factory:g,token:r,providedIn:"platform"}),r}();function v(){return!!window.history.pushState}function g(){return new m(Object(o.Sb)(N))}function y(r,e){if(0==r.length)return e;if(0==e.length)return r;var n=0;return r.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?r+e.substring(1):1==n?r+e:r+"/"+e}function k(r){var e=r.match(/#|\?|$/),n=e&&e.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function _(r){return r&&"?"!==r[0]?"?"+r:r}var w=function(){var r=function r(){Object(i.a)(this,r)};return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=Object(o.Hb)({factory:S,token:r,providedIn:"root"}),r}();function S(r){var e=Object(o.Sb)(N).location;return new C(Object(o.Sb)(h),e&&e.origin||"")}var z=new o.q("appBaseHref"),C=function(){var r=function(r){Object(s.a)(n,r);var e=Object(b.a)(n);function n(r,t){var c;if(Object(i.a)(this,n),(c=e.call(this))._platformLocation=r,null==t&&(t=c._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return c._baseHref=t,c}return Object(a.a)(n,[{key:"onPopState",value:function(r){this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(r){return y(this._baseHref,r)}},{key:"path",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+_(this._platformLocation.search),n=this._platformLocation.hash;return n&&r?"".concat(e).concat(n):e}},{key:"pushState",value:function(r,e,n,t){var c=this.prepareExternalUrl(n+_(t));this._platformLocation.pushState(r,e,c)}},{key:"replaceState",value:function(r,e,n,t){var c=this.prepareExternalUrl(n+_(t));this._platformLocation.replaceState(r,e,c)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(w);return r.\u0275fac=function(e){return new(e||r)(o.Sb(h),o.Sb(z,8))},r.\u0275prov=o.Hb({token:r,factory:r.\u0275fac}),r}(),j=function(){var r=function(r){Object(s.a)(n,r);var e=Object(b.a)(n);function n(r,t){var c;return Object(i.a)(this,n),(c=e.call(this))._platformLocation=r,c._baseHref="",null!=t&&(c._baseHref=t),c}return Object(a.a)(n,[{key:"onPopState",value:function(r){this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}},{key:"prepareExternalUrl",value:function(r){var e=y(this._baseHref,r);return e.length>0?"#"+e:e}},{key:"pushState",value:function(r,e,n,t){var c=this.prepareExternalUrl(n+_(t));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,e,c)}},{key:"replaceState",value:function(r,e,n,t){var c=this.prepareExternalUrl(n+_(t));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,e,c)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(w);return r.\u0275fac=function(e){return new(e||r)(o.Sb(h),o.Sb(z,8))},r.\u0275prov=o.Hb({token:r,factory:r.\u0275fac}),r}(),x=function(){var r=function(){function r(e,n){var t=this;Object(i.a)(this,r),this._subject=new o.n,this._urlChangeListeners=[],this._platformStrategy=e;var c=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=k(E(c)),this._platformStrategy.onPopState((function(r){t._subject.emit({url:t.path(!0),pop:!0,state:r.state,type:r.type})}))}return Object(a.a)(r,[{key:"path",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(r))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(r+_(e))}},{key:"normalize",value:function(e){return r.stripTrailingSlash(function(r,e){return r&&e.startsWith(r)?e.substring(r.length):e}(this._baseHref,E(e)))}},{key:"prepareExternalUrl",value:function(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}},{key:"go",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",r,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_(e)),n)}},{key:"replaceState",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",r,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(r){var e=this;this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(r){e._notifyUrlChangeListeners(r.url,r.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(r,e)}))}},{key:"subscribe",value:function(r,e,n){return this._subject.subscribe({next:r,error:e,complete:n})}}]),r}();return r.\u0275fac=function(e){return new(e||r)(o.Sb(w),o.Sb(h))},r.normalizeQueryParams=_,r.joinWithSlash=y,r.stripTrailingSlash=k,r.\u0275prov=Object(o.Hb)({factory:T,token:r,providedIn:"root"}),r}();function T(){return new x(Object(o.Sb)(w),Object(o.Sb)(h))}function E(r){return r.replace(/\/index.html$/,"")}var P=function(r){return r[r.Zero=0]="Zero",r[r.One=1]="One",r[r.Two=2]="Two",r[r.Few=3]="Few",r[r.Many=4]="Many",r[r.Other=5]="Other",r}({}),A=function(r){return r[r.Format=0]="Format",r[r.Standalone=1]="Standalone",r}({}),I=function(r){return r[r.Narrow=0]="Narrow",r[r.Abbreviated=1]="Abbreviated",r[r.Wide=2]="Wide",r[r.Short=3]="Short",r}({}),R=function(r){return r[r.Short=0]="Short",r[r.Medium=1]="Medium",r[r.Long=2]="Long",r[r.Full=3]="Full",r}({}),M=function(r){return r[r.Decimal=0]="Decimal",r[r.Group=1]="Group",r[r.List=2]="List",r[r.PercentSign=3]="PercentSign",r[r.PlusSign=4]="PlusSign",r[r.MinusSign=5]="MinusSign",r[r.Exponential=6]="Exponential",r[r.SuperscriptingExponent=7]="SuperscriptingExponent",r[r.PerMille=8]="PerMille",r[r[1/0]=9]="Infinity",r[r.NaN=10]="NaN",r[r.TimeSeparator=11]="TimeSeparator",r[r.CurrencyDecimal=12]="CurrencyDecimal",r[r.CurrencyGroup=13]="CurrencyGroup",r}({});function L(r,e){return H(Object(o.jb)(r)[o.ab.DateFormat],e)}function D(r,e){return H(Object(o.jb)(r)[o.ab.TimeFormat],e)}function F(r,e){return H(Object(o.jb)(r)[o.ab.DateTimeFormat],e)}function U(r,e){var n=Object(o.jb)(r),t=n[o.ab.NumberSymbols][e];if(void 0===t){if(e===M.CurrencyDecimal)return n[o.ab.NumberSymbols][M.Decimal];if(e===M.CurrencyGroup)return n[o.ab.NumberSymbols][M.Group]}return t}var q=o.mb;function B(r){if(!r[o.ab.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(r[o.ab.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function H(r,e){for(var n=e;n>-1;n--)if(void 0!==r[n])return r[n];throw new Error("Locale data API: locale data undefined")}function V(r){var e=r.split(":"),n=Object(c.a)(e,2);return{hours:+n[0],minutes:+n[1]}}var W=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G={},Q=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,K=function(r){return r[r.Short=0]="Short",r[r.ShortGMT=1]="ShortGMT",r[r.Long=2]="Long",r[r.Extended=3]="Extended",r}({}),$=function(r){return r[r.FullYear=0]="FullYear",r[r.Month=1]="Month",r[r.Date=2]="Date",r[r.Hours=3]="Hours",r[r.Minutes=4]="Minutes",r[r.Seconds=5]="Seconds",r[r.FractionalSeconds=6]="FractionalSeconds",r[r.Day=7]="Day",r}({}),J=function(r){return r[r.DayPeriods=0]="DayPeriods",r[r.Days=1]="Days",r[r.Months=2]="Months",r[r.Eras=3]="Eras",r}({});function Z(r,e,n,t){var a=function(r){if(lr(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){r=r.trim();var e,n=parseFloat(r);if(!isNaN(r-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(r)){var t=r.split("-").map((function(r){return+r})),a=Object(c.a)(t,3);return new Date(a[0],a[1]-1,a[2])}if(e=r.match(W))return function(r){var e=new Date(0),n=0,t=0,c=r[8]?e.setUTCFullYear:e.setFullYear,a=r[8]?e.setUTCHours:e.setHours;r[9]&&(n=Number(r[9]+r[10]),t=Number(r[9]+r[11])),c.call(e,Number(r[1]),Number(r[2])-1,Number(r[3]));var s=Number(r[4]||0)-n,b=Number(r[5]||0)-t,i=Number(r[6]||0),o=Math.round(1e3*parseFloat("0."+(r[7]||0)));return a.call(e,s,b,i,o),e}(e)}var s=new Date(r);if(!lr(s))throw new Error('Unable to convert "'.concat(r,'" into a date'));return s}(r);e=function r(e,n){var t=function(r){return Object(o.jb)(r)[o.ab.LocaleId]}(e);if(G[t]=G[t]||{},G[t][n])return G[t][n];var c="";switch(n){case"shortDate":c=L(e,R.Short);break;case"mediumDate":c=L(e,R.Medium);break;case"longDate":c=L(e,R.Long);break;case"fullDate":c=L(e,R.Full);break;case"shortTime":c=D(e,R.Short);break;case"mediumTime":c=D(e,R.Medium);break;case"longTime":c=D(e,R.Long);break;case"fullTime":c=D(e,R.Full);break;case"short":var a=r(e,"shortTime"),s=r(e,"shortDate");c=Y(F(e,R.Short),[a,s]);break;case"medium":var b=r(e,"mediumTime"),i=r(e,"mediumDate");c=Y(F(e,R.Medium),[b,i]);break;case"long":var p=r(e,"longTime"),l=r(e,"longDate");c=Y(F(e,R.Long),[p,l]);break;case"full":var u=r(e,"fullTime"),O=r(e,"fullDate");c=Y(F(e,R.Full),[u,O])}return c&&(G[t][n]=c),c}(n,e)||e;for(var s,b=[];e;){if(!(s=Q.exec(e))){b.push(e);break}var i=(b=b.concat(s.slice(1))).pop();if(!i)break;e=i}var p=a.getTimezoneOffset();t&&(p=pr(t,p),a=function(r,e,n){var t=r.getTimezoneOffset();return function(r,e){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+e),r}(r,-1*(pr(e,t)-t))}(a,t));var l="";return b.forEach((function(r){var e=function(r){if(or[r])return or[r];var e;switch(r){case"G":case"GG":case"GGG":e=tr(J.Eras,I.Abbreviated);break;case"GGGG":e=tr(J.Eras,I.Wide);break;case"GGGGG":e=tr(J.Eras,I.Narrow);break;case"y":e=er($.FullYear,1,0,!1,!0);break;case"yy":e=er($.FullYear,2,0,!0,!0);break;case"yyy":e=er($.FullYear,3,0,!1,!0);break;case"yyyy":e=er($.FullYear,4,0,!1,!0);break;case"M":case"L":e=er($.Month,1,1);break;case"MM":case"LL":e=er($.Month,2,1);break;case"MMM":e=tr(J.Months,I.Abbreviated);break;case"MMMM":e=tr(J.Months,I.Wide);break;case"MMMMM":e=tr(J.Months,I.Narrow);break;case"LLL":e=tr(J.Months,I.Abbreviated,A.Standalone);break;case"LLLL":e=tr(J.Months,I.Wide,A.Standalone);break;case"LLLLL":e=tr(J.Months,I.Narrow,A.Standalone);break;case"w":e=ir(1);break;case"ww":e=ir(2);break;case"W":e=ir(1,!0);break;case"d":e=er($.Date,1);break;case"dd":e=er($.Date,2);break;case"E":case"EE":case"EEE":e=tr(J.Days,I.Abbreviated);break;case"EEEE":e=tr(J.Days,I.Wide);break;case"EEEEE":e=tr(J.Days,I.Narrow);break;case"EEEEEE":e=tr(J.Days,I.Short);break;case"a":case"aa":case"aaa":e=tr(J.DayPeriods,I.Abbreviated);break;case"aaaa":e=tr(J.DayPeriods,I.Wide);break;case"aaaaa":e=tr(J.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":e=tr(J.DayPeriods,I.Abbreviated,A.Standalone,!0);break;case"bbbb":e=tr(J.DayPeriods,I.Wide,A.Standalone,!0);break;case"bbbbb":e=tr(J.DayPeriods,I.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":e=tr(J.DayPeriods,I.Abbreviated,A.Format,!0);break;case"BBBB":e=tr(J.DayPeriods,I.Wide,A.Format,!0);break;case"BBBBB":e=tr(J.DayPeriods,I.Narrow,A.Format,!0);break;case"h":e=er($.Hours,1,-12);break;case"hh":e=er($.Hours,2,-12);break;case"H":e=er($.Hours,1);break;case"HH":e=er($.Hours,2);break;case"m":e=er($.Minutes,1);break;case"mm":e=er($.Minutes,2);break;case"s":e=er($.Seconds,1);break;case"ss":e=er($.Seconds,2);break;case"S":e=er($.FractionalSeconds,1);break;case"SS":e=er($.FractionalSeconds,2);break;case"SSS":e=er($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ar(K.Short);break;case"ZZZZZ":e=ar(K.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ar(K.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ar(K.Long);break;default:return null}return or[r]=e,e}(r);l+=e?e(a,n,p):"''"===r?"'":r.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}function Y(r,e){return e&&(r=r.replace(/\{([^}]+)}/g,(function(r,n){return null!=e&&n in e?e[n]:r}))),r}function X(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",t=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,a="";(r<0||c&&r<=0)&&(c?r=1-r:(r=-r,a=n));for(var s=String(r);s.length<e;)s="0"+s;return t&&(s=s.substr(s.length-e)),a+s}function rr(r,e){return X(r,3).substr(0,e)}function er(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,s){var b=nr(r,a);if((n>0||b>-n)&&(b+=n),r===$.Hours)0===b&&-12===n&&(b=12);else if(r===$.FractionalSeconds)return rr(b,e);var i=U(s,M.MinusSign);return X(b,e,i,t,c)}}function nr(r,e){switch(r){case $.FullYear:return e.getFullYear();case $.Month:return e.getMonth();case $.Date:return e.getDate();case $.Hours:return e.getHours();case $.Minutes:return e.getMinutes();case $.Seconds:return e.getSeconds();case $.FractionalSeconds:return e.getMilliseconds();case $.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(r,'".'))}}function tr(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Format,t=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(c,a){return cr(c,a,r,e,n,t)}}function cr(r,e,n,t,a,s){switch(n){case J.Months:return function(r,e,n){var t=Object(o.jb)(r),c=H([t[o.ab.MonthsFormat],t[o.ab.MonthsStandalone]],e);return H(c,n)}(e,a,t)[r.getMonth()];case J.Days:return function(r,e,n){var t=Object(o.jb)(r),c=H([t[o.ab.DaysFormat],t[o.ab.DaysStandalone]],e);return H(c,n)}(e,a,t)[r.getDay()];case J.DayPeriods:var b=r.getHours(),i=r.getMinutes();if(s){var p=function(r){var e=Object(o.jb)(r);return B(e),(e[o.ab.ExtraData][2]||[]).map((function(r){return"string"==typeof r?V(r):[V(r[0]),V(r[1])]}))}(e),l=function(r,e,n){var t=Object(o.jb)(r);B(t);var c=H([t[o.ab.ExtraData][0],t[o.ab.ExtraData][1]],e)||[];return H(c,n)||[]}(e,a,t),u=p.findIndex((function(r){if(Array.isArray(r)){var e=Object(c.a)(r,2),n=e[0],t=e[1],a=b>=n.hours&&i>=n.minutes,s=b<t.hours||b===t.hours&&i<t.minutes;if(n.hours<t.hours){if(a&&s)return!0}else if(a||s)return!0}else if(r.hours===b&&r.minutes===i)return!0;return!1}));if(-1!==u)return l[u]}return function(r,e,n){var t=Object(o.jb)(r),c=H([t[o.ab.DayPeriodsFormat],t[o.ab.DayPeriodsStandalone]],e);return H(c,n)}(e,a,t)[b<12?0:1];case J.Eras:return function(r,e){return H(Object(o.jb)(r)[o.ab.Eras],e)}(e,t)[r.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}function ar(r){return function(e,n,t){var c=-1*t,a=U(n,M.MinusSign),s=c>0?Math.floor(c/60):Math.ceil(c/60);switch(r){case K.Short:return(c>=0?"+":"")+X(s,2,a)+X(Math.abs(c%60),2,a);case K.ShortGMT:return"GMT"+(c>=0?"+":"")+X(s,1,a);case K.Long:return"GMT"+(c>=0?"+":"")+X(s,2,a)+":"+X(Math.abs(c%60),2,a);case K.Extended:return 0===t?"Z":(c>=0?"+":"")+X(s,2,a)+":"+X(Math.abs(c%60),2,a);default:throw new Error('Unknown zone width "'.concat(r,'"'))}}}function sr(r){var e=new Date(r,0,1).getDay();return new Date(r,0,1+(e<=4?4:11)-e)}function br(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function ir(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,t){var c;if(e){var a=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();c=1+Math.floor((s+a)/7)}else{var b=sr(n.getFullYear()),i=br(n).getTime()-b.getTime();c=1+Math.round(i/6048e5)}return X(c,r,U(t,M.MinusSign))}}var or={};function pr(r,e){r=r.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(n)?e:n}function lr(r){return r instanceof Date&&!isNaN(r.valueOf())}var ur=function r(){Object(i.a)(this,r)},Or=function(){var r=function(r){Object(s.a)(n,r);var e=Object(b.a)(n);function n(r){var t;return Object(i.a)(this,n),(t=e.call(this)).locale=r,t}return Object(a.a)(n,[{key:"getPluralCategory",value:function(r,e){switch(q(e||this.locale)(r)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(ur);return r.\u0275fac=function(e){return new(e||r)(o.Sb(o.u))},r.\u0275prov=o.Hb({token:r,factory:r.\u0275fac}),r}();function Nr(r,e){e=encodeURIComponent(e);var n,a=Object(t.a)(r.split(";"));try{for(a.s();!(n=a.n()).done;){var s=n.value,b=s.indexOf("="),i=-1==b?[s,""]:[s.slice(0,b),s.slice(b+1)],o=Object(c.a)(i,2),p=o[1];if(o[0].trim()===e)return decodeURIComponent(p)}}catch(l){a.e(l)}finally{a.f()}return null}var hr=function(){var r=function(){function r(e,n,t,c){Object(i.a)(this,r),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=t,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return Object(a.a)(r,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var r=this._iterableDiffer.diff(this._rawClass);r&&this._applyIterableChanges(r)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(r){var e=this;r.forEachAddedItem((function(r){return e._toggleClass(r.key,r.currentValue)})),r.forEachChangedItem((function(r){return e._toggleClass(r.key,r.currentValue)})),r.forEachRemovedItem((function(r){r.previousValue&&e._toggleClass(r.key,!1)}))}},{key:"_applyIterableChanges",value:function(r){var e=this;r.forEachAddedItem((function(r){if("string"!=typeof r.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(o.ub)(r.item)));e._toggleClass(r.item,!0)})),r.forEachRemovedItem((function(r){return e._toggleClass(r.item,!1)}))}},{key:"_applyClasses",value:function(r){var e=this;r&&(Array.isArray(r)||r instanceof Set?r.forEach((function(r){return e._toggleClass(r,!0)})):Object.keys(r).forEach((function(n){return e._toggleClass(n,!!r[n])})))}},{key:"_removeClasses",value:function(r){var e=this;r&&(Array.isArray(r)||r instanceof Set?r.forEach((function(r){return e._toggleClass(r,!1)})):Object.keys(r).forEach((function(r){return e._toggleClass(r,!1)})))}},{key:"_toggleClass",value:function(r,e){var n=this;(r=r.trim())&&r.split(/\s+/g).forEach((function(r){e?n._renderer.addClass(n._ngEl.nativeElement,r):n._renderer.removeClass(n._ngEl.nativeElement,r)}))}},{key:"klass",set:function(r){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof r?r.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(r){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof r?r.split(/\s+/):r,this._rawClass&&(Object(o.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),r}();return r.\u0275fac=function(e){return new(e||r)(o.Lb(o.s),o.Lb(o.t),o.Lb(o.l),o.Lb(o.E))},r.\u0275dir=o.Gb({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r}(),dr=function(){function r(e,n,t,c){Object(i.a)(this,r),this.$implicit=e,this.ngForOf=n,this.index=t,this.count=c}return Object(a.a)(r,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),r}(),fr=function(){var r=function(){function r(e,n,t){Object(i.a)(this,r),this._viewContainer=e,this._template=n,this._differs=t,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object(a.a)(r,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '".concat(r,"' of type '").concat((e=r).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(r){var e=this,n=[];r.forEachOperation((function(r,t,c){if(null==r.previousIndex){var a=e._viewContainer.createEmbeddedView(e._template,new dr(null,e._ngForOf,-1,-1),null===c?void 0:c),s=new mr(r,a);n.push(s)}else if(null==c)e._viewContainer.remove(null===t?void 0:t);else if(null!==t){var b=e._viewContainer.get(t);e._viewContainer.move(b,c);var i=new mr(r,b);n.push(i)}}));for(var t=0;t<n.length;t++)this._perViewChange(n[t].view,n[t].record);for(var c=0,a=this._viewContainer.length;c<a;c++){var s=this._viewContainer.get(c);s.context.index=c,s.context.count=a,s.context.ngForOf=this._ngForOf}r.forEachIdentityChange((function(r){e._viewContainer.get(r.currentIndex).context.$implicit=r.item}))}},{key:"_perViewChange",value:function(r,e){r.context.$implicit=e.item}},{key:"ngForOf",set:function(r){this._ngForOf=r,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(r){Object(o.V)()&&null!=r&&"function"!=typeof r&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(r),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=r},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(r){r&&(this._template=r)}}],[{key:"ngTemplateContextGuard",value:function(r,e){return!0}}]),r}();return r.\u0275fac=function(e){return new(e||r)(o.Lb(o.P),o.Lb(o.L),o.Lb(o.s))},r.\u0275dir=o.Gb({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r}(),mr=function r(e,n){Object(i.a)(this,r),this.record=e,this.view=n},vr=function(){var r=function(){function r(e,n){Object(i.a)(this,r),this._viewContainer=e,this._context=new gr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return Object(a.a)(r,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}},{key:"ngIfThen",set:function(r){yr("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(r){yr("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(r,e){return!0}}]),r}();return r.\u0275fac=function(e){return new(e||r)(o.Lb(o.P),o.Lb(o.L))},r.\u0275dir=o.Gb({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r}(),gr=function r(){Object(i.a)(this,r),this.$implicit=null,this.ngIf=null};function yr(r,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(r," must be a TemplateRef, but received '").concat(Object(o.ub)(e),"'."))}function kr(r,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(o.ub)(r),"'"))}var _r=function(){function r(){Object(i.a)(this,r)}return Object(a.a)(r,[{key:"createSubscription",value:function(r,e){return r.subscribe({next:e,error:function(r){throw r}})}},{key:"dispose",value:function(r){r.unsubscribe()}},{key:"onDestroy",value:function(r){r.unsubscribe()}}]),r}(),wr=new(function(){function r(){Object(i.a)(this,r)}return Object(a.a)(r,[{key:"createSubscription",value:function(r,e){return r.then(e,(function(r){throw r}))}},{key:"dispose",value:function(r){}},{key:"onDestroy",value:function(r){}}]),r}()),Sr=new _r,zr=function(){var r=function(){function r(e){Object(i.a)(this,r),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return Object(a.a)(r,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}},{key:"_subscribe",value:function(r){var e=this;this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,(function(n){return e._updateLatestValue(r,n)}))}},{key:"_selectStrategy",value:function(e){if(Object(o.rb)(e))return wr;if(Object(o.qb)(e))return Sr;throw kr(r,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(r,e){r===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),r}();return r.\u0275fac=function(e){return new(e||r)(o.Ub())},r.\u0275pipe=o.Kb({name:"async",type:r,pure:!1}),r}(),Cr=function(){var r=function(){function r(e){Object(i.a)(this,r),this.locale=e}return Object(a.a)(r,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return Z(e,n,c||this.locale,t)}catch(a){throw kr(r,a.message)}}}]),r}();return r.\u0275fac=function(e){return new(e||r)(o.Lb(o.u))},r.\u0275pipe=o.Kb({name:"date",type:r,pure:!0}),r}(),jr=function(){var r=function r(){Object(i.a)(this,r)};return r.\u0275mod=o.Jb({type:r}),r.\u0275inj=o.Ib({factory:function(e){return new(e||r)},providers:[{provide:ur,useClass:Or}]}),r}(),xr="browser";function Tr(r){return r===xr}var Er=function(){var r=function r(){Object(i.a)(this,r)};return r.\u0275prov=Object(o.Hb)({token:r,providedIn:"root",factory:function(){return new Pr(Object(o.Sb)(N),window,Object(o.Sb)(o.m))}}),r}(),Pr=function(){function r(e,n,t){Object(i.a)(this,r),this.document=e,this.window=n,this.errorHandler=t,this.offset=function(){return[0,0]}}return Object(a.a)(r,[{key:"setOffset",value:function(r){this.offset=Array.isArray(r)?function(){return r}:r}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(r){this.supportScrollRestoration()&&this.window.scrollTo(r[0],r[1])}},{key:"scrollToAnchor",value:function(r){if(this.supportScrollRestoration()){r=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(r):r.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(r));if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(r,"']"));if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}},{key:"setHistoryScrollRestoration",value:function(r){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}},{key:"scrollToElement",value:function(r){var e=r.getBoundingClientRect(),n=e.left+this.window.pageXOffset,t=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(n-c[0],t-c[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(r){return!1}}}]),r}()},pLZG:function(r,e,n){"use strict";n.d(e,"a",(function(){return i}));var t=n("Ji7U"),c=n("LK+K"),a=n("1OyB"),s=n("vuIU"),b=n("7o/Q");function i(r,e){return function(n){return n.lift(new o(r,e))}}var o=function(){function r(e,n){Object(a.a)(this,r),this.predicate=e,this.thisArg=n}return Object(s.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new p(r,this.predicate,this.thisArg))}}]),r}(),p=function(r){Object(t.a)(n,r);var e=Object(c.a)(n);function n(r,t,c){var s;return Object(a.a)(this,n),(s=e.call(this,r)).predicate=t,s.thisArg=c,s.count=0,s}return Object(s.a)(n,[{key:"_next",value:function(r){var e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(r)}}]),n}(b.a)},quSY:function(r,e,n){"use strict";n.d(e,"a",(function(){return o}));var t=n("1OyB"),c=n("vuIU"),a=n("DH7j"),s=n("XoHu"),b=n("n6bG"),i=function(){function r(r){return Error.call(this),this.message=r?"".concat(r.length," errors occurred during unsubscription:\n").concat(r.map((function(r,e){return"".concat(e+1,") ").concat(r.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}(),o=function(){var r,e=function(){function r(e){Object(t.a)(this,r),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return Object(c.a)(r,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,t=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(Object(b.a)(t))try{t.call(this)}catch(N){e=N instanceof i?p(N.errors):[N]}if(Object(a.a)(c))for(var l=-1,u=c.length;++l<u;){var O=c[l];if(Object(s.a)(O))try{O.unsubscribe()}catch(N){e=e||[],N instanceof i?e=e.concat(p(N.errors)):e.push(N)}}if(e)throw new i(e)}}},{key:"add",value:function(e){var n=e;if(!e)return r.EMPTY;switch(typeof e){case"function":n=new r(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof r)){var t=n;(n=new r)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var c=n._parentOrParents;if(null===c)n._parentOrParents=this;else if(c instanceof r){if(c===this)return n;n._parentOrParents=[c,this]}else{if(-1!==c.indexOf(this))return n;c.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(r){var e=this._subscriptions;if(e){var n=e.indexOf(r);-1!==n&&e.splice(n,1)}}}]),r}();return e.EMPTY=((r=new e).closed=!0,r),e}();function p(r){return r.reduce((function(r,e){return r.concat(e instanceof i?e.errors:e)}),[])}},rePB:function(r,e,n){"use strict";function t(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}n.d(e,"a",(function(){return t}))},s4An:function(r,e,n){"use strict";function t(r,e){return(t=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r})(r,e)}n.d(e,"a",(function(){return t}))},tyNb:function(r,e,n){"use strict";n.d(e,"a",(function(){return pr})),n.d(e,"b",(function(){return xn})),n.d(e,"c",(function(){return In})),n.d(e,"d",(function(){return Pn})),n.d(e,"e",(function(){return Gn})),n.d(e,"f",(function(){return Rn}));var t=n("rePB"),c=n("KQm4"),a=n("JX7q"),s=n("uFwe"),b=n("vuIU"),i=n("Ji7U"),o=n("LK+K"),p=n("1OyB"),l=n("ofXK"),u=n("fXoL"),O=n("LRne"),N=n("Cfvw"),h=n("ReuC"),d=n("foSv"),f=n("XNiG"),m=n("9ppp"),v=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r){var t;return Object(p.a)(this,n),(t=e.call(this))._value=r,t}return Object(b.a)(n,[{key:"_subscribe",value:function(r){var e=Object(h.a)(Object(d.a)(n.prototype),"_subscribe",this).call(this,r);return e&&!e.closed&&r.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.a;return this._value}},{key:"next",value:function(r){Object(h.a)(Object(d.a)(n.prototype),"next",this).call(this,this._value=r)}},{key:"value",get:function(){return this.getValue()}}]),n}(f.a),g=n("HDdC"),y=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),k=n("itXk"),_=n("EY2u");function w(r){return new g.a((function(e){var n;try{n=r()}catch(t){return void e.error(t)}return(n?Object(N.a)(n):Object(_.b)()).subscribe(e)}))}var S=n("lJxs"),z=n("0EUg"),C=n("pLZG"),j=n("7o/Q"),x=n("4I5i");function T(r){return function(e){return 0===r?Object(_.b)():e.lift(new E(r))}}var E=function(){function r(e){if(Object(p.a)(this,r),this.total=e,this.total<0)throw new x.a}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new P(r,this.total))}}]),r}(),P=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t){var c;return Object(p.a)(this,n),(c=e.call(this,r)).total=t,c.ring=new Array,c.count=0,c}return Object(b.a)(n,[{key:"_next",value:function(r){var e=this.ring,n=this.total,t=this.count++;e.length<n?e.push(r):e[t%n]=r}},{key:"_complete",value:function(){var r=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,t=this.ring,c=0;c<n;c++){var a=e++%n;r.next(t[a])}r.complete()}}]),n}(j.a);function A(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return function(e){return e.lift(new I(r))}}var I=function(){function r(e){Object(p.a)(this,r),this.errorFactory=e}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new R(r,this.errorFactory))}}]),r}(),R=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t){var c;return Object(p.a)(this,n),(c=e.call(this,r)).errorFactory=t,c.hasValue=!1,c}return Object(b.a)(n,[{key:"_next",value:function(r){this.hasValue=!0,this.destination.next(r)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}]),n}(j.a);function M(){return new y}function L(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new D(r))}}var D=function(){function r(e){Object(p.a)(this,r),this.defaultValue=e}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new F(r,this.defaultValue))}}]),r}(),F=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t){var c;return Object(p.a)(this,n),(c=e.call(this,r)).defaultValue=t,c.isEmpty=!0,c}return Object(b.a)(n,[{key:"_next",value:function(r){this.isEmpty=!1,this.destination.next(r)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(j.a),U=n("SpAZ"),q=n("l7GE"),B=n("51Dv"),H=n("ZUHj");function V(r){return function(e){var n=new W(r),t=e.lift(n);return n.caught=t}}var W=function(){function r(e){Object(p.a)(this,r),this.selector=e}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new G(r,this.selector,this.caught))}}]),r}(),G=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c){var a;return Object(p.a)(this,n),(a=e.call(this,r)).selector=t,a.caught=c,a}return Object(b.a)(n,[{key:"error",value:function(r){if(!this.isStopped){var e;try{e=this.selector(r,this.caught)}catch(a){return void Object(h.a)(Object(d.a)(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var t=new B.a(this,void 0,void 0);this.add(t);var c=Object(H.a)(this,e,void 0,void 0,t);c!==t&&this.add(c)}}}]),n}(q.a),Q=n("IzEk");function K(r,e){var n=arguments.length>=2;return function(t){return t.pipe(r?Object(C.a)((function(e,n){return r(e,n,t)})):U.a,Object(Q.a)(1),n?L(e):A((function(){return new y})))}}var $=n("5+tZ"),J=n("vkgz"),Z=function(){function r(e,n,t){Object(p.a)(this,r),this.predicate=e,this.thisArg=n,this.source=t}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new Y(r,this.predicate,this.thisArg,this.source))}}]),r}(),Y=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c,s){var b;return Object(p.a)(this,n),(b=e.call(this,r)).predicate=t,b.thisArg=c,b.source=s,b.index=0,b.thisArg=c||Object(a.a)(b),b}return Object(b.a)(n,[{key:"notifyComplete",value:function(r){this.destination.next(r),this.destination.complete()}},{key:"_next",value:function(r){var e=!1;try{e=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(j.a),X=n("eIep"),rr=n("JX91"),er=function(){function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(p.a)(this,r),this.accumulator=e,this.seed=n,this.hasSeed=t}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new nr(r,this.accumulator,this.seed,this.hasSeed))}}]),r}(),nr=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c,a){var s;return Object(p.a)(this,n),(s=e.call(this,r)).accumulator=t,s._seed=c,s.hasSeed=a,s.index=0,s}return Object(b.a)(n,[{key:"_next",value:function(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}},{key:"_tryNext",value:function(r){var e,n=this.index++;try{e=this.accumulator(this.seed,r,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r}}]),n}(j.a),tr=n("bOdf"),cr=n("quSY"),ar=function(){function r(e){Object(p.a)(this,r),this.callback=e}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new sr(r,this.callback))}}]),r}(),sr=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t){var c;return Object(p.a)(this,n),(c=e.call(this,r)).add(new cr.a(t)),c}return n}(j.a),br=n("bHdf"),ir=function r(e,n){Object(p.a)(this,r),this.id=e,this.url=n},or=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t){var c,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(p.a)(this,n),(c=e.call(this,r,t)).navigationTrigger=a,c.restoredState=s,c}return Object(b.a)(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ir),pr=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c){var a;return Object(p.a)(this,n),(a=e.call(this,r,t)).urlAfterRedirects=c,a}return Object(b.a)(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ir),lr=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c){var a;return Object(p.a)(this,n),(a=e.call(this,r,t)).reason=c,a}return Object(b.a)(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ir),ur=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c){var a;return Object(p.a)(this,n),(a=e.call(this,r,t)).error=c,a}return Object(b.a)(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ir),Or=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c,a){var s;return Object(p.a)(this,n),(s=e.call(this,r,t)).urlAfterRedirects=c,s.state=a,s}return Object(b.a)(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ir),Nr=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c,a){var s;return Object(p.a)(this,n),(s=e.call(this,r,t)).urlAfterRedirects=c,s.state=a,s}return Object(b.a)(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ir),hr=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c,a,s){var b;return Object(p.a)(this,n),(b=e.call(this,r,t)).urlAfterRedirects=c,b.state=a,b.shouldActivate=s,b}return Object(b.a)(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ir),dr=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c,a){var s;return Object(p.a)(this,n),(s=e.call(this,r,t)).urlAfterRedirects=c,s.state=a,s}return Object(b.a)(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ir),fr=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t,c,a){var s;return Object(p.a)(this,n),(s=e.call(this,r,t)).urlAfterRedirects=c,s.state=a,s}return Object(b.a)(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ir),mr=function(){function r(e){Object(p.a)(this,r),this.route=e}return Object(b.a)(r,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),r}(),vr=function(){function r(e){Object(p.a)(this,r),this.route=e}return Object(b.a)(r,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),r}(),gr=function(){function r(e){Object(p.a)(this,r),this.snapshot=e}return Object(b.a)(r,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),r}(),yr=function(){function r(e){Object(p.a)(this,r),this.snapshot=e}return Object(b.a)(r,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),r}(),kr=function(){function r(e){Object(p.a)(this,r),this.snapshot=e}return Object(b.a)(r,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),r}(),_r=function(){function r(e){Object(p.a)(this,r),this.snapshot=e}return Object(b.a)(r,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),r}(),wr=function(){function r(e,n,t){Object(p.a)(this,r),this.routerEvent=e,this.position=n,this.anchor=t}return Object(b.a)(r,[{key:"toString",value:function(){var r=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(r,"')")}}]),r}(),Sr=function(){var r=function r(){Object(p.a)(this,r)};return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=u.Fb({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,e){1&r&&u.Mb(0,"router-outlet")},directives:function(){return[Rn]},encapsulation:2}),r}(),zr=function(){function r(e){Object(p.a)(this,r),this.params=e||{}}return Object(b.a)(r,[{key:"has",value:function(r){return Object.prototype.hasOwnProperty.call(this.params,r)}},{key:"get",value:function(r){if(this.has(r)){var e=this.params[r];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(r){if(this.has(r)){var e=this.params[r];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),r}();function Cr(r){return new zr(r)}function jr(r){var e=Error("NavigationCancelingError: "+r);return e.ngNavigationCancelingError=!0,e}function xr(r,e,n){var t=n.path.split("/");if(t.length>r.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||t.length<r.length))return null;for(var c={},a=0;a<t.length;a++){var s=t[a],b=r[a];if(s.startsWith(":"))c[s.substring(1)]=b;else if(s!==b.path)return null}return{consumed:r.slice(0,t.length),posParams:c}}var Tr=function r(e,n){Object(p.a)(this,r),this.routes=e,this.module=n};function Er(r){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<r.length;n++){var t=r[n],c=Ar(e,t);Pr(t,c)}}function Pr(r,e){if(!r)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(r))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!r.component&&!r.children&&!r.loadChildren&&r.outlet&&"primary"!==r.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(r.redirectTo&&r.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(r.redirectTo&&r.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(r.children&&r.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(r.redirectTo&&r.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(r.path&&r.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===r.redirectTo&&!r.component&&!r.children&&!r.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===r.path&&void 0===r.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof r.path&&"/"===r.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===r.path&&void 0!==r.redirectTo&&void 0===r.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(r.redirectTo,"\"}': please provide 'pathMatch'. ").concat("The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==r.pathMatch&&"full"!==r.pathMatch&&"prefix"!==r.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));r.children&&Er(r.children,e)}function Ar(r,e){return e?r||e.path?r&&!e.path?"".concat(r,"/"):!r&&e.path?e.path:"".concat(r,"/").concat(e.path):"":r}function Ir(r){var e=r.children&&r.children.map(Ir),n=e?Object.assign(Object.assign({},r),{children:e}):Object.assign({},r);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Sr),n}function Rr(r,e){var n,t=Object.keys(r),c=Object.keys(e);if(!t||!c||t.length!=c.length)return!1;for(var a=0;a<t.length;a++)if(!Mr(r[n=t[a]],e[n]))return!1;return!0}function Mr(r,e){return Array.isArray(r)&&Array.isArray(e)?r.length==e.length&&r.every((function(r){return e.indexOf(r)>-1})):r===e}function Lr(r){return Array.prototype.concat.apply([],r)}function Dr(r){return r.length>0?r[r.length-1]:null}function Fr(r,e){for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)}function Ur(r){return Object(u.qb)(r)?r:Object(u.rb)(r)?Object(N.a)(Promise.resolve(r)):Object(O.a)(r)}function qr(r,e,n){return n?function(r,e){return Rr(r,e)}(r.queryParams,e.queryParams)&&function r(e,n){if(!Wr(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var t in n.children){if(!e.children[t])return!1;if(!r(e.children[t],n.children[t]))return!1}return!0}(r.root,e.root):function(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every((function(n){return Mr(r[n],e[n])}))}(r.queryParams,e.queryParams)&&function r(e,n){return function e(n,t,c){if(n.segments.length>c.length)return!!Wr(n.segments.slice(0,c.length),c)&&!t.hasChildren();if(n.segments.length===c.length){if(!Wr(n.segments,c))return!1;for(var a in t.children){if(!n.children[a])return!1;if(!r(n.children[a],t.children[a]))return!1}return!0}var s=c.slice(0,n.segments.length),b=c.slice(n.segments.length);return!!Wr(n.segments,s)&&!!n.children.primary&&e(n.children.primary,t,b)}(e,n,n.segments)}(r.root,e.root)}var Br=function(){function r(e,n,t){Object(p.a)(this,r),this.root=e,this.queryParams=n,this.fragment=t}return Object(b.a)(r,[{key:"toString",value:function(){return $r.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}}]),r}(),Hr=function(){function r(e,n){var t=this;Object(p.a)(this,r),this.segments=e,this.children=n,this.parent=null,Fr(n,(function(r,e){return r.parent=t}))}return Object(b.a)(r,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Jr(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),r}(),Vr=function(){function r(e,n){Object(p.a)(this,r),this.path=e,this.parameters=n}return Object(b.a)(r,[{key:"toString",value:function(){return ne(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Cr(this.parameters)),this._parameterMap}}]),r}();function Wr(r,e){return r.length===e.length&&r.every((function(r,n){return r.path===e[n].path}))}function Gr(r,e){var n=[];return Fr(r.children,(function(r,t){"primary"===t&&(n=n.concat(e(r,t)))})),Fr(r.children,(function(r,t){"primary"!==t&&(n=n.concat(e(r,t)))})),n}var Qr=function r(){Object(p.a)(this,r)},Kr=function(){function r(){Object(p.a)(this,r)}return Object(b.a)(r,[{key:"parse",value:function(r){var e=new be(r);return new Br(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(r){var e,n,t="/".concat(function r(e,n){if(!e.hasChildren())return Jr(e);if(n){var t=e.children.primary?r(e.children.primary,!1):"",c=[];return Fr(e.children,(function(e,n){"primary"!==n&&c.push("".concat(n,":").concat(r(e,!1)))})),c.length>0?"".concat(t,"(").concat(c.join("//"),")"):t}var a=Gr(e,(function(n,t){return"primary"===t?[r(e.children.primary,!1)]:["".concat(t,":").concat(r(n,!1))]}));return"".concat(Jr(e),"/(").concat(a.join("//"),")")}(r.root,!0)),c=(e=r.queryParams,(n=Object.keys(e).map((function(r){var n=e[r];return Array.isArray(n)?n.map((function(e){return"".concat(Yr(r),"=").concat(Yr(e))})).join("&"):"".concat(Yr(r),"=").concat(Yr(n))}))).length?"?".concat(n.join("&")):""),a="string"==typeof r.fragment?"#".concat(encodeURI(r.fragment)):"";return"".concat(t).concat(c).concat(a)}}]),r}(),$r=new Kr;function Jr(r){return r.segments.map((function(r){return ne(r)})).join("/")}function Zr(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yr(r){return Zr(r).replace(/%3B/gi,";")}function Xr(r){return Zr(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function re(r){return decodeURIComponent(r)}function ee(r){return re(r.replace(/\+/g,"%20"))}function ne(r){return"".concat(Xr(r.path)).concat((e=r.parameters,Object.keys(e).map((function(r){return";".concat(Xr(r),"=").concat(Xr(e[r]))})).join("")));var e}var te=/^[^\/()?;=#]+/;function ce(r){var e=r.match(te);return e?e[0]:""}var ae=/^[^=?&#]+/,se=/^[^?&#]+/,be=function(){function r(e){Object(p.a)(this,r),this.url=e,this.remaining=e}return Object(b.a)(r,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hr([],{}):new Hr([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n.primary=new Hr(r,e)),n}},{key:"parseSegment",value:function(){var r=ce(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(r),new Vr(re(r),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var r={};this.consumeOptional(";");)this.parseParam(r);return r}},{key:"parseParam",value:function(r){var e=ce(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var t=ce(this.remaining);t&&this.capture(n=t)}r[re(e)]=re(n)}}},{key:"parseQueryParam",value:function(r){var e,n=(e=this.remaining.match(ae))?e[0]:"";if(n){this.capture(n);var t="";if(this.consumeOptional("=")){var c=function(r){var e=r.match(se);return e?e[0]:""}(this.remaining);c&&this.capture(t=c)}var a=ee(n),s=ee(t);if(r.hasOwnProperty(a)){var b=r[a];Array.isArray(b)||(r[a]=b=[b]),b.push(s)}else r[a]=s}}},{key:"parseParens",value:function(r){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ce(this.remaining),t=this.remaining[n.length];if("/"!==t&&")"!==t&&";"!==t)throw new Error("Cannot parse url '".concat(this.url,"'"));var c=void 0;n.indexOf(":")>-1?(c=n.substr(0,n.indexOf(":")),this.capture(c),this.capture(":")):r&&(c="primary");var a=this.parseChildren();e[c]=1===Object.keys(a).length?a.primary:new Hr([],a),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(r){return this.remaining.startsWith(r)}},{key:"consumeOptional",value:function(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}},{key:"capture",value:function(r){if(!this.consumeOptional(r))throw new Error('Expected "'.concat(r,'".'))}}]),r}(),ie=function(){function r(e){Object(p.a)(this,r),this._root=e}return Object(b.a)(r,[{key:"parent",value:function(r){var e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(r){var e=oe(r,this._root);return e?e.children.map((function(r){return r.value})):[]}},{key:"firstChild",value:function(r){var e=oe(r,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(r){var e=pe(r,this._root);return e.length<2?[]:e[e.length-2].children.map((function(r){return r.value})).filter((function(e){return e!==r}))}},{key:"pathFromRoot",value:function(r){return pe(r,this._root).map((function(r){return r.value}))}},{key:"root",get:function(){return this._root.value}}]),r}();function oe(r,e){if(r===e.value)return e;var n,t=Object(s.a)(e.children);try{for(t.s();!(n=t.n()).done;){var c=oe(r,n.value);if(c)return c}}catch(a){t.e(a)}finally{t.f()}return null}function pe(r,e){if(r===e.value)return[e];var n,t=Object(s.a)(e.children);try{for(t.s();!(n=t.n()).done;){var c=pe(r,n.value);if(c.length)return c.unshift(e),c}}catch(a){t.e(a)}finally{t.f()}return[]}var le=function(){function r(e,n){Object(p.a)(this,r),this.value=e,this.children=n}return Object(b.a)(r,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),r}();function ue(r){var e={};return r&&r.children.forEach((function(r){return e[r.value.outlet]=r})),e}var Oe=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t){var c;return Object(p.a)(this,n),(c=e.call(this,r)).snapshot=t,ge(Object(a.a)(c),r),c}return Object(b.a)(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(ie);function Ne(r,e){var n=function(r,e){var n=new me([],{},{},"",{},"primary",e,null,r.root,-1,{});return new ve("",new le(n,[]))}(r,e),t=new v([new Vr("",{})]),c=new v({}),a=new v({}),s=new v({}),b=new v(""),i=new he(t,c,s,b,a,"primary",e,n.root);return i.snapshot=n.root,new Oe(new le(i,[]),n)}var he=function(){function r(e,n,t,c,a,s,b,i){Object(p.a)(this,r),this.url=e,this.params=n,this.queryParams=t,this.fragment=c,this.data=a,this.outlet=s,this.component=b,this._futureSnapshot=i}return Object(b.a)(r,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(S.a)((function(r){return Cr(r)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(S.a)((function(r){return Cr(r)})))),this._queryParamMap}}]),r}();function de(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=r.pathFromRoot,t=0;if("always"!==e)for(t=n.length-1;t>=1;){var c=n[t],a=n[t-1];if(c.routeConfig&&""===c.routeConfig.path)t--;else{if(a.component)break;t--}}return fe(n.slice(t))}function fe(r){return r.reduce((function(r,e){return{params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}var me=function(){function r(e,n,t,c,a,s,b,i,o,l,u){Object(p.a)(this,r),this.url=e,this.params=n,this.queryParams=t,this.fragment=c,this.data=a,this.outlet=s,this.component=b,this.routeConfig=i,this._urlSegment=o,this._lastPathIndex=l,this._resolve=u}return Object(b.a)(r,[{key:"toString",value:function(){var r=this.url.map((function(r){return r.toString()})).join("/"),e=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(r,"', path:'").concat(e,"')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Cr(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}}]),r}(),ve=function(r){Object(i.a)(n,r);var e=Object(o.a)(n);function n(r,t){var c;return Object(p.a)(this,n),(c=e.call(this,t)).url=r,ge(Object(a.a)(c),t),c}return Object(b.a)(n,[{key:"toString",value:function(){return ye(this._root)}}]),n}(ie);function ge(r,e){e.value._routerState=r,e.children.forEach((function(e){return ge(r,e)}))}function ye(r){var e=r.children.length>0?" { ".concat(r.children.map(ye).join(", ")," } "):"";return"".concat(r.value).concat(e)}function ke(r){if(r.snapshot){var e=r.snapshot,n=r._futureSnapshot;r.snapshot=n,Rr(e.queryParams,n.queryParams)||r.queryParams.next(n.queryParams),e.fragment!==n.fragment&&r.fragment.next(n.fragment),Rr(e.params,n.params)||r.params.next(n.params),function(r,e){if(r.length!==e.length)return!1;for(var n=0;n<r.length;++n)if(!Rr(r[n],e[n]))return!1;return!0}(e.url,n.url)||r.url.next(n.url),Rr(e.data,n.data)||r.data.next(n.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function _e(r,e){var n,t;return Rr(r.params,e.params)&&Wr(n=r.url,t=e.url)&&n.every((function(r,e){return Rr(r.parameters,t[e].parameters)}))&&!(!r.parent!=!e.parent)&&(!r.parent||_e(r.parent,e.parent))}function we(r,e,n,t,a){if(0===n.length)return ze(e.root,e.root,e,t,a);var s=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Ce(!0,0,r);var e=0,n=!1,t=r.reduce((function(r,t,a){if("object"==typeof t&&null!=t){if(t.outlets){var s={};return Fr(t.outlets,(function(r,e){s[e]="string"==typeof r?r.split("/"):r})),[].concat(Object(c.a)(r),[{outlets:s}])}if(t.segmentPath)return[].concat(Object(c.a)(r),[t.segmentPath])}return"string"!=typeof t?[].concat(Object(c.a)(r),[t]):0===a?(t.split("/").forEach((function(t,c){0==c&&"."===t||(0==c&&""===t?n=!0:".."===t?e++:""!=t&&r.push(t))})),r):[].concat(Object(c.a)(r),[t])}),[]);return new Ce(n,e,t)}(n);if(s.toRoot())return ze(e.root,new Hr([],{}),e,t,a);var b=function(r,e,n){if(r.isAbsolute)return new je(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var t=n.snapshot._urlSegment;return new je(t,t===e.root,0)}var c=Se(r.commands[0])?0:1;return function(r,e,n){for(var t=r,c=e,a=n;a>c;){if(a-=c,!(t=t.parent))throw new Error("Invalid number of '../'");c=t.segments.length}return new je(t,!1,c-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+c,r.numberOfDoubleDots)}(s,e,r),i=b.processChildren?Ee(b.segmentGroup,b.index,s.commands):Te(b.segmentGroup,b.index,s.commands);return ze(b.segmentGroup,i,e,t,a)}function Se(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function ze(r,e,n,t,c){var a={};return t&&Fr(t,(function(r,e){a[e]=Array.isArray(r)?r.map((function(r){return"".concat(r)})):"".concat(r)})),new Br(n.root===r?e:function r(e,n,t){var c={};return Fr(e.children,(function(e,a){c[a]=e===n?t:r(e,n,t)})),new Hr(e.segments,c)}(n.root,r,e),a,c)}var Ce=function(){function r(e,n,t){if(Object(p.a)(this,r),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=t,e&&t.length>0&&Se(t[0]))throw new Error("Root segment cannot have matrix parameters");var c=t.find((function(r){return"object"==typeof r&&null!=r&&r.outlets}));if(c&&c!==Dr(t))throw new Error("{outlets:{}} has to be the last command")}return Object(b.a)(r,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),r}(),je=function r(e,n,t){Object(p.a)(this,r),this.segmentGroup=e,this.processChildren=n,this.index=t};function xe(r){return"object"==typeof r&&null!=r&&r.outlets?r.outlets.primary:"".concat(r)}function Te(r,e,n){if(r||(r=new Hr([],{})),0===r.segments.length&&r.hasChildren())return Ee(r,e,n);var t=function(r,e,n){for(var t=0,c=e,a={match:!1,pathIndex:0,commandIndex:0};c<r.segments.length;){if(t>=n.length)return a;var s=r.segments[c],b=xe(n[t]),i=t<n.length-1?n[t+1]:null;if(c>0&&void 0===b)break;if(b&&i&&"object"==typeof i&&void 0===i.outlets){if(!Re(b,i,s))return a;t+=2}else{if(!Re(b,{},s))return a;t++}c++}return{match:!0,pathIndex:c,commandIndex:t}}(r,e,n),c=n.slice(t.commandIndex);if(t.match&&t.pathIndex<r.segments.length){var a=new Hr(r.segments.slice(0,t.pathIndex),{});return a.children.primary=new Hr(r.segments.slice(t.pathIndex),r.children),Ee(a,0,c)}return t.match&&0===c.length?new Hr(r.segments,{}):t.match&&!r.hasChildren()?Pe(r,e,n):t.match?Ee(r,0,c):Pe(r,e,n)}function Ee(r,e,n){if(0===n.length)return new Hr(r.segments,{});var c=function(r){return"object"==typeof r[0]&&null!==r[0]&&r[0].outlets?r[0].outlets:Object(t.a)({},"primary",r)}(n),a={};return Fr(c,(function(n,t){null!==n&&(a[t]=Te(r.children[t],e,n))})),Fr(r.children,(function(r,e){void 0===c[e]&&(a[e]=r)})),new Hr(r.segments,a)}function Pe(r,e,n){for(var t=r.segments.slice(0,e),c=0;c<n.length;){if("object"==typeof n[c]&&null!==n[c]&&void 0!==n[c].outlets){var a=Ae(n[c].outlets);return new Hr(t,a)}if(0===c&&Se(n[0]))t.push(new Vr(r.segments[e].path,n[0])),c++;else{var s=xe(n[c]),b=c<n.length-1?n[c+1]:null;s&&b&&Se(b)?(t.push(new Vr(s,Ie(b))),c+=2):(t.push(new Vr(s,{})),c++)}}return new Hr(t,{})}function Ae(r){var e={};return Fr(r,(function(r,n){null!==r&&(e[n]=Pe(new Hr([],{}),0,r))})),e}function Ie(r){var e={};return Fr(r,(function(r,n){return e[n]="".concat(r)})),e}function Re(r,e,n){return r==n.path&&Rr(e,n.parameters)}var Me=function(){function r(e,n,t,c){Object(p.a)(this,r),this.routeReuseStrategy=e,this.futureState=n,this.currState=t,this.forwardEvent=c}return Object(b.a)(r,[{key:"activate",value:function(r){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),ke(this.futureState.root),this.activateChildRoutes(e,n,r)}},{key:"deactivateChildRoutes",value:function(r,e,n){var t=this,c=ue(e);r.children.forEach((function(r){var e=r.value.outlet;t.deactivateRoutes(r,c[e],n),delete c[e]})),Fr(c,(function(r,e){t.deactivateRouteAndItsChildren(r,n)}))}},{key:"deactivateRoutes",value:function(r,e,n){var t=r.value,c=e?e.value:null;if(t===c)if(t.component){var a=n.getContext(t.outlet);a&&this.deactivateChildRoutes(r,e,a.children)}else this.deactivateChildRoutes(r,e,n);else c&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(r,e){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}},{key:"detachAndStoreRouteSubtree",value:function(r,e){var n=e.getContext(r.value.outlet);if(n&&n.outlet){var t=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:t,route:r,contexts:c})}}},{key:"deactivateRouteAndOutlet",value:function(r,e){var n=this,t=e.getContext(r.value.outlet);if(t){var c=ue(r),a=r.value.component?t.children:e;Fr(c,(function(r,e){return n.deactivateRouteAndItsChildren(r,a)})),t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(r,e,n){var t=this,c=ue(e);r.children.forEach((function(r){t.activateRoutes(r,c[r.value.outlet],n),t.forwardEvent(new _r(r.value.snapshot))})),r.children.length&&this.forwardEvent(new yr(r.value.snapshot))}},{key:"activateRoutes",value:function(r,e,n){var t=r.value,c=e?e.value:null;if(ke(t),t===c)if(t.component){var a=n.getOrCreateContext(t.outlet);this.activateChildRoutes(r,e,a.children)}else this.activateChildRoutes(r,e,n);else if(t.component){var s=n.getOrCreateContext(t.outlet);if(this.routeReuseStrategy.shouldAttach(t.snapshot)){var b=this.routeReuseStrategy.retrieve(t.snapshot);this.routeReuseStrategy.store(t.snapshot,null),s.children.onOutletReAttached(b.contexts),s.attachRef=b.componentRef,s.route=b.route.value,s.outlet&&s.outlet.attach(b.componentRef,b.route.value),Le(b.route)}else{var i=function(r){for(var e=r.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(t.snapshot),o=i?i.module.componentFactoryResolver:null;s.attachRef=null,s.route=t,s.resolver=o,s.outlet&&s.outlet.activateWith(t,o),this.activateChildRoutes(r,null,s.children)}}else this.activateChildRoutes(r,null,n)}}]),r}();function Le(r){ke(r.value),r.children.forEach(Le)}function De(r){return"function"==typeof r}function Fe(r){return r instanceof Br}var Ue=function r(e){Object(p.a)(this,r),this.segmentGroup=e||null},qe=function r(e){Object(p.a)(this,r),this.urlTree=e};function Be(r){return new g.a((function(e){return e.error(new Ue(r))}))}function He(r){return new g.a((function(e){return e.error(new qe(r))}))}function Ve(r){return new g.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(r,"'")))}))}var We=function(){function r(e,n,t,c,a){Object(p.a)(this,r),this.configLoader=n,this.urlSerializer=t,this.urlTree=c,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.x)}return Object(b.a)(r,[{key:"apply",value:function(){var r=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(S.a)((function(e){return r.createUrlTree(e,r.urlTree.queryParams,r.urlTree.fragment)}))).pipe(V((function(e){if(e instanceof qe)return r.allowRedirects=!1,r.match(e.urlTree);if(e instanceof Ue)throw r.noMatchError(e);throw e})))}},{key:"match",value:function(r){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,r.root,"primary").pipe(Object(S.a)((function(n){return e.createUrlTree(n,r.queryParams,r.fragment)}))).pipe(V((function(r){if(r instanceof Ue)throw e.noMatchError(r);throw r})))}},{key:"noMatchError",value:function(r){return new Error("Cannot match any routes. URL Segment: '".concat(r.segmentGroup,"'"))}},{key:"createUrlTree",value:function(r,e,n){var c=r.segments.length>0?new Hr([],Object(t.a)({},"primary",r)):r;return new Br(c,e,n)}},{key:"expandSegmentGroup",value:function(r,e,n,t){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(r,e,n).pipe(Object(S.a)((function(r){return new Hr([],r)}))):this.expandSegment(r,n,e,n.segments,t,!0)}},{key:"expandChildren",value:function(r,e,n){var t=this;return function(n,c){if(0===Object.keys(n).length)return Object(O.a)({});var a=[],s=[],b={};return Fr(n,(function(n,c){var i,o,p=(i=c,o=n,t.expandSegmentGroup(r,e,o,i)).pipe(Object(S.a)((function(r){return b[c]=r})));"primary"===c?a.push(p):s.push(p)})),O.a.apply(null,a.concat(s)).pipe(Object(z.a)(),function(r,e){var n=arguments.length>=2;return function(t){return t.pipe(r?Object(C.a)((function(e,n){return r(e,n,t)})):U.a,T(1),n?L(e):A((function(){return new y})))}}(),Object(S.a)((function(){return b})))}(n.children)}},{key:"expandSegment",value:function(r,e,n,t,a,s){var b=this;return O.a.apply(void 0,Object(c.a)(n)).pipe(Object(S.a)((function(c){return b.expandSegmentAgainstRoute(r,e,n,c,t,a,s).pipe(V((function(r){if(r instanceof Ue)return Object(O.a)(null);throw r})))})),Object(z.a)(),K((function(r){return!!r})),V((function(r,n){if(r instanceof y||"EmptyError"===r.name){if(b.noLeftoversInUrl(e,t,a))return Object(O.a)(new Hr([],{}));throw new Ue(e)}throw r})))}},{key:"noLeftoversInUrl",value:function(r,e,n){return 0===e.length&&!r.children[n]}},{key:"expandSegmentAgainstRoute",value:function(r,e,n,t,c,a,s){return $e(t)!==a?Be(e):void 0===t.redirectTo?this.matchSegmentAgainstRoute(r,e,t,c):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,n,t,c,a):Be(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(r,e,n,t,c,a){return"**"===t.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,n,t,a):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,n,t,c,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(r,e,n,t){var c=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?He(a):this.lineralizeSegments(n,a).pipe(Object($.a)((function(n){var a=new Hr(n,{});return c.expandSegment(r,a,e,n,t,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(r,e,n,t,c,a){var s=this,b=Ge(e,t,c),i=b.consumedSegments,o=b.lastChild,p=b.positionalParamSegments;if(!b.matched)return Be(e);var l=this.applyRedirectCommands(i,t.redirectTo,p);return t.redirectTo.startsWith("/")?He(l):this.lineralizeSegments(t,l).pipe(Object($.a)((function(t){return s.expandSegment(r,e,n,t.concat(c.slice(o)),a,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(r,e,n,t){var c=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(r.injector,n).pipe(Object(S.a)((function(r){return n._loadedConfig=r,new Hr(t,{})}))):Object(O.a)(new Hr(t,{}));var a=Ge(e,n,t),b=a.consumedSegments,i=a.lastChild;if(!a.matched)return Be(e);var o=t.slice(i);return this.getChildConfig(r,n,t).pipe(Object($.a)((function(r){var n=r.module,t=r.routes,a=function(r,e,n,t){return n.length>0&&function(r,e,n){return n.some((function(n){return Ke(r,e,n)&&"primary"!==$e(n)}))}(r,n,t)?{segmentGroup:Qe(new Hr(e,function(r,e){var n={};n.primary=e;var t,c=Object(s.a)(r);try{for(c.s();!(t=c.n()).done;){var a=t.value;""===a.path&&"primary"!==$e(a)&&(n[$e(a)]=new Hr([],{}))}}catch(b){c.e(b)}finally{c.f()}return n}(t,new Hr(n,r.children)))),slicedSegments:[]}:0===n.length&&function(r,e,n){return n.some((function(n){return Ke(r,e,n)}))}(r,n,t)?{segmentGroup:Qe(new Hr(r.segments,function(r,e,n,t){var c,a={},b=Object(s.a)(n);try{for(b.s();!(c=b.n()).done;){var i=c.value;Ke(r,e,i)&&!t[$e(i)]&&(a[$e(i)]=new Hr([],{}))}}catch(o){b.e(o)}finally{b.f()}return Object.assign(Object.assign({},t),a)}(r,n,t,r.children))),slicedSegments:n}:{segmentGroup:r,slicedSegments:n}}(e,b,o,t),i=a.segmentGroup,p=a.slicedSegments;return 0===p.length&&i.hasChildren()?c.expandChildren(n,t,i).pipe(Object(S.a)((function(r){return new Hr(b,r)}))):0===t.length&&0===p.length?Object(O.a)(new Hr(b,{})):c.expandSegment(n,i,t,p,"primary",!0).pipe(Object(S.a)((function(r){return new Hr(b.concat(r.segments),r.children)})))})))}},{key:"getChildConfig",value:function(r,e,n){var t=this;return e.children?Object(O.a)(new Tr(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?Object(O.a)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,n).pipe(Object($.a)((function(n){return n?t.configLoader.load(r.injector,e).pipe(Object(S.a)((function(r){return e._loadedConfig=r,r}))):function(r){return new g.a((function(e){return e.error(jr("Cannot load children because the guard of the route \"path: '".concat(r.path,"'\" returned false")))}))}(e)}))):Object(O.a)(new Tr([],r))}},{key:"runCanLoadGuards",value:function(r,e,n){var t,c=this,a=e.canLoad;return a&&0!==a.length?Object(N.a)(a).pipe(Object(S.a)((function(t){var c,a=r.get(t);if(function(r){return r&&De(r.canLoad)}(a))c=a.canLoad(e,n);else{if(!De(a))throw new Error("Invalid CanLoad guard");c=a(e,n)}return Ur(c)}))).pipe(Object(z.a)(),Object(J.a)((function(r){if(Fe(r)){var e=jr('Redirecting to "'.concat(c.urlSerializer.serialize(r),'"'));throw e.url=r,e}})),(t=function(r){return!0===r},function(r){return r.lift(new Z(t,void 0,r))})):Object(O.a)(!0)}},{key:"lineralizeSegments",value:function(r,e){for(var n=[],t=e.root;;){if(n=n.concat(t.segments),0===t.numberOfChildren)return Object(O.a)(n);if(t.numberOfChildren>1||!t.children.primary)return Ve(r.redirectTo);t=t.children.primary}}},{key:"applyRedirectCommands",value:function(r,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,n)}},{key:"applyRedirectCreatreUrlTree",value:function(r,e,n,t){var c=this.createSegmentGroup(r,e.root,n,t);return new Br(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(r,e){var n={};return Fr(r,(function(r,t){if("string"==typeof r&&r.startsWith(":")){var c=r.substring(1);n[t]=e[c]}else n[t]=r})),n}},{key:"createSegmentGroup",value:function(r,e,n,t){var c=this,a=this.createSegments(r,e.segments,n,t),s={};return Fr(e.children,(function(e,a){s[a]=c.createSegmentGroup(r,e,n,t)})),new Hr(a,s)}},{key:"createSegments",value:function(r,e,n,t){var c=this;return e.map((function(e){return e.path.startsWith(":")?c.findPosParam(r,e,t):c.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(r,e,n){var t=n[e.path.substring(1)];if(!t)throw new Error("Cannot redirect to '".concat(r,"'. Cannot find '").concat(e.path,"'."));return t}},{key:"findOrReturn",value:function(r,e){var n,t=0,c=Object(s.a)(e);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(a.path===r.path)return e.splice(t),a;t++}}catch(b){c.e(b)}finally{c.f()}return r}}]),r}();function Ge(r,e,n){if(""===e.path)return"full"===e.pathMatch&&(r.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var t=(e.matcher||xr)(n,r,e);return t?{matched:!0,consumedSegments:t.consumed,lastChild:t.consumed.length,positionalParamSegments:t.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Qe(r){if(1===r.numberOfChildren&&r.children.primary){var e=r.children.primary;return new Hr(r.segments.concat(e.segments),e.children)}return r}function Ke(r,e,n){return(!(r.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function $e(r){return r.outlet||"primary"}var Je=function r(e){Object(p.a)(this,r),this.path=e,this.route=this.path[this.path.length-1]},Ze=function r(e,n){Object(p.a)(this,r),this.component=e,this.route=n};function Ye(r,e,n){var t=function(r){if(!r)return null;for(var e=r.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(t?t.module.injector:n).get(r)}function Xe(r,e,n,t){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=ue(e);return r.children.forEach((function(r){rn(r,a[r.value.outlet],n,t.concat([r.value]),c),delete a[r.value.outlet]})),Fr(a,(function(r,e){return nn(r,n.getContext(e),c)})),c}function rn(r,e,n,t){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=r.value,s=e?e.value:null,b=n?n.getContext(r.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var i=en(s,a,a.routeConfig.runGuardsAndResolvers);if(i?c.canActivateChecks.push(new Je(t)):(a.data=s.data,a._resolvedData=s._resolvedData),Xe(r,e,a.component?b?b.children:null:n,t,c),i){var o=b&&b.outlet&&b.outlet.component||null;c.canDeactivateChecks.push(new Ze(o,s))}}else s&&nn(e,b,c),c.canActivateChecks.push(new Je(t)),Xe(r,null,a.component?b?b.children:null:n,t,c);return c}function en(r,e,n){if("function"==typeof n)return n(r,e);switch(n){case"pathParamsChange":return!Wr(r.url,e.url);case"pathParamsOrQueryParamsChange":return!Wr(r.url,e.url)||!Rr(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_e(r,e)||!Rr(r.queryParams,e.queryParams);case"paramsChange":default:return!_e(r,e)}}function nn(r,e,n){var t=ue(r),c=r.value;Fr(t,(function(r,t){nn(r,c.component?e?e.children.getContext(t):null:e,n)})),n.canDeactivateChecks.push(new Ze(c.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,c))}var tn=Symbol("INITIAL_VALUE");function cn(){return Object(X.a)((function(r){return k.a.apply(void 0,Object(c.a)(r.map((function(r){return r.pipe(Object(Q.a)(1),Object(rr.a)(tn))})))).pipe(function(r,e){var n=!1;return arguments.length>=2&&(n=!0),function(t){return t.lift(new er(r,e,n))}}((function(r,e){var n=!1;return e.reduce((function(r,t,c){if(r!==tn)return r;if(t===tn&&(n=!0),!n){if(!1===t)return t;if(c===e.length-1||Fe(t))return t}return r}),r)}),tn),Object(C.a)((function(r){return r!==tn})),Object(S.a)((function(r){return Fe(r)?r:!0===r})),Object(Q.a)(1))}))}function an(r,e){return null!==r&&e&&e(new kr(r)),Object(O.a)(!0)}function sn(r,e){return null!==r&&e&&e(new gr(r)),Object(O.a)(!0)}function bn(r,e,n){var t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||0===t.length)return Object(O.a)(!0);var c=t.map((function(t){return w((function(){var c,a=Ye(t,e,n);if(function(r){return r&&De(r.canActivate)}(a))c=Ur(a.canActivate(e,r));else{if(!De(a))throw new Error("Invalid CanActivate guard");c=Ur(a(e,r))}return c.pipe(K())}))}));return Object(O.a)(c).pipe(cn())}function on(r,e,n){var t=e[e.length-1],c=e.slice(0,e.length-1).reverse().map((function(r){return function(r){var e=r.routeConfig?r.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:r,guards:e}:null}(r)})).filter((function(r){return null!==r})).map((function(e){return w((function(){var c=e.guards.map((function(c){var a,s=Ye(c,e.node,n);if(function(r){return r&&De(r.canActivateChild)}(s))a=Ur(s.canActivateChild(t,r));else{if(!De(s))throw new Error("Invalid CanActivateChild guard");a=Ur(s(t,r))}return a.pipe(K())}));return Object(O.a)(c).pipe(cn())}))}));return Object(O.a)(c).pipe(cn())}var pn=function r(){Object(p.a)(this,r)},ln=function(){function r(e,n,t,c,a,s){Object(p.a)(this,r),this.rootComponentType=e,this.config=n,this.urlTree=t,this.url=c,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=s}return Object(b.a)(r,[{key:"recognize",value:function(){try{var r=Nn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,"primary"),n=new me([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),t=new le(n,e),c=new ve(this.url,t);return this.inheritParamsAndData(c._root),Object(O.a)(c)}catch(a){return new g.a((function(r){return r.error(a)}))}}},{key:"inheritParamsAndData",value:function(r){var e=this,n=r.value,t=de(n,this.paramsInheritanceStrategy);n.params=Object.freeze(t.params),n.data=Object.freeze(t.data),r.children.forEach((function(r){return e.inheritParamsAndData(r)}))}},{key:"processSegmentGroup",value:function(r,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,n)}},{key:"processChildren",value:function(r,e){var n,t=this,c=Gr(e,(function(e,n){return t.processSegmentGroup(r,e,n)}));return n={},c.forEach((function(r){var e=n[r.value.outlet];if(e){var t=e.url.map((function(r){return r.toString()})).join("/"),c=r.value.url.map((function(r){return r.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(t,"' and '").concat(c,"'."))}n[r.value.outlet]=r.value})),function(r){r.sort((function(r,e){return"primary"===r.value.outlet?-1:"primary"===e.value.outlet?1:r.value.outlet.localeCompare(e.value.outlet)}))}(c),c}},{key:"processSegment",value:function(r,e,n,t){var c,a=Object(s.a)(r);try{for(a.s();!(c=a.n()).done;){var b=c.value;try{return this.processSegmentAgainstRoute(b,e,n,t)}catch(i){if(!(i instanceof pn))throw i}}}catch(o){a.e(o)}finally{a.f()}if(this.noLeftoversInUrl(e,n,t))return[];throw new pn}},{key:"noLeftoversInUrl",value:function(r,e,n){return 0===e.length&&!r.children[n]}},{key:"processSegmentAgainstRoute",value:function(r,e,n,t){if(r.redirectTo)throw new pn;if((r.outlet||"primary")!==t)throw new pn;var c,a=[],s=[];if("**"===r.path){var b=n.length>0?Dr(n).parameters:{};c=new me(n,b,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fn(r),t,r.component,r,un(e),On(e)+n.length,mn(r))}else{var i=function(r,e,n){if(""===e.path){if("full"===e.pathMatch&&(r.hasChildren()||n.length>0))throw new pn;return{consumedSegments:[],lastChild:0,parameters:{}}}var t=(e.matcher||xr)(n,r,e);if(!t)throw new pn;var c={};Fr(t.posParams,(function(r,e){c[e]=r.path}));var a=t.consumed.length>0?Object.assign(Object.assign({},c),t.consumed[t.consumed.length-1].parameters):c;return{consumedSegments:t.consumed,lastChild:t.consumed.length,parameters:a}}(e,r,n);a=i.consumedSegments,s=n.slice(i.lastChild),c=new me(a,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fn(r),t,r.component,r,un(e),On(e)+a.length,mn(r))}var o=function(r){return r.children?r.children:r.loadChildren?r._loadedConfig.routes:[]}(r),p=Nn(e,a,s,o,this.relativeLinkResolution),l=p.segmentGroup,u=p.slicedSegments;if(0===u.length&&l.hasChildren()){var O=this.processChildren(o,l);return[new le(c,O)]}if(0===o.length&&0===u.length)return[new le(c,[])];var N=this.processSegment(o,l,u,"primary");return[new le(c,N)]}}]),r}();function un(r){for(var e=r;e._sourceSegment;)e=e._sourceSegment;return e}function On(r){for(var e=r,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Nn(r,e,n,t,c){if(n.length>0&&function(r,e,n){return n.some((function(n){return hn(r,e,n)&&"primary"!==dn(n)}))}(r,n,t)){var a=new Hr(e,function(r,e,n,t){var c={};c.primary=t,t._sourceSegment=r,t._segmentIndexShift=e.length;var a,b=Object(s.a)(n);try{for(b.s();!(a=b.n()).done;){var i=a.value;if(""===i.path&&"primary"!==dn(i)){var o=new Hr([],{});o._sourceSegment=r,o._segmentIndexShift=e.length,c[dn(i)]=o}}}catch(p){b.e(p)}finally{b.f()}return c}(r,e,t,new Hr(n,r.children)));return a._sourceSegment=r,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(r,e,n){return n.some((function(n){return hn(r,e,n)}))}(r,n,t)){var b=new Hr(r.segments,function(r,e,n,t,c,a){var b,i={},o=Object(s.a)(t);try{for(o.s();!(b=o.n()).done;){var p=b.value;if(hn(r,n,p)&&!c[dn(p)]){var l=new Hr([],{});l._sourceSegment=r,l._segmentIndexShift="legacy"===a?r.segments.length:e.length,i[dn(p)]=l}}}catch(u){o.e(u)}finally{o.f()}return Object.assign(Object.assign({},c),i)}(r,e,n,t,r.children,c));return b._sourceSegment=r,b._segmentIndexShift=e.length,{segmentGroup:b,slicedSegments:n}}var i=new Hr(r.segments,r.children);return i._sourceSegment=r,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function hn(r,e,n){return(!(r.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function dn(r){return r.outlet||"primary"}function fn(r){return r.data||{}}function mn(r){return r.resolve||{}}function vn(r){return function(e){return e.pipe(Object(X.a)((function(e){var n=r(e);return n?Object(N.a)(n).pipe(Object(S.a)((function(){return e}))):Object(N.a)([e])})))}}var gn=function(){function r(){Object(p.a)(this,r)}return Object(b.a)(r,[{key:"shouldDetach",value:function(r){return!1}},{key:"store",value:function(r,e){}},{key:"shouldAttach",value:function(r){return!1}},{key:"retrieve",value:function(r){return null}},{key:"shouldReuseRoute",value:function(r,e){return r.routeConfig===e.routeConfig}}]),r}(),yn=new u.q("ROUTES"),kn=function(){function r(e,n,t,c){Object(p.a)(this,r),this.loader=e,this.compiler=n,this.onLoadStartListener=t,this.onLoadEndListener=c}return Object(b.a)(r,[{key:"load",value:function(r,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(S.a)((function(t){n.onLoadEndListener&&n.onLoadEndListener(e);var c=t.create(r);return new Tr(Lr(c.injector.get(yn)).map(Ir),c)})))}},{key:"loadModuleFactory",value:function(r){var e=this;return"string"==typeof r?Object(N.a)(this.loader.load(r)):Ur(r()).pipe(Object($.a)((function(r){return r instanceof u.v?Object(O.a)(r):Object(N.a)(e.compiler.compileModuleAsync(r))})))}}]),r}(),_n=function r(){Object(p.a)(this,r),this.outlet=null,this.route=null,this.resolver=null,this.children=new wn,this.attachRef=null},wn=function(){function r(){Object(p.a)(this,r),this.contexts=new Map}return Object(b.a)(r,[{key:"onChildOutletCreated",value:function(r,e){var n=this.getOrCreateContext(r);n.outlet=e,this.contexts.set(r,n)}},{key:"onChildOutletDestroyed",value:function(r){var e=this.getContext(r);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var r=this.contexts;return this.contexts=new Map,r}},{key:"onOutletReAttached",value:function(r){this.contexts=r}},{key:"getOrCreateContext",value:function(r){var e=this.getContext(r);return e||(e=new _n,this.contexts.set(r,e)),e}},{key:"getContext",value:function(r){return this.contexts.get(r)||null}}]),r}(),Sn=function(){function r(){Object(p.a)(this,r)}return Object(b.a)(r,[{key:"shouldProcessUrl",value:function(r){return!0}},{key:"extract",value:function(r){return r}},{key:"merge",value:function(r,e){return r}}]),r}();function zn(r){throw r}function Cn(r,e,n){return e.parse("/")}function jn(r,e){return Object(O.a)(null)}var xn=function(){var r=function(){function r(e,n,t,c,a,s,b,i){var o=this;Object(p.a)(this,r),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=t,this.location=c,this.config=i,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new f.a,this.errorHandler=zn,this.malformedUriErrorHandler=Cn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jn,afterPreactivation:jn},this.urlHandlingStrategy=new Sn,this.routeReuseStrategy=new gn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(u.x),this.console=a.get(u.Y);var l=a.get(u.z);this.isNgZoneEnabled=l instanceof u.z,this.resetConfig(i),this.currentUrlTree=new Br(new Hr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kn(s,b,(function(r){return o.triggerEvent(new mr(r))}),(function(r){return o.triggerEvent(new vr(r))})),this.routerState=Ne(this.currentUrlTree,this.rootComponentType),this.transitions=new v({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return Object(b.a)(r,[{key:"setupNavigations",value:function(r){var e=this,n=this.events;return r.pipe(Object(C.a)((function(r){return 0!==r.id})),Object(S.a)((function(r){return Object.assign(Object.assign({},r),{extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})})),Object(X.a)((function(r){var t,c,a,b,i=!1,o=!1;return Object(O.a)(r).pipe(Object(J.a)((function(r){e.currentNavigation={id:r.id,initialUrl:r.currentRawUrl,extractedUrl:r.extractedUrl,trigger:r.source,extras:r.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(X.a)((function(r){var t,c,a,s,b=!e.navigated||r.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||b)&&e.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return Object(O.a)(r).pipe(Object(X.a)((function(r){var t=e.transitions.getValue();return n.next(new or(r.id,e.serializeUrl(r.extractedUrl),r.source,r.restoredState)),t!==e.transitions.getValue()?_.a:[r]})),Object(X.a)((function(r){return Promise.resolve(r)})),(t=e.ngModule.injector,c=e.configLoader,a=e.urlSerializer,s=e.config,function(r){return r.pipe(Object(X.a)((function(r){return function(r,e,n,t,c){return new We(r,e,n,t,c).apply()}(t,c,a,r.extractedUrl,s).pipe(Object(S.a)((function(e){return Object.assign(Object.assign({},r),{urlAfterRedirects:e})})))})))}),Object(J.a)((function(r){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:r.urlAfterRedirects})})),function(r,n,t,c,a){return function(t){return t.pipe(Object($.a)((function(t){return function(r,e,n,t){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new ln(r,e,n,t,c,a).recognize()}(r,n,t.urlAfterRedirects,(s=t.urlAfterRedirects,e.serializeUrl(s)),c,a).pipe(Object(S.a)((function(r){return Object.assign(Object.assign({},t),{targetSnapshot:r})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(J.a)((function(r){"eager"===e.urlUpdateStrategy&&(r.extras.skipLocationChange||e.setBrowserUrl(r.urlAfterRedirects,!!r.extras.replaceUrl,r.id,r.extras.state),e.browserUrlTree=r.urlAfterRedirects)})),Object(J.a)((function(r){var t=new Or(r.id,e.serializeUrl(r.extractedUrl),e.serializeUrl(r.urlAfterRedirects),r.targetSnapshot);n.next(t)})));if(b&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var i=r.extractedUrl,o=r.source,p=r.restoredState,l=r.extras,u=new or(r.id,e.serializeUrl(i),o,p);n.next(u);var N=Ne(i,e.rootComponentType).snapshot;return Object(O.a)(Object.assign(Object.assign({},r),{targetSnapshot:N,urlAfterRedirects:i,extras:Object.assign(Object.assign({},l),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=r.rawUrl,e.browserUrlTree=r.urlAfterRedirects,r.resolve(null),_.a})),vn((function(r){var n=r.extras;return e.hooks.beforePreactivation(r.targetSnapshot,{navigationId:r.id,appliedUrlTree:r.extractedUrl,rawUrlTree:r.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})})),Object(J.a)((function(r){var n=new Nr(r.id,e.serializeUrl(r.extractedUrl),e.serializeUrl(r.urlAfterRedirects),r.targetSnapshot);e.triggerEvent(n)})),Object(S.a)((function(r){return Object.assign(Object.assign({},r),{guards:(n=r.targetSnapshot,t=r.currentSnapshot,c=e.rootContexts,a=n._root,Xe(a,t?t._root:null,c,[a.value]))});var n,t,c,a})),function(r,e){return function(n){return n.pipe(Object($.a)((function(n){var t=n.targetSnapshot,c=n.currentSnapshot,a=n.guards,s=a.canActivateChecks,b=a.canDeactivateChecks;return 0===b.length&&0===s.length?Object(O.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(r,e,n,t){return Object(N.a)(r).pipe(Object($.a)((function(r){return function(r,e,n,t,c){var a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(O.a)(!0);var s=a.map((function(a){var s,b=Ye(a,e,c);if(function(r){return r&&De(r.canDeactivate)}(b))s=Ur(b.canDeactivate(r,e,n,t));else{if(!De(b))throw new Error("Invalid CanDeactivate guard");s=Ur(b(r,e,n,t))}return s.pipe(K())}));return Object(O.a)(s).pipe(cn())}(r.component,r.route,n,e,t)})),K((function(r){return!0!==r}),!0))}(b,t,c,r).pipe(Object($.a)((function(n){return n&&"boolean"==typeof n?function(r,e,n,t){return Object(N.a)(e).pipe(Object(tr.a)((function(e){return Object(N.a)([sn(e.route.parent,t),an(e.route,t),on(r,e.path,n),bn(r,e.route,n)]).pipe(Object(z.a)(),K((function(r){return!0!==r}),!0))})),K((function(r){return!0!==r}),!0))}(t,s,r,e):Object(O.a)(n)})),Object(S.a)((function(r){return Object.assign(Object.assign({},n),{guardsResult:r})})))})))}}(e.ngModule.injector,(function(r){return e.triggerEvent(r)})),Object(J.a)((function(r){if(Fe(r.guardsResult)){var n=jr('Redirecting to "'.concat(e.serializeUrl(r.guardsResult),'"'));throw n.url=r.guardsResult,n}})),Object(J.a)((function(r){var n=new hr(r.id,e.serializeUrl(r.extractedUrl),e.serializeUrl(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);e.triggerEvent(n)})),Object(C.a)((function(r){if(!r.guardsResult){e.resetUrlToCurrentUrlTree();var t=new lr(r.id,e.serializeUrl(r.extractedUrl),"");return n.next(t),r.resolve(!1),!1}return!0})),vn((function(r){if(r.guards.canActivateChecks.length)return Object(O.a)(r).pipe(Object(J.a)((function(r){var n=new dr(r.id,e.serializeUrl(r.extractedUrl),e.serializeUrl(r.urlAfterRedirects),r.targetSnapshot);e.triggerEvent(n)})),Object(X.a)((function(r){var t,c,a=!1;return Object(O.a)(r).pipe((t=e.paramsInheritanceStrategy,c=e.ngModule.injector,function(r){return r.pipe(Object($.a)((function(r){var e=r.targetSnapshot,n=r.guards.canActivateChecks;if(!n.length)return Object(O.a)(r);var a=0;return Object(N.a)(n).pipe(Object(tr.a)((function(r){return function(r,e,n,t){return function(r,e,n,t){var c=Object.keys(r);if(0===c.length)return Object(O.a)({});var a={};return Object(N.a)(c).pipe(Object($.a)((function(c){return function(r,e,n,t){var c=Ye(r,e,t);return Ur(c.resolve?c.resolve(e,n):c(e,n))}(r[c],e,n,t).pipe(Object(J.a)((function(r){a[c]=r})))})),T(1),Object($.a)((function(){return Object.keys(a).length===c.length?Object(O.a)(a):_.a})))}(r._resolve,r,e,t).pipe(Object(S.a)((function(e){return r._resolvedData=e,r.data=Object.assign(Object.assign({},r.data),de(r,n).resolve),null})))}(r.route,e,t,c)})),Object(J.a)((function(){return a++})),T(1),Object($.a)((function(e){return a===n.length?Object(O.a)(r):_.a})))})))}),Object(J.a)({next:function(){return a=!0},complete:function(){if(!a){var t=new lr(r.id,e.serializeUrl(r.extractedUrl),"At least one route resolver didn't emit any value.");n.next(t),r.resolve(!1)}}}))})),Object(J.a)((function(r){var n=new fr(r.id,e.serializeUrl(r.extractedUrl),e.serializeUrl(r.urlAfterRedirects),r.targetSnapshot);e.triggerEvent(n)})))})),vn((function(r){var n=r.extras;return e.hooks.afterPreactivation(r.targetSnapshot,{navigationId:r.id,appliedUrlTree:r.extractedUrl,rawUrlTree:r.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})})),Object(S.a)((function(r){var n,t,c,a=(c=function r(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){var c=t.value;c._futureSnapshot=n.value;var a=function(e,n,t){return n.children.map((function(n){var c,a=Object(s.a)(t.children);try{for(a.s();!(c=a.n()).done;){var b=c.value;if(e.shouldReuseRoute(b.value.snapshot,n.value))return r(e,n,b)}}catch(i){a.e(i)}finally{a.f()}return r(e,n)}))}(e,n,t);return new le(c,a)}var b=e.retrieve(n.value);if(b){var i=b.route;return function r(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var t=0;t<e.children.length;++t)r(e.children[t],n.children[t])}(n,i),i}var o,p=new he(new v((o=n.value).url),new v(o.params),new v(o.queryParams),new v(o.fragment),new v(o.data),o.outlet,o.component,o),l=n.children.map((function(n){return r(e,n)}));return new le(p,l)}(e.routeReuseStrategy,(n=r.targetSnapshot)._root,(t=r.currentRouterState)?t._root:void 0),new Oe(c,n));return Object.assign(Object.assign({},r),{targetRouterState:a})})),Object(J.a)((function(r){e.currentUrlTree=r.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,r.rawUrl),e.routerState=r.targetRouterState,"deferred"===e.urlUpdateStrategy&&(r.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!r.extras.replaceUrl,r.id,r.extras.state),e.browserUrlTree=r.urlAfterRedirects)})),(c=e.rootContexts,a=e.routeReuseStrategy,b=function(r){return e.triggerEvent(r)},Object(S.a)((function(r){return new Me(a,r.targetRouterState,r.currentRouterState,b).activate(c),r}))),Object(J.a)({next:function(){i=!0},complete:function(){i=!0}}),(t=function(){if(!i&&!o){e.resetUrlToCurrentUrlTree();var t=new lr(r.id,e.serializeUrl(r.extractedUrl),"Navigation ID ".concat(r.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(t),r.resolve(!1)}e.currentNavigation=null},function(r){return r.lift(new ar(t))}),V((function(t){if(o=!0,(b=t)&&b.ngNavigationCancelingError){var c=Fe(t.url);c||(e.navigated=!0,e.resetStateAndUrl(r.currentRouterState,r.currentUrlTree,r.rawUrl));var a=new lr(r.id,e.serializeUrl(r.extractedUrl),t.message);n.next(a),c?setTimeout((function(){var n=e.urlHandlingStrategy.merge(t.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:r.resolve,reject:r.reject,promise:r.promise})}),0):r.resolve(!1)}else{e.resetStateAndUrl(r.currentRouterState,r.currentUrlTree,r.rawUrl);var s=new ur(r.id,e.serializeUrl(r.extractedUrl),t);n.next(s);try{r.resolve(e.errorHandler(t))}catch(i){r.reject(i)}}var b;return _.a})))})))}},{key:"resetRootComponentType",value:function(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}},{key:"setTransition",value:function(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var r=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=r.parseUrl(e.url),t="popstate"===e.type?"popstate":"hashchange",c=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){r.scheduleNavigation(n,t,c,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(r){this.events.next(r)}},{key:"resetConfig",value:function(r){Er(r),this.config=r.map(Ir),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,t=e.queryParams,c=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,b=e.preserveFragment;Object(u.V)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var i=n||this.routerState.root,o=b?this.currentUrlTree.fragment:c,p=null;if(s)switch(s){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),t);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=t||null}else p=a?this.currentUrlTree.queryParams:t||null;return null!==p&&(p=this.removeEmptyProps(p)),we(i,this.currentUrlTree,r,p,o)}},{key:"navigateByUrl",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(u.V)()&&this.isNgZoneEnabled&&!u.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Fe(r)?r:this.parseUrl(r),t=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,e)}},{key:"navigate",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return Tn(r),this.navigateByUrl(this.createUrlTree(r,e),e)}},{key:"serializeUrl",value:function(r){return this.urlSerializer.serialize(r)}},{key:"parseUrl",value:function(r){var e;try{e=this.urlSerializer.parse(r)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,r)}return e}},{key:"isActive",value:function(r,e){if(Fe(r))return qr(this.currentUrlTree,r,e);var n=this.parseUrl(r);return qr(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(r){return Object.keys(r).reduce((function(e,n){var t=r[n];return null!=t&&(e[n]=t),e}),{})}},{key:"processNavigations",value:function(){var r=this;this.navigations.subscribe((function(e){r.navigated=!0,r.lastSuccessfulId=e.id,r.events.next(new pr(e.id,r.serializeUrl(e.extractedUrl),r.serializeUrl(r.currentUrlTree))),r.lastSuccessfulNavigation=r.currentNavigation,r.currentNavigation=null,e.resolve(!0)}),(function(e){r.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(r,e,n,t,c){var a,s,b,i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===r.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===r.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===r.toString())return Promise.resolve(!0);c?(a=c.resolve,s=c.reject,b=c.promise):b=new Promise((function(r,e){a=r,s=e}));var o=++this.navigationId;return this.setTransition({id:o,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:t,resolve:a,reject:s,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch((function(r){return Promise.reject(r)}))}},{key:"setBrowserUrl",value:function(r,e,n,t){var c=this.urlSerializer.serialize(r);t=t||{},this.location.isCurrentPathEqualTo(c)||e?this.location.replaceState(c,"",Object.assign(Object.assign({},t),{navigationId:n})):this.location.go(c,"",Object.assign(Object.assign({},t),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(r,e,n){this.routerState=r,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.Sb(u.N),u.Sb(Qr),u.Sb(wn),u.Sb(l.h),u.Sb(u.r),u.Sb(u.w),u.Sb(u.i),u.Sb(void 0))},r.\u0275prov=u.Hb({token:r,factory:r.\u0275fac}),r}();function Tn(r){for(var e=0;e<r.length;e++){var n=r[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}var En=function(){var r=function(){function r(e,n,t,c,a){Object(p.a)(this,r),this.router=e,this.route=n,this.commands=[],null==t&&c.setAttribute(a.nativeElement,"tabindex","0")}return Object(b.a)(r,[{key:"onClick",value:function(){var r={skipLocationChange:An(this.skipLocationChange),replaceUrl:An(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!0}},{key:"routerLink",set:function(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}},{key:"preserveQueryParams",set:function(r){Object(u.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=r}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:An(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:An(this.preserveFragment)})}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.Lb(xn),u.Lb(he),u.Tb("tabindex"),u.Lb(u.E),u.Lb(u.l))},r.\u0275dir=u.Gb({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,e){1&r&&u.Vb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),r}(),Pn=function(){var r=function(){function r(e,n,t){var c=this;Object(p.a)(this,r),this.router=e,this.route=n,this.locationStrategy=t,this.commands=[],this.subscription=e.events.subscribe((function(r){r instanceof pr&&c.updateTargetUrlAndHref()}))}return Object(b.a)(r,[{key:"ngOnChanges",value:function(r){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(r,e,n,t){if(0!==r||e||n||t)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var c={skipLocationChange:An(this.skipLocationChange),replaceUrl:An(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,c),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}},{key:"preserveQueryParams",set:function(r){Object(u.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=r}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:An(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:An(this.preserveFragment)})}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.Lb(xn),u.Lb(he),u.Lb(l.i))},r.\u0275dir=u.Gb({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,e){1&r&&u.Vb("click",(function(r){return e.onClick(r.button,r.ctrlKey,r.metaKey,r.shiftKey)})),2&r&&(u.Rb("href",e.href,u.lc),u.Ab("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[u.xb]}),r}();function An(r){return""===r||!!r}var In=function(){var r=function(){function r(e,n,t,c,a,s){var b=this;Object(p.a)(this,r),this.router=e,this.element=n,this.renderer=t,this.cdr=c,this.link=a,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe((function(r){r instanceof pr&&b.update()}))}return Object(b.a)(r,[{key:"ngAfterContentInit",value:function(){var r=this;this.links.changes.subscribe((function(e){return r.update()})),this.linksWithHrefs.changes.subscribe((function(e){return r.update()})),this.update()}},{key:"ngOnChanges",value:function(r){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var r=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=r.hasActiveLinks();r.isActive!==e&&(r.isActive=e,r.cdr.markForCheck(),r.classes.forEach((function(n){e?r.renderer.addClass(r.element.nativeElement,n):r.renderer.removeClass(r.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(r){var e=this;return function(n){return r.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.linkWithHref&&r(this.linkWithHref)||this.links.some(r)||this.linksWithHrefs.some(r)}},{key:"routerLinkActive",set:function(r){var e=Array.isArray(r)?r:r.split(" ");this.classes=e.filter((function(r){return!!r}))}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.Lb(xn),u.Lb(u.l),u.Lb(u.E),u.Lb(u.h),u.Lb(En,8),u.Lb(Pn,8))},r.\u0275dir=u.Gb({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(r,e,n){var t;1&r&&(u.Eb(n,En,!0),u.Eb(n,Pn,!0)),2&r&&(u.gc(t=u.Wb())&&(e.links=t),u.gc(t=u.Wb())&&(e.linksWithHrefs=t))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[u.xb]}),r}(),Rn=function(){var r=function(){function r(e,n,t,c,a){Object(p.a)(this,r),this.parentContexts=e,this.location=n,this.resolver=t,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.n,this.deactivateEvents=new u.n,this.name=c||"primary",e.onChildOutletCreated(this.name,this)}return Object(b.a)(r,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var r=this.activated;return this.activated=null,this._activatedRoute=null,r}},{key:"attach",value:function(r,e){this.activated=r,this._activatedRoute=e,this.location.insert(r.hostView)}},{key:"deactivate",value:function(){if(this.activated){var r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}},{key:"activateWith",value:function(r,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;var n=(e=e||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),t=this.parentContexts.getOrCreateContext(this.name).children,c=new Mn(r,t,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.Lb(wn),u.Lb(u.P),u.Lb(u.j),u.Tb("name"),u.Lb(u.h))},r.\u0275dir=u.Gb({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r}(),Mn=function(){function r(e,n,t){Object(p.a)(this,r),this.route=e,this.childContexts=n,this.parent=t}return Object(b.a)(r,[{key:"get",value:function(r,e){return r===he?this.route:r===wn?this.childContexts:this.parent.get(r,e)}}]),r}(),Ln=function r(){Object(p.a)(this,r)},Dn=function(){function r(){Object(p.a)(this,r)}return Object(b.a)(r,[{key:"preload",value:function(r,e){return e().pipe(V((function(){return Object(O.a)(null)})))}}]),r}(),Fn=function(){function r(){Object(p.a)(this,r)}return Object(b.a)(r,[{key:"preload",value:function(r,e){return Object(O.a)(null)}}]),r}(),Un=function(){var r=function(){function r(e,n,t,c,a){Object(p.a)(this,r),this.router=e,this.injector=c,this.preloadingStrategy=a,this.loader=new kn(n,t,(function(r){return e.triggerEvent(new mr(r))}),(function(r){return e.triggerEvent(new vr(r))}))}return Object(b.a)(r,[{key:"setUpPreloading",value:function(){var r=this;this.subscription=this.router.events.pipe(Object(C.a)((function(r){return r instanceof pr})),Object(tr.a)((function(){return r.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var r=this.injector.get(u.x);return this.processRoutes(r,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(r,e){var n,t=[],c=Object(s.a)(e);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var b=a._loadedConfig;t.push(this.processRoutes(b.module,b.routes))}else a.loadChildren&&!a.canLoad?t.push(this.preloadConfig(r,a)):a.children&&t.push(this.processRoutes(r,a.children))}}catch(i){c.e(i)}finally{c.f()}return Object(N.a)(t).pipe(Object(br.a)(),Object(S.a)((function(r){})))}},{key:"preloadConfig",value:function(r,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(r.injector,e).pipe(Object($.a)((function(r){return e._loadedConfig=r,n.processRoutes(r.module,r.routes)})))}))}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.Sb(xn),u.Sb(u.w),u.Sb(u.i),u.Sb(u.r),u.Sb(Ln))},r.\u0275prov=u.Hb({token:r,factory:r.\u0275fac}),r}(),qn=function(){var r=function(){function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(p.a)(this,r),this.router=e,this.viewportScroller=n,this.options=t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},t.scrollPositionRestoration=t.scrollPositionRestoration||"disabled",t.anchorScrolling=t.anchorScrolling||"disabled"}return Object(b.a)(r,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var r=this;return this.router.events.subscribe((function(e){e instanceof or?(r.store[r.lastId]=r.viewportScroller.getScrollPosition(),r.lastSource=e.navigationTrigger,r.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pr&&(r.lastId=e.id,r.scheduleScrollEvent(e,r.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var r=this;return this.router.events.subscribe((function(e){e instanceof wr&&(e.position?"top"===r.options.scrollPositionRestoration?r.viewportScroller.scrollToPosition([0,0]):"enabled"===r.options.scrollPositionRestoration&&r.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===r.options.anchorScrolling?r.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==r.options.scrollPositionRestoration&&r.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(r,e){this.router.triggerEvent(new wr(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.Sb(xn),u.Sb(l.o),u.Sb(void 0))},r.\u0275prov=u.Hb({token:r,factory:r.\u0275fac}),r}(),Bn=new u.q("ROUTER_CONFIGURATION"),Hn=new u.q("ROUTER_FORROOT_GUARD"),Vn=[l.h,{provide:Qr,useClass:Kr},{provide:xn,useFactory:function(r,e,n,t,c,a,s){var b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},i=arguments.length>8?arguments[8]:void 0,o=arguments.length>9?arguments[9]:void 0,p=new xn(null,r,e,n,t,c,a,Lr(s));if(i&&(p.urlHandlingStrategy=i),o&&(p.routeReuseStrategy=o),b.errorHandler&&(p.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(p.malformedUriErrorHandler=b.malformedUriErrorHandler),b.enableTracing){var u=Object(l.s)();p.events.subscribe((function(r){u.logGroup("Router Event: ".concat(r.constructor.name)),u.log(r.toString()),u.log(r),u.logGroupEnd()}))}return b.onSameUrlNavigation&&(p.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.urlUpdateStrategy&&(p.urlUpdateStrategy=b.urlUpdateStrategy),b.relativeLinkResolution&&(p.relativeLinkResolution=b.relativeLinkResolution),p},deps:[Qr,wn,l.h,u.r,u.w,u.i,yn,Bn,[function r(){Object(p.a)(this,r)},new u.A],[function r(){Object(p.a)(this,r)},new u.A]]},wn,{provide:he,useFactory:function(r){return r.routerState.root},deps:[xn]},{provide:u.w,useClass:u.K},Un,Fn,Dn,{provide:Bn,useValue:{enableTracing:!1}}];function Wn(){return new u.y("Router",xn)}var Gn=function(){var r=function(){function r(e,n){Object(p.a)(this,r)}return Object(b.a)(r,null,[{key:"forRoot",value:function(e,n){return{ngModule:r,providers:[Vn,Jn(e),{provide:Hn,useFactory:$n,deps:[[xn,new u.A,new u.J]]},{provide:Bn,useValue:n||{}},{provide:l.i,useFactory:Kn,deps:[l.n,[new u.p(l.a),new u.A],Bn]},{provide:qn,useFactory:Qn,deps:[xn,l.o,Bn]},{provide:Ln,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fn},{provide:u.y,multi:!0,useFactory:Wn},[Zn,{provide:u.d,multi:!0,useFactory:Yn,deps:[Zn]},{provide:rt,useFactory:Xn,deps:[Zn]},{provide:u.b,multi:!0,useExisting:rt}]]}}},{key:"forChild",value:function(e){return{ngModule:r,providers:[Jn(e)]}}}]),r}();return r.\u0275mod=u.Jb({type:r}),r.\u0275inj=u.Ib({factory:function(e){return new(e||r)(u.Sb(Hn,8),u.Sb(xn,8))}}),r}();function Qn(r,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new qn(r,e,n)}function Kn(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new l.f(r,e):new l.m(r,e)}function $n(r){if(r)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Jn(r){return[{provide:u.a,multi:!0,useValue:r},{provide:yn,multi:!0,useValue:r}]}var Zn=function(){var r=function(){function r(e){Object(p.a)(this,r),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new f.a}return Object(b.a)(r,[{key:"appInitializer",value:function(){var r=this;return this.injector.get(l.g,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(r){return e=r})),t=r.injector.get(xn),c=r.injector.get(Bn);if(r.isLegacyDisabled(c)||r.isLegacyEnabled(c))e(!0);else if("disabled"===c.initialNavigation)t.setUpLocationChangeListener(),e(!0);else{if("enabled"!==c.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(c.initialNavigation,"'"));t.hooks.afterPreactivation=function(){return r.initNavigation?Object(O.a)(null):(r.initNavigation=!0,e(!0),r.resultOfPreactivationDone)},t.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(r){var e=this.injector.get(Bn),n=this.injector.get(Un),t=this.injector.get(qn),c=this.injector.get(xn),a=this.injector.get(u.g);r===a.components[0]&&(this.isLegacyEnabled(e)?c.initialNavigation():this.isLegacyDisabled(e)&&c.setUpLocationChangeListener(),n.setUpPreloading(),t.init(),c.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(r){return"legacy_enabled"===r.initialNavigation||!0===r.initialNavigation||void 0===r.initialNavigation}},{key:"isLegacyDisabled",value:function(r){return"legacy_disabled"===r.initialNavigation||!1===r.initialNavigation}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.Sb(u.r))},r.\u0275prov=u.Hb({token:r,factory:r.\u0275fac}),r}();function Yn(r){return r.appInitializer.bind(r)}function Xn(r){return r.bootstrapListener.bind(r)}var rt=new u.q("Router Initializer")},uFwe:function(r,e,n){"use strict";n.d(e,"a",(function(){return c}));var t=n("BsWD");function c(r){if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(r=Object(t.a)(r))){var e=0,n=function(){};return{s:n,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a,s=!0,b=!1;return{s:function(){c=r[Symbol.iterator]()},n:function(){var r=c.next();return s=r.done,r},e:function(r){b=!0,a=r},f:function(){try{s||null==c.return||c.return()}finally{if(b)throw a}}}}},vkgz:function(r,e,n){"use strict";n.d(e,"a",(function(){return l}));var t=n("JX7q"),c=n("Ji7U"),a=n("LK+K"),s=n("1OyB"),b=n("vuIU"),i=n("7o/Q");function o(){}var p=n("n6bG");function l(r,e,n){return function(t){return t.lift(new u(r,e,n))}}var u=function(){function r(e,n,t){Object(s.a)(this,r),this.nextOrObserver=e,this.error=n,this.complete=t}return Object(b.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new O(r,this.nextOrObserver,this.error,this.complete))}}]),r}(),O=function(r){Object(c.a)(n,r);var e=Object(a.a)(n);function n(r,c,a,b){var i;return Object(s.a)(this,n),(i=e.call(this,r))._tapNext=o,i._tapError=o,i._tapComplete=o,i._tapError=a||o,i._tapComplete=b||o,Object(p.a)(c)?(i._context=Object(t.a)(i),i._tapNext=c):c&&(i._context=c,i._tapNext=c.next||o,i._tapError=c.error||o,i._tapComplete=c.complete||o),i}return Object(b.a)(n,[{key:"_next",value:function(r){try{this._tapNext.call(this._context,r)}catch(e){return void this.destination.error(e)}this.destination.next(r)}},{key:"_error",value:function(r){try{this._tapError.call(this._context,r)}catch(r){return void this.destination.error(r)}this.destination.error(r)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(r){return void this.destination.error(r)}return this.destination.complete()}}]),n}(i.a)},vuIU:function(r,e,n){"use strict";function t(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function c(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}n.d(e,"a",(function(){return c}))},yCtX:function(r,e,n){"use strict";n.d(e,"a",(function(){return s}));var t=n("HDdC"),c=n("ngJS"),a=n("jZKg");function s(r,e){return e?Object(a.a)(r,e):new t.a(Object(c.a)(r))}},"z+Ro":function(r,e,n){"use strict";function t(r){return r&&"function"==typeof r.schedule}n.d(e,"a",(function(){return t}))},zUnb:function(r,e,n){"use strict";n.r(e);var t,c=n("fXoL"),a=n("ReuC"),s=n("foSv"),b=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),p=n("LK+K"),l=n("ofXK"),u=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"getProperty",value:function(r,e){return r[e]}},{key:"log",value:function(r){window.console&&window.console.log&&window.console.log(r)}},{key:"logGroup",value:function(r){window.console&&window.console.group&&window.console.group(r)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(r,e,n){return r.addEventListener(e,n,!1),function(){r.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(r,e){r.dispatchEvent(e)}},{key:"remove",value:function(r){return r.parentNode&&r.parentNode.removeChild(r),r}},{key:"getValue",value:function(r){return r.value}},{key:"createElement",value:function(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(r){return r.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(r){return r instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(r){var e,n=O||(O=document.querySelector("base"))?O.getAttribute("href"):null;return null==n?null:(e=n,t||(t=document.createElement("a")),t.setAttribute("href",e),"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname)}},{key:"resetBaseElement",value:function(){O=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(r){return Object(l.t)(document.cookie,r)}}],[{key:"makeCurrent",value:function(){Object(l.u)(new n)}}]),n}(function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(b.a)(this,n),e.call(this)}return Object(i.a)(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(l.q)),O=null,N=new c.q("TRANSITION_ID"),h=[{provide:c.d,useFactory:function(r,e,n){return function(){n.get(c.e).donePromise.then((function(){var n=Object(l.s)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===r})).forEach((function(r){return n.remove(r)}))}))}},deps:[N,l.d,c.r],multi:!0}],d=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"addToWindow",value:function(r){c.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=r.findTestabilityInTree(e,n);if(null==t)throw new Error("Could not find testability for element.");return t},c.ob.getAllAngularTestabilities=function(){return r.getAllTestabilities()},c.ob.getAllAngularRootElements=function(){return r.getAllRootElements()},c.ob.frameworkStabilizers||(c.ob.frameworkStabilizers=[]),c.ob.frameworkStabilizers.push((function(r){var e=c.ob.getAllAngularTestabilities(),n=e.length,t=!1,a=function(e){t=t||e,0==--n&&r(t)};e.forEach((function(r){r.whenStable(a)}))}))}},{key:"findTestabilityInTree",value:function(r,e,n){if(null==e)return null;var t=r.getTestability(e);return null!=t?t:n?Object(l.s)().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(c.X)(new r)}}]),r}(),f=new c.q("EventManagerPlugins"),m=function(){var r=function(){function r(e,n){var t=this;Object(b.a)(this,r),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(r){return r.manager=t})),this._plugins=e.slice().reverse()}return Object(i.a)(r,[{key:"addEventListener",value:function(r,e,n){return this._findPluginFor(e).addEventListener(r,e,n)}},{key:"addGlobalEventListener",value:function(r,e,n){return this._findPluginFor(e).addGlobalEventListener(r,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(r){var e=this._eventNameToPlugin.get(r);if(e)return e;for(var n=this._plugins,t=0;t<n.length;t++){var c=n[t];if(c.supports(r))return this._eventNameToPlugin.set(r,c),c}throw new Error("No event manager plugin found for event ".concat(r))}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(f),c.Sb(c.z))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),v=function(){function r(e){Object(b.a)(this,r),this._doc=e}return Object(i.a)(r,[{key:"addGlobalEventListener",value:function(r,e,n){var t=Object(l.s)().getGlobalEventTarget(this._doc,r);if(!t)throw new Error("Unsupported event target ".concat(t," for event ").concat(e));return this.addEventListener(t,e,n)}}]),r}(),g=function(){var r=function(){function r(){Object(b.a)(this,r),this._stylesSet=new Set}return Object(i.a)(r,[{key:"addStyles",value:function(r){var e=this,n=new Set;r.forEach((function(r){e._stylesSet.has(r)||(e._stylesSet.add(r),n.add(r))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(r){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),y=function(){var r=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){var t;return Object(b.a)(this,n),(t=e.call(this))._doc=r,t._hostNodes=new Set,t._styleNodes=new Set,t._hostNodes.add(r.head),t}return Object(i.a)(n,[{key:"_addStylesToHost",value:function(r,e){var n=this;r.forEach((function(r){var t=n._doc.createElement("style");t.textContent=r,n._styleNodes.add(e.appendChild(t))}))}},{key:"addHost",value:function(r){this._addStylesToHost(this._stylesSet,r),this._hostNodes.add(r)}},{key:"removeHost",value:function(r){this._hostNodes.delete(r)}},{key:"onStylesAdded",value:function(r){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(r,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(r){return Object(l.s)().remove(r)}))}}]),n}(g);return r.\u0275fac=function(e){return new(e||r)(c.Sb(l.d))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_=/%COMP%/g,w="_nghost-".concat("%COMP%"),S="_ngcontent-".concat("%COMP%");function z(r,e,n){for(var t=0;t<e.length;t++){var c=e[t];Array.isArray(c)?z(r,c,n):(c=c.replace(_,r),n.push(c))}return n}function C(r){return function(e){if("__ngUnwrap__"===e)return r;!1===r(e)&&(e.preventDefault(),e.returnValue=!1)}}var j=function(){var r=function(){function r(e,n,t){Object(b.a)(this,r),this.eventManager=e,this.sharedStylesHost=n,this.appId=t,this.rendererByCompId=new Map,this.defaultRenderer=new x(e)}return Object(i.a)(r,[{key:"createRenderer",value:function(r,e){if(!r||!e)return this.defaultRenderer;switch(e.encapsulation){case c.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new T(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(r),n;case c.Q.Native:case c.Q.ShadowDom:return new E(this.eventManager,this.sharedStylesHost,r,e);default:if(!this.rendererByCompId.has(e.id)){var t=z(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(m),c.Sb(y),c.Sb(c.c))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),x=function(){function r(e){Object(b.a)(this,r),this.eventManager=e,this.data=Object.create(null)}return Object(i.a)(r,[{key:"destroy",value:function(){}},{key:"createElement",value:function(r,e){return e?document.createElementNS(k[e]||e,r):document.createElement(r)}},{key:"createComment",value:function(r){return document.createComment(r)}},{key:"createText",value:function(r){return document.createTextNode(r)}},{key:"appendChild",value:function(r,e){r.appendChild(e)}},{key:"insertBefore",value:function(r,e,n){r&&r.insertBefore(e,n)}},{key:"removeChild",value:function(r,e){r&&r.removeChild(e)}},{key:"selectRootElement",value:function(r,e){var n="string"==typeof r?document.querySelector(r):r;if(!n)throw new Error('The selector "'.concat(r,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(r){return r.parentNode}},{key:"nextSibling",value:function(r){return r.nextSibling}},{key:"setAttribute",value:function(r,e,n,t){if(t){e=t+":"+e;var c=k[t];c?r.setAttributeNS(c,e,n):r.setAttribute(e,n)}else r.setAttribute(e,n)}},{key:"removeAttribute",value:function(r,e,n){if(n){var t=k[n];t?r.removeAttributeNS(t,e):r.removeAttribute("".concat(n,":").concat(e))}else r.removeAttribute(e)}},{key:"addClass",value:function(r,e){r.classList.add(e)}},{key:"removeClass",value:function(r,e){r.classList.remove(e)}},{key:"setStyle",value:function(r,e,n,t){t&c.G.DashCase?r.style.setProperty(e,n,t&c.G.Important?"important":""):r.style[e]=n}},{key:"removeStyle",value:function(r,e,n){n&c.G.DashCase?r.style.removeProperty(e):r.style[e]=""}},{key:"setProperty",value:function(r,e,n){r[e]=n}},{key:"setValue",value:function(r,e){r.nodeValue=e}},{key:"listen",value:function(r,e,n){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,C(n)):this.eventManager.addEventListener(r,e,C(n))}}]),r}(),T=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c,a){var s;Object(b.a)(this,n),(s=e.call(this,r)).component=c;var i=z(a+"-"+c.id,c.styles,[]);return t.addStyles(i),s.contentAttr=S.replace(_,a+"-"+c.id),s.hostAttr=function(r){return w.replace(_,r)}(a+"-"+c.id),s}return Object(i.a)(n,[{key:"applyToHost",value:function(r){Object(a.a)(Object(s.a)(n.prototype),"setAttribute",this).call(this,r,this.hostAttr,"")}},{key:"createElement",value:function(r,e){var t=Object(a.a)(Object(s.a)(n.prototype),"createElement",this).call(this,r,e);return Object(a.a)(Object(s.a)(n.prototype),"setAttribute",this).call(this,t,this.contentAttr,""),t}}]),n}(x),E=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,a,s){var i;Object(b.a)(this,n),(i=e.call(this,r)).sharedStylesHost=t,i.hostEl=a,i.component=s,i.shadowRoot=s.encapsulation===c.Q.ShadowDom?a.attachShadow({mode:"open"}):a.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var o=z(s.id,s.styles,[]),p=0;p<o.length;p++){var l=document.createElement("style");l.textContent=o[p],i.shadowRoot.appendChild(l)}return i}return Object(i.a)(n,[{key:"nodeOrShadowRoot",value:function(r){return r===this.hostEl?this.shadowRoot:r}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(r,e){return Object(a.a)(Object(s.a)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(r),e)}},{key:"insertBefore",value:function(r,e,t){return Object(a.a)(Object(s.a)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(r),e,t)}},{key:"removeChild",value:function(r,e){return Object(a.a)(Object(s.a)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(r),e)}},{key:"parentNode",value:function(r){return this.nodeOrShadowRoot(Object(a.a)(Object(s.a)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(r)))}}]),n}(x),P=function(){var r=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){return Object(b.a)(this,n),e.call(this,r)}return Object(i.a)(n,[{key:"supports",value:function(r){return!0}},{key:"addEventListener",value:function(r,e,n){var t=this;return r.addEventListener(e,n,!1),function(){return t.removeEventListener(r,e,n)}}},{key:"removeEventListener",value:function(r,e,n){return r.removeEventListener(e,n)}}]),n}(v);return r.\u0275fac=function(e){return new(e||r)(c.Sb(l.d))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),A=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},M={alt:function(r){return r.altKey},control:function(r){return r.ctrlKey},meta:function(r){return r.metaKey},shift:function(r){return r.shiftKey}},L=function(){var r=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){return Object(b.a)(this,n),e.call(this,r)}return Object(i.a)(n,[{key:"supports",value:function(r){return null!=n.parseEventName(r)}},{key:"addEventListener",value:function(r,e,t){var c=n.parseEventName(e),a=n.eventCallback(c.fullKey,t,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(l.s)().onAndCancel(r,c.domEventName,a)}))}}],[{key:"parseEventName",value:function(r){var e=r.toLowerCase().split("."),t=e.shift();if(0===e.length||"keydown"!==t&&"keyup"!==t)return null;var c=n._normalizeKey(e.pop()),a="";if(A.forEach((function(r){var n=e.indexOf(r);n>-1&&(e.splice(n,1),a+=r+".")})),a+=c,0!=e.length||0===c.length)return null;var s={};return s.domEventName=t,s.fullKey=a,s}},{key:"getEventFullKey",value:function(r){var e="",n=function(r){var e=r.key;if(null==e){if(null==(e=r.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===r.location&&R.hasOwnProperty(e)&&(e=R[e]))}return I[e]||e}(r);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),A.forEach((function(t){t!=n&&(0,M[t])(r)&&(e+=t+".")})),e+=n}},{key:"eventCallback",value:function(r,e,t){return function(c){n.getEventFullKey(c)===r&&t.runGuarded((function(){return e(c)}))}}},{key:"_normalizeKey",value:function(r){switch(r){case"esc":return"escape";default:return r}}}]),n}(v);return r.\u0275fac=function(e){return new(e||r)(c.Sb(l.d))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),D=[{provide:c.B,useValue:l.r},{provide:c.C,useValue:function(){u.makeCurrent(),d.init()},multi:!0},{provide:l.d,useFactory:function(){return Object(c.tb)(document),document},deps:[]}],F=Object(c.R)(c.W,"browser",D),U=[[],{provide:c.Z,useValue:"root"},{provide:c.m,useFactory:function(){return new c.m},deps:[]},{provide:f,useClass:P,multi:!0,deps:[l.d,c.z,c.B]},{provide:f,useClass:L,multi:!0,deps:[l.d]},[],{provide:j,useClass:j,deps:[m,y,c.c]},{provide:c.F,useExisting:j},{provide:g,useExisting:y},{provide:y,useClass:y,deps:[l.d]},{provide:c.M,useClass:c.M,deps:[c.z]},{provide:m,useClass:m,deps:[f,c.z]},[]],q=function(){var r=function(){function r(e){if(Object(b.a)(this,r),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return Object(i.a)(r,null,[{key:"withServerTransition",value:function(e){return{ngModule:r,providers:[{provide:c.c,useValue:e.appId},{provide:N,useExisting:c.c},h]}}}]),r}();return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)(c.Sb(r,12))},providers:U,imports:[l.c,c.f]}),r}();"undefined"!=typeof window&&window;var B=n("ODXe"),H=n("KQm4"),V=n("LRne"),W=n("HDdC"),G=n("bOdf"),Q=n("pLZG"),K=n("lJxs"),$=function r(){Object(b.a)(this,r)},J=function r(){Object(b.a)(this,r)},Z=function(){function r(e){var n=this;Object(b.a)(this,r),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(r){var e=r.indexOf(":");if(e>0){var t=r.slice(0,e),c=t.toLowerCase(),a=r.slice(e+1).trim();n.maybeSetNormalizedName(t,c),n.headers.has(c)?n.headers.get(c).push(a):n.headers.set(c,[a])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(r){var t=e[r],c=r.toLowerCase();"string"==typeof t&&(t=[t]),t.length>0&&(n.headers.set(c,t),n.maybeSetNormalizedName(r,c))}))}:this.headers=new Map}return Object(i.a)(r,[{key:"has",value:function(r){return this.init(),this.headers.has(r.toLowerCase())}},{key:"get",value:function(r){this.init();var e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(r){return this.init(),this.headers.get(r.toLowerCase())||null}},{key:"append",value:function(r,e){return this.clone({name:r,value:e,op:"a"})}},{key:"set",value:function(r,e){return this.clone({name:r,value:e,op:"s"})}},{key:"delete",value:function(r,e){return this.clone({name:r,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(r){return e.applyUpdate(r)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(r){var e=this;r.init(),Array.from(r.headers.keys()).forEach((function(n){e.headers.set(n,r.headers.get(n)),e.normalizedNames.set(n,r.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new r;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(r){var e=r.name.toLowerCase();switch(r.op){case"a":case"s":var n=r.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(r.name,e);var t=("a"===r.op?this.headers.get(e):void 0)||[];t.push.apply(t,Object(H.a)(n)),this.headers.set(e,t);break;case"d":var c=r.value;if(c){var a=this.headers.get(e);if(!a)return;0===(a=a.filter((function(r){return-1===c.indexOf(r)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(r){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return r(e.normalizedNames.get(n),e.headers.get(n))}))}}]),r}(),Y=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"encodeKey",value:function(r){return rr(r)}},{key:"encodeValue",value:function(r){return rr(r)}},{key:"decodeKey",value:function(r){return decodeURIComponent(r)}},{key:"decodeValue",value:function(r){return decodeURIComponent(r)}}]),r}();function X(r,e){var n=new Map;return r.length>0&&r.split("&").forEach((function(r){var t=r.indexOf("="),c=-1==t?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,t)),e.decodeValue(r.slice(t+1))],a=Object(B.a)(c,2),s=a[0],b=a[1],i=n.get(s)||[];i.push(b),n.set(s,i)})),n}function rr(r){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var er=function(){function r(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(b.a)(this,r),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Y,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=X(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(r){var t=n.fromObject[r];e.map.set(r,Array.isArray(t)?t:[t])}))):this.map=null}return Object(i.a)(r,[{key:"has",value:function(r){return this.init(),this.map.has(r)}},{key:"get",value:function(r){this.init();var e=this.map.get(r);return e?e[0]:null}},{key:"getAll",value:function(r){return this.init(),this.map.get(r)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(r,e){return this.clone({param:r,value:e,op:"a"})}},{key:"set",value:function(r,e){return this.clone({param:r,value:e,op:"s"})}},{key:"delete",value:function(r,e){return this.clone({param:r,value:e,op:"d"})}},{key:"toString",value:function(){var r=this;return this.init(),this.keys().map((function(e){var n=r.encoder.encodeKey(e);return r.map.get(e).map((function(e){return n+"="+r.encoder.encodeValue(e)})).join("&")})).filter((function(r){return""!==r})).join("&")}},{key:"clone",value:function(e){var n=new r({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var r=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return r.map.set(e,r.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?r.map.get(e.param):void 0)||[];n.push(e.value),r.map.set(e.param,n);break;case"d":if(void 0===e.value){r.map.delete(e.param);break}var t=r.map.get(e.param)||[],c=t.indexOf(e.value);-1!==c&&t.splice(c,1),t.length>0?r.map.set(e.param,t):r.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),r}();function nr(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function tr(r){return"undefined"!=typeof Blob&&r instanceof Blob}function cr(r){return"undefined"!=typeof FormData&&r instanceof FormData}var ar=function(){function r(e,n,t,c){var a;if(Object(b.a)(this,r),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==t?t:null,a=c):a=t,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new Z),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var i=n.indexOf("?");this.urlWithParams=n+(-1===i?"?":i<n.length-1?"&":"")+s}}else this.params=new er,this.urlWithParams=n}return Object(i.a)(r,[{key:"serializeBody",value:function(){return null===this.body?null:nr(this.body)||tr(this.body)||cr(this.body)||"string"==typeof this.body?this.body:this.body instanceof er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||cr(this.body)?null:tr(this.body)?this.body.type||null:nr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,t=e.url||this.url,c=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,i=e.headers||this.headers,o=e.params||this.params;return void 0!==e.setHeaders&&(i=Object.keys(e.setHeaders).reduce((function(r,n){return r.set(n,e.setHeaders[n])}),i)),e.setParams&&(o=Object.keys(e.setParams).reduce((function(r,n){return r.set(n,e.setParams[n])}),o)),new r(n,t,a,{params:o,headers:i,reportProgress:b,responseType:c,withCredentials:s})}}]),r}(),sr=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}({}),br=function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";Object(b.a)(this,r),this.headers=e.headers||new Z,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},ir=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(b.a)(this,n),(r=e.call(this,t)).type=sr.ResponseHeader,r}return Object(i.a)(n,[{key:"clone",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}]),n}(br),or=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(b.a)(this,n),(r=e.call(this,t)).type=sr.Response,r.body=void 0!==t.body?t.body:null,r}return Object(i.a)(n,[{key:"clone",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}]),n}(br),pr=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){var t;return Object(b.a)(this,n),(t=e.call(this,r,0,"Unknown Error")).name="HttpErrorResponse",t.ok=!1,t.message=t.status>=200&&t.status<300?"Http failure during parsing for ".concat(r.url||"(unknown url)"):"Http failure response for ".concat(r.url||"(unknown url)",": ").concat(r.status," ").concat(r.statusText),t.error=r.error||null,t}return n}(br);function lr(r,e){return{body:e,headers:r.headers,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}var ur=function(){var r=function(){function r(e){Object(b.a)(this,r),this.handler=e}return Object(i.a)(r,[{key:"request",value:function(r,e){var n,t=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r instanceof ar)n=r;else{var a=void 0;a=c.headers instanceof Z?c.headers:new Z(c.headers);var s=void 0;c.params&&(s=c.params instanceof er?c.params:new er({fromObject:c.params})),n=new ar(r,e,void 0!==c.body?c.body:null,{headers:a,params:s,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}var b=Object(V.a)(n).pipe(Object(G.a)((function(r){return t.handler.handle(r)})));if(r instanceof ar||"events"===c.observe)return b;var i=b.pipe(Object(Q.a)((function(r){return r instanceof or})));switch(c.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return i.pipe(Object(K.a)((function(r){if(null!==r.body&&!(r.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return r.body})));case"blob":return i.pipe(Object(K.a)((function(r){if(null!==r.body&&!(r.body instanceof Blob))throw new Error("Response is not a Blob.");return r.body})));case"text":return i.pipe(Object(K.a)((function(r){if(null!==r.body&&"string"!=typeof r.body)throw new Error("Response is not a string.");return r.body})));case"json":default:return i.pipe(Object(K.a)((function(r){return r.body})))}case"response":return i;default:throw new Error("Unreachable: unhandled observe type ".concat(c.observe,"}"))}}},{key:"delete",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",r,e)}},{key:"get",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",r,e)}},{key:"head",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",r,e)}},{key:"jsonp",value:function(r,e){return this.request("JSONP",r,{params:(new er).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",r,e)}},{key:"patch",value:function(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",r,lr(n,e))}},{key:"post",value:function(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",r,lr(n,e))}},{key:"put",value:function(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",r,lr(n,e))}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb($))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),Or=function(){function r(e,n){Object(b.a)(this,r),this.next=e,this.interceptor=n}return Object(i.a)(r,[{key:"handle",value:function(r){return this.interceptor.intercept(r,this.next)}}]),r}(),Nr=new c.q("HTTP_INTERCEPTORS"),hr=function(){var r=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"intercept",value:function(r,e){return e.handle(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),dr=0,fr=function r(){Object(b.a)(this,r)},mr=function(){var r=function(){function r(e,n){Object(b.a)(this,r),this.callbackMap=e,this.document=n}return Object(i.a)(r,[{key:"nextCallback",value:function(){return"ng_jsonp_callback_".concat(dr++)}},{key:"handle",value:function(r){var e=this;if("JSONP"!==r.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==r.responseType)throw new Error("JSONP requests must use Json response type.");return new W.a((function(n){var t=e.nextCallback(),c=r.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,"=".concat(t,"$1")),a=e.document.createElement("script");a.src=c;var s=null,b=!1,i=!1;e.callbackMap[t]=function(r){delete e.callbackMap[t],i||(s=r,b=!0)};var o=function(){a.parentNode&&a.parentNode.removeChild(a),delete e.callbackMap[t]},p=function(r){i||(o(),b?(n.next(new or({body:s,status:200,statusText:"OK",url:c})),n.complete()):n.error(new pr({url:c,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},l=function(r){i||(o(),n.error(new pr({error:r,status:0,statusText:"JSONP Error",url:c})))};return a.addEventListener("load",p),a.addEventListener("error",l),e.document.body.appendChild(a),n.next({type:sr.Sent}),function(){i=!0,a.removeEventListener("load",p),a.removeEventListener("error",l),o()}}))}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(fr),c.Sb(l.d))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),vr=function(){var r=function(){function r(e){Object(b.a)(this,r),this.jsonp=e}return Object(i.a)(r,[{key:"intercept",value:function(r,e){return"JSONP"===r.method?this.jsonp.handle(r):e.handle(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(mr))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),gr=/^\)\]\}',?\n/,yr=function r(){Object(b.a)(this,r)},kr=function(){var r=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"build",value:function(){return new XMLHttpRequest}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),_r=function(){var r=function(){function r(e){Object(b.a)(this,r),this.xhrFactory=e}return Object(i.a)(r,[{key:"handle",value:function(r){var e=this;if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new W.a((function(n){var t=e.xhrFactory.build();if(t.open(r.method,r.urlWithParams),r.withCredentials&&(t.withCredentials=!0),r.headers.forEach((function(r,e){return t.setRequestHeader(r,e.join(","))})),r.headers.has("Accept")||t.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){var c=r.detectContentTypeHeader();null!==c&&t.setRequestHeader("Content-Type",c)}if(r.responseType){var a=r.responseType.toLowerCase();t.responseType="json"!==a?a:"text"}var s=r.serializeBody(),b=null,i=function(){if(null!==b)return b;var e=1223===t.status?204:t.status,n=t.statusText||"OK",c=new Z(t.getAllResponseHeaders()),a=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(t)||r.url;return b=new ir({headers:c,status:e,statusText:n,url:a})},o=function(){var e=i(),c=e.headers,a=e.status,s=e.statusText,b=e.url,o=null;204!==a&&(o=void 0===t.response?t.responseText:t.response),0===a&&(a=o?200:0);var p=a>=200&&a<300;if("json"===r.responseType&&"string"==typeof o){var l=o;o=o.replace(gr,"");try{o=""!==o?JSON.parse(o):null}catch(u){o=l,p&&(p=!1,o={error:u,text:o})}}p?(n.next(new or({body:o,headers:c,status:a,statusText:s,url:b||void 0})),n.complete()):n.error(new pr({error:o,headers:c,status:a,statusText:s,url:b||void 0}))},p=function(r){var e=i(),c=new pr({error:r,status:t.status||0,statusText:t.statusText||"Unknown Error",url:e.url||void 0});n.error(c)},l=!1,u=function(e){l||(n.next(i()),l=!0);var c={type:sr.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(c.total=e.total),"text"===r.responseType&&t.responseText&&(c.partialText=t.responseText),n.next(c)},O=function(r){var e={type:sr.UploadProgress,loaded:r.loaded};r.lengthComputable&&(e.total=r.total),n.next(e)};return t.addEventListener("load",o),t.addEventListener("error",p),r.reportProgress&&(t.addEventListener("progress",u),null!==s&&t.upload&&t.upload.addEventListener("progress",O)),t.send(s),n.next({type:sr.Sent}),function(){t.removeEventListener("error",p),t.removeEventListener("load",o),r.reportProgress&&(t.removeEventListener("progress",u),null!==s&&t.upload&&t.upload.removeEventListener("progress",O)),t.readyState!==t.DONE&&t.abort()}}))}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(yr))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),wr=new c.q("XSRF_COOKIE_NAME"),Sr=new c.q("XSRF_HEADER_NAME"),zr=function r(){Object(b.a)(this,r)},Cr=function(){var r=function(){function r(e,n,t){Object(b.a)(this,r),this.doc=e,this.platform=n,this.cookieName=t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return Object(i.a)(r,[{key:"getToken",value:function(){if("server"===this.platform)return null;var r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.t)(r,this.cookieName),this.lastCookieString=r),this.lastToken}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(l.d),c.Sb(c.B),c.Sb(wr))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),jr=function(){var r=function(){function r(e,n){Object(b.a)(this,r),this.tokenService=e,this.headerName=n}return Object(i.a)(r,[{key:"intercept",value:function(r,e){var n=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(r);var t=this.tokenService.getToken();return null===t||r.headers.has(this.headerName)||(r=r.clone({headers:r.headers.set(this.headerName,t)})),e.handle(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(zr),c.Sb(Sr))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),xr=function(){var r=function(){function r(e,n){Object(b.a)(this,r),this.backend=e,this.injector=n,this.chain=null}return Object(i.a)(r,[{key:"handle",value:function(r){if(null===this.chain){var e=this.injector.get(Nr,[]);this.chain=e.reduceRight((function(r,e){return new Or(r,e)}),this.backend)}return this.chain.handle(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(J),c.Sb(c.r))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}();function Tr(){return"object"==typeof window?window:{}}var Er=function(){var r=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,null,[{key:"disable",value:function(){return{ngModule:r,providers:[{provide:jr,useClass:hr}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:r,providers:[e.cookieName?{provide:wr,useValue:e.cookieName}:[],e.headerName?{provide:Sr,useValue:e.headerName}:[]]}}}]),r}();return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},providers:[jr,{provide:Nr,useExisting:jr,multi:!0},{provide:zr,useClass:Cr},{provide:wr,useValue:"XSRF-TOKEN"},{provide:Sr,useValue:"X-XSRF-TOKEN"}]}),r}(),Pr=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},providers:[ur,{provide:$,useClass:xr},_r,{provide:J,useExisting:_r},kr,{provide:yr,useExisting:kr}],imports:[[Er.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r}(),Ar=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},providers:[mr,{provide:fr,useFactory:Tr},{provide:Nr,useClass:vr,multi:!0}]}),r}(),Ir=n("tyNb"),Rr=n("JX7q"),Mr=n("XNiG"),Lr=n("quSY");n("vkgz"),n("7o/Q");var Dr,Fr=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;return Object(b.a)(this,n),(c=e.call(this,r,t)).scheduler=r,c.work=t,c.pending=!1,c}return Object(i.a)(n,[{key:"schedule",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=r;var n=this.id,t=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(t,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(t,this.id,e),this}},{key:"requestAsyncId",value:function(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(r.flush.bind(r,this),n)}},{key:"recycleAsyncId",value:function(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(r,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(r,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(r,e){var n=!1,t=void 0;try{this.work(r)}catch(c){n=!0,t=!!c&&c||new Error(c)}if(n)return this.unsubscribe(),t}},{key:"_unsubscribe",value:function(){var r=this.id,e=this.scheduler,n=e.actions,t=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==t&&n.splice(t,1),null!=r&&(this.id=this.recycleAsyncId(e,r,null)),this.delay=null}}]),n}(function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){return Object(b.a)(this,n),e.call(this)}return Object(i.a)(n,[{key:"schedule",value:function(r){return this}}]),n}(Lr.a)),Ur=function(){var r=function(){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;Object(b.a)(this,r),this.SchedulerAction=e,this.now=n}return Object(i.a)(r,[{key:"schedule",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,r).schedule(n,e)}}]),r}();return r.now=function(){return Date.now()},r}(),qr=new(function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){var t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur.now;return Object(b.a)(this,n),(t=e.call(this,r,(function(){return n.delegate&&n.delegate!==Object(Rr.a)(t)?n.delegate.now():c()}))).actions=[],t.active=!1,t.scheduled=void 0,t}return Object(i.a)(n,[{key:"schedule",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(r,e,t):Object(a.a)(Object(s.a)(n.prototype),"schedule",this).call(this,r,e,t)}},{key:"flush",value:function(r){var e=this.actions;if(this.active)e.push(r);else{var n;this.active=!0;do{if(n=r.execute(r.state,r.delay))break}while(r=e.shift());if(this.active=!1,n){for(;r=e.shift();)r.unsubscribe();throw n}}}}]),n}(Ur))(Fr),Br=n("IzEk");function Hr(r){return null!=r&&"false"!=="".concat(r)}function Vr(r){return Array.isArray(r)?r:[r]}function Wr(r){return null==r?"":"string"==typeof r?r:"".concat(r,"px")}function Gr(r){return r instanceof c.l?r.nativeElement:r}try{Dr="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Fa){Dr=!1}var Qr,Kr,$r=function(){var r=function r(e){Object(b.a)(this,r),this._platformId=e,this.isBrowser=this._platformId?Object(l.p)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dr)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return r.\u0275fac=function(e){return new(e||r)(c.Sb(c.B))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)(c.B))},token:r,providedIn:"root"}),r}(),Jr=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)}}),r}();function Zr(r){return function(){if(null==Qr&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Qr=!0}}))}finally{Qr=Qr||!1}return Qr}()?r:!!r.capture}function Yr(r){if(function(){if(null==Kr){var r="undefined"!=typeof document?document.head:null;Kr=!(!r||!r.createShadowRoot&&!r.attachShadow)}return Kr}()){var e=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}var Xr=function(){var r=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"create",value:function(r){return"undefined"==typeof MutationObserver?null:new MutationObserver(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=Object(c.Hb)({factory:function(){return new r},token:r,providedIn:"root"}),r}(),re=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},providers:[Xr]}),r}();function ee(r){return 0===r.buttons}"undefined"!=typeof Element&&Element;var ne=new c.q("cdk-focus-monitor-default-options"),te=Zr({passive:!0,capture:!0}),ce=function(){var r=function(){function r(e,n,t,c){var a=this;Object(b.a)(this,r),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){a._lastTouchTarget=null,a._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(r){if(!a._lastTouchTarget){var e=ee(r)?"keyboard":"mouse";a._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(r){null!=a._touchTimeoutId&&clearTimeout(a._touchTimeoutId),a._lastTouchTarget=ae(r),a._touchTimeoutId=setTimeout((function(){return a._lastTouchTarget=null}),650)},this._windowFocusListener=function(){a._windowFocused=!0,a._windowFocusTimeoutId=setTimeout((function(){return a._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(r){for(var e=ae(r),n="focus"===r.type?a._onFocus:a._onBlur,t=e;t;t=t.parentElement)n.call(a,r,t)},this._document=t,this._detectionMode=(null==c?void 0:c.detectionMode)||0}return Object(i.a)(r,[{key:"monitor",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(V.a)(null);var n=Gr(r),t=Yr(n)||this._getDocument(),c=this._elementInfo.get(n);if(c)return e&&(c.checkChildren=!0),c.subject.asObservable();var a={checkChildren:e,subject:new Mr.a,rootNode:t};return this._elementInfo.set(n,a),this._registerGlobalListeners(a),a.subject.asObservable()}},{key:"stopMonitoring",value:function(r){var e=Gr(r),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(r,e,n){var t=Gr(r);this._setOriginForCurrentEventQueue(e),"function"==typeof t.focus&&t.focus(n)}},{key:"ngOnDestroy",value:function(){var r=this;this._elementInfo.forEach((function(e,n){return r.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(r,e,n){n?r.classList.add(e):r.classList.remove(e)}},{key:"_getFocusOrigin",value:function(r){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(r)?"touch":"program"}},{key:"_setClasses",value:function(r,e){this._toggleClass(r,"cdk-focused",!!e),this._toggleClass(r,"cdk-touch-focused","touch"===e),this._toggleClass(r,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(r,"cdk-mouse-focused","mouse"===e),this._toggleClass(r,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(r){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=r,0===e._detectionMode&&(e._originTimeoutId=setTimeout((function(){return e._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(r){var e=ae(r);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(r,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===ae(r))){var t=this._getFocusOrigin(r);this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}}},{key:"_onBlur",value:function(r,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&r.relatedTarget instanceof Node&&e.contains(r.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(r,e){this._ngZone.run((function(){return r.next(e)}))}},{key:"_registerGlobalListeners",value:function(r){var e=this;if(this._platform.isBrowser){var n=r.rootNode,t=this._rootNodeFocusListenerCount.get(n)||0;t||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,te),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,te)})),this._rootNodeFocusListenerCount.set(n,t+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var r=e._getDocument(),n=e._getWindow();r.addEventListener("keydown",e._documentKeydownListener,te),r.addEventListener("mousedown",e._documentMousedownListener,te),r.addEventListener("touchstart",e._documentTouchstartListener,te),n.addEventListener("focus",e._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(r){var e=r.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,te),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,te),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var t=this._getDocument(),c=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,te),t.removeEventListener("mousedown",this._documentMousedownListener,te),t.removeEventListener("touchstart",this._documentTouchstartListener,te),c.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(c.z),c.Sb($r),c.Sb(l.d,8),c.Sb(ne,8))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)(c.z),Object(c.Sb)($r),Object(c.Sb)(l.d,8),Object(c.Sb)(ne,8))},token:r,providedIn:"root"}),r}();function ae(r){return r.composedPath?r.composedPath()[0]:r.target}var se=function(){var r=function(){function r(e,n){Object(b.a)(this,r),this._platform=e,this._document=n}return Object(i.a)(r,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(r):null,t=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(r),t){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var r=this._document.body.classList;r.remove("cdk-high-contrast-active"),r.remove("cdk-high-contrast-black-on-white"),r.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(r.add("cdk-high-contrast-active"),r.add("cdk-high-contrast-black-on-white")):2===e&&(r.add("cdk-high-contrast-active"),r.add("cdk-high-contrast-white-on-black"))}}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb($r),c.Sb(l.d))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)($r),Object(c.Sb)(l.d))},token:r,providedIn:"root"}),r}(),be=function(){var r=function r(e){Object(b.a)(this,r),e._applyBodyHighContrastModeCssClasses()};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)(c.Sb(se))},imports:[[Jr,re]]}),r}(),ie=new c.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(c.U)(l.d)}}),oe=function(){var r=function(){function r(e){if(Object(b.a)(this,r),this.value="ltr",this.change=new c.n,e){var n=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null);this.value="ltr"===n||"rtl"===n?n:"ltr"}}return Object(i.a)(r,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(ie,8))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)(ie,8))},token:r,providedIn:"root"}),r}(),pe=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)}}),r}(),le=new c.O("10.0.1"),ue=(n("JX91"),function r(){Object(b.a)(this,r)}),Oe=function r(){Object(b.a)(this,r)};function Ne(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:r,options:e}}function he(r){return{type:6,styles:r,offset:null}}function de(r){Promise.resolve(null).then(r)}var fe=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(b.a)(this,r),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return Object(i.a)(r,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(r){return r()})),this._onDoneFns=[])}},{key:"onStart",value:function(r){this._onStartFns.push(r)}},{key:"onDone",value:function(r){this._onDoneFns.push(r)}},{key:"onDestroy",value:function(r){this._onDestroyFns.push(r)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var r=this;de((function(){return r._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(r){return r()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(r){return r()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(r){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(r){var e="start"==r?this._onStartFns:this._onDoneFns;e.forEach((function(r){return r()})),e.length=0}}]),r}(),me=function(){function r(e){var n=this;Object(b.a)(this,r),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var t=0,c=0,a=0,s=this.players.length;0==s?de((function(){return n._onFinish()})):this.players.forEach((function(r){r.onDone((function(){++t==s&&n._onFinish()})),r.onDestroy((function(){++c==s&&n._onDestroy()})),r.onStart((function(){++a==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(r,e){return Math.max(r,e.totalTime)}),0)}return Object(i.a)(r,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(r){return r()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(r){return r.init()}))}},{key:"onStart",value:function(r){this._onStartFns.push(r)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(r){return r()})),this._onStartFns=[])}},{key:"onDone",value:function(r){this._onDoneFns.push(r)}},{key:"onDestroy",value:function(r){this._onDestroyFns.push(r)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(r){return r.play()}))}},{key:"pause",value:function(){this.players.forEach((function(r){return r.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(r){return r.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(r){return r.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(r){return r.destroy()})),this._onDestroyFns.forEach((function(r){return r()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(r){return r.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(r){var e=r*this.totalTime;this.players.forEach((function(r){var n=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(n)}))}},{key:"getPosition",value:function(){var r=0;return this.players.forEach((function(e){var n=e.getPosition();r=Math.min(n,r)})),r}},{key:"beforeDestroy",value:function(){this.players.forEach((function(r){r.beforeDestroy&&r.beforeDestroy()}))}},{key:"triggerCallback",value:function(r){var e="start"==r?this._onStartFns:this._onDoneFns;e.forEach((function(r){return r()})),e.length=0}}]),r}(),ve=n("uFwe");function ge(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ye(r){switch(r.length){case 0:return new fe;case 1:return r[0];default:return new me(r)}}function ke(r,e,n,t){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],b=[],i=-1,o=null;if(t.forEach((function(r){var n=r.offset,t=n==i,p=t&&o||{};Object.keys(r).forEach((function(n){var t=n,b=r[n];if("offset"!==n)switch(t=e.normalizePropertyName(t,s),b){case"!":b=c[n];break;case"*":b=a[n];break;default:b=e.normalizeStyleValue(n,t,b,s)}p[t]=b})),t||b.push(p),o=p,i=n})),s.length){var p="\n - ";throw new Error("Unable to animate due to the following errors:".concat(p).concat(s.join(p)))}return b}function _e(r,e,n,t){switch(e){case"start":r.onStart((function(){return t(n&&we(n,"start",r))}));break;case"done":r.onDone((function(){return t(n&&we(n,"done",r))}));break;case"destroy":r.onDestroy((function(){return t(n&&we(n,"destroy",r))}))}}function we(r,e,n){var t=n.totalTime,c=Se(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,null==t?r.totalTime:t,!!n.disabled),a=r._data;return null!=a&&(c._data=a),c}function Se(r,e,n,t){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:r,triggerName:e,fromState:n,toState:t,phaseName:c,totalTime:a,disabled:!!s}}function ze(r,e,n){var t;return r instanceof Map?(t=r.get(e))||r.set(e,t=n):(t=r[e])||(t=r[e]=n),t}function Ce(r){var e=r.indexOf(":");return[r.substring(1,e),r.substr(e+1)]}var je=function(r,e){return!1},xe=function(r,e){return!1},Te=function(r,e,n){return[]},Ee=ge();(Ee||"undefined"!=typeof Element)&&(je=function(r,e){return r.contains(e)},xe=function(){if(Ee||Element.prototype.matches)return function(r,e){return r.matches(e)};var r=Element.prototype,e=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return e?function(r,n){return e.apply(r,[n])}:xe}(),Te=function(r,e,n){var t=[];if(n)t.push.apply(t,Object(H.a)(r.querySelectorAll(e)));else{var c=r.querySelector(e);c&&t.push(c)}return t});var Pe=null,Ae=!1;function Ie(r){Pe||(Pe=("undefined"!=typeof document?document.body:null)||{},Ae=!!Pe.style&&"WebkitAppearance"in Pe.style);var e=!0;return Pe.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&!(e=r in Pe.style)&&Ae&&(e="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in Pe.style),e}var Re=xe,Me=je,Le=Te;function De(r){var e={};return Object.keys(r).forEach((function(n){var t=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[t]=r[n]})),e}var Fe=function(){var r=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"validateStyleProperty",value:function(r){return Ie(r)}},{key:"matchesElement",value:function(r,e){return Re(r,e)}},{key:"containsElement",value:function(r,e){return Me(r,e)}},{key:"query",value:function(r,e,n){return Le(r,e,n)}},{key:"computeStyle",value:function(r,e,n){return n||""}},{key:"animate",value:function(r,e,n,t,c){return new fe(n,t)}}]),r}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),Ue=function(){var r=function r(){Object(b.a)(this,r)};return r.NOOP=new Fe,r}();function qe(r){if("number"==typeof r)return r;var e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Be(parseFloat(e[1]),e[2])}function Be(r,e){switch(e){case"s":return 1e3*r;default:return r}}function He(r,e,n){return r.hasOwnProperty("duration")?r:function(r,e,n){var t,c=0,a="";if("string"==typeof r){var s=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(r,'" is invalid.')),{duration:0,delay:0,easing:""};t=Be(parseFloat(s[1]),s[2]);var b=s[3];null!=b&&(c=Be(parseFloat(b),s[4]));var i=s[5];i&&(a=i)}else t=r;if(!n){var o=!1,p=e.length;t<0&&(e.push("Duration values below 0 are not allowed for this animation step."),o=!0),c<0&&(e.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&e.splice(p,0,'The provided timing value "'.concat(r,'" is invalid.'))}return{duration:t,delay:c,easing:a}}(r,e,n)}function Ve(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(r).forEach((function(n){e[n]=r[n]})),e}function We(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var t in r)n[t]=r[t];else Ve(r,n);return n}function Ge(r,e,n){return n?e+":"+n+";":""}function Qe(r){for(var e="",n=0;n<r.style.length;n++){var t=r.style.item(n);e+=Ge(0,t,r.style.getPropertyValue(t))}for(var c in r.style)r.style.hasOwnProperty(c)&&!c.startsWith("_")&&(e+=Ge(0,c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r.style[c]));r.setAttribute("style",e)}function Ke(r,e,n){r.style&&(Object.keys(e).forEach((function(t){var c=nn(t);n&&!n.hasOwnProperty(t)&&(n[t]=r.style[c]),r.style[c]=e[t]})),ge()&&Qe(r))}function $e(r,e){r.style&&(Object.keys(e).forEach((function(e){var n=nn(e);r.style[n]=""})),ge()&&Qe(r))}function Je(r){return Array.isArray(r)?1==r.length?r[0]:Ne(r):r}var Ze=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function Ye(r){var e=[];if("string"==typeof r){for(var n;n=Ze.exec(r);)e.push(n[1]);Ze.lastIndex=0}return e}function Xe(r,e,n){var t=r.toString(),c=t.replace(Ze,(function(r,t){var c=e[t];return e.hasOwnProperty(t)||(n.push("Please provide a value for the animation param ".concat(t)),c=""),c.toString()}));return c==t?r:c}function rn(r){for(var e=[],n=r.next();!n.done;)e.push(n.value),n=r.next();return e}var en=/-+([a-z0-9])/g;function nn(r){return r.replace(en,(function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function tn(r,e){return 0===r||0===e}function cn(r,e,n){var t=Object.keys(n);if(t.length&&e.length){var c=e[0],a=[];if(t.forEach((function(r){c.hasOwnProperty(r)||a.push(r),c[r]=n[r]})),a.length)for(var s=function(){var n=e[b];a.forEach((function(e){n[e]=sn(r,e)}))},b=1;b<e.length;b++)s()}return e}function an(r,e,n){switch(e.type){case 7:return r.visitTrigger(e,n);case 0:return r.visitState(e,n);case 1:return r.visitTransition(e,n);case 2:return r.visitSequence(e,n);case 3:return r.visitGroup(e,n);case 4:return r.visitAnimate(e,n);case 5:return r.visitKeyframes(e,n);case 6:return r.visitStyle(e,n);case 8:return r.visitReference(e,n);case 9:return r.visitAnimateChild(e,n);case 10:return r.visitAnimateRef(e,n);case 11:return r.visitQuery(e,n);case 12:return r.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function sn(r,e){return window.getComputedStyle(r)[e]}var bn=new Set(["true","1"]),on=new Set(["false","0"]);function pn(r,e){var n=bn.has(r)||on.has(r),t=bn.has(e)||on.has(e);return function(c,a){var s="*"==r||r==c,b="*"==e||e==a;return!s&&n&&"boolean"==typeof c&&(s=c?bn.has(r):on.has(r)),!b&&t&&"boolean"==typeof a&&(b=a?bn.has(e):on.has(e)),s&&b}}var ln=new RegExp("s*".concat(":self","s*,?"),"g");function un(r,e,n){return new On(r).build(e,n)}var On=function(){function r(e){Object(b.a)(this,r),this._driver=e}return Object(i.a)(r,[{key:"build",value:function(r,e){var n=new Nn(e);return this._resetContextStyleTimingState(n),an(this,Je(r),n)}},{key:"_resetContextStyleTimingState",value:function(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}},{key:"visitTrigger",value:function(r,e){var n=this,t=e.queryCount=0,c=e.depCount=0,a=[],s=[];return"@"==r.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach((function(r){if(n._resetContextStyleTimingState(e),0==r.type){var b=r,i=b.name;i.toString().split(/\s*,\s*/).forEach((function(r){b.name=r,a.push(n.visitState(b,e))})),b.name=i}else if(1==r.type){var o=n.visitTransition(r,e);t+=o.queryCount,c+=o.depCount,s.push(o)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:r.name,states:a,transitions:s,queryCount:t,depCount:c,options:null}}},{key:"visitState",value:function(r,e){var n=this.visitStyle(r.styles,e),t=r.options&&r.options.params||null;if(n.containsDynamicStyles){var c=new Set,a=t||{};if(n.styles.forEach((function(r){if(hn(r)){var e=r;Object.keys(e).forEach((function(r){Ye(e[r]).forEach((function(r){a.hasOwnProperty(r)||c.add(r)}))}))}})),c.size){var s=rn(c.values());e.errors.push('state("'.concat(r.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:r.name,style:n,options:t?{params:t}:null}}},{key:"visitTransition",value:function(r,e){e.queryCount=0,e.depCount=0;var n,t,c,a=an(this,Je(r.animation),e);return{type:1,matchers:(n=r.expr,t=e.errors,c=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(r){return function(r,e,n){if(":"==r[0]){var t=function(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(r,e){return parseFloat(e)>parseFloat(r)};case":decrement":return function(r,e){return parseFloat(e)<parseFloat(r)};default:return e.push('The transition alias value "'.concat(r,'" is not supported')),"* => *"}}(r,n);if("function"==typeof t)return void e.push(t);r=t}var c=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return n.push('The provided transition expression "'.concat(r,'" is not supported')),e;var a=c[1],s=c[2],b=c[3];e.push(pn(a,b)),"<"!=s[0]||"*"==a&&"*"==b||e.push(pn(b,a))}(r,c,t)})):c.push(n),c),animation:a,queryCount:e.queryCount,depCount:e.depCount,options:dn(r.options)}}},{key:"visitSequence",value:function(r,e){var n=this;return{type:2,steps:r.steps.map((function(r){return an(n,r,e)})),options:dn(r.options)}}},{key:"visitGroup",value:function(r,e){var n=this,t=e.currentTime,c=0,a=r.steps.map((function(r){e.currentTime=t;var a=an(n,r,e);return c=Math.max(c,e.currentTime),a}));return e.currentTime=c,{type:3,steps:a,options:dn(r.options)}}},{key:"visitAnimate",value:function(r,e){var n,t=function(r,e){var n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return fn(He(r,e).duration,0,"");var t=r;if(t.split(/\s+/).some((function(r){return"{"==r.charAt(0)&&"{"==r.charAt(1)}))){var c=fn(0,0,"");return c.dynamic=!0,c.strValue=t,c}return fn((n=n||He(t,e)).duration,n.delay,n.easing)}(r.timings,e.errors);e.currentAnimateTimings=t;var c=r.styles?r.styles:he({});if(5==c.type)n=this.visitKeyframes(c,e);else{var a=r.styles,s=!1;if(!a){s=!0;var b={};t.easing&&(b.easing=t.easing),a=he(b)}e.currentTime+=t.duration+t.delay;var i=this.visitStyle(a,e);i.isEmptyStep=s,n=i}return e.currentAnimateTimings=null,{type:4,timings:t,style:n,options:null}}},{key:"visitStyle",value:function(r,e){var n=this._makeStyleAst(r,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(r,e){var n=[];Array.isArray(r.styles)?r.styles.forEach((function(r){"string"==typeof r?"*"==r?n.push(r):e.errors.push("The provided style string value ".concat(r," is not allowed.")):n.push(r)})):n.push(r.styles);var t=!1,c=null;return n.forEach((function(r){if(hn(r)){var e=r,n=e.easing;if(n&&(c=n,delete e.easing),!t)for(var a in e)if(e[a].toString().indexOf("{{")>=0){t=!0;break}}})),{type:6,styles:n,easing:c,offset:r.offset,containsDynamicStyles:t,options:null}}},{key:"_validateStyleAst",value:function(r,e){var n=this,t=e.currentAnimateTimings,c=e.currentTime,a=e.currentTime;t&&a>0&&(a-=t.duration+t.delay),r.styles.forEach((function(r){"string"!=typeof r&&Object.keys(r).forEach((function(t){if(n._driver.validateStyleProperty(t)){var s=e.collectedStyles[e.currentQuerySelector],b=s[t],i=!0;b&&(a!=c&&a>=b.startTime&&c<=b.endTime&&(e.errors.push('The CSS property "'.concat(t,'" that exists between the times of "').concat(b.startTime,'ms" and "').concat(b.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(c,'ms"')),i=!1),a=b.startTime),i&&(s[t]={startTime:a,endTime:c}),e.options&&(o=e.errors,p=e.options.params||{},(l=Ye(r[t])).length&&l.forEach((function(r){p.hasOwnProperty(r)||o.push("Unable to resolve the local animation param ".concat(r," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(t,'" is not a supported CSS property for animations'));var o,p,l}))}))}},{key:"visitKeyframes",value:function(r,e){var n=this,t={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),t;var c=0,a=[],s=!1,b=!1,i=0,o=r.steps.map((function(r){var t=n._makeStyleAst(r,e),o=null!=t.offset?t.offset:function(r){if("string"==typeof r)return null;var e=null;if(Array.isArray(r))r.forEach((function(r){if(hn(r)&&r.hasOwnProperty("offset")){var n=r;e=parseFloat(n.offset),delete n.offset}}));else if(hn(r)&&r.hasOwnProperty("offset")){var n=r;e=parseFloat(n.offset),delete n.offset}return e}(t.styles),p=0;return null!=o&&(c++,p=t.offset=o),b=b||p<0||p>1,s=s||p<i,i=p,a.push(p),t}));b&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var p=r.steps.length,l=0;c>0&&c<p?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(l=1/(p-1));var u=p-1,O=e.currentTime,N=e.currentAnimateTimings,h=N.duration;return o.forEach((function(r,c){var s=l>0?c==u?1:l*c:a[c],b=s*h;e.currentTime=O+N.delay+b,N.duration=b,n._validateStyleAst(r,e),r.offset=s,t.styles.push(r)})),t}},{key:"visitReference",value:function(r,e){return{type:8,animation:an(this,Je(r.animation),e),options:dn(r.options)}}},{key:"visitAnimateChild",value:function(r,e){return e.depCount++,{type:9,options:dn(r.options)}}},{key:"visitAnimateRef",value:function(r,e){return{type:10,animation:this.visitReference(r.animation,e),options:dn(r.options)}}},{key:"visitQuery",value:function(r,e){var n=e.currentQuerySelector,t=r.options||{};e.queryCount++,e.currentQuery=r;var c=function(r){var e=!!r.split(/\s*,\s*/).find((function(r){return":self"==r}));return e&&(r=r.replace(ln,"")),[r=r.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(r){return".ng-trigger-"+r.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(r.selector),a=Object(B.a)(c,2),s=a[0],b=a[1];e.currentQuerySelector=n.length?n+" "+s:s,ze(e.collectedStyles,e.currentQuerySelector,{});var i=an(this,Je(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:t.limit||0,optional:!!t.optional,includeSelf:b,animation:i,originalSelector:r.selector,options:dn(r.options)}}},{key:"visitStagger",value:function(r,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===r.timings?{duration:0,delay:0,easing:"full"}:He(r.timings,e.errors,!0);return{type:12,animation:an(this,Je(r.animation),e),timings:n,options:null}}}]),r}(),Nn=function r(e){Object(b.a)(this,r),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function hn(r){return!Array.isArray(r)&&"object"==typeof r}function dn(r){var e;return r?(r=Ve(r)).params&&(r.params=(e=r.params)?Ve(e):null):r={},r}function fn(r,e,n){return{duration:r,delay:e,easing:n}}function mn(r,e,n,t,c,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,b=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:r,keyframes:e,preStyleProps:n,postStyleProps:t,duration:c,delay:a,totalTime:c+a,easing:s,subTimeline:b}}var vn=function(){function r(){Object(b.a)(this,r),this._map=new Map}return Object(i.a)(r,[{key:"consume",value:function(r){var e=this._map.get(r);return e?this._map.delete(r):e=[],e}},{key:"append",value:function(r,e){var n,t=this._map.get(r);t||this._map.set(r,t=[]),(n=t).push.apply(n,Object(H.a)(e))}},{key:"has",value:function(r){return this._map.has(r)}},{key:"clear",value:function(){this._map.clear()}}]),r}(),gn=new RegExp(":enter","g"),yn=new RegExp(":leave","g");function kn(r,e,n,t,c){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},b=arguments.length>7?arguments[7]:void 0,i=arguments.length>8?arguments[8]:void 0,o=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new _n).buildKeyframes(r,e,n,t,c,a,s,b,i,o)}var _n=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"buildKeyframes",value:function(r,e,n,t,c,a,s,b,i){var o=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];i=i||new vn;var p=new Sn(r,e,i,t,c,o,[]);p.options=b,p.currentTimeline.setStyles([a],null,p.errors,b),an(this,n,p);var l=p.timelines.filter((function(r){return r.containsAnimation()}));if(l.length&&Object.keys(s).length){var u=l[l.length-1];u.allowOnlyTimelineStyles()||u.setStyles([s],null,p.errors,b)}return l.length?l.map((function(r){return r.buildKeyframes()})):[mn(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(r,e){}},{key:"visitState",value:function(r,e){}},{key:"visitTransition",value:function(r,e){}},{key:"visitAnimateChild",value:function(r,e){var n=e.subInstructions.consume(e.element);if(n){var t=e.createSubContext(r.options),c=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,t,t.options);c!=a&&e.transformIntoNewTimeline(a)}e.previousNode=r}},{key:"visitAnimateRef",value:function(r,e){var n=e.createSubContext(r.options);n.transformIntoNewTimeline(),this.visitReference(r.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=r}},{key:"_visitSubInstructions",value:function(r,e,n){var t=e.currentTimeline.currentTime,c=null!=n.duration?qe(n.duration):null,a=null!=n.delay?qe(n.delay):null;return 0!==c&&r.forEach((function(r){var n=e.appendInstructionToTimeline(r,c,a);t=Math.max(t,n.duration+n.delay)})),t}},{key:"visitReference",value:function(r,e){e.updateOptions(r.options,!0),an(this,r.animation,e),e.previousNode=r}},{key:"visitSequence",value:function(r,e){var n=this,t=e.subContextCount,c=e,a=r.options;if(a&&(a.params||a.delay)&&((c=e.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=wn);var s=qe(a.delay);c.delayNextStep(s)}r.steps.length&&(r.steps.forEach((function(r){return an(n,r,c)})),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>t&&c.transformIntoNewTimeline()),e.previousNode=r}},{key:"visitGroup",value:function(r,e){var n=this,t=[],c=e.currentTimeline.currentTime,a=r.options&&r.options.delay?qe(r.options.delay):0;r.steps.forEach((function(s){var b=e.createSubContext(r.options);a&&b.delayNextStep(a),an(n,s,b),c=Math.max(c,b.currentTimeline.currentTime),t.push(b.currentTimeline)})),t.forEach((function(r){return e.currentTimeline.mergeTimelineCollectedStyles(r)})),e.transformIntoNewTimeline(c),e.previousNode=r}},{key:"_visitTiming",value:function(r,e){if(r.dynamic){var n=r.strValue;return He(e.params?Xe(n,e.params,e.errors):n,e.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}},{key:"visitAnimate",value:function(r,e){var n=e.currentAnimateTimings=this._visitTiming(r.timings,e),t=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),t.snapshotCurrentStyles());var c=r.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(n.duration),this.visitStyle(c,e),t.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}},{key:"visitStyle",value:function(r,e){var n=e.currentTimeline,t=e.currentAnimateTimings;!t&&n.getCurrentStyleProperties().length&&n.forwardFrame();var c=t&&t.easing||r.easing;r.isEmptyStep?n.applyEmptyStep(c):n.setStyles(r.styles,c,e.errors,e.options),e.previousNode=r}},{key:"visitKeyframes",value:function(r,e){var n=e.currentAnimateTimings,t=e.currentTimeline.duration,c=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,r.styles.forEach((function(r){a.forwardTime((r.offset||0)*c),a.setStyles(r.styles,r.easing,e.errors,e.options),a.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(t+c),e.previousNode=r}},{key:"visitQuery",value:function(r,e){var n=this,t=e.currentTimeline.currentTime,c=r.options||{},a=c.delay?qe(c.delay):0;a&&(6===e.previousNode.type||0==t&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=wn);var s=t,b=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!c.optional,e.errors);e.currentQueryTotal=b.length;var i=null;b.forEach((function(t,c){e.currentQueryIndex=c;var b=e.createSubContext(r.options,t);a&&b.delayNextStep(a),t===e.element&&(i=b.currentTimeline),an(n,r.animation,b),b.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,b.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),i&&(e.currentTimeline.mergeTimelineCollectedStyles(i),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}},{key:"visitStagger",value:function(r,e){var n=e.parentContext,t=e.currentTimeline,c=r.timings,a=Math.abs(c.duration),s=a*(e.currentQueryTotal-1),b=a*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":b=s-b;break;case"full":b=n.currentStaggerTime}var i=e.currentTimeline;b&&i.delayNextStep(b);var o=i.currentTime;an(this,r.animation,e),e.previousNode=r,n.currentStaggerTime=t.currentTime-o+(t.startTime-n.currentTimeline.startTime)}}]),r}(),wn={},Sn=function(){function r(e,n,t,c,a,s,i,o){Object(b.a)(this,r),this._driver=e,this.element=n,this.subInstructions=t,this._enterClassName=c,this._leaveClassName=a,this.errors=s,this.timelines=i,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new zn(this._driver,n,0),i.push(this.currentTimeline)}return Object(i.a)(r,[{key:"updateOptions",value:function(r,e){var n=this;if(r){var t=r,c=this.options;null!=t.duration&&(c.duration=qe(t.duration)),null!=t.delay&&(c.delay=qe(t.delay));var a=t.params;if(a){var s=c.params;s||(s=this.options.params={}),Object.keys(a).forEach((function(r){e&&s.hasOwnProperty(r)||(s[r]=Xe(a[r],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var r={};if(this.options){var e=this.options.params;if(e){var n=r.params={};Object.keys(e).forEach((function(r){n[r]=e[r]}))}}return r}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,c=n||this.element,a=new r(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,t||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(r){return this.previousNode=wn,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(r,e,n){var t={duration:null!=e?e:r.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+r.delay,easing:""},c=new Cn(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,t,r.stretchStartingKeyframe);return this.timelines.push(c),t}},{key:"incrementTime",value:function(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}},{key:"delayNextStep",value:function(r){r>0&&this.currentTimeline.delayNextStep(r)}},{key:"invokeQuery",value:function(r,e,n,t,c,a){var s=[];if(t&&s.push(this.element),r.length>0){r=(r=r.replace(gn,"."+this._enterClassName)).replace(yn,"."+this._leaveClassName);var b=this._driver.query(this.element,r,1!=n);0!==n&&(b=n<0?b.slice(b.length+n,b.length):b.slice(0,n)),s.push.apply(s,Object(H.a)(b))}return c||0!=s.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),r}(),zn=function(){function r(e,n,t,c){Object(b.a)(this,r),this._driver=e,this.element=n,this.startTime=t,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return Object(i.a)(r,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(r){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new r(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}},{key:"_updateStyle",value:function(r,e){this._localTimelineStyles[r]=e,this._globalTimelineStyles[r]=e,this._styleSummary[r]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(r){var e=this;r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach((function(r){e._backFill[r]=e._globalTimelineStyles[r]||"*",e._currentKeyframe[r]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(r,e,n,t){var c=this;e&&(this._previousKeyframe.easing=e);var a=t&&t.params||{},s=function(r,e){var n,t={};return r.forEach((function(r){"*"===r?(n=n||Object.keys(e)).forEach((function(r){t[r]="*"})):We(r,!1,t)})),t}(r,this._globalTimelineStyles);Object.keys(s).forEach((function(r){var e=Xe(s[r],a,n);c._pendingStyles[r]=e,c._localTimelineStyles.hasOwnProperty(r)||(c._backFill[r]=c._globalTimelineStyles.hasOwnProperty(r)?c._globalTimelineStyles[r]:"*"),c._updateStyle(r,e)}))}},{key:"applyStylesToKeyframe",value:function(){var r=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){r._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){r._currentKeyframe.hasOwnProperty(e)||(r._currentKeyframe[e]=r._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var r=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=r._localTimelineStyles[e];r._pendingStyles[e]=n,r._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(r){var e=this;Object.keys(r._styleSummary).forEach((function(n){var t=e._styleSummary[n],c=r._styleSummary[n];(!t||c.time>t.time)&&e._updateStyle(n,c.value)}))}},{key:"buildKeyframes",value:function(){var r=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,t=1===this._keyframes.size&&0===this.duration,c=[];this._keyframes.forEach((function(a,s){var b=We(a,!0);Object.keys(b).forEach((function(r){var t=b[r];"!"==t?e.add(r):"*"==t&&n.add(r)})),t||(b.offset=s/r.duration),c.push(b)}));var a=e.size?rn(e.values()):[],s=n.size?rn(n.values()):[];if(t){var b=c[0],i=Ve(b);b.offset=0,i.offset=1,c=[b,i]}return mn(this.element,c,a,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var r=[];for(var e in this._currentKeyframe)r.push(e);return r}}]),r}(),Cn=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c,a,s,i){var o,p=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return Object(b.a)(this,n),(o=e.call(this,r,t,i.delay)).element=t,o.keyframes=c,o.preStyleProps=a,o.postStyleProps=s,o._stretchStartingKeyframe=p,o.timings={duration:i.duration,delay:i.delay,easing:i.easing},o}return Object(i.a)(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var r=this.keyframes,e=this.timings,n=e.delay,t=e.duration,c=e.easing;if(this._stretchStartingKeyframe&&n){var a=[],s=t+n,b=n/s,i=We(r[0],!1);i.offset=0,a.push(i);var o=We(r[0],!1);o.offset=jn(b),a.push(o);for(var p=r.length-1,l=1;l<=p;l++){var u=We(r[l],!1);u.offset=jn((n+u.offset*t)/s),a.push(u)}t=s,n=0,c="",r=a}return mn(this.element,r,this.preStyleProps,this.postStyleProps,t,n,c,!0)}}]),n}(zn);function jn(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(r*n)/n}var xn=function r(){Object(b.a)(this,r)},Tn=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"normalizePropertyName",value:function(r,e){return nn(r)}},{key:"normalizeStyleValue",value:function(r,e,n,t){var c="",a=n.toString().trim();if(En[e]&&0!==n&&"0"!==n)if("number"==typeof n)c="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&t.push("Please provide a CSS unit value for ".concat(r,":").concat(n))}return a+c}}]),n}(xn),En=function(){return r="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),e={},r.forEach((function(r){return e[r]=!0})),e;var r,e}();function Pn(r,e,n,t,c,a,s,b,i,o,p,l,u){return{type:0,element:r,triggerName:e,isRemovalTransition:c,fromState:n,fromStyles:a,toState:t,toStyles:s,timelines:b,queriedElements:i,preStyleProps:o,postStyleProps:p,totalTime:l,errors:u}}var An={},In=function(){function r(e,n,t){Object(b.a)(this,r),this._triggerName=e,this.ast=n,this._stateStyles=t}return Object(i.a)(r,[{key:"match",value:function(r,e,n,t){return function(r,e,n,t,c){return r.some((function(r){return r(e,n,t,c)}))}(this.ast.matchers,r,e,n,t)}},{key:"buildStyles",value:function(r,e,n){var t=this._stateStyles["*"],c=this._stateStyles[r],a=t?t.buildStyles(e,n):{};return c?c.buildStyles(e,n):a}},{key:"build",value:function(r,e,n,t,c,a,s,b,i,o){var p=[],l=this.ast.options&&this.ast.options.params||An,u=this.buildStyles(n,s&&s.params||An,p),O=b&&b.params||An,N=this.buildStyles(t,O,p),h=new Set,d=new Map,f=new Map,m="void"===t,v={params:Object.assign(Object.assign({},l),O)},g=o?[]:kn(r,e,this.ast.animation,c,a,u,N,v,i,p),y=0;if(g.forEach((function(r){y=Math.max(r.duration+r.delay,y)})),p.length)return Pn(e,this._triggerName,n,t,m,u,N,[],[],d,f,y,p);g.forEach((function(r){var n=r.element,t=ze(d,n,{});r.preStyleProps.forEach((function(r){return t[r]=!0}));var c=ze(f,n,{});r.postStyleProps.forEach((function(r){return c[r]=!0})),n!==e&&h.add(n)}));var k=rn(h.values());return Pn(e,this._triggerName,n,t,m,u,N,g,k,d,f,y)}}]),r}(),Rn=function(){function r(e,n){Object(b.a)(this,r),this.styles=e,this.defaultParams=n}return Object(i.a)(r,[{key:"buildStyles",value:function(r,e){var n={},t=Ve(this.defaultParams);return Object.keys(r).forEach((function(e){var n=r[e];null!=n&&(t[e]=n)})),this.styles.styles.forEach((function(r){if("string"!=typeof r){var c=r;Object.keys(c).forEach((function(r){var a=c[r];a.length>1&&(a=Xe(a,t,e)),n[r]=a}))}})),n}}]),r}(),Mn=function(){function r(e,n){var t=this;Object(b.a)(this,r),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(r){t.states[r.name]=new Rn(r.style,r.options&&r.options.params||{})})),Ln(this.states,"true","1"),Ln(this.states,"false","0"),n.transitions.forEach((function(r){t.transitionFactories.push(new In(e,r,t.states))})),this.fallbackTransition=new In(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(r,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object(i.a)(r,[{key:"matchTransition",value:function(r,e,n,t){return this.transitionFactories.find((function(c){return c.match(r,e,n,t)}))||null}},{key:"matchStyles",value:function(r,e,n){return this.fallbackTransition.buildStyles(r,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),r}();function Ln(r,e,n){r.hasOwnProperty(e)?r.hasOwnProperty(n)||(r[n]=r[e]):r.hasOwnProperty(n)&&(r[e]=r[n])}var Dn=new vn,Fn=function(){function r(e,n,t){Object(b.a)(this,r),this.bodyNode=e,this._driver=n,this._normalizer=t,this._animations={},this._playersById={},this.players=[]}return Object(i.a)(r,[{key:"register",value:function(r,e){var n=[],t=un(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[r]=t}},{key:"_buildPlayer",value:function(r,e,n){var t=r.element,c=ke(this._driver,this._normalizer,t,r.keyframes,e,n);return this._driver.animate(t,c,r.duration,r.delay,r.easing,[],!0)}},{key:"create",value:function(r,e){var n,t=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],s=this._animations[r],b=new Map;if(s?(n=kn(this._driver,e,s,"ng-enter","ng-leave",{},{},c,Dn,a)).forEach((function(r){var e=ze(b,r.element,{});r.postStyleProps.forEach((function(r){return e[r]=null}))})):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));b.forEach((function(r,e){Object.keys(r).forEach((function(n){r[n]=t._driver.computeStyle(e,n,"*")}))}));var i=n.map((function(r){var e=b.get(r.element);return t._buildPlayer(r,{},e)})),o=ye(i);return this._playersById[r]=o,o.onDestroy((function(){return t.destroy(r)})),this.players.push(o),o}},{key:"destroy",value:function(r){var e=this._getPlayer(r);e.destroy(),delete this._playersById[r];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(r){var e=this._playersById[r];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(r));return e}},{key:"listen",value:function(r,e,n,t){var c=Se(e,"","","");return _e(this._getPlayer(r),n,c,t),function(){}}},{key:"command",value:function(r,e,n,t){if("register"!=n)if("create"!=n){var c=this._getPlayer(r);switch(n){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(t[0]));break;case"destroy":this.destroy(r)}}else this.create(r,e,t[0]||{});else this.register(r,t[0])}}]),r}(),Un=[],qn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hn=function(){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(b.a)(this,r),this.namespaceId=n;var t=e&&e.hasOwnProperty("value"),c=t?e.value:e;if(this.value=Kn(c),t){var a=Ve(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return Object(i.a)(r,[{key:"absorbOptions",value:function(r){var e=r.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(r){null==n[r]&&(n[r]=e[r])}))}}},{key:"params",get:function(){return this.options.params}}]),r}(),Vn=new Hn("void"),Wn=function(){function r(e,n,t){Object(b.a)(this,r),this.id=e,this.hostElement=n,this._engine=t,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xn(n,this._hostClassName)}return Object(i.a)(r,[{key:"listen",value:function(r,e,n,t){var c,a=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(c=n)&&"done"!=c)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=ze(this._elementListeners,r,[]),b={name:e,phase:n,callback:t};s.push(b);var i=ze(this._engine.statesByElement,r,{});return i.hasOwnProperty(e)||(Xn(r,"ng-trigger"),Xn(r,"ng-trigger-"+e),i[e]=Vn),function(){a._engine.afterFlush((function(){var r=s.indexOf(b);r>=0&&s.splice(r,1),a._triggers[e]||delete i[e]}))}}},{key:"register",value:function(r,e){return!this._triggers[r]&&(this._triggers[r]=e,!0)}},{key:"_getTrigger",value:function(r){var e=this._triggers[r];if(!e)throw new Error('The provided animation trigger "'.concat(r,'" has not been registered!'));return e}},{key:"trigger",value:function(r,e,n){var t=this,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(e),s=new Qn(this.id,e,r),b=this._engine.statesByElement.get(r);b||(Xn(r,"ng-trigger"),Xn(r,"ng-trigger-"+e),this._engine.statesByElement.set(r,b={}));var i=b[e],o=new Hn(n,this.id),p=n&&n.hasOwnProperty("value");!p&&i&&o.absorbOptions(i.options),b[e]=o,i||(i=Vn);var l="void"===o.value;if(l||i.value!==o.value){var u=ze(this._engine.playersByElement,r,[]);u.forEach((function(r){r.namespaceId==t.id&&r.triggerName==e&&r.queued&&r.destroy()}));var O=a.matchTransition(i.value,o.value,r,o.params),N=!1;if(!O){if(!c)return;O=a.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:O,fromState:i,toState:o,player:s,isFallbackTransition:N}),N||(Xn(r,"ng-animate-queued"),s.onStart((function(){rt(r,"ng-animate-queued")}))),s.onDone((function(){var e=t.players.indexOf(s);e>=0&&t.players.splice(e,1);var n=t._engine.playersByElement.get(r);if(n){var c=n.indexOf(s);c>=0&&n.splice(c,1)}})),this.players.push(s),u.push(s),s}if(!nt(i.params,o.params)){var h=[],d=a.matchStyles(i.value,i.params,h),f=a.matchStyles(o.value,o.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush((function(){$e(r,d),Ke(r,f)}))}}},{key:"deregister",value:function(r){var e=this;delete this._triggers[r],this._engine.statesByElement.forEach((function(e,n){delete e[r]})),this._elementListeners.forEach((function(n,t){e._elementListeners.set(t,n.filter((function(e){return e.name!=r})))}))}},{key:"clearElementCache",value:function(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);var e=this._engine.playersByElement.get(r);e&&(e.forEach((function(r){return r.destroy()})),this._engine.playersByElement.delete(r))}},{key:"_signalRemovalForInnerTriggers",value:function(r,e){var n=this,t=this._engine.driver.query(r,".ng-trigger",!0);t.forEach((function(r){if(!r.__ng_removed){var t=n._engine.fetchNamespacesByElement(r);t.size?t.forEach((function(n){return n.triggerLeaveAnimation(r,e,!1,!0)})):n.clearElementCache(r)}})),this._engine.afterFlushAnimationsDone((function(){return t.forEach((function(r){return n.clearElementCache(r)}))}))}},{key:"triggerLeaveAnimation",value:function(r,e,n,t){var c=this,a=this._engine.statesByElement.get(r);if(a){var s=[];if(Object.keys(a).forEach((function(e){if(c._triggers[e]){var n=c.trigger(r,e,"void",t);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,r,!0,e),n&&ye(s).onDone((function(){return c._engine.processLeaveNode(r)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(r){var e=this,n=this._elementListeners.get(r);if(n){var t=new Set;n.forEach((function(n){var c=n.name;if(!t.has(c)){t.add(c);var a=e._triggers[c].fallbackTransition,s=e._engine.statesByElement.get(r)[c]||Vn,b=new Hn("void"),i=new Qn(e.id,c,r);e._engine.totalQueuedPlayers++,e._queue.push({element:r,triggerName:c,transition:a,fromState:s,toState:b,player:i,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(r,e){var n=this,t=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),!this.triggerLeaveAnimation(r,e,!0)){var c=!1;if(t.totalAnimations){var a=t.players.length?t.playersByQueriedElement.get(r):[];if(a&&a.length)c=!0;else for(var s=r;s=s.parentNode;)if(t.statesByElement.get(s)){c=!0;break}}if(this.prepareLeaveAnimationListeners(r),c)t.markElementAsRemoved(this.id,r,!1,e);else{var b=r.__ng_removed;b&&b!==qn||(t.afterFlush((function(){return n.clearElementCache(r)})),t.destroyInnerAnimations(r),t._onRemovalComplete(r,e))}}}},{key:"insertNode",value:function(r,e){Xn(r,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(r){var e=this,n=[];return this._queue.forEach((function(t){var c=t.player;if(!c.destroyed){var a=t.element,s=e._elementListeners.get(a);s&&s.forEach((function(e){if(e.name==t.triggerName){var n=Se(a,t.triggerName,t.fromState.value,t.toState.value);n._data=r,_e(t.player,e.phase,n,e.callback)}})),c.markedForDestroy?e._engine.afterFlush((function(){c.destroy()})):n.push(t)}})),this._queue=[],n.sort((function(r,n){var t=r.transition.ast.depCount,c=n.transition.ast.depCount;return 0==t||0==c?t-c:e._engine.driver.containsElement(r.element,n.element)?1:-1}))}},{key:"destroy",value:function(r){this.players.forEach((function(r){return r.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,r)}},{key:"elementContainsData",value:function(r){var e=!1;return this._elementListeners.has(r)&&(e=!0),!!this._queue.find((function(e){return e.element===r}))||e}}]),r}(),Gn=function(){function r(e,n,t){Object(b.a)(this,r),this.bodyNode=e,this.driver=n,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(r,e){}}return Object(i.a)(r,[{key:"_onRemovalComplete",value:function(r,e){this.onRemovalComplete(r,e)}},{key:"createNamespace",value:function(r,e){var n=new Wn(r,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[r]=n}},{key:"_balanceNamespaceList",value:function(r,e){var n=this._namespaceList.length-1;if(n>=0){for(var t=!1,c=n;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,r),t=!0;break}t||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(e,r),r}},{key:"register",value:function(r,e){var n=this._namespaceLookup[r];return n||(n=this.createNamespace(r,e)),n}},{key:"registerTrigger",value:function(r,e,n){var t=this._namespaceLookup[r];t&&t.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(r,e){var n=this;if(r){var t=this._fetchNamespace(r);this.afterFlush((function(){n.namespacesByHostElement.delete(t.hostElement),delete n._namespaceLookup[r];var e=n._namespaceList.indexOf(t);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return t.destroy(e)}))}}},{key:"_fetchNamespace",value:function(r){return this._namespaceLookup[r]}},{key:"fetchNamespacesByElement",value:function(r){var e=new Set,n=this.statesByElement.get(r);if(n)for(var t=Object.keys(n),c=0;c<t.length;c++){var a=n[t[c]].namespaceId;if(a){var s=this._fetchNamespace(a);s&&e.add(s)}}return e}},{key:"trigger",value:function(r,e,n,t){if($n(e)){var c=this._fetchNamespace(r);if(c)return c.trigger(e,n,t),!0}return!1}},{key:"insertNode",value:function(r,e,n,t){if($n(e)){var c=e.__ng_removed;if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;var a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(r){var s=this._fetchNamespace(r);s&&s.insertNode(e,n)}t&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(r){this.collectedEnterElements.push(r)}},{key:"markElementAsDisabled",value:function(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Xn(r,"ng-animate-disabled")):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),rt(r,"ng-animate-disabled"))}},{key:"removeNode",value:function(r,e,n,t){if($n(e)){var c=r?this._fetchNamespace(r):null;if(c?c.removeNode(e,t):this.markElementAsRemoved(r,e,!1,t),n){var a=this.namespacesByHostElement.get(e);a&&a.id!==r&&a.removeNode(e,t)}}else this._onRemovalComplete(e,t)}},{key:"markElementAsRemoved",value:function(r,e,n,t){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:r,setForRemoval:t,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(r,e,n,t,c){return $n(e)?this._fetchNamespace(r).listen(e,n,t,c):function(){}}},{key:"_buildInstruction",value:function(r,e,n,t,c){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,n,t,r.fromState.options,r.toState.options,e,c)}},{key:"destroyInnerAnimations",value:function(r){var e=this,n=this.driver.query(r,".ng-trigger",!0);n.forEach((function(r){return e.destroyActiveAnimationsForElement(r)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(r,".ng-animating",!0)).forEach((function(r){return e.finishActiveQueriedAnimationOnElement(r)}))}},{key:"destroyActiveAnimationsForElement",value:function(r){var e=this.playersByElement.get(r);e&&e.forEach((function(r){r.queued?r.markedForDestroy=!0:r.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(r){var e=this.playersByQueriedElement.get(r);e&&e.forEach((function(r){return r.finish()}))}},{key:"whenRenderingDone",value:function(){var r=this;return new Promise((function(e){if(r.players.length)return ye(r.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(r){var e=this,n=r.__ng_removed;if(n&&n.setForRemoval){if(r.__ng_removed=qn,n.namespaceId){this.destroyInnerAnimations(r);var t=this._fetchNamespace(n.namespaceId);t&&t.clearElementCache(r)}this._onRemovalComplete(r,n.setForRemoval)}this.driver.matchesElement(r,".ng-animate-disabled")&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach((function(r){e.markElementAsDisabled(r,!1)}))}},{key:"flush",value:function(){var r=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return r._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var t=0;t<this.collectedEnterElements.length;t++){var c=this.collectedEnterElements[t];Xn(c,"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var a=[];try{n=this._flushAnimations(a,e)}finally{for(var s=0;s<a.length;s++)a[s]()}}else for(var b=0;b<this.collectedLeaveElements.length;b++){var i=this.collectedLeaveElements[b];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(r){return r()})),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?ye(n).onDone((function(){o.forEach((function(r){return r()}))})):o.forEach((function(r){return r()}))}}},{key:"reportError",value:function(r){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(r.join("\n")))}},{key:"_flushAnimations",value:function(r,e){var n=this,t=new vn,c=[],a=new Map,s=[],b=new Map,i=new Map,o=new Map,p=new Set;this.disabledNodes.forEach((function(r){p.add(r);for(var e=n.driver.query(r,".ng-animate-queued",!0),t=0;t<e.length;t++)p.add(e[t])}));var l=this.bodyNode,u=Array.from(this.statesByElement.keys()),O=Yn(u,this.collectedEnterElements),N=new Map,h=0;O.forEach((function(r,e){var n="ng-enter"+h++;N.set(e,n),r.forEach((function(r){return Xn(r,n)}))}));for(var d=[],f=new Set,m=new Set,v=0;v<this.collectedLeaveElements.length;v++){var g=this.collectedLeaveElements[v],y=g.__ng_removed;y&&y.setForRemoval&&(d.push(g),f.add(g),y.hasAnimation?this.driver.query(g,".ng-star-inserted",!0).forEach((function(r){return f.add(r)})):m.add(g))}var k=new Map,_=Yn(u,Array.from(f));_.forEach((function(r,e){var n="ng-leave"+h++;k.set(e,n),r.forEach((function(r){return Xn(r,n)}))})),r.push((function(){O.forEach((function(r,e){var n=N.get(e);r.forEach((function(r){return rt(r,n)}))})),_.forEach((function(r,e){var n=k.get(e);r.forEach((function(r){return rt(r,n)}))})),d.forEach((function(r){n.processLeaveNode(r)}))}));for(var w=[],S=[],z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(e).forEach((function(r){var e=r.player,a=r.element;if(w.push(e),n.collectedEnterElements.length){var p=a.__ng_removed;if(p&&p.setForMove)return void e.destroy()}var u=!l||!n.driver.containsElement(l,a),O=k.get(a),h=N.get(a),d=n._buildInstruction(r,t,h,O,u);if(d.errors&&d.errors.length)S.push(d);else{if(u)return e.onStart((function(){return $e(a,d.fromStyles)})),e.onDestroy((function(){return Ke(a,d.toStyles)})),void c.push(e);if(r.isFallbackTransition)return e.onStart((function(){return $e(a,d.fromStyles)})),e.onDestroy((function(){return Ke(a,d.toStyles)})),void c.push(e);d.timelines.forEach((function(r){return r.stretchStartingKeyframe=!0})),t.append(a,d.timelines),s.push({instruction:d,player:e,element:a}),d.queriedElements.forEach((function(r){return ze(b,r,[]).push(e)})),d.preStyleProps.forEach((function(r,e){var n=Object.keys(r);if(n.length){var t=i.get(e);t||i.set(e,t=new Set),n.forEach((function(r){return t.add(r)}))}})),d.postStyleProps.forEach((function(r,e){var n=Object.keys(r),t=o.get(e);t||o.set(e,t=new Set),n.forEach((function(r){return t.add(r)}))}))}}));if(S.length){var C=[];S.forEach((function(r){C.push("@".concat(r.triggerName," has failed due to:\n")),r.errors.forEach((function(r){return C.push("- ".concat(r,"\n"))}))})),w.forEach((function(r){return r.destroy()})),this.reportError(C)}var j=new Map,x=new Map;s.forEach((function(r){var e=r.element;t.has(e)&&(x.set(e,e),n._beforeAnimationBuild(r.player.namespaceId,r.instruction,j))})),c.forEach((function(r){var e=r.element;n._getPreviousPlayers(e,!1,r.namespaceId,r.triggerName,null).forEach((function(r){ze(j,e,[]).push(r),r.destroy()}))}));var T=d.filter((function(r){return tt(r,i,o)})),E=new Map;Zn(E,this.driver,m,o,"*").forEach((function(r){tt(r,i,o)&&T.push(r)}));var P=new Map;O.forEach((function(r,e){Zn(P,n.driver,new Set(r),i,"!")})),T.forEach((function(r){var e=E.get(r),n=P.get(r);E.set(r,Object.assign(Object.assign({},e),n))}));var A=[],I=[],R={};s.forEach((function(r){var e=r.element,s=r.player,b=r.instruction;if(t.has(e)){if(p.has(e))return s.onDestroy((function(){return Ke(e,b.toStyles)})),s.disabled=!0,s.overrideTotalTime(b.totalTime),void c.push(s);var i=R;if(x.size>1){for(var o=e,l=[];o=o.parentNode;){var u=x.get(o);if(u){i=u;break}l.push(o)}l.forEach((function(r){return x.set(r,i)}))}var O=n._buildAnimation(s.namespaceId,b,j,a,P,E);if(s.setRealPlayer(O),i===R)A.push(s);else{var N=n.playersByElement.get(i);N&&N.length&&(s.parentPlayer=ye(N)),c.push(s)}}else $e(e,b.fromStyles),s.onDestroy((function(){return Ke(e,b.toStyles)})),I.push(s),p.has(e)&&c.push(s)})),I.forEach((function(r){var e=a.get(r.element);if(e&&e.length){var n=ye(e);r.setRealPlayer(n)}})),c.forEach((function(r){r.parentPlayer?r.syncPlayerEvents(r.parentPlayer):r.destroy()}));for(var M=0;M<d.length;M++){var L=d[M],D=L.__ng_removed;if(rt(L,"ng-leave"),!D||!D.hasAnimation){var F=[];if(b.size){var U=b.get(L);U&&U.length&&F.push.apply(F,Object(H.a)(U));for(var q=this.driver.query(L,".ng-animating",!0),B=0;B<q.length;B++){var V=b.get(q[B]);V&&V.length&&F.push.apply(F,Object(H.a)(V))}}var W=F.filter((function(r){return!r.destroyed}));W.length?et(this,L,W):this.processLeaveNode(L)}}return d.length=0,A.forEach((function(r){n.players.push(r),r.onDone((function(){r.destroy();var e=n.players.indexOf(r);n.players.splice(e,1)})),r.play()})),A}},{key:"elementContainsData",value:function(r,e){var n=!1,t=e.__ng_removed;return t&&t.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(r).elementContainsData(e)||n}},{key:"afterFlush",value:function(r){this._flushFns.push(r)}},{key:"afterFlushAnimationsDone",value:function(r){this._whenQuietFns.push(r)}},{key:"_getPreviousPlayers",value:function(r,e,n,t,c){var a=[];if(e){var s=this.playersByQueriedElement.get(r);s&&(a=s)}else{var b=this.playersByElement.get(r);if(b){var i=!c||"void"==c;b.forEach((function(r){r.queued||(i||r.triggerName==t)&&a.push(r)}))}}return(n||t)&&(a=a.filter((function(r){return!(n&&n!=r.namespaceId||t&&t!=r.triggerName)}))),a}},{key:"_beforeAnimationBuild",value:function(r,e,n){var t,c=this,a=e.element,s=e.isRemovalTransition?void 0:r,b=e.isRemovalTransition?void 0:e.triggerName,i=Object(ve.a)(e.timelines);try{var o=function(){var r=t.value.element,i=r!==a,o=ze(n,r,[]);c._getPreviousPlayers(r,i,s,b,e.toState).forEach((function(r){var e=r.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),r.destroy(),o.push(r)}))};for(i.s();!(t=i.n()).done;)o()}catch(p){i.e(p)}finally{i.f()}$e(a,e.fromStyles)}},{key:"_buildAnimation",value:function(r,e,n,t,c,a){var s=this,b=e.triggerName,i=e.element,o=[],p=new Set,l=new Set,u=e.timelines.map((function(e){var u=e.element;p.add(u);var O=u.__ng_removed;if(O&&O.removedBeforeQueried)return new fe(e.duration,e.delay);var N,h,d=u!==i,f=(N=(n.get(u)||Un).map((function(r){return r.getRealPlayer()})),h=[],function r(e,n){for(var t=0;t<e.length;t++){var c=e[t];c instanceof me?r(c.players,n):n.push(c)}}(N,h),h).filter((function(r){return!!r.element&&r.element===u})),m=c.get(u),v=a.get(u),g=ke(s.driver,s._normalizer,u,e.keyframes,m,v),y=s._buildPlayer(e,g,f);if(e.subTimeline&&t&&l.add(u),d){var k=new Qn(r,b,u);k.setRealPlayer(y),o.push(k)}return y}));o.forEach((function(r){ze(s.playersByQueriedElement,r.element,[]).push(r),r.onDone((function(){return function(r,e,n){var t;if(r instanceof Map){if(t=r.get(e)){if(t.length){var c=t.indexOf(n);t.splice(c,1)}0==t.length&&r.delete(e)}}else if(t=r[e]){if(t.length){var a=t.indexOf(n);t.splice(a,1)}0==t.length&&delete r[e]}return t}(s.playersByQueriedElement,r.element,r)}))})),p.forEach((function(r){return Xn(r,"ng-animating")}));var O=ye(u);return O.onDestroy((function(){p.forEach((function(r){return rt(r,"ng-animating")})),Ke(i,e.toStyles)})),l.forEach((function(r){ze(t,r,[]).push(O)})),O}},{key:"_buildPlayer",value:function(r,e,n){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,n):new fe(r.duration,r.delay)}},{key:"queuedPlayers",get:function(){var r=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&r.push(e)}))})),r}}]),r}(),Qn=function(){function r(e,n,t){Object(b.a)(this,r),this.namespaceId=e,this.triggerName=n,this.element=t,this._player=new fe,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return Object(i.a)(r,[{key:"setRealPlayer",value:function(r){var e=this;this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return _e(r,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(r){this.totalTime=r}},{key:"syncPlayerEvents",value:function(r){var e=this,n=this._player;n.triggerCallback&&r.onStart((function(){return n.triggerCallback("start")})),r.onDone((function(){return e.finish()})),r.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(r,e){ze(this._queuedCallbacks,r,[]).push(e)}},{key:"onDone",value:function(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}},{key:"onStart",value:function(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}},{key:"onDestroy",value:function(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(r){this.queued||this._player.setPosition(r)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(r){var e=this._player;e.triggerCallback&&e.triggerCallback(r)}}]),r}();function Kn(r){return null!=r?r:null}function $n(r){return r&&1===r.nodeType}function Jn(r,e){var n=r.style.display;return r.style.display=null!=e?e:"none",n}function Zn(r,e,n,t,c){var a=[];n.forEach((function(r){return a.push(Jn(r))}));var s=[];t.forEach((function(n,t){var a={};n.forEach((function(r){var n=a[r]=e.computeStyle(t,r,c);n&&0!=n.length||(t.__ng_removed=Bn,s.push(t))})),r.set(t,a)}));var b=0;return n.forEach((function(r){return Jn(r,a[b++])})),s}function Yn(r,e){var n=new Map;if(r.forEach((function(r){return n.set(r,[])})),0==e.length)return n;var t=new Set(e),c=new Map;return e.forEach((function(r){var e=function r(e){if(!e)return 1;var a=c.get(e);if(a)return a;var s=e.parentNode;return a=n.has(s)?s:t.has(s)?1:r(s),c.set(e,a),a}(r);1!==e&&n.get(e).push(r)})),n}function Xn(r,e){if(r.classList)r.classList.add(e);else{var n=r.$$classes;n||(n=r.$$classes={}),n[e]=!0}}function rt(r,e){if(r.classList)r.classList.remove(e);else{var n=r.$$classes;n&&delete n[e]}}function et(r,e,n){ye(n).onDone((function(){return r.processLeaveNode(e)}))}function nt(r,e){var n=Object.keys(r),t=Object.keys(e);if(n.length!=t.length)return!1;for(var c=0;c<n.length;c++){var a=n[c];if(!e.hasOwnProperty(a)||r[a]!==e[a])return!1}return!0}function tt(r,e,n){var t=n.get(r);if(!t)return!1;var c=e.get(r);return c?t.forEach((function(r){return c.add(r)})):e.set(r,t),n.delete(r),!0}var ct=function(){function r(e,n,t){var c=this;Object(b.a)(this,r),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(r,e){},this._transitionEngine=new Gn(e,n,t),this._timelineEngine=new Fn(e,n,t),this._transitionEngine.onRemovalComplete=function(r,e){return c.onRemovalComplete(r,e)}}return Object(i.a)(r,[{key:"registerTrigger",value:function(r,e,n,t,c){var a=r+"-"+t,s=this._triggerCache[a];if(!s){var b=[],i=un(this._driver,c,b);if(b.length)throw new Error('The animation trigger "'.concat(t,'" has failed to build due to the following errors:\n - ').concat(b.join("\n - ")));s=function(r,e){return new Mn(r,e)}(t,i),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,t,s)}},{key:"register",value:function(r,e){this._transitionEngine.register(r,e)}},{key:"destroy",value:function(r,e){this._transitionEngine.destroy(r,e)}},{key:"onInsert",value:function(r,e,n,t){this._transitionEngine.insertNode(r,e,n,t)}},{key:"onRemove",value:function(r,e,n,t){this._transitionEngine.removeNode(r,e,t||!1,n)}},{key:"disableAnimations",value:function(r,e){this._transitionEngine.markElementAsDisabled(r,e)}},{key:"process",value:function(r,e,n,t){if("@"==n.charAt(0)){var c=Ce(n),a=Object(B.a)(c,2);this._timelineEngine.command(a[0],e,a[1],t)}else this._transitionEngine.trigger(r,e,n,t)}},{key:"listen",value:function(r,e,n,t,c){if("@"==n.charAt(0)){var a=Ce(n),s=Object(B.a)(a,2);return this._timelineEngine.listen(s[0],e,s[1],c)}return this._transitionEngine.listen(r,e,n,t,c)}},{key:"flush",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(r)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),r}();function at(r,e){var n=null,t=null;return Array.isArray(e)&&e.length?(n=bt(e[0]),e.length>1&&(t=bt(e[e.length-1]))):e&&(n=bt(e)),n||t?new st(r,n,t):null}var st=function(){var r=function(){function r(e,n,t){Object(b.a)(this,r),this._element=e,this._startStyles=n,this._endStyles=t,this._state=0;var c=r.initialStylesByElement.get(e);c||r.initialStylesByElement.set(e,c={}),this._initialStyles=c}return Object(i.a)(r,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Ke(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Ke(this._element,this._initialStyles),this._endStyles&&(Ke(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&($e(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($e(this._element,this._endStyles),this._endStyles=null),Ke(this._element,this._initialStyles),this._state=3)}}]),r}();return r.initialStylesByElement=new WeakMap,r}();function bt(r){for(var e=null,n=Object.keys(r),t=0;t<n.length;t++){var c=n[t];it(c)&&((e=e||{})[c]=r[c])}return e}function it(r){return"display"===r||"position"===r}var ot=function(){function r(e,n,t,c,a,s,i){var o=this;Object(b.a)(this,r),this._element=e,this._name=n,this._duration=t,this._delay=c,this._easing=a,this._fillMode=s,this._onDoneFn=i,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(r){return o._handleCallback(r)}}return Object(i.a)(r,[{key:"apply",value:function(){var r,e,n;r=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=ht(r,"").trim()).length&&(function(r,e){for(var n=0;n<r.length;n++)","===r.charAt(n)&&0}(n),e="".concat(n,", ").concat(e)),Nt(r,"",e),Ot(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){pt(this._element,this._name,"paused")}},{key:"resume",value:function(){pt(this._element,this._name,"running")}},{key:"setPosition",value:function(r){var e=lt(this._element,this._name);this._position=r*this._duration,Nt(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(r){var e=r._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Ot(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var r,e,n,t;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(t=ut(n=ht(r=this._element,"").split(","),e))>=0&&(n.splice(t,1),Nt(r,"",n.join(","))))}}]),r}();function pt(r,e,n){Nt(r,"PlayState",n,lt(r,e))}function lt(r,e){var n=ht(r,"");return n.indexOf(",")>0?ut(n.split(","),e):ut([n],e)}function ut(r,e){for(var n=0;n<r.length;n++)if(r[n].indexOf(e)>=0)return n;return-1}function Ot(r,e,n){n?r.removeEventListener("animationend",e):r.addEventListener("animationend",e)}function Nt(r,e,n,t){var c="animation"+e;if(null!=t){var a=r.style[c];if(a.length){var s=a.split(",");s[t]=n,n=s.join(",")}}r.style[c]=n}function ht(r,e){return r.style["animation"+e]}var dt=function(){function r(e,n,t,c,a,s,i,o){Object(b.a)(this,r),this.element=e,this.keyframes=n,this.animationName=t,this._duration=c,this._delay=a,this._finalStyles=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=c+a,this._buildStyler()}return Object(i.a)(r,[{key:"onStart",value:function(r){this._onStartFns.push(r)}},{key:"onDone",value:function(r){this._onDoneFns.push(r)}},{key:"onDestroy",value:function(r){this._onDestroyFns.push(r)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(r){return r()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(r){return r()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(r){return r()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(r){this._styler.setPosition(r)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var r=this;this._styler=new ot(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return r.finish()}))}},{key:"triggerCallback",value:function(r){var e="start"==r?this._onStartFns:this._onDoneFns;e.forEach((function(r){return r()})),e.length=0}},{key:"beforeDestroy",value:function(){var r=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(t){"offset"!=t&&(e[t]=n?r._finalStyles[t]:sn(r.element,t))}))}this.currentSnapshot=e}}]),r}(),ft=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;return Object(b.a)(this,n),(c=e.call(this)).element=r,c._startingStyles={},c.__initialized=!1,c._styles=De(t),c}return Object(i.a)(n,[{key:"init",value:function(){var r=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){r._startingStyles[e]=r.element.style[e]})),Object(a.a)(Object(s.a)(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var r=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return r.element.style.setProperty(e,r._styles[e])})),Object(a.a)(Object(s.a)(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var r=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=r._startingStyles[e];n?r.element.style.setProperty(e,n):r.element.style.removeProperty(e)})),this._startingStyles=null,Object(a.a)(Object(s.a)(n.prototype),"destroy",this).call(this))}}]),n}(fe),mt=function(){function r(){Object(b.a)(this,r),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return Object(i.a)(r,[{key:"validateStyleProperty",value:function(r){return Ie(r)}},{key:"matchesElement",value:function(r,e){return Re(r,e)}},{key:"containsElement",value:function(r,e){return Me(r,e)}},{key:"query",value:function(r,e,n){return Le(r,e,n)}},{key:"computeStyle",value:function(r,e,n){return window.getComputedStyle(r)[e]}},{key:"buildKeyframeElement",value:function(r,e,n){n=n.map((function(r){return De(r)}));var t="@keyframes ".concat(e," {\n"),c="";n.forEach((function(r){c=" ";var e=parseFloat(r.offset);t+="".concat(c).concat(100*e,"% {\n"),c+=" ",Object.keys(r).forEach((function(e){var n=r[e];switch(e){case"offset":return;case"easing":return void(n&&(t+="".concat(c,"animation-timing-function: ").concat(n,";\n")));default:return void(t+="".concat(c).concat(e,": ").concat(n,";\n"))}})),t+="".concat(c,"}\n")})),t+="}\n";var a=document.createElement("style");return a.innerHTML=t,a}},{key:"animate",value:function(r,e,n,t,c){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var b=a.filter((function(r){return r instanceof dt})),i={};tn(n,t)&&b.forEach((function(r){var e=r.currentSnapshot;Object.keys(e).forEach((function(r){return i[r]=e[r]}))}));var o=vt(e=cn(r,e,i));if(0==n)return new ft(r,o);var p="".concat("gen_css_kf_").concat(this._count++),l=this.buildKeyframeElement(r,p,e);document.querySelector("head").appendChild(l);var u=at(r,e),O=new dt(r,e,p,n,t,c,o,u);return O.onDestroy((function(){return gt(l)})),O}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),r}();function vt(r){var e={};return r&&(Array.isArray(r)?r:[r]).forEach((function(r){Object.keys(r).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=r[n])}))})),e}function gt(r){r.parentNode.removeChild(r)}var yt=function(){function r(e,n,t,c){Object(b.a)(this,r),this.element=e,this.keyframes=n,this.options=t,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}return Object(i.a)(r,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(r){return r()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var r=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return r._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(r,e,n){return r.animate(e,n)}},{key:"onStart",value:function(r){this._onStartFns.push(r)}},{key:"onDone",value:function(r){this._onDoneFns.push(r)}},{key:"onDestroy",value:function(r){this._onDestroyFns.push(r)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(r){return r()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(r){return r()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(r){this.domPlayer.currentTime=r*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var r=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=r._finished?r._finalKeyframe[n]:sn(r.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(r){var e="start"==r?this._onStartFns:this._onDoneFns;e.forEach((function(r){return r()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),r}(),kt=function(){function r(){Object(b.a)(this,r),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_t().toString()),this._cssKeyframesDriver=new mt}return Object(i.a)(r,[{key:"validateStyleProperty",value:function(r){return Ie(r)}},{key:"matchesElement",value:function(r,e){return Re(r,e)}},{key:"containsElement",value:function(r,e){return Me(r,e)}},{key:"query",value:function(r,e,n){return Le(r,e,n)}},{key:"computeStyle",value:function(r,e,n){return window.getComputedStyle(r)[e]}},{key:"overrideWebAnimationsSupport",value:function(r){this._isNativeImpl=r}},{key:"animate",value:function(r,e,n,t,c){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0,b=!s&&!this._isNativeImpl;if(b)return this._cssKeyframesDriver.animate(r,e,n,t,c,a);var i=0==t?"both":"forwards",o={duration:n,delay:t,fill:i};c&&(o.easing=c);var p={},l=a.filter((function(r){return r instanceof yt}));tn(n,t)&&l.forEach((function(r){var e=r.currentSnapshot;Object.keys(e).forEach((function(r){return p[r]=e[r]}))}));var u=at(r,e=cn(r,e=e.map((function(r){return We(r,!1)})),p));return new yt(r,e,o,u)}}]),r}();function _t(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var wt=function(){var r=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var a;return Object(b.a)(this,n),(a=e.call(this))._nextAnimationId=0,a._renderer=r.createRenderer(t.body,{id:"0",encapsulation:c.Q.None,styles:[],data:{animation:[]}}),a}return Object(i.a)(n,[{key:"build",value:function(r){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(r)?Ne(r):r;return Ct(this._renderer,null,e,"register",[n]),new St(e,this._renderer)}}]),n}(ue);return r.\u0275fac=function(e){return new(e||r)(c.Sb(c.F),c.Sb(l.d))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),St=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;return Object(b.a)(this,n),(c=e.call(this))._id=r,c._renderer=t,c}return Object(i.a)(n,[{key:"create",value:function(r,e){return new zt(this._id,r,e||{},this._renderer)}}]),n}(Oe),zt=function(){function r(e,n,t,c){Object(b.a)(this,r),this.id=e,this.element=n,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}return Object(i.a)(r,[{key:"_listen",value:function(r,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(r),e)}},{key:"_command",value:function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return Ct(this._renderer,this.element,this.id,r,n)}},{key:"onDone",value:function(r){this._listen("done",r)}},{key:"onStart",value:function(r){this._listen("start",r)}},{key:"onDestroy",value:function(r){this._listen("destroy",r)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(r){this._command("setPosition",r)}},{key:"getPosition",value:function(){return 0}}]),r}();function Ct(r,e,n,t,c){return r.setProperty(e,"@@".concat(n,":").concat(t),c)}var jt=function(){var r=function(){function r(e,n,t){Object(b.a)(this,r),this.delegate=e,this.engine=n,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(r,e){e&&e.parentNode(r)&&e.removeChild(r.parentNode,r)}}return Object(i.a)(r,[{key:"createRenderer",value:function(r,e){var n=this,t=this.delegate.createRenderer(r,e);if(!(r&&e&&e.data&&e.data.animation)){var c=this._rendererCache.get(t);return c||(c=new xt("",t,this.engine),this._rendererCache.set(t,c)),c}var a=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,r),e.data.animation.forEach((function e(t){Array.isArray(t)?t.forEach(e):n.engine.registerTrigger(a,s,r,t.name,t)})),new Tt(this,s,t,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var r=this;this.promise.then((function(){r._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(r,e,n){var t=this;r>=0&&r<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){t._zone.run((function(){t._animationCallbacksBuffer.forEach((function(r){var e=Object(B.a)(r,2);(0,e[0])(e[1])})),t._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var r=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){r._scheduleCountTask(),r.engine.flush(r._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(c.F),c.Sb(ct),c.Sb(c.z))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),xt=function(){function r(e,n,t){Object(b.a)(this,r),this.namespaceId=e,this.delegate=n,this.engine=t,this.destroyNode=this.delegate.destroyNode?function(r){return n.destroyNode(r)}:null}return Object(i.a)(r,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(r,e){return this.delegate.createElement(r,e)}},{key:"createComment",value:function(r){return this.delegate.createComment(r)}},{key:"createText",value:function(r){return this.delegate.createText(r)}},{key:"appendChild",value:function(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}},{key:"insertBefore",value:function(r,e,n){this.delegate.insertBefore(r,e,n),this.engine.onInsert(this.namespaceId,e,r,!0)}},{key:"removeChild",value:function(r,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(r,e){return this.delegate.selectRootElement(r,e)}},{key:"parentNode",value:function(r){return this.delegate.parentNode(r)}},{key:"nextSibling",value:function(r){return this.delegate.nextSibling(r)}},{key:"setAttribute",value:function(r,e,n,t){this.delegate.setAttribute(r,e,n,t)}},{key:"removeAttribute",value:function(r,e,n){this.delegate.removeAttribute(r,e,n)}},{key:"addClass",value:function(r,e){this.delegate.addClass(r,e)}},{key:"removeClass",value:function(r,e){this.delegate.removeClass(r,e)}},{key:"setStyle",value:function(r,e,n,t){this.delegate.setStyle(r,e,n,t)}},{key:"removeStyle",value:function(r,e,n){this.delegate.removeStyle(r,e,n)}},{key:"setProperty",value:function(r,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(r,!!n):this.delegate.setProperty(r,e,n)}},{key:"setValue",value:function(r,e){this.delegate.setValue(r,e)}},{key:"listen",value:function(r,e,n){return this.delegate.listen(r,e,n)}},{key:"disableAnimations",value:function(r,e){this.engine.disableAnimations(r,e)}},{key:"data",get:function(){return this.delegate.data}}]),r}(),Tt=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c,a){var s;return Object(b.a)(this,n),(s=e.call(this,t,c,a)).factory=r,s.namespaceId=t,s}return Object(i.a)(n,[{key:"setProperty",value:function(r,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(r,n=void 0===n||!!n):this.engine.process(this.namespaceId,r,e.substr(1),n):this.delegate.setProperty(r,e,n)}},{key:"listen",value:function(r,e,n){var t,c,a=this;if("@"==e.charAt(0)){var s=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(r),b=e.substr(1),i="";if("@"!=b.charAt(0)){var o=(c=(t=b).indexOf("."),[t.substring(0,c),t.substr(c+1)]),p=Object(B.a)(o,2);b=p[0],i=p[1]}return this.engine.listen(this.namespaceId,s,b,i,(function(r){a.factory.scheduleListenerCallback(r._data||-1,n,r)}))}return this.delegate.listen(r,e,n)}}]),n}(xt),Et=function(){var r=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c){return Object(b.a)(this,n),e.call(this,r.body,t,c)}return n}(ct);return r.\u0275fac=function(e){return new(e||r)(c.Sb(l.d),c.Sb(Ue),c.Sb(xn))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac}),r}(),Pt=new c.q("AnimationModuleType"),At=[{provide:ue,useClass:wt},{provide:xn,useFactory:function(){return new Tn}},{provide:ct,useClass:Et},{provide:c.F,useFactory:function(r,e,n){return new jt(r,e,n)},deps:[j,ct,c.z]}],It=[{provide:Ue,useFactory:function(){return"function"==typeof _t()?new kt:new mt}},{provide:Pt,useValue:"BrowserAnimations"}].concat(At),Rt=([{provide:Ue,useClass:Fe},{provide:Pt,useValue:"NoopAnimations"}].concat(At),function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},providers:It,imports:[q]}),r}()),Mt=new c.O("10.0.1"),Lt=new c.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Dt=function(){var r=function(){function r(e,n,t){Object(b.a)(this,r),this._hasDoneGlobalChecks=!1,this._document=t,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return Object(i.a)(r,[{key:"_getDocument",value:function(){var r=this._document||document;return"object"==typeof r&&r?r:null}},{key:"_getWindow",value:function(){var r=this._getDocument(),e=(null==r?void 0:r.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(c.V)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var r=this._getWindow();return r&&(r.__karma__||r.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var r=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();r&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var r=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!r&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var t=getComputedStyle(n);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Mt.full!==le.full&&console.warn("The Angular Material version ("+Mt.full+") does not match the Angular CDK version ("+le.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),r}();return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)(c.Sb(se),c.Sb(Lt,8),c.Sb(l.d,8))},imports:[[pe],pe]}),r}();function Ft(r){return function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){var r;Object(b.a)(this,n);for(var t=arguments.length,c=new Array(t),a=0;a<t;a++)c[a]=arguments[a];return(r=e.call.apply(e,[this].concat(c)))._disabled=!1,r}return Object(i.a)(n,[{key:"disabled",get:function(){return this._disabled},set:function(r){this._disabled=Hr(r)}}]),n}(r)}function Ut(r,e){return function(r){Object(o.a)(t,r);var n=Object(p.a)(t);function t(){var r;Object(b.a)(this,t);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(r=n.call.apply(n,[this].concat(a))).color=e,r}return Object(i.a)(t,[{key:"color",get:function(){return this._color},set:function(r){var n=r||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),n&&this._elementRef.nativeElement.classList.add("mat-".concat(n)),this._color=n)}}]),t}(r)}function qt(r){return function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(){var r;Object(b.a)(this,n);for(var t=arguments.length,c=new Array(t),a=0;a<t;a++)c[a]=arguments[a];return(r=e.call.apply(e,[this].concat(c)))._disableRipple=!1,r}return Object(i.a)(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(r){this._disableRipple=Hr(r)}}]),n}(r)}var Bt=function(){function r(e,n,t){Object(b.a)(this,r),this._renderer=e,this.element=n,this.config=t,this.state=3}return Object(i.a)(r,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),r}(),Ht={enterDuration:450,exitDuration:400},Vt=Zr({passive:!0}),Wt=["mousedown","touchstart"],Gt=["mouseup","mouseleave","touchend","touchcancel"],Qt=function(){function r(e,n,t,c){Object(b.a)(this,r),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,c.isBrowser&&(this._containerElement=Gr(t))}return Object(i.a)(r,[{key:"fadeInRipple",value:function(r,e){var n=this,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},Ht),t.animation);t.centered&&(r=c.left+c.width/2,e=c.top+c.height/2);var s=t.radius||$t(r,e,c),b=r-c.left,i=e-c.top,o=a.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left="".concat(b-s,"px"),p.style.top="".concat(i-s,"px"),p.style.height="".concat(2*s,"px"),p.style.width="".concat(2*s,"px"),null!=t.color&&(p.style.backgroundColor=t.color),p.style.transitionDuration="".concat(o,"ms"),this._containerElement.appendChild(p),Kt(p),p.style.transform="scale(1)";var l=new Bt(this,p,t);return l.state=0,this._activeRipples.add(l),t.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone((function(){var r=l===n._mostRecentTransientRipple;l.state=1,t.persistent||r&&n._isPointerDown||l.fadeOut()}),o),l}},{key:"fadeOutRipple",value:function(r){var e=this._activeRipples.delete(r);if(r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=r.element,t=Object.assign(Object.assign({},Ht),r.config.animation);n.style.transitionDuration="".concat(t.exitDuration,"ms"),n.style.opacity="0",r.state=2,this._runTimeoutOutsideZone((function(){r.state=3,n.parentNode.removeChild(n)}),t.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(r){return r.fadeOut()}))}},{key:"setupTriggerEvents",value:function(r){var e=Gr(r);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Wt))}},{key:"handleEvent",value:function(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Gt),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(r){var e=ee(r),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(r){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=r.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(r){!r.config.persistent&&(1===r.state||r.config.terminateOnPointerUp&&0===r.state)&&r.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(r,e)}))}},{key:"_registerEvents",value:function(r){var e=this;this._ngZone.runOutsideAngular((function(){r.forEach((function(r){e._triggerElement.addEventListener(r,e,Vt)}))}))}},{key:"_removeTriggerEvents",value:function(){var r=this;this._triggerElement&&(Wt.forEach((function(e){r._triggerElement.removeEventListener(e,r,Vt)})),this._pointerUpEventsRegistered&&Gt.forEach((function(e){r._triggerElement.removeEventListener(e,r,Vt)})))}}]),r}();function Kt(r){window.getComputedStyle(r).getPropertyValue("opacity")}function $t(r,e,n){var t=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),c=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(t*t+c*c)}var Jt=new c.q("mat-ripple-global-options"),Zt=function(){var r=function(){function r(e,n,t,c,a){Object(b.a)(this,r),this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Qt(this,n,e,t)}return Object(i.a)(r,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof r?this._rippleRenderer.fadeInRipple(r,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),r))}},{key:"disabled",get:function(){return this._disabled},set:function(r){this._disabled=r,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Lb(c.l),c.Lb(c.z),c.Lb($r),c.Lb(Jt,8),c.Lb(Pt,8))},r.\u0275dir=c.Gb({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,e){2&r&&c.Cb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),r}(),Yt=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[Dt,Jr],Dt]}),r}(),Xt=["*",[["mat-toolbar-row"]]],rc=["*","mat-toolbar-row"],ec=Ut((function r(e){Object(b.a)(this,r),this._elementRef=e})),nc=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=c.Gb({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r}(),tc=function(){var r=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c){var a;return Object(b.a)(this,n),(a=e.call(this,r))._platform=t,a._document=c,a}return Object(i.a)(n,[{key:"ngAfterViewInit",value:function(){var r=this;Object(c.V)()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe((function(){return r._checkToolbarMixedModes()})))}},{key:"_checkToolbarMixedModes",value:function(){var r=this;this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter((function(r){return!(r.classList&&r.classList.contains("mat-toolbar-row"))})).filter((function(e){return e.nodeType!==(r._document?r._document.COMMENT_NODE:8)})).some((function(r){return!(!r.textContent||!r.textContent.trim())}))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}]),n}(ec);return r.\u0275fac=function(e){return new(e||r)(c.Lb(c.l),c.Lb($r),c.Lb(l.d))},r.\u0275cmp=c.Fb({type:r,selectors:[["mat-toolbar"]],contentQueries:function(r,e,n){var t;1&r&&c.Eb(n,nc,!0),2&r&&c.gc(t=c.Wb())&&(e._toolbarRows=t)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,e){2&r&&c.Cb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.wb],ngContentSelectors:rc,decls:2,vars:0,template:function(r,e){1&r&&(c.bc(Xt),c.ac(0),c.ac(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r}(),cc=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[Dt],Dt]}),r}(),ac=["mat-button",""],sc=["*"],bc=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ic=Ut(Ft(qt((function r(e){Object(b.a)(this,r),this._elementRef=e})))),oc=function(){var r=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c){var a;Object(b.a)(this,n),(a=e.call(this,r))._focusMonitor=t,a._animationMode=c,a.isRoundButton=a._hasHostAttributes("mat-fab","mat-mini-fab"),a.isIconButton=a._hasHostAttributes("mat-icon-button");var s,i=Object(ve.a)(bc);try{for(i.s();!(s=i.n()).done;){var o=s.value;a._hasHostAttributes(o)&&a._getHostElement().classList.add(o)}}catch(p){i.e(p)}finally{i.f()}return r.nativeElement.classList.add("mat-button-base"),a.isRoundButton&&(a.color="accent"),a}return Object(i.a)(n,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),r,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var r=this,e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.some((function(e){return r._getHostElement().hasAttribute(e)}))}}]),n}(ic);return r.\u0275fac=function(e){return new(e||r)(c.Lb(c.l),c.Lb(ce),c.Lb(Pt,8))},r.\u0275cmp=c.Fb({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(r,e){var n;1&r&&c.yc(Zt,!0),2&r&&c.gc(n=c.Wb())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(r,e){2&r&&(c.Ab("disabled",e.disabled||null),c.Cb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.wb],attrs:ac,ngContentSelectors:sc,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(r,e){1&r&&(c.bc(),c.Ob(0,"span",0),c.ac(1),c.Nb(),c.Mb(2,"div",1),c.Mb(3,"div",2)),2&r&&(c.zb(2),c.Cb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),c.cc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Zt],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),r}(),pc=function(){var r=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c){return Object(b.a)(this,n),e.call(this,t,r,c)}return Object(i.a)(n,[{key:"_haltDisabledEvents",value:function(r){this.disabled&&(r.preventDefault(),r.stopImmediatePropagation())}}]),n}(oc);return r.\u0275fac=function(e){return new(e||r)(c.Lb(ce),c.Lb(c.l),c.Lb(Pt,8))},r.\u0275cmp=c.Fb({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(r,e){1&r&&c.Vb("click",(function(r){return e._haltDisabledEvents(r)})),2&r&&(c.Ab("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),c.Cb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[c.wb],attrs:ac,ngContentSelectors:sc,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(r,e){1&r&&(c.bc(),c.Ob(0,"span",0),c.ac(1),c.Nb(),c.Mb(2,"div",1),c.Mb(3,"div",2)),2&r&&(c.zb(2),c.Cb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),c.cc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Zt],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),r}(),lc=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[Yt,Dt],Dt]}),r}(),uc=function(){function r(r){var e=this;this.router=r,this.title="app",this.href="",r.events.subscribe((function(n){e.href=r.url.split("/")[1]})),r.events.subscribe((function(r){if(r instanceof Ir.a){var n=e.router.parseUrl(e.router.url);if(n.fragment){var t=document.querySelector("#"+n.fragment);t&&document.getElementsByTagName("body")[0].scrollTo({top:t.offsetTop-74,behavior:"smooth"})}else document.getElementsByTagName("body")[0].scrollTo({top:0,behavior:"auto"})}}))}return r.\u0275fac=function(e){return new(e||r)(c.Lb(Ir.b))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-root"]],decls:30,vars:6,consts:[["color","primary"],["src","/assets/logo-inverted.png",1,"logo"],[1,"name"],[3,"routerLink"],[1,"spacer"],["mat-button","","href","/",3,"routerLink"],["mat-button","","href","/guide",3,"routerLink"],["mat-button","","href","/docs",3,"routerLink"],["mat-button","","href","/blog",3,"routerLink"],["mat-button","","href","https://github.com/travetto"],[1,"main-module"],[1,"copyright"],[1,"social"],["href","https://twitter.com/travetto_ts","target","_blank"],["height","32","width","32","src","https://unpkg.com/simple-icons@latest/icons/twitter.svg"],["href","https://github.com/travetto","target","_blank"],["height","32","width","32","src","https://unpkg.com/simple-icons@latest/icons/github.svg"]],template:function(r,e){1&r&&(c.Ob(0,"div"),c.Ob(1,"mat-toolbar",0),c.Mb(2,"img",1),c.Ob(3,"span",2),c.Ob(4,"a",3),c.rc(5,"Travetto"),c.Nb(),c.Nb(),c.Mb(6,"span",4),c.Ob(7,"a",5),c.rc(8,"Home"),c.Nb(),c.Ob(9,"a",6),c.rc(10,"Getting Started"),c.Nb(),c.Ob(11,"a",7),c.rc(12,"Documentation"),c.Nb(),c.Ob(13,"a",8),c.rc(14,"Blog"),c.Nb(),c.Ob(15,"a",9),c.rc(16,"Github"),c.Nb(),c.Nb(),c.Ob(17,"div",10),c.Mb(18,"router-outlet"),c.Nb(),c.Ob(19,"footer"),c.Ob(20,"div",11),c.rc(21,"ArcSine Technologies \xa9 2020"),c.Nb(),c.Mb(22,"div",4),c.Ob(23,"div",12),c.Ob(24,"span"),c.rc(25,"Connect on"),c.Nb(),c.Ob(26,"a",13),c.Mb(27,"img",14),c.Nb(),c.Ob(28,"a",15),c.Mb(29,"img",16),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&r&&(c.Ab("href",e.href),c.zb(4),c.cc("routerLink","/"),c.zb(3),c.cc("routerLink","/landing"),c.zb(2),c.cc("routerLink","/guide"),c.zb(2),c.cc("routerLink","/docs"),c.zb(2),c.cc("routerLink","/blog"))},directives:[tc,Ir.d,pc,Ir.f],styles:['[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   [href=landing][_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4caf50,rgba(76,175,80,.8))!important}[_nghost-%COMP%]   [href=landing][_ngcontent-%COMP%]   .main-module[_ngcontent-%COMP%]    >*{padding-top:0}.main-module[_ngcontent-%COMP%]    >*{padding-top:64px}.main-module[_ngcontent-%COMP%]    >* .toc{top:64px}mat-toolbar[_ngcontent-%COMP%]{height:64px;position:fixed;top:0;opacity:.9;z-index:100}mat-toolbar[_ngcontent-%COMP%]   img.logo[_ngcontent-%COMP%]{width:50px;height:50px;display:inline-block;margin-right:5px}mat-toolbar[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#fff;font-family:Julius Sans One,sans-serif;font-size:32px;font-weight:400;line-height:32px}mat-toolbar[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;padding:0;margin:0;font-weight:400}mat-toolbar[_ngcontent-%COMP%]   span.spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:700}footer[_ngcontent-%COMP%]{display:flex;height:70px;min-height:70px;font-family:Source Sans Pro,sans-serif;width:100%;background:linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7)),url(/assets/landing/bg.jpg) 50%;color:#eee}footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:17.5px}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{padding-left:1em;line-height:35px;height:35px}footer[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 0}footer[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{line-height:35px;height:35px;display:inline-block;margin-right:.5em}footer[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:35px}footer[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-filter:invert(100%);filter:invert(100%);vertical-align:middle}@media (min-width:700px){[_nghost-%COMP%]   .main-module[_ngcontent-%COMP%]    >*{min-height:calc(100vh - 134px)}[_nghost-%COMP%]   .main-module[_ngcontent-%COMP%]    >* p{margin-bottom:0;padding-bottom:12px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{height:70px;min-height:70px}}@media (max-width:700px){[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{width:100%;height:40px;padding:0 0 0 2px}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%]{min-width:0;font-size:15px}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   svg.logo[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   img.logo[_ngcontent-%COMP%]{height:36px;width:auto}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:40px;line-height:40px}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   a[href="/landing"][_ngcontent-%COMP%], [_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   a[href="https://github.com/travetto"][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{height:auto;text-align:center;display:block;padding:10px 0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0;margin:0}}@media (max-width:450px){[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   [mat-button][_ngcontent-%COMP%], [_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;padding-left:5px;padding-right:5px}}']}),r}(),Oc=function(){function r(){}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Fb({type:r,selectors:[["app-landing"]],decls:55,vars:0,consts:[[1,"header"],[1,"img"],[1,"mat-display-4"],[1,"mat-display-3"],["href","https://travetto.dev/blog/"],[1,"content"],[1,"intro"],[1,"interactive-development"],["src","/assets/landing/realtime-routes.gif"],[1,"interactive-testing"],["src","/assets/landing/testing.png"],[1,"interactive-modeling"],["src","/assets/landing/modeling.png"],[1,"typescript-focused"],["src","/assets/landing/ast.png"],[1,"etc"],["src","/assets/landing/other.png"]],template:function(r,e){1&r&&(c.Ob(0,"div",0),c.Mb(1,"div",1),c.Ob(2,"div",2),c.rc(3,"Travetto"),c.Nb(),c.Ob(4,"div",3),c.rc(5,"An Interactive Development Framework"),c.Nb(),c.Nb(),c.Ob(6,"aside"),c.Ob(7,"p"),c.Ob(8,"strong"),c.rc(9,"Note"),c.Nb(),c.rc(10,": We have now launched the 1.0.0 release candidate. "),c.Ob(11,"a",4),c.rc(12,"Read more"),c.Nb(),c.Nb(),c.Nb(),c.Ob(13,"div",5),c.Ob(14,"h1"),c.rc(15,"What is Travetto?"),c.Nb(),c.Ob(16,"p",6),c.rc(17," Travetto is a Typescript framework for building NodeJS applications. It has a unique architecture focused on an interactive development process. "),c.Nb(),c.Ob(18,"section",7),c.Ob(19,"div"),c.Ob(20,"h2"),c.rc(21,"Interactive Coding"),c.Nb(),c.Ob(22,"p"),c.rc(23," The time between saving your code, and being able to use it is crucial. The longer the delay, the slower the development process. Travetto solves this by tightly integrating into the underlying frameworks. This tight integration allows for live reloading of all code at run time. "),c.Ob(24,"em"),c.rc(25,"No need to restart your server to see changes applied."),c.Nb(),c.Nb(),c.Nb(),c.Mb(26,"img",8),c.Nb(),c.Ob(27,"section",9),c.Ob(28,"div"),c.Ob(29,"h2"),c.rc(30,"Interactive Testing"),c.Nb(),c.Ob(31,"p"),c.rc(32," Testing occurs inline (with VS Code Plugin), on save, giving you instant feedback to your unit tests. "),c.Nb(),c.Nb(),c.Mb(33,"img",10),c.Nb(),c.Ob(34,"section",11),c.Ob(35,"div"),c.Ob(36,"h2"),c.rc(37,"Interactive Modeling"),c.Nb(),c.Ob(38,"p"),c.rc(39," Modifications to data model reflect immediately, and where necessary, underlying schemas are modified in realtime to support changes. "),c.Nb(),c.Nb(),c.Mb(40,"img",12),c.Nb(),c.Ob(41,"section",13),c.Ob(42,"div"),c.Ob(43,"h2"),c.rc(44,"Typescript Focused"),c.Nb(),c.Ob(45,"p"),c.rc(46," Leverages the rich type information (as well as some fancy AST transformations) to choose smarter defaults, and provide more functionality with less code. "),c.Nb(),c.Nb(),c.Mb(47,"img",14),c.Nb(),c.Ob(48,"section",15),c.Ob(49,"div"),c.Ob(50,"h2"),c.rc(51,"Other Standard Application Features"),c.Nb(),c.Ob(52,"p"),c.rc(53," Like many other frameworks, Travetto provides standard features that developers have come to expect: Dependency Injection, Code over Configuration, and many other modules. "),c.Nb(),c.Nb(),c.Mb(54,"img",16),c.Nb(),c.Nb())},styles:["[_nghost-%COMP%]{display:block;max-width:100%!important;margin:0 auto}.header[_ngcontent-%COMP%]{height:400px;width:100%;background-color:linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7));background-image:url(/assets/landing/bg.jpg);background-size:auto 400px;background-position:50% 50%;background-repeat:repeat-x}.header[_ngcontent-%COMP%]   div.mat-display-4[_ngcontent-%COMP%]{margin:0;padding:140px 0 0}.header[_ngcontent-%COMP%]   div.mat-display-3[_ngcontent-%COMP%]{margin-top:.5em}.header[_ngcontent-%COMP%]   div.mat-display-3[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   div.mat-display-4[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:-1px -1px 10px rgba(0,0,0,.7),1px -1px 10px rgba(0,0,0,.7),-1px 1px 10px rgba(0,0,0,.7),1px 1px 10px rgba(0,0,0,.7)}aside[_ngcontent-%COMP%]{padding:1em;font-size:16pt;text-align:center;background:rgba(0,0,0,.1)}aside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;color:#333;margin:0;padding:0!important}aside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;font-weight:400}.content[_ngcontent-%COMP%]{max-width:1000px;margin:2em auto 0}section[_ngcontent-%COMP%]{min-height:300px;display:flex;margin-top:2em;flex-direction:reverse}section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1.2 1.2 0;justify-content:space-between;padding-bottom:1em}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;flex:2 2 0;background:#eee;max-width:600px;width:98%;box-shadow:1px 1px 10px rgba(0,0,0,.2)}section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + img[_ngcontent-%COMP%]{margin-left:15px}section[_ngcontent-%COMP%]:last-child{margin-bottom:2em}section[_ngcontent-%COMP%]:nth-child(2n){flex-direction:row-reverse}section[_ngcontent-%COMP%]:nth-child(2n)   div[_ngcontent-%COMP%] + img[_ngcontent-%COMP%]{margin-left:0;margin-right:15px}@media (max-width:700px){.header[_ngcontent-%COMP%]{height:250px}.header[_ngcontent-%COMP%]   div.mat-display-4[_ngcontent-%COMP%]{font-size:50px;margin:0;padding:35px 0 0}.header[_ngcontent-%COMP%]   div.mat-display-3[_ngcontent-%COMP%]{font-size:25px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 5px;text-align:left}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px;display:inline-block}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0!important}section[_ngcontent-%COMP%]{display:block}}"]}),r}(),Nc=function(){function r(){}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Fb({type:r,selectors:[["app-guide"]],decls:2267,vars:114,consts:[[1,"toc"],[1,"inner"],["id","overview"],["routerLink",".","fragment","prerequisites",1,"anchor-link"],["routerLink",".","fragment","project-initialization",1,"anchor-link"],["routerLink",".","fragment","establishing-the-model",1,"anchor-link"],["routerLink",".","fragment","building-the-service-layer",1,"anchor-link"],["routerLink",".","fragment","writing-unit-tests",1,"anchor-link"],["routerLink",".","fragment","adding-rest-routes",1,"anchor-link"],["routerLink",".","fragment","running-the-app",1,"anchor-link"],[1,"documentation"],["target","_blank","href","https://travetto.dev",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/related/todo-app",1,"source-link"],["href","/docs/generator-app","title","Yeoman app generator for the Travetto framework",1,"module-link"],["id","prerequisites"],["target","_blank","href","https://nodejs.org/en/download/current/",1,"external-link"],["target","_blank","href","https://docs.mongodb.com/manual/administration/install-community/",1,"external-link"],["target","_blank","href","https://code.visualstudio.com/download",1,"external-link"],["target","_blank","href","https://marketplace.visualstudio.com/items?itemName=arcsine.travetto-plugin",1,"external-link"],["id","project-initialization"],[1,"terminal"],[1,"language-bash"],[1,"token","function"],[1,"token","builtin","class-name"],[1,"token","punctuation"],["id","establishing-the-model"],[1,"item","field"],[1,"item","path"],[1,"code"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/related/todo-app/src/model.ts"],[1,"language-typescript"],[1,"token","keyword"],[1,"token","string"],[1,"token","meta"],[1,"token","class-name"],[1,"token","operator"],[1,"token","builtin"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/registry/decorator.ts#L12",1,"source-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/module/model/src/model/core.ts",1,"source-link"],["id","building-the-service-layer"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/related/todo-app/src/service.ts"],[1,"token","parameter"],[1,"token","boolean"],["id","writing-unit-tests"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/related/todo-app/test/resources/application.yml"],[1,"language-yaml"],[1,"token","key","atrule"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/related/todo-app/test/service.ts"],[1,"token","comment"],["id","adding-rest-routes"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/related/todo-app/src/route.ts"],["id","running-the-app"],[1,"token","number"],["target","_blank","href","https://curl.haxx.se/",1,"external-link"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/related/todo-app/alt/docs/bin/create.sh"],["target","_blank","href","https://github.com/travetto/travetto/tree/1.0.0-dev/related/todo-app/alt/docs/bin/list.sh"]],template:function(r,e){if(1&r){c.Ob(0,"div",0),c.Ob(1,"div",1),c.Ob(2,"h3",2),c.rc(3,"Overview"),c.Nb(),c.Ob(4,"ul"),c.Ob(5,"li"),c.Ob(6,"a",3),c.rc(7,"Prerequisites"),c.Nb(),c.Nb(),c.Ob(8,"li"),c.Ob(9,"a",4),c.rc(10,"Project Initialization"),c.Nb(),c.Nb(),c.Ob(11,"li"),c.Ob(12,"a",5),c.rc(13,"Establishing The Model"),c.Nb(),c.Nb(),c.Ob(14,"li"),c.Ob(15,"a",6),c.rc(16,"Building the Service Layer"),c.Nb(),c.Nb(),c.Ob(17,"li"),c.Ob(18,"a",7),c.rc(19,"Writing Unit tests"),c.Nb(),c.Nb(),c.Ob(20,"li"),c.Ob(21,"a",8),c.rc(22,"Adding Rest Routes"),c.Nb(),c.Nb(),c.Ob(23,"li"),c.Ob(24,"a",9),c.rc(25,"Running the App"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(26,"div",10),c.Ob(27,"h1"),c.rc(28,"Getting Started: A Todo App "),c.Nb(),c.rc(29," The following tutorial wil walk you through setting up a "),c.Ob(30,"a",11),c.rc(31,"Travetto"),c.Nb(),c.rc(32," application from scratch. We'll be building a simple todo application. The entire source of the finished project can be found at "),c.Ob(33,"a",12),c.rc(34,"Todo App"),c.Nb(),c.rc(35,". Additionally, you can use the "),c.Ob(36,"a",13),c.rc(37,"Yeoman Generator"),c.Nb(),c.rc(38,". "),c.Ob(39,"h2",14),c.rc(40,"Prerequisites"),c.Nb(),c.rc(41," Install\n"),c.Ob(42,"ul"),c.Ob(43,"li"),c.Ob(44,"a",15),c.rc(45,"Node"),c.Nb(),c.rc(46," v12.x + (required)"),c.Nb(),c.Ob(47,"li"),c.Ob(48,"a",16),c.rc(49,"Mongodb"),c.Nb(),c.rc(50," 3.6+ (required)"),c.Nb(),c.Ob(51,"li"),c.Ob(52,"a",17),c.rc(53,"VSCode"),c.Nb(),c.rc(54," (recommended)"),c.Nb(),c.Ob(55,"li"),c.Ob(56,"a",18),c.rc(57,"VSCode plugin"),c.Nb(),c.rc(58," (recommended)"),c.Nb(),c.Nb(),c.Ob(59,"h2",19),c.rc(60,"Project Initialization"),c.Nb(),c.Ob(61,"figure",20),c.Ob(62,"figcaption",20),c.rc(63,"Getting Ready "),c.Nb(),c.Ob(64,"pre"),c.Ob(65,"code",21),c.rc(66,"$ "),c.Ob(67,"span",22),c.rc(68,"mkdir"),c.Nb(),c.rc(69," todo-project\n$ "),c.Ob(70,"span",23),c.rc(71,"cd"),c.Nb(),c.rc(72," todo-project\n\n$ "),c.Ob(73,"span",22),c.rc(74,"git"),c.Nb(),c.rc(75," init "),c.Ob(76,"span",23),c.rc(77,"."),c.Nb(),c.rc(78,"\n\n$ "),c.Ob(79,"span",22),c.rc(80,"npm"),c.Nb(),c.rc(81," init -f\n$ "),c.Ob(82,"span",22),c.rc(83,"npm"),c.Nb(),c.rc(84," i @travetto/"),c.Ob(85,"span",24),c.rc(86),c.Nb(),c.rc(87,"log,test,rest-express,model-mongo"),c.Ob(88,"span",24),c.rc(89),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(90,"h2",25),c.rc(91,"Establishing The Model"),c.Nb(),c.rc(92," Let's create the model for the todo application. The fields we will need should be: "),c.Ob(93,"ul"),c.Ob(94,"li"),c.Ob(95,"code",26),c.rc(96,"id"),c.Nb(),c.rc(97," as a unique identifier"),c.Nb(),c.Ob(98,"li"),c.Ob(99,"code",26),c.rc(100,"text"),c.Nb(),c.rc(101," as the actual todo information"),c.Nb(),c.Ob(102,"li"),c.Ob(103,"code",26),c.rc(104,"created"),c.Nb(),c.rc(105," the date the todo was created"),c.Nb(),c.Ob(106,"li"),c.Ob(107,"code",26),c.rc(108,"completed"),c.Nb(),c.rc(109," whether or not the todo was completed"),c.Nb(),c.Nb(),c.rc(110," Create the file "),c.Ob(111,"code",27),c.rc(112,"src/model.ts"),c.Nb(),c.Ob(113,"figure",28),c.Ob(114,"figcaption",28),c.rc(115,"Models "),c.Ob(116,"cite"),c.Ob(117,"a",29),c.rc(118,"Source"),c.Nb(),c.Nb(),c.Nb(),c.Ob(119,"pre"),c.Ob(120,"code",30),c.Ob(121,"span",31),c.rc(122,"import"),c.Nb(),c.rc(123," "),c.Ob(124,"span",24),c.rc(125),c.Nb(),c.rc(126," Model "),c.Ob(127,"span",24),c.rc(128),c.Nb(),c.rc(129," "),c.Ob(130,"span",31),c.rc(131,"from"),c.Nb(),c.rc(132," "),c.Ob(133,"span",32),c.rc(134,"'@travetto/model'"),c.Nb(),c.Ob(135,"span",24),c.rc(136,";"),c.Nb(),c.rc(137,"\n"),c.Ob(138,"span",31),c.rc(139,"import"),c.Nb(),c.rc(140," "),c.Ob(141,"span",24),c.rc(142),c.Nb(),c.rc(143," Schema "),c.Ob(144,"span",24),c.rc(145),c.Nb(),c.rc(146," "),c.Ob(147,"span",31),c.rc(148,"from"),c.Nb(),c.rc(149," "),c.Ob(150,"span",32),c.rc(151,"'@travetto/schema'"),c.Nb(),c.Ob(152,"span",24),c.rc(153,";"),c.Nb(),c.rc(154,"\n\n@"),c.Ob(155,"span",33),c.rc(156,"Model"),c.Nb(),c.Ob(157,"span",24),c.rc(158,"("),c.Nb(),c.Ob(159,"span",24),c.rc(160,")"),c.Nb(),c.rc(161,"\n"),c.Ob(162,"span",31),c.rc(163,"export"),c.Nb(),c.rc(164," "),c.Ob(165,"span",31),c.rc(166,"class"),c.Nb(),c.rc(167," "),c.Ob(168,"span",34),c.rc(169,"Todo"),c.Nb(),c.rc(170," "),c.Ob(171,"span",24),c.rc(172),c.Nb(),c.rc(173,"\n  id"),c.Ob(174,"span",35),c.rc(175,"?"),c.Nb(),c.Ob(176,"span",35),c.rc(177,":"),c.Nb(),c.rc(178," "),c.Ob(179,"span",36),c.rc(180,"string"),c.Nb(),c.Ob(181,"span",24),c.rc(182,";"),c.Nb(),c.rc(183,"\n  text"),c.Ob(184,"span",35),c.rc(185,":"),c.Nb(),c.rc(186," "),c.Ob(187,"span",36),c.rc(188,"string"),c.Nb(),c.Ob(189,"span",24),c.rc(190,";"),c.Nb(),c.rc(191,"\n  created"),c.Ob(192,"span",35),c.rc(193,"?"),c.Nb(),c.Ob(194,"span",35),c.rc(195,":"),c.Nb(),c.rc(196," Date"),c.Ob(197,"span",24),c.rc(198,";"),c.Nb(),c.rc(199,"\n  completed"),c.Ob(200,"span",35),c.rc(201,"?"),c.Nb(),c.Ob(202,"span",35),c.rc(203,":"),c.Nb(),c.rc(204," "),c.Ob(205,"span",36),c.rc(206,"boolean"),c.Nb(),c.Ob(207,"span",24),c.rc(208,";"),c.Nb(),c.rc(209,"\n  priority"),c.Ob(210,"span",35),c.rc(211,"?"),c.Nb(),c.Ob(212,"span",35),c.rc(213,":"),c.Nb(),c.rc(214," "),c.Ob(215,"span",36),c.rc(216,"number"),c.Nb(),c.Ob(217,"span",24),c.rc(218,";"),c.Nb(),c.rc(219,"\n  who"),c.Ob(220,"span",35),c.rc(221,"?"),c.Nb(),c.Ob(222,"span",35),c.rc(223,":"),c.Nb(),c.rc(224," "),c.Ob(225,"span",36),c.rc(226,"string"),c.Nb(),c.Ob(227,"span",24),c.rc(228,";"),c.Nb(),c.rc(229,"\n  color"),c.Ob(230,"span",35),c.rc(231,"?"),c.Nb(),c.Ob(232,"span",35),c.rc(233,":"),c.Nb(),c.rc(234," "),c.Ob(235,"span",36),c.rc(236,"string"),c.Nb(),c.Ob(237,"span",24),c.rc(238,";"),c.Nb(),c.rc(239,"\n"),c.Ob(240,"span",24),c.rc(241),c.Nb(),c.rc(242,"\n\n@"),c.Ob(243,"span",33),c.rc(244,"Schema"),c.Nb(),c.Ob(245,"span",24),c.rc(246,"("),c.Nb(),c.Ob(247,"span",24),c.rc(248,")"),c.Nb(),c.rc(249,"\n"),c.Ob(250,"span",31),c.rc(251,"export"),c.Nb(),c.rc(252," "),c.Ob(253,"span",31),c.rc(254,"class"),c.Nb(),c.rc(255," "),c.Ob(256,"span",34),c.rc(257,"TodoSearch"),c.Nb(),c.rc(258," "),c.Ob(259,"span",24),c.rc(260),c.Nb(),c.rc(261,"\n  offset"),c.Ob(262,"span",35),c.rc(263,"?"),c.Nb(),c.Ob(264,"span",35),c.rc(265,":"),c.Nb(),c.rc(266," "),c.Ob(267,"span",36),c.rc(268,"number"),c.Nb(),c.Ob(269,"span",24),c.rc(270,";"),c.Nb(),c.rc(271,"\n  limit"),c.Ob(272,"span",35),c.rc(273,"?"),c.Nb(),c.Ob(274,"span",35),c.rc(275,":"),c.Nb(),c.rc(276," "),c.Ob(277,"span",36),c.rc(278,"number"),c.Nb(),c.Ob(279,"span",24),c.rc(280,";"),c.Nb(),c.rc(281,"\n"),c.Ob(282,"span",24),c.rc(283),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.rc(284," as you can see, the model structure is simple. Everything that uses the "),c.Ob(285,"a",37),c.rc(286,"@Model"),c.Nb(),c.rc(287," services needs to implement "),c.Ob(288,"a",38),c.rc(289,"ModelCore"),c.Nb(),c.rc(290,". "),c.Ob(291,"h2",39),c.rc(292,"Building the Service Layer"),c.Nb(),c.rc(293," Next we establish the functionality for the service layer. The operations we need are:\n"),c.Ob(294,"ul"),c.Ob(295,"li"),c.rc(296,"Create a new todo"),c.Nb(),c.Ob(297,"li"),c.rc(298,"Complete a todo"),c.Nb(),c.Ob(299,"li"),c.rc(300,"Remove a todo"),c.Nb(),c.Ob(301,"li"),c.rc(302,"Get all todos"),c.Nb(),c.Nb(),c.rc(303," Now we need to create "),c.Ob(304,"code",27),c.rc(305,"src/service.ts"),c.Nb(),c.Ob(306,"figure",28),c.Ob(307,"figcaption",28),c.rc(308,"Service Definition "),c.Ob(309,"cite"),c.Ob(310,"a",40),c.rc(311,"Source"),c.Nb(),c.Nb(),c.Nb(),c.Ob(312,"pre"),c.Ob(313,"code",30),c.Ob(314,"span",31),c.rc(315,"import"),c.Nb(),c.rc(316," "),c.Ob(317,"span",24),c.rc(318),c.Nb(),c.rc(319," ModelService "),c.Ob(320,"span",24),c.rc(321),c.Nb(),c.rc(322," "),c.Ob(323,"span",31),c.rc(324,"from"),c.Nb(),c.rc(325," "),c.Ob(326,"span",32),c.rc(327,"'@travetto/model'"),c.Nb(),c.Ob(328,"span",24),c.rc(329,";"),c.Nb(),c.rc(330,"\n"),c.Ob(331,"span",31),c.rc(332,"import"),c.Nb(),c.rc(333," "),c.Ob(334,"span",24),c.rc(335),c.Nb(),c.rc(336," Injectable"),c.Ob(337,"span",24),c.rc(338,","),c.Nb(),c.rc(339," Inject "),c.Ob(340,"span",24),c.rc(341),c.Nb(),c.rc(342," "),c.Ob(343,"span",31),c.rc(344,"from"),c.Nb(),c.rc(345," "),c.Ob(346,"span",32),c.rc(347,"'@travetto/di'"),c.Nb(),c.Ob(348,"span",24),c.rc(349,";"),c.Nb(),c.rc(350,"\n"),c.Ob(351,"span",31),c.rc(352,"import"),c.Nb(),c.rc(353," "),c.Ob(354,"span",24),c.rc(355),c.Nb(),c.rc(356," Todo"),c.Ob(357,"span",24),c.rc(358,","),c.Nb(),c.rc(359," TodoSearch "),c.Ob(360,"span",24),c.rc(361),c.Nb(),c.rc(362," "),c.Ob(363,"span",31),c.rc(364,"from"),c.Nb(),c.rc(365," "),c.Ob(366,"span",32),c.rc(367,"'./model'"),c.Nb(),c.Ob(368,"span",24),c.rc(369,";"),c.Nb(),c.rc(370,"\n\n@"),c.Ob(371,"span",33),c.rc(372,"Injectable"),c.Nb(),c.Ob(373,"span",24),c.rc(374,"("),c.Nb(),c.Ob(375,"span",24),c.rc(376,")"),c.Nb(),c.rc(377,"\n"),c.Ob(378,"span",31),c.rc(379,"export"),c.Nb(),c.rc(380," "),c.Ob(381,"span",31),c.rc(382,"class"),c.Nb(),c.rc(383," "),c.Ob(384,"span",34),c.rc(385,"TodoService"),c.Nb(),c.rc(386," "),c.Ob(387,"span",24),c.rc(388),c.Nb(),c.rc(389,"\n\n  @"),c.Ob(390,"span",33),c.rc(391,"Inject"),c.Nb(),c.Ob(392,"span",24),c.rc(393,"("),c.Nb(),c.Ob(394,"span",24),c.rc(395,")"),c.Nb(),c.rc(396,"\n  "),c.Ob(397,"span",31),c.rc(398,"private"),c.Nb(),c.rc(399," modelService"),c.Ob(400,"span",35),c.rc(401,":"),c.Nb(),c.rc(402," ModelService"),c.Ob(403,"span",24),c.rc(404,";"),c.Nb(),c.rc(405,"\n\n  "),c.Ob(406,"span",31),c.rc(407,"async"),c.Nb(),c.rc(408," "),c.Ob(409,"span",22),c.rc(410,"add"),c.Nb(),c.Ob(411,"span",24),c.rc(412,"("),c.Nb(),c.Ob(413,"span",41),c.rc(414,"todo"),c.Ob(415,"span",35),c.rc(416,":"),c.Nb(),c.rc(417," Todo"),c.Nb(),c.Ob(418,"span",24),c.rc(419,")"),c.Nb(),c.rc(420," "),c.Ob(421,"span",24),c.rc(422),c.Nb(),c.rc(423,"\n    todo"),c.Ob(424,"span",24),c.rc(425,"."),c.Nb(),c.rc(426,"created "),c.Ob(427,"span",35),c.rc(428,"="),c.Nb(),c.rc(429," "),c.Ob(430,"span",31),c.rc(431,"new"),c.Nb(),c.rc(432," "),c.Ob(433,"span",34),c.rc(434,"Date"),c.Nb(),c.Ob(435,"span",24),c.rc(436,"("),c.Nb(),c.Ob(437,"span",24),c.rc(438,")"),c.Nb(),c.Ob(439,"span",24),c.rc(440,";"),c.Nb(),c.rc(441,"\n    "),c.Ob(442,"span",31),c.rc(443,"const"),c.Nb(),c.rc(444," saved "),c.Ob(445,"span",35),c.rc(446,"="),c.Nb(),c.rc(447," "),c.Ob(448,"span",31),c.rc(449,"await"),c.Nb(),c.rc(450," "),c.Ob(451,"span",31),c.rc(452,"this"),c.Nb(),c.Ob(453,"span",24),c.rc(454,"."),c.Nb(),c.rc(455,"modelService"),c.Ob(456,"span",24),c.rc(457,"."),c.Nb(),c.Ob(458,"span",22),c.rc(459,"save"),c.Nb(),c.Ob(460,"span",24),c.rc(461,"("),c.Nb(),c.rc(462,"Todo"),c.Ob(463,"span",24),c.rc(464,","),c.Nb(),c.rc(465," todo"),c.Ob(466,"span",24),c.rc(467,")"),c.Nb(),c.Ob(468,"span",24),c.rc(469,";"),c.Nb(),c.rc(470,"\n    "),c.Ob(471,"span",31),c.rc(472,"return"),c.Nb(),c.rc(473," saved"),c.Ob(474,"span",24),c.rc(475,";"),c.Nb(),c.rc(476,"\n  "),c.Ob(477,"span",24),c.rc(478),c.Nb(),c.rc(479,"\n\n  "),c.Ob(480,"span",31),c.rc(481,"async"),c.Nb(),c.rc(482," "),c.Ob(483,"span",31),c.rc(484,"get"),c.Nb(),c.Ob(485,"span",24),c.rc(486,"("),c.Nb(),c.rc(487,"id"),c.Ob(488,"span",35),c.rc(489,":"),c.Nb(),c.rc(490," "),c.Ob(491,"span",36),c.rc(492,"string"),c.Nb(),c.Ob(493,"span",24),c.rc(494,")"),c.Nb(),c.rc(495," "),c.Ob(496,"span",24),c.rc(497),c.Nb(),c.rc(498,"\n    "),c.Ob(499,"span",31),c.rc(500,"return"),c.Nb(),c.rc(501," "),c.Ob(502,"span",31),c.rc(503,"this"),c.Nb(),c.Ob(504,"span",24),c.rc(505,"."),c.Nb(),c.rc(506,"modelService"),c.Ob(507,"span",24),c.rc(508,"."),c.Nb(),c.Ob(509,"span",22),c.rc(510,"getById"),c.Nb(),c.Ob(511,"span",24),c.rc(512,"("),c.Nb(),c.rc(513,"Todo"),c.Ob(514,"span",24),c.rc(515,","),c.Nb(),c.rc(516," id"),c.Ob(517,"span",24),c.rc(518,")"),c.Nb(),c.Ob(519,"span",24),c.rc(520,";"),c.Nb(),c.rc(521,"\n  "),c.Ob(522,"span",24),c.rc(523),c.Nb(),c.rc(524,"\n\n  "),c.Ob(525,"span",31),c.rc(526,"async"),c.Nb(),c.rc(527," "),c.Ob(528,"span",22),c.rc(529,"getAll"),c.Nb(),c.Ob(530,"span",24),c.rc(531,"("),c.Nb(),c.Ob(532,"span",41),c.rc(533,"search"),c.Ob(534,"span",35),c.rc(535,":"),c.Nb(),c.rc(536," TodoSearch"),c.Nb(),c.Ob(537,"span",24),c.rc(538,")"),c.Nb(),c.rc(539," "),c.Ob(540,"span",24),c.rc(541),c.Nb(),c.rc(542,"\n    "),c.Ob(543,"span",31),c.rc(544,"return"),c.Nb(),c.rc(545," "),c.Ob(546,"span",31),c.rc(547,"this"),c.Nb(),c.Ob(548,"span",24),c.rc(549,"."),c.Nb(),c.rc(550,"modelService"),c.Ob(551,"span",24),c.rc(552,"."),c.Nb(),c.Ob(553,"span",22),c.rc(554,"getAllByQuery"),c.Nb(),c.Ob(555,"span",24),c.rc(556,"("),c.Nb(),c.rc(557,"Todo"),c.Ob(558,"span",24),c.rc(559,","),c.Nb(),c.rc(560," search"),c.Ob(561,"span",24),c.rc(562,")"),c.Nb(),c.Ob(563,"span",24),c.rc(564,";"),c.Nb(),c.rc(565,"\n  "),c.Ob(566,"span",24),c.rc(567),c.Nb(),c.rc(568,"\n\n  ");c.Ob(569,"span",31),c.rc(570,"async"),c.Nb(),c.rc(571," "),c.Ob(572,"span",22),c.rc(573,"complete"),c.Nb(),c.Ob(574,"span",24),c.rc(575,"("),c.Nb(),c.Ob(576,"span",41),c.rc(577,"id"),c.Ob(578,"span",35),c.rc(579,":"),c.Nb(),c.rc(580," "),c.Ob(581,"span",36),c.rc(582,"string"),c.Nb(),c.Ob(583,"span",24),c.rc(584,","),c.Nb(),c.rc(585," completed "),c.Ob(586,"span",35),c.rc(587,"="),c.Nb(),c.rc(588," "),c.Ob(589,"span",42),c.rc(590,"true"),c.Nb(),c.Nb(),c.Ob(591,"span",24),c.rc(592,")"),c.Nb(),c.rc(593," "),c.Ob(594,"span",24),c.rc(595),c.Nb(),c.rc(596,"\n    "),c.Ob(597,"span",31),c.rc(598,"return"),c.Nb(),c.rc(599," "),c.Ob(600,"span",31),c.rc(601,"this"),c.Nb(),c.Ob(602,"span",24),c.rc(603,"."),c.Nb(),c.rc(604,"modelService"),c.Ob(605,"span",24),c.rc(606,"."),c.Nb(),c.Ob(607,"span",22),c.rc(608,"updatePartial"),c.Nb(),c.Ob(609,"span",24),c.rc(610,"("),c.Nb(),c.rc(611,"Todo"),c.Ob(612,"span",24),c.rc(613,","),c.Nb(),c.rc(614,"\n      Todo"),c.Ob(615,"span",24),c.rc(616,"."),c.Nb(),c.Ob(617,"span",31),c.rc(618,"from"),c.Nb(),c.Ob(619,"span",24),c.rc(620,"("),c.Nb(),c.Ob(621,"span",24),c.rc(622),c.Nb(),c.rc(623," id"),c.Ob(624,"span",24),c.rc(625,","),c.Nb(),c.rc(626," completed "),c.Ob(627,"span",24),c.rc(628),c.Nb(),c.Ob(629,"span",24),c.rc(630,")"),c.Nb(),c.rc(631,"\n    "),c.Ob(632,"span",24),c.rc(633,")"),c.Nb(),c.Ob(634,"span",24),c.rc(635,";"),c.Nb(),c.rc(636,"\n  "),c.Ob(637,"span",24),c.rc(638),c.Nb(),c.rc(639,"\n\n  "),c.Ob(640,"span",31),c.rc(641,"async"),c.Nb(),c.rc(642," "),c.Ob(643,"span",22),c.rc(644,"remove"),c.Nb(),c.Ob(645,"span",24),c.rc(646,"("),c.Nb(),c.Ob(647,"span",41),c.rc(648,"id"),c.Ob(649,"span",35),c.rc(650,":"),c.Nb(),c.rc(651," "),c.Ob(652,"span",36),c.rc(653,"string"),c.Nb(),c.Nb(),c.Ob(654,"span",24),c.rc(655,")"),c.Nb(),c.rc(656," "),c.Ob(657,"span",24),c.rc(658),c.Nb(),c.rc(659,"\n    "),c.Ob(660,"span",31),c.rc(661,"return"),c.Nb(),c.rc(662," "),c.Ob(663,"span",31),c.rc(664,"this"),c.Nb(),c.Ob(665,"span",24),c.rc(666,"."),c.Nb(),c.rc(667,"modelService"),c.Ob(668,"span",24),c.rc(669,"."),c.Nb(),c.Ob(670,"span",22),c.rc(671,"deleteById"),c.Nb(),c.Ob(672,"span",24),c.rc(673,"("),c.Nb(),c.rc(674,"Todo"),c.Ob(675,"span",24),c.rc(676,","),c.Nb(),c.rc(677," id"),c.Ob(678,"span",24),c.rc(679,")"),c.Nb(),c.Ob(680,"span",24),c.rc(681,";"),c.Nb(),c.rc(682,"\n  "),c.Ob(683,"span",24),c.rc(684),c.Nb(),c.rc(685,"\n"),c.Ob(686,"span",24),c.rc(687),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(688,"h2",43),c.rc(689,"Writing Unit tests"),c.Nb(),c.rc(690," After we have established our service layer, we will now construct some simple tests to verify the service layer is running correctly. By default we set the database schema name under "),c.Ob(691,"code",27),c.rc(692,"test/resources/application.yml"),c.Nb(),c.rc(693," to ensure we aren't writing to our dev database. "),c.Ob(694,"figure",28),c.Ob(695,"figcaption",28),c.rc(696,"Test YAML "),c.Ob(697,"cite"),c.Ob(698,"a",44),c.rc(699,"Source"),c.Nb(),c.Nb(),c.Nb(),c.Ob(700,"pre"),c.Ob(701,"code",45),c.Ob(702,"span",24),c.rc(703,"---"),c.Nb(),c.rc(704,"\n"),c.Ob(705,"span",46),c.rc(706,"mongo.model.namespace"),c.Nb(),c.Ob(707,"span",24),c.rc(708,":"),c.Nb(),c.rc(709," app"),c.Ob(710,"span",24),c.rc(711,"-"),c.Nb(),c.rc(712,"test"),c.Nb(),c.Nb(),c.Nb(),c.rc(713," Now the tests should be defined at "),c.Ob(714,"code",27),c.rc(715,"test/service.ts"),c.Nb(),c.Ob(716,"figure",28),c.Ob(717,"figcaption",28),c.rc(718,"Test bed "),c.Ob(719,"cite"),c.Ob(720,"a",47),c.rc(721,"Source"),c.Nb(),c.Nb(),c.Nb(),c.Ob(722,"pre"),c.Ob(723,"code",30),c.Ob(724,"span",31),c.rc(725,"import"),c.Nb(),c.rc(726," "),c.Ob(727,"span",35),c.rc(728,"*"),c.Nb(),c.rc(729," "),c.Ob(730,"span",31),c.rc(731,"as"),c.Nb(),c.rc(732," assert "),c.Ob(733,"span",31),c.rc(734,"from"),c.Nb(),c.rc(735," "),c.Ob(736,"span",32),c.rc(737,"'assert'"),c.Nb(),c.Ob(738,"span",24),c.rc(739,";"),c.Nb(),c.rc(740,"\n\n"),c.Ob(741,"span",31),c.rc(742,"import"),c.Nb(),c.rc(743," "),c.Ob(744,"span",24),c.rc(745),c.Nb(),c.rc(746," Suite"),c.Ob(747,"span",24),c.rc(748,","),c.Nb(),c.rc(749," Test"),c.Ob(750,"span",24),c.rc(751,","),c.Nb(),c.rc(752," BeforeAll"),c.Ob(753,"span",24),c.rc(754,","),c.Nb(),c.rc(755," AfterAll "),c.Ob(756,"span",24),c.rc(757),c.Nb(),c.rc(758," "),c.Ob(759,"span",31),c.rc(760,"from"),c.Nb(),c.rc(761," "),c.Ob(762,"span",32),c.rc(763,"'@travetto/test'"),c.Nb(),c.Ob(764,"span",24),c.rc(765,";"),c.Nb(),c.rc(766,"\n"),c.Ob(767,"span",31),c.rc(768,"import"),c.Nb(),c.rc(769," "),c.Ob(770,"span",24),c.rc(771),c.Nb(),c.rc(772," RootRegistry "),c.Ob(773,"span",24),c.rc(774),c.Nb(),c.rc(775," "),c.Ob(776,"span",31),c.rc(777,"from"),c.Nb(),c.rc(778," "),c.Ob(779,"span",32),c.rc(780,"'@travetto/registry'"),c.Nb(),c.Ob(781,"span",24),c.rc(782,";"),c.Nb(),c.rc(783,"\n"),c.Ob(784,"span",31),c.rc(785,"import"),c.Nb(),c.rc(786," "),c.Ob(787,"span",24),c.rc(788),c.Nb(),c.rc(789," DependencyRegistry "),c.Ob(790,"span",24),c.rc(791),c.Nb(),c.rc(792," "),c.Ob(793,"span",31),c.rc(794,"from"),c.Nb(),c.rc(795," "),c.Ob(796,"span",32),c.rc(797,"'@travetto/di'"),c.Nb(),c.Ob(798,"span",24),c.rc(799,";"),c.Nb(),c.rc(800,"\n"),c.Ob(801,"span",31),c.rc(802,"import"),c.Nb(),c.rc(803," "),c.Ob(804,"span",24),c.rc(805),c.Nb(),c.rc(806," ModelSource "),c.Ob(807,"span",24),c.rc(808),c.Nb(),c.rc(809," "),c.Ob(810,"span",31),c.rc(811,"from"),c.Nb(),c.rc(812," "),c.Ob(813,"span",32),c.rc(814,"'@travetto/model'"),c.Nb(),c.Ob(815,"span",24),c.rc(816,";"),c.Nb(),c.rc(817,"\n"),c.Ob(818,"span",48),c.rc(819),c.Nb(),c.rc(820,"\n\n"),c.Ob(821,"span",31),c.rc(822,"import"),c.Nb(),c.rc(823," "),c.Ob(824,"span",24),c.rc(825),c.Nb(),c.rc(826," TodoService "),c.Ob(827,"span",24),c.rc(828),c.Nb(),c.rc(829," "),c.Ob(830,"span",31),c.rc(831,"from"),c.Nb(),c.rc(832," "),c.Ob(833,"span",32),c.rc(834,"'../src/service'"),c.Nb(),c.Ob(835,"span",24),c.rc(836,";"),c.Nb(),c.rc(837,"\n"),c.Ob(838,"span",31),c.rc(839,"import"),c.Nb(),c.rc(840," "),c.Ob(841,"span",24),c.rc(842),c.Nb(),c.rc(843," Todo "),c.Ob(844,"span",24),c.rc(845),c.Nb(),c.rc(846," "),c.Ob(847,"span",31),c.rc(848,"from"),c.Nb(),c.rc(849," "),c.Ob(850,"span",32),c.rc(851,"'../src/model'"),c.Nb(),c.Ob(852,"span",24),c.rc(853,";"),c.Nb(),c.rc(854,"\n\n@"),c.Ob(855,"span",33),c.rc(856,"Suite"),c.Nb(),c.Ob(857,"span",24),c.rc(858,"("),c.Nb(),c.Ob(859,"span",24),c.rc(860,")"),c.Nb(),c.rc(861,"\n"),c.Ob(862,"span",31),c.rc(863,"export"),c.Nb(),c.rc(864," "),c.Ob(865,"span",31),c.rc(866,"class"),c.Nb(),c.rc(867," "),c.Ob(868,"span",34),c.rc(869,"TodoTest"),c.Nb(),c.rc(870," "),c.Ob(871,"span",24),c.rc(872),c.Nb(),c.rc(873,"\n\n  @"),c.Ob(874,"span",33),c.rc(875,"BeforeAll"),c.Nb(),c.Ob(876,"span",24),c.rc(877,"("),c.Nb(),c.Ob(878,"span",24),c.rc(879,")"),c.Nb(),c.rc(880,"\n  "),c.Ob(881,"span",31),c.rc(882,"async"),c.Nb(),c.rc(883," "),c.Ob(884,"span",22),c.rc(885,"init"),c.Nb(),c.Ob(886,"span",24),c.rc(887,"("),c.Nb(),c.Ob(888,"span",24),c.rc(889,")"),c.Nb(),c.rc(890," "),c.Ob(891,"span",24),c.rc(892),c.Nb(),c.rc(893,"\n    "),c.Ob(894,"span",31),c.rc(895,"await"),c.Nb(),c.rc(896," RootRegistry"),c.Ob(897,"span",24),c.rc(898,"."),c.Nb(),c.Ob(899,"span",22),c.rc(900,"init"),c.Nb(),c.Ob(901,"span",24),c.rc(902,"("),c.Nb(),c.Ob(903,"span",24),c.rc(904,")"),c.Nb(),c.Ob(905,"span",24),c.rc(906,";"),c.Nb(),c.rc(907,"\n  "),c.Ob(908,"span",24),c.rc(909),c.Nb(),c.rc(910,"\n\n  @"),c.Ob(911,"span",33),c.rc(912,"AfterAll"),c.Nb(),c.Ob(913,"span",24),c.rc(914,"("),c.Nb(),c.Ob(915,"span",24),c.rc(916,")"),c.Nb(),c.rc(917,"\n  "),c.Ob(918,"span",31),c.rc(919,"async"),c.Nb(),c.rc(920," "),c.Ob(921,"span",22),c.rc(922,"destroy"),c.Nb(),c.Ob(923,"span",24),c.rc(924,"("),c.Nb(),c.Ob(925,"span",24),c.rc(926,")"),c.Nb(),c.rc(927," "),c.Ob(928,"span",24),c.rc(929),c.Nb(),c.rc(930,"\n    "),c.Ob(931,"span",31),c.rc(932,"const"),c.Nb(),c.rc(933," source "),c.Ob(934,"span",35),c.rc(935,"="),c.Nb(),c.rc(936," "),c.Ob(937,"span",31),c.rc(938,"await"),c.Nb(),c.rc(939," DependencyRegistry"),c.Ob(940,"span",24),c.rc(941,"."),c.Nb(),c.Ob(942,"span",22),c.rc(943,"getInstance"),c.Nb(),c.Ob(944,"span",24),c.rc(945,"("),c.Nb(),c.rc(946,"ModelSource"),c.Ob(947,"span",24),c.rc(948,")"),c.Nb(),c.Ob(949,"span",24),c.rc(950,";"),c.Nb(),c.rc(951,"\n    "),c.Ob(952,"span",31),c.rc(953,"return"),c.Nb(),c.rc(954," source"),c.Ob(955,"span",24),c.rc(956,"."),c.Nb(),c.Ob(957,"span",22),c.rc(958,"clearDatabase"),c.Nb(),c.Ob(959,"span",24),c.rc(960,"("),c.Nb(),c.Ob(961,"span",24),c.rc(962,")"),c.Nb(),c.Ob(963,"span",24),c.rc(964,";"),c.Nb(),c.rc(965,"\n  "),c.Ob(966,"span",24),c.rc(967),c.Nb(),c.rc(968,"\n\n  @"),c.Ob(969,"span",33),c.rc(970,"Test"),c.Nb(),c.Ob(971,"span",24),c.rc(972,"("),c.Nb(),c.Ob(973,"span",32),c.rc(974,"'Create todo'"),c.Nb(),c.Ob(975,"span",24),c.rc(976,")"),c.Nb(),c.rc(977,"\n  "),c.Ob(978,"span",31),c.rc(979,"async"),c.Nb(),c.rc(980," "),c.Ob(981,"span",22),c.rc(982,"create"),c.Nb(),c.Ob(983,"span",24),c.rc(984,"("),c.Nb(),c.Ob(985,"span",24),c.rc(986,")"),c.Nb(),c.rc(987," "),c.Ob(988,"span",24),c.rc(989),c.Nb(),c.rc(990,"\n    "),c.Ob(991,"span",31),c.rc(992,"const"),c.Nb(),c.rc(993," svc "),c.Ob(994,"span",35),c.rc(995,"="),c.Nb(),c.rc(996," "),c.Ob(997,"span",31),c.rc(998,"await"),c.Nb(),c.rc(999," DependencyRegistry"),c.Ob(1e3,"span",24),c.rc(1001,"."),c.Nb(),c.Ob(1002,"span",22),c.rc(1003,"getInstance"),c.Nb(),c.Ob(1004,"span",24),c.rc(1005,"("),c.Nb(),c.rc(1006,"TodoService"),c.Ob(1007,"span",24),c.rc(1008,")"),c.Nb(),c.Ob(1009,"span",24),c.rc(1010,";"),c.Nb(),c.rc(1011,"\n\n    "),c.Ob(1012,"span",31),c.rc(1013,"const"),c.Nb(),c.rc(1014," test "),c.Ob(1015,"span",35),c.rc(1016,"="),c.Nb(),c.rc(1017," Todo"),c.Ob(1018,"span",24),c.rc(1019,"."),c.Nb(),c.Ob(1020,"span",31),c.rc(1021,"from"),c.Nb(),c.Ob(1022,"span",24),c.rc(1023,"("),c.Nb(),c.Ob(1024,"span",24),c.rc(1025),c.Nb(),c.rc(1026,"\n      text"),c.Ob(1027,"span",35),c.rc(1028,":"),c.Nb(),c.rc(1029," "),c.Ob(1030,"span",32),c.rc(1031,"'Sample Task'"),c.Nb(),c.rc(1032,"\n    "),c.Ob(1033,"span",24),c.rc(1034),c.Nb(),c.Ob(1035,"span",24),c.rc(1036,")"),c.Nb(),c.Ob(1037,"span",24),c.rc(1038,";"),c.Nb(),c.rc(1039,"\n\n    "),c.Ob(1040,"span",31),c.rc(1041,"const"),c.Nb(),c.rc(1042," saved "),c.Ob(1043,"span",35),c.rc(1044,"="),c.Nb(),c.rc(1045," "),c.Ob(1046,"span",31),c.rc(1047,"await"),c.Nb(),c.rc(1048," svc"),c.Ob(1049,"span",24),c.rc(1050,"."),c.Nb(),c.Ob(1051,"span",22),c.rc(1052,"add"),c.Nb(),c.Ob(1053,"span",24),c.rc(1054,"("),c.Nb(),c.rc(1055,"test"),c.Ob(1056,"span",24),c.rc(1057,")"),c.Nb(),c.Ob(1058,"span",24),c.rc(1059,";"),c.Nb(),c.rc(1060,"\n\n    assert"),c.Ob(1061,"span",24),c.rc(1062,"."),c.Nb(),c.Ob(1063,"span",22),c.rc(1064,"ok"),c.Nb(),c.Ob(1065,"span",24),c.rc(1066,"("),c.Nb(),c.rc(1067,"saved"),c.Ob(1068,"span",24),c.rc(1069,"."),c.Nb(),c.rc(1070,"id"),c.Ob(1071,"span",24),c.rc(1072,")"),c.Nb(),c.Ob(1073,"span",24),c.rc(1074,";"),c.Nb(),c.rc(1075,"\n  "),c.Ob(1076,"span",24),c.rc(1077),c.Nb(),c.rc(1078,"\n\n  @"),c.Ob(1079,"span",33),c.rc(1080,"Test"),c.Nb(),c.Ob(1081,"span",24),c.rc(1082,"("),c.Nb(),c.Ob(1083,"span",32),c.rc(1084,"'Complete todo'"),c.Nb(),c.Ob(1085,"span",24),c.rc(1086,")"),c.Nb(),c.rc(1087,"\n  "),c.Ob(1088,"span",31),c.rc(1089,"async"),c.Nb(),c.rc(1090," "),c.Ob(1091,"span",22),c.rc(1092,"complete"),c.Nb(),c.Ob(1093,"span",24),c.rc(1094,"("),c.Nb(),c.Ob(1095,"span",24),c.rc(1096,")"),c.Nb(),c.rc(1097," "),c.Ob(1098,"span",24),c.rc(1099),c.Nb(),c.rc(1100,"\n    "),c.Ob(1101,"span",31),c.rc(1102,"const"),c.Nb(),c.rc(1103," svc "),c.Ob(1104,"span",35),c.rc(1105,"="),c.Nb(),c.rc(1106," "),c.Ob(1107,"span",31),c.rc(1108,"await"),c.Nb(),c.rc(1109," DependencyRegistry"),c.Ob(1110,"span",24),c.rc(1111,"."),c.Nb(),c.Ob(1112,"span",22),c.rc(1113,"getInstance"),c.Nb(),c.Ob(1114,"span",24),c.rc(1115,"("),c.Nb(),c.rc(1116,"TodoService"),c.Ob(1117,"span",24),c.rc(1118,")"),c.Nb(),c.Ob(1119,"span",24),c.rc(1120,";"),c.Nb(),c.rc(1121,"\n\n    "),c.Ob(1122,"span",31),c.rc(1123,"const"),c.Nb(),c.rc(1124," test "),c.Ob(1125,"span",35),c.rc(1126,"="),c.Nb(),c.rc(1127," Todo"),c.Ob(1128,"span",24),c.rc(1129,"."),c.Nb(),c.Ob(1130,"span",31),c.rc(1131,"from"),c.Nb(),c.Ob(1132,"span",24),c.rc(1133,"("),c.Nb(),c.Ob(1134,"span",24),c.rc(1135),c.Nb(),c.rc(1136,"\n      text"),c.Ob(1137,"span",35),c.rc(1138,":"),c.Nb(),c.rc(1139," "),c.Ob(1140,"span",32),c.rc(1141,"'Sample Task'"),c.Nb(),c.rc(1142,"\n    "),c.Ob(1143,"span",24);c.rc(1144),c.Nb(),c.Ob(1145,"span",24),c.rc(1146,")"),c.Nb(),c.Ob(1147,"span",24),c.rc(1148,";"),c.Nb(),c.rc(1149,"\n\n    "),c.Ob(1150,"span",31),c.rc(1151,"const"),c.Nb(),c.rc(1152," saved "),c.Ob(1153,"span",35),c.rc(1154,"="),c.Nb(),c.rc(1155," "),c.Ob(1156,"span",31),c.rc(1157,"await"),c.Nb(),c.rc(1158," svc"),c.Ob(1159,"span",24),c.rc(1160,"."),c.Nb(),c.Ob(1161,"span",22),c.rc(1162,"add"),c.Nb(),c.Ob(1163,"span",24),c.rc(1164,"("),c.Nb(),c.rc(1165,"test"),c.Ob(1166,"span",24),c.rc(1167,")"),c.Nb(),c.Ob(1168,"span",24),c.rc(1169,";"),c.Nb(),c.rc(1170,"\n    assert"),c.Ob(1171,"span",24),c.rc(1172,"."),c.Nb(),c.Ob(1173,"span",22),c.rc(1174,"ok"),c.Nb(),c.Ob(1175,"span",24),c.rc(1176,"("),c.Nb(),c.rc(1177,"saved"),c.Ob(1178,"span",24),c.rc(1179,"."),c.Nb(),c.rc(1180,"id"),c.Ob(1181,"span",24),c.rc(1182,")"),c.Nb(),c.Ob(1183,"span",24),c.rc(1184,";"),c.Nb(),c.rc(1185,"\n\n    "),c.Ob(1186,"span",31),c.rc(1187,"let"),c.Nb(),c.rc(1188," updated "),c.Ob(1189,"span",35),c.rc(1190,"="),c.Nb(),c.rc(1191," "),c.Ob(1192,"span",31),c.rc(1193,"await"),c.Nb(),c.rc(1194," svc"),c.Ob(1195,"span",24),c.rc(1196,"."),c.Nb(),c.Ob(1197,"span",22),c.rc(1198,"complete"),c.Nb(),c.Ob(1199,"span",24),c.rc(1200,"("),c.Nb(),c.rc(1201,"saved"),c.Ob(1202,"span",24),c.rc(1203,"."),c.Nb(),c.rc(1204,"id"),c.Ob(1205,"span",35),c.rc(1206,"!"),c.Nb(),c.Ob(1207,"span",24),c.rc(1208,")"),c.Nb(),c.Ob(1209,"span",24),c.rc(1210,";"),c.Nb(),c.rc(1211,"\n    "),c.Ob(1212,"span",22),c.rc(1213,"assert"),c.Nb(),c.Ob(1214,"span",24),c.rc(1215,"("),c.Nb(),c.rc(1216,"updated"),c.Ob(1217,"span",24),c.rc(1218,"."),c.Nb(),c.rc(1219,"completed "),c.Ob(1220,"span",35),c.rc(1221,"==="),c.Nb(),c.rc(1222," "),c.Ob(1223,"span",42),c.rc(1224,"true"),c.Nb(),c.Ob(1225,"span",24),c.rc(1226,")"),c.Nb(),c.Ob(1227,"span",24),c.rc(1228,";"),c.Nb(),c.rc(1229,"\n\n    updated "),c.Ob(1230,"span",35),c.rc(1231,"="),c.Nb(),c.rc(1232," "),c.Ob(1233,"span",31),c.rc(1234,"await"),c.Nb(),c.rc(1235," svc"),c.Ob(1236,"span",24),c.rc(1237,"."),c.Nb(),c.Ob(1238,"span",22),c.rc(1239,"complete"),c.Nb(),c.Ob(1240,"span",24),c.rc(1241,"("),c.Nb(),c.rc(1242,"saved"),c.Ob(1243,"span",24),c.rc(1244,"."),c.Nb(),c.rc(1245,"id"),c.Ob(1246,"span",35),c.rc(1247,"!"),c.Nb(),c.Ob(1248,"span",24),c.rc(1249,","),c.Nb(),c.rc(1250," "),c.Ob(1251,"span",42),c.rc(1252,"false"),c.Nb(),c.Ob(1253,"span",24),c.rc(1254,")"),c.Nb(),c.Ob(1255,"span",24),c.rc(1256,";"),c.Nb(),c.rc(1257,"\n    "),c.Ob(1258,"span",22),c.rc(1259,"assert"),c.Nb(),c.Ob(1260,"span",24),c.rc(1261,"("),c.Nb(),c.rc(1262,"updated"),c.Ob(1263,"span",24),c.rc(1264,"."),c.Nb(),c.rc(1265,"completed "),c.Ob(1266,"span",35),c.rc(1267,"==="),c.Nb(),c.rc(1268," "),c.Ob(1269,"span",42),c.rc(1270,"false"),c.Nb(),c.Ob(1271,"span",24),c.rc(1272,")"),c.Nb(),c.Ob(1273,"span",24),c.rc(1274,";"),c.Nb(),c.rc(1275,"\n  "),c.Ob(1276,"span",24),c.rc(1277),c.Nb(),c.rc(1278,"\n\n  @"),c.Ob(1279,"span",33),c.rc(1280,"Test"),c.Nb(),c.Ob(1281,"span",24),c.rc(1282,"("),c.Nb(),c.Ob(1283,"span",32),c.rc(1284,"'Delete todo'"),c.Nb(),c.Ob(1285,"span",24),c.rc(1286,")"),c.Nb(),c.rc(1287,"\n  "),c.Ob(1288,"span",31),c.rc(1289,"async"),c.Nb(),c.rc(1290," "),c.Ob(1291,"span",22),c.rc(1292,"remove"),c.Nb(),c.Ob(1293,"span",24),c.rc(1294,"("),c.Nb(),c.Ob(1295,"span",24),c.rc(1296,")"),c.Nb(),c.rc(1297," "),c.Ob(1298,"span",24),c.rc(1299),c.Nb(),c.rc(1300,"\n    "),c.Ob(1301,"span",31),c.rc(1302,"const"),c.Nb(),c.rc(1303," svc "),c.Ob(1304,"span",35),c.rc(1305,"="),c.Nb(),c.rc(1306," "),c.Ob(1307,"span",31),c.rc(1308,"await"),c.Nb(),c.rc(1309," DependencyRegistry"),c.Ob(1310,"span",24),c.rc(1311,"."),c.Nb(),c.Ob(1312,"span",22),c.rc(1313,"getInstance"),c.Nb(),c.Ob(1314,"span",24),c.rc(1315,"("),c.Nb(),c.rc(1316,"TodoService"),c.Ob(1317,"span",24),c.rc(1318,")"),c.Nb(),c.Ob(1319,"span",24),c.rc(1320,";"),c.Nb(),c.rc(1321,"\n\n    "),c.Ob(1322,"span",31),c.rc(1323,"const"),c.Nb(),c.rc(1324," test "),c.Ob(1325,"span",35),c.rc(1326,"="),c.Nb(),c.rc(1327," Todo"),c.Ob(1328,"span",24),c.rc(1329,"."),c.Nb(),c.Ob(1330,"span",31),c.rc(1331,"from"),c.Nb(),c.Ob(1332,"span",24),c.rc(1333,"("),c.Nb(),c.Ob(1334,"span",24),c.rc(1335),c.Nb(),c.rc(1336,"\n      text"),c.Ob(1337,"span",35),c.rc(1338,":"),c.Nb(),c.rc(1339," "),c.Ob(1340,"span",32),c.rc(1341,"'Sample Task'"),c.Nb(),c.rc(1342,"\n    "),c.Ob(1343,"span",24),c.rc(1344),c.Nb(),c.Ob(1345,"span",24),c.rc(1346,")"),c.Nb(),c.Ob(1347,"span",24),c.rc(1348,";"),c.Nb(),c.rc(1349,"\n\n    "),c.Ob(1350,"span",31),c.rc(1351,"const"),c.Nb(),c.rc(1352," saved "),c.Ob(1353,"span",35),c.rc(1354,"="),c.Nb(),c.rc(1355," "),c.Ob(1356,"span",31),c.rc(1357,"await"),c.Nb(),c.rc(1358," svc"),c.Ob(1359,"span",24),c.rc(1360,"."),c.Nb(),c.Ob(1361,"span",22),c.rc(1362,"add"),c.Nb(),c.Ob(1363,"span",24),c.rc(1364,"("),c.Nb(),c.rc(1365,"test"),c.Ob(1366,"span",24),c.rc(1367,")"),c.Nb(),c.Ob(1368,"span",24),c.rc(1369,";"),c.Nb(),c.rc(1370,"\n    assert"),c.Ob(1371,"span",24),c.rc(1372,"."),c.Nb(),c.Ob(1373,"span",22),c.rc(1374,"ok"),c.Nb(),c.Ob(1375,"span",24),c.rc(1376,"("),c.Nb(),c.rc(1377,"saved"),c.Ob(1378,"span",24),c.rc(1379,"."),c.Nb(),c.rc(1380,"id"),c.Ob(1381,"span",24),c.rc(1382,")"),c.Nb(),c.Ob(1383,"span",24),c.rc(1384,";"),c.Nb(),c.rc(1385,"\n    "),c.Ob(1386,"span",22),c.rc(1387,"assert"),c.Nb(),c.Ob(1388,"span",24),c.rc(1389,"("),c.Nb(),c.rc(1390,"test"),c.Ob(1391,"span",24),c.rc(1392,"."),c.Nb(),c.rc(1393,"text "),c.Ob(1394,"span",35),c.rc(1395,"==="),c.Nb(),c.rc(1396," "),c.Ob(1397,"span",32),c.rc(1398,"'Sample Task'"),c.Nb(),c.Ob(1399,"span",24),c.rc(1400,")"),c.Nb(),c.Ob(1401,"span",24),c.rc(1402,";"),c.Nb(),c.rc(1403,"\n\n    "),c.Ob(1404,"span",31),c.rc(1405,"await"),c.Nb(),c.rc(1406," svc"),c.Ob(1407,"span",24),c.rc(1408,"."),c.Nb(),c.Ob(1409,"span",22),c.rc(1410,"remove"),c.Nb(),c.Ob(1411,"span",24),c.rc(1412,"("),c.Nb(),c.rc(1413,"saved"),c.Ob(1414,"span",24),c.rc(1415,"."),c.Nb(),c.rc(1416,"id"),c.Ob(1417,"span",35),c.rc(1418,"!"),c.Nb(),c.Ob(1419,"span",24),c.rc(1420,")"),c.Nb(),c.Ob(1421,"span",24),c.rc(1422,";"),c.Nb(),c.rc(1423,"\n\n    "),c.Ob(1424,"span",31),c.rc(1425,"try"),c.Nb(),c.rc(1426," "),c.Ob(1427,"span",24),c.rc(1428),c.Nb(),c.rc(1429,"\n      "),c.Ob(1430,"span",31),c.rc(1431,"await"),c.Nb(),c.rc(1432," svc"),c.Ob(1433,"span",24),c.rc(1434,"."),c.Nb(),c.Ob(1435,"span",31),c.rc(1436,"get"),c.Nb(),c.Ob(1437,"span",24),c.rc(1438,"("),c.Nb(),c.rc(1439,"saved"),c.Ob(1440,"span",24),c.rc(1441,"."),c.Nb(),c.rc(1442,"id"),c.Ob(1443,"span",35),c.rc(1444,"!"),c.Nb(),c.Ob(1445,"span",24),c.rc(1446,")"),c.Nb(),c.Ob(1447,"span",24),c.rc(1448,";"),c.Nb(),c.rc(1449,"\n    "),c.Ob(1450,"span",24),c.rc(1451),c.Nb(),c.rc(1452," "),c.Ob(1453,"span",31),c.rc(1454,"catch"),c.Nb(),c.rc(1455," "),c.Ob(1456,"span",24),c.rc(1457,"("),c.Nb(),c.rc(1458,"e"),c.Ob(1459,"span",24),c.rc(1460,")"),c.Nb(),c.rc(1461," "),c.Ob(1462,"span",24),c.rc(1463),c.Nb(),c.rc(1464,"\n      "),c.Ob(1465,"span",22),c.rc(1466,"assert"),c.Nb(),c.Ob(1467,"span",24),c.rc(1468,"("),c.Nb(),c.rc(1469,"e"),c.Ob(1470,"span",24),c.rc(1471,"."),c.Nb(),c.rc(1472,"message"),c.Ob(1473,"span",24),c.rc(1474,")"),c.Nb(),c.Ob(1475,"span",24),c.rc(1476,";"),c.Nb(),c.rc(1477,"\n    "),c.Ob(1478,"span",24),c.rc(1479),c.Nb(),c.rc(1480,"\n  "),c.Ob(1481,"span",24),c.rc(1482),c.Nb(),c.rc(1483,"\n"),c.Ob(1484,"span",24),c.rc(1485),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(1486,"h2",49),c.rc(1487,"Adding Rest Routes"),c.Nb(),c.rc(1488,"\nNow we establish the routes, providing an interface to the service layer. Finally, we establish the controller at "),c.Ob(1489,"code",27),c.rc(1490,"src/route.ts"),c.Nb(),c.Ob(1491,"figure",28),c.Ob(1492,"figcaption",28),c.rc(1493,"Controller contents "),c.Ob(1494,"cite"),c.Ob(1495,"a",50),c.rc(1496,"Source"),c.Nb(),c.Nb(),c.Nb(),c.Ob(1497,"pre"),c.Ob(1498,"code",30),c.Ob(1499,"span",31),c.rc(1500,"import"),c.Nb(),c.rc(1501," "),c.Ob(1502,"span",24),c.rc(1503),c.Nb(),c.rc(1504," Controller"),c.Ob(1505,"span",24),c.rc(1506,","),c.Nb(),c.rc(1507," Get"),c.Ob(1508,"span",24),c.rc(1509,","),c.Nb(),c.rc(1510," Post"),c.Ob(1511,"span",24),c.rc(1512,","),c.Nb(),c.rc(1513," Put"),c.Ob(1514,"span",24),c.rc(1515,","),c.Nb(),c.rc(1516," Delete"),c.Ob(1517,"span",24),c.rc(1518,","),c.Nb(),c.rc(1519," Path"),c.Ob(1520,"span",24),c.rc(1521,","),c.Nb(),c.rc(1522," Query "),c.Ob(1523,"span",24),c.rc(1524),c.Nb(),c.rc(1525," "),c.Ob(1526,"span",31),c.rc(1527,"from"),c.Nb(),c.rc(1528," "),c.Ob(1529,"span",32),c.rc(1530,"'@travetto/rest'"),c.Nb(),c.Ob(1531,"span",24),c.rc(1532,";"),c.Nb(),c.rc(1533,"\n"),c.Ob(1534,"span",31),c.rc(1535,"import"),c.Nb(),c.rc(1536," "),c.Ob(1537,"span",24),c.rc(1538),c.Nb(),c.rc(1539," Inject "),c.Ob(1540,"span",24),c.rc(1541),c.Nb(),c.rc(1542," "),c.Ob(1543,"span",31),c.rc(1544,"from"),c.Nb(),c.rc(1545," "),c.Ob(1546,"span",32),c.rc(1547,"'@travetto/di'"),c.Nb(),c.Ob(1548,"span",24),c.rc(1549,";"),c.Nb(),c.rc(1550,"\n"),c.Ob(1551,"span",31),c.rc(1552,"import"),c.Nb(),c.rc(1553," "),c.Ob(1554,"span",24),c.rc(1555),c.Nb(),c.rc(1556," SchemaBody"),c.Ob(1557,"span",24),c.rc(1558,","),c.Nb(),c.rc(1559," SchemaQuery "),c.Ob(1560,"span",24),c.rc(1561),c.Nb(),c.rc(1562," "),c.Ob(1563,"span",31),c.rc(1564,"from"),c.Nb(),c.rc(1565," "),c.Ob(1566,"span",32),c.rc(1567,"'@travetto/schema'"),c.Nb(),c.Ob(1568,"span",24),c.rc(1569,";"),c.Nb(),c.rc(1570,"\n\n"),c.Ob(1571,"span",31),c.rc(1572,"import"),c.Nb(),c.rc(1573," "),c.Ob(1574,"span",24),c.rc(1575),c.Nb(),c.rc(1576," TodoService "),c.Ob(1577,"span",24),c.rc(1578),c.Nb(),c.rc(1579," "),c.Ob(1580,"span",31),c.rc(1581,"from"),c.Nb(),c.rc(1582," "),c.Ob(1583,"span",32),c.rc(1584,"'./service'"),c.Nb(),c.Ob(1585,"span",24),c.rc(1586,";"),c.Nb(),c.rc(1587,"\n"),c.Ob(1588,"span",31),c.rc(1589,"import"),c.Nb(),c.rc(1590," "),c.Ob(1591,"span",24),c.rc(1592),c.Nb(),c.rc(1593," Todo"),c.Ob(1594,"span",24),c.rc(1595,","),c.Nb(),c.rc(1596," TodoSearch "),c.Ob(1597,"span",24),c.rc(1598),c.Nb(),c.rc(1599," "),c.Ob(1600,"span",31),c.rc(1601,"from"),c.Nb(),c.rc(1602," "),c.Ob(1603,"span",32),c.rc(1604,"'./model'"),c.Nb(),c.Ob(1605,"span",24),c.rc(1606,";"),c.Nb(),c.rc(1607,"\n\n@"),c.Ob(1608,"span",33),c.rc(1609,"Controller"),c.Nb(),c.Ob(1610,"span",24),c.rc(1611,"("),c.Nb(),c.Ob(1612,"span",32),c.rc(1613,"'/todo'"),c.Nb(),c.Ob(1614,"span",24),c.rc(1615,")"),c.Nb(),c.rc(1616,"\n"),c.Ob(1617,"span",31),c.rc(1618,"export"),c.Nb(),c.rc(1619," "),c.Ob(1620,"span",31),c.rc(1621,"class"),c.Nb(),c.rc(1622," "),c.Ob(1623,"span",34),c.rc(1624,"TodoController"),c.Nb(),c.rc(1625," "),c.Ob(1626,"span",24),c.rc(1627),c.Nb(),c.rc(1628,"\n\n  @"),c.Ob(1629,"span",33),c.rc(1630,"Inject"),c.Nb(),c.Ob(1631,"span",24),c.rc(1632,"("),c.Nb(),c.Ob(1633,"span",24),c.rc(1634,")"),c.Nb(),c.rc(1635,"\n  "),c.Ob(1636,"span",31),c.rc(1637,"private"),c.Nb(),c.rc(1638," svc"),c.Ob(1639,"span",35),c.rc(1640,":"),c.Nb(),c.rc(1641," TodoService"),c.Ob(1642,"span",24),c.rc(1643,";"),c.Nb(),c.rc(1644,"\n\n  "),c.Ob(1645,"span",48),c.rc(1646,"/**\n   * Get all todos\n   */"),c.Nb(),c.rc(1647,"\n  @"),c.Ob(1648,"span",33),c.rc(1649,"Get"),c.Nb(),c.Ob(1650,"span",24),c.rc(1651,"("),c.Nb(),c.Ob(1652,"span",32),c.rc(1653,"'/'"),c.Nb(),c.Ob(1654,"span",24),c.rc(1655,")"),c.Nb(),c.rc(1656,"\n  "),c.Ob(1657,"span",31),c.rc(1658,"async"),c.Nb(),c.rc(1659," "),c.Ob(1660,"span",22),c.rc(1661,"getAll"),c.Nb(),c.Ob(1662,"span",24),c.rc(1663,"("),c.Nb(),c.Ob(1664,"span",41),c.rc(1665,"@"),c.Ob(1666,"span",33),c.rc(1667,"SchemaQuery"),c.Nb(),c.Ob(1668,"span",24),c.rc(1669,"("),c.Nb(),c.Ob(1670,"span",24),c.rc(1671,")"),c.Nb(),c.rc(1672," search"),c.Ob(1673,"span",35),c.rc(1674,":"),c.Nb(),c.rc(1675," TodoSearch"),c.Nb(),c.Ob(1676,"span",24),c.rc(1677,")"),c.Nb(),c.rc(1678," "),c.Ob(1679,"span",24),c.rc(1680),c.Nb(),c.rc(1681,"\n    "),c.Ob(1682,"span",31),c.rc(1683,"return"),c.Nb(),c.rc(1684," "),c.Ob(1685,"span",31),c.rc(1686,"this"),c.Nb(),c.Ob(1687,"span",24),c.rc(1688,"."),c.Nb(),c.rc(1689,"svc"),c.Ob(1690,"span",24),c.rc(1691,"."),c.Nb(),c.Ob(1692,"span",22),c.rc(1693,"getAll"),c.Nb(),c.Ob(1694,"span",24),c.rc(1695,"("),c.Nb(),c.rc(1696,"search"),c.Ob(1697,"span",24),c.rc(1698,")"),c.Nb(),c.Ob(1699,"span",24),c.rc(1700,";"),c.Nb(),c.rc(1701,"\n  "),c.Ob(1702,"span",24),c.rc(1703),c.Nb(),c.rc(1704,"\n\n  "),c.Ob(1705,"span",48),c.rc(1706,"/**\n   * Get Todo by id\n   * @param id Todo id\n   */"),c.Nb(),c.rc(1707,"\n  @"),c.Ob(1708,"span",33),c.rc(1709,"Get"),c.Nb(),c.Ob(1710,"span",24),c.rc(1711,"("),c.Nb(),c.Ob(1712,"span",32),c.rc(1713,"'/:id'"),c.Nb(),c.Ob(1714,"span",24),c.rc(1715,")"),c.Nb(),c.rc(1716,"\n  "),c.Ob(1717,"span",31),c.rc(1718,"async"),c.Nb(),c.rc(1719," "),c.Ob(1720,"span",22);c.rc(1721,"getById"),c.Nb(),c.Ob(1722,"span",24),c.rc(1723,"("),c.Nb(),c.Ob(1724,"span",41),c.rc(1725,"@"),c.Ob(1726,"span",33),c.rc(1727,"Path"),c.Nb(),c.Ob(1728,"span",24),c.rc(1729,"("),c.Nb(),c.Ob(1730,"span",24),c.rc(1731,")"),c.Nb(),c.rc(1732," id"),c.Ob(1733,"span",35),c.rc(1734,":"),c.Nb(),c.rc(1735," "),c.Ob(1736,"span",36),c.rc(1737,"string"),c.Nb(),c.Nb(),c.Ob(1738,"span",24),c.rc(1739,")"),c.Nb(),c.rc(1740," "),c.Ob(1741,"span",24),c.rc(1742),c.Nb(),c.rc(1743,"\n    "),c.Ob(1744,"span",31),c.rc(1745,"return"),c.Nb(),c.rc(1746," "),c.Ob(1747,"span",31),c.rc(1748,"this"),c.Nb(),c.Ob(1749,"span",24),c.rc(1750,"."),c.Nb(),c.rc(1751,"svc"),c.Ob(1752,"span",24),c.rc(1753,"."),c.Nb(),c.Ob(1754,"span",31),c.rc(1755,"get"),c.Nb(),c.Ob(1756,"span",24),c.rc(1757,"("),c.Nb(),c.rc(1758,"id"),c.Ob(1759,"span",24),c.rc(1760,")"),c.Nb(),c.Ob(1761,"span",24),c.rc(1762,";"),c.Nb(),c.rc(1763,"\n  "),c.Ob(1764,"span",24),c.rc(1765),c.Nb(),c.rc(1766,"\n\n  "),c.Ob(1767,"span",48),c.rc(1768,"/**\n   * Create a todo\n   */"),c.Nb(),c.rc(1769,"\n  @"),c.Ob(1770,"span",33),c.rc(1771,"Post"),c.Nb(),c.Ob(1772,"span",24),c.rc(1773,"("),c.Nb(),c.Ob(1774,"span",32),c.rc(1775,"'/'"),c.Nb(),c.Ob(1776,"span",24),c.rc(1777,")"),c.Nb(),c.rc(1778,"\n  "),c.Ob(1779,"span",31),c.rc(1780,"async"),c.Nb(),c.rc(1781," "),c.Ob(1782,"span",22),c.rc(1783,"create"),c.Nb(),c.Ob(1784,"span",24),c.rc(1785,"("),c.Nb(),c.Ob(1786,"span",41),c.rc(1787,"@"),c.Ob(1788,"span",33),c.rc(1789,"SchemaBody"),c.Nb(),c.Ob(1790,"span",24),c.rc(1791,"("),c.Nb(),c.Ob(1792,"span",24),c.rc(1793,")"),c.Nb(),c.rc(1794," todo"),c.Ob(1795,"span",35),c.rc(1796,":"),c.Nb(),c.rc(1797," Todo"),c.Nb(),c.Ob(1798,"span",24),c.rc(1799,")"),c.Nb(),c.rc(1800," "),c.Ob(1801,"span",24),c.rc(1802),c.Nb(),c.rc(1803,"\n    "),c.Ob(1804,"span",31),c.rc(1805,"return"),c.Nb(),c.rc(1806," "),c.Ob(1807,"span",31),c.rc(1808,"await"),c.Nb(),c.rc(1809," "),c.Ob(1810,"span",31),c.rc(1811,"this"),c.Nb(),c.Ob(1812,"span",24),c.rc(1813,"."),c.Nb(),c.rc(1814,"svc"),c.Ob(1815,"span",24),c.rc(1816,"."),c.Nb(),c.Ob(1817,"span",22),c.rc(1818,"add"),c.Nb(),c.Ob(1819,"span",24),c.rc(1820,"("),c.Nb(),c.rc(1821,"todo"),c.Ob(1822,"span",24),c.rc(1823,")"),c.Nb(),c.Ob(1824,"span",24),c.rc(1825,";"),c.Nb(),c.rc(1826,"\n  "),c.Ob(1827,"span",24),c.rc(1828),c.Nb(),c.rc(1829,"\n\n  "),c.Ob(1830,"span",48),c.rc(1831,"/**\n   * Complete a todo\n   * @param id Todo id\n   */"),c.Nb(),c.rc(1832,"\n  @"),c.Ob(1833,"span",33),c.rc(1834,"Put"),c.Nb(),c.Ob(1835,"span",24),c.rc(1836,"("),c.Nb(),c.Ob(1837,"span",32),c.rc(1838,"'/:id/complete'"),c.Nb(),c.Ob(1839,"span",24),c.rc(1840,")"),c.Nb(),c.rc(1841,"\n  "),c.Ob(1842,"span",31),c.rc(1843,"async"),c.Nb(),c.rc(1844," "),c.Ob(1845,"span",22),c.rc(1846,"complete"),c.Nb(),c.Ob(1847,"span",24),c.rc(1848,"("),c.Nb(),c.Ob(1849,"span",41),c.rc(1850,"@"),c.Ob(1851,"span",33),c.rc(1852,"Path"),c.Nb(),c.Ob(1853,"span",24),c.rc(1854,"("),c.Nb(),c.Ob(1855,"span",24),c.rc(1856,")"),c.Nb(),c.rc(1857," id"),c.Ob(1858,"span",35),c.rc(1859,":"),c.Nb(),c.rc(1860," "),c.Ob(1861,"span",36),c.rc(1862,"string"),c.Nb(),c.Ob(1863,"span",24),c.rc(1864,","),c.Nb(),c.rc(1865," @"),c.Ob(1866,"span",33),c.rc(1867,"Query"),c.Nb(),c.Ob(1868,"span",24),c.rc(1869,"("),c.Nb(),c.Ob(1870,"span",24),c.rc(1871,")"),c.Nb(),c.rc(1872," completed"),c.Ob(1873,"span",35),c.rc(1874,":"),c.Nb(),c.rc(1875," "),c.Ob(1876,"span",36),c.rc(1877,"boolean"),c.Nb(),c.rc(1878," "),c.Ob(1879,"span",35),c.rc(1880,"="),c.Nb(),c.rc(1881," "),c.Ob(1882,"span",42),c.rc(1883,"true"),c.Nb(),c.Nb(),c.Ob(1884,"span",24),c.rc(1885,")"),c.Nb(),c.rc(1886," "),c.Ob(1887,"span",24),c.rc(1888),c.Nb(),c.rc(1889,"\n    "),c.Ob(1890,"span",31),c.rc(1891,"return"),c.Nb(),c.rc(1892," "),c.Ob(1893,"span",31),c.rc(1894,"await"),c.Nb(),c.rc(1895," "),c.Ob(1896,"span",31),c.rc(1897,"this"),c.Nb(),c.Ob(1898,"span",24),c.rc(1899,"."),c.Nb(),c.rc(1900,"svc"),c.Ob(1901,"span",24),c.rc(1902,"."),c.Nb(),c.Ob(1903,"span",22),c.rc(1904,"complete"),c.Nb(),c.Ob(1905,"span",24),c.rc(1906,"("),c.Nb(),c.rc(1907,"id"),c.Ob(1908,"span",24),c.rc(1909,","),c.Nb(),c.rc(1910," completed"),c.Ob(1911,"span",24),c.rc(1912,")"),c.Nb(),c.Ob(1913,"span",24),c.rc(1914,";"),c.Nb(),c.rc(1915,"\n  "),c.Ob(1916,"span",24),c.rc(1917),c.Nb(),c.rc(1918,"\n\n  "),c.Ob(1919,"span",48),c.rc(1920,"/**\n   * Delete a todo\n   * @param id Todo id\n   */"),c.Nb(),c.rc(1921,"\n  @"),c.Ob(1922,"span",33),c.rc(1923,"Delete"),c.Nb(),c.Ob(1924,"span",24),c.rc(1925,"("),c.Nb(),c.Ob(1926,"span",32),c.rc(1927,"'/:id'"),c.Nb(),c.Ob(1928,"span",24),c.rc(1929,")"),c.Nb(),c.rc(1930,"\n  "),c.Ob(1931,"span",31),c.rc(1932,"async"),c.Nb(),c.rc(1933," "),c.Ob(1934,"span",22),c.rc(1935,"remove"),c.Nb(),c.Ob(1936,"span",24),c.rc(1937,"("),c.Nb(),c.Ob(1938,"span",41),c.rc(1939,"@"),c.Ob(1940,"span",33),c.rc(1941,"Path"),c.Nb(),c.Ob(1942,"span",24),c.rc(1943,"("),c.Nb(),c.Ob(1944,"span",24),c.rc(1945,")"),c.Nb(),c.rc(1946," id"),c.Ob(1947,"span",35),c.rc(1948,":"),c.Nb(),c.rc(1949," "),c.Ob(1950,"span",36),c.rc(1951,"string"),c.Nb(),c.Nb(),c.Ob(1952,"span",24),c.rc(1953,")"),c.Nb(),c.rc(1954," "),c.Ob(1955,"span",24),c.rc(1956),c.Nb(),c.rc(1957,"\n    "),c.Ob(1958,"span",31),c.rc(1959,"await"),c.Nb(),c.rc(1960," "),c.Ob(1961,"span",31),c.rc(1962,"this"),c.Nb(),c.Ob(1963,"span",24),c.rc(1964,"."),c.Nb(),c.rc(1965,"svc"),c.Ob(1966,"span",24),c.rc(1967,"."),c.Nb(),c.Ob(1968,"span",22),c.rc(1969,"remove"),c.Nb(),c.Ob(1970,"span",24),c.rc(1971,"("),c.Nb(),c.rc(1972,"id"),c.Ob(1973,"span",24),c.rc(1974,")"),c.Nb(),c.Ob(1975,"span",24),c.rc(1976,";"),c.Nb(),c.rc(1977,"\n  "),c.Ob(1978,"span",24),c.rc(1979),c.Nb(),c.rc(1980,"\n"),c.Ob(1981,"span",24),c.rc(1982),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(1983,"h2",51),c.rc(1984,"Running the App"),c.Nb(),c.rc(1985," First we must start the application: "),c.Ob(1986,"figure",20),c.Ob(1987,"figcaption",20),c.rc(1988,"Application Startup "),c.Nb(),c.Ob(1989,"pre"),c.Ob(1990,"code",21),c.rc(1991,"$ /bin/bash alt/docs/bin/startup.sh\n\n"),c.Ob(1992,"span",52),c.rc(1993,"2020"),c.Nb(),c.rc(1994,"-07-04T19:08:38.547Z info  "),c.Ob(1995,"span",24),c.rc(1996,"["),c.Nb(),c.rc(1997,"./node_modules/@travetto/app/src/registry.ts:32"),c.Ob(1998,"span",24),c.rc(1999,"]"),c.Nb(),c.rc(2e3," Running application rest @travetto/rest/support/application.rest.ts\n"),c.Ob(2001,"span",52),c.rc(2002,"2020"),c.Nb(),c.rc(2003,"-07-04T19:08:38.560Z info  "),c.Ob(2004,"span",24),c.rc(2005,"["),c.Nb(),c.rc(2006,"./node_modules/@travetto/app/src/registry.ts:33"),c.Ob(2007,"span",24),c.rc(2008,"]"),c.Nb(),c.rc(2009," Configured "),c.Ob(2010,"span",24),c.rc(2011),c.Nb(),c.rc(2012,"\n  app: "),c.Ob(2013,"span",24),c.rc(2014),c.Nb(),c.rc(2015,"\n    watch: true,\n    readonly: false,\n    travetto: "),c.Ob(2016,"span",32),c.rc(2017,"'1.0.0-rc.8'"),c.Nb(),c.rc(2018,",\n    name: "),c.Ob(2019,"span",32),c.rc(2020,"'@travetto/todo-app'"),c.Nb(),c.rc(2021,",\n    version: undefined,\n    license: "),c.Ob(2022,"span",32),c.rc(2023,"'ISC'"),c.Nb(),c.rc(2024,",\n    description: "),c.Ob(2025,"span",32),c.rc(2026,"''"),c.Nb(),c.rc(2027,",\n    author: "),c.Ob(2028,"span",32),c.rc(2029,"''"),c.Nb(),c.rc(2030,",\n    env: "),c.Ob(2031,"span",32),c.rc(2032,"'dev'"),c.Nb(),c.rc(2033,",\n    profiles: "),c.Ob(2034,"span",24),c.rc(2035,"["),c.Nb(),c.rc(2036," "),c.Ob(2037,"span",32),c.rc(2038,"'application'"),c.Nb(),c.rc(2039,", "),c.Ob(2040,"span",32),c.rc(2041,"'dev'"),c.Nb(),c.rc(2042," "),c.Ob(2043,"span",24),c.rc(2044,"]"),c.Nb(),c.rc(2045,",\n    roots: "),c.Ob(2046,"span",24),c.rc(2047,"["),c.Nb(),c.rc(2048," "),c.Ob(2049,"span",32),c.rc(2050,"'.'"),c.Nb(),c.rc(2051," "),c.Ob(2052,"span",24),c.rc(2053,"]"),c.Nb(),c.rc(2054,",\n    resourceRoots: "),c.Ob(2055,"span",24),c.rc(2056,"["),c.Nb(),c.rc(2057," "),c.Ob(2058,"span",32),c.rc(2059,"'.'"),c.Nb(),c.rc(2060," "),c.Ob(2061,"span",24),c.rc(2062,"]"),c.Nb(),c.rc(2063,",\n    debug: "),c.Ob(2064,"span",24),c.rc(2065),c.Nb(),c.rc(2066," status: false, value: undefined "),c.Ob(2067,"span",24),c.rc(2068),c.Nb(),c.rc(2069,"\n  "),c.Ob(2070,"span",24),c.rc(2071),c.Nb(),c.rc(2072,",\n  config: "),c.Ob(2073,"span",24),c.rc(2074),c.Nb(),c.rc(2075,"\n    rest: "),c.Ob(2076,"span",24),c.rc(2077),c.Nb(),c.rc(2078," cors: "),c.Ob(2079,"span",24),c.rc(2080),c.Nb(),c.rc(2081," active: "),c.Ob(2082,"span",42),c.rc(2083,"true"),c.Nb(),c.rc(2084," "),c.Ob(2085,"span",24),c.rc(2086),c.Nb(),c.rc(2087," "),c.Ob(2088,"span",24),c.rc(2089),c.Nb(),c.rc(2090,",\n    api: "),c.Ob(2091,"span",24),c.rc(2092),c.Nb(),c.rc(2093," spec: "),c.Ob(2094,"span",24),c.rc(2095),c.Nb(),c.rc(2096," output: "),c.Ob(2097,"span",32),c.rc(2098,"'./openapi.json'"),c.Nb(),c.rc(2099," "),c.Ob(2100,"span",24),c.rc(2101),c.Nb(),c.rc(2102," "),c.Ob(2103,"span",24),c.rc(2104),c.Nb(),c.rc(2105,",\n    sql: "),c.Ob(2106,"span",24),c.rc(2107),c.Nb(),c.rc(2108,"\n      model: "),c.Ob(2109,"span",24),c.rc(2110),c.Nb(),c.rc(2111," namespace: "),c.Ob(2112,"span",32),c.rc(2113,"'todo'"),c.Nb(),c.rc(2114,", user: "),c.Ob(2115,"span",32),c.rc(2116,"'root'"),c.Nb(),c.rc(2117,", password: "),c.Ob(2118,"span",32),c.rc(2119,"'password'"),c.Nb(),c.rc(2120," "),c.Ob(2121,"span",24),c.rc(2122),c.Nb(),c.rc(2123,"\n    "),c.Ob(2124,"span",24),c.rc(2125),c.Nb(),c.rc(2126,"\n  "),c.Ob(2127,"span",24),c.rc(2128),c.Nb(),c.rc(2129,"\n"),c.Ob(2130,"span",24),c.rc(2131),c.Nb(),c.rc(2132,"\n"),c.Ob(2133,"span",52),c.rc(2134,"2020"),c.Nb(),c.rc(2135,"-07-04T19:08:38.636Z info  "),c.Ob(2136,"span",24),c.rc(2137,"["),c.Nb(),c.rc(2138,"./node_modules/@travetto/rest/src/server/server.ts:187"),c.Ob(2139,"span",24),c.rc(2140,"]"),c.Nb(),c.rc(2141," Listening on "),c.Ob(2142,"span",52),c.rc(2143,"3000"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.rc(2144," next, let's execute "),c.Ob(2145,"a",53),c.rc(2146,"curl"),c.Nb(),c.rc(2147," requests to interact with the new api "),c.Ob(2148,"figure",28),c.Ob(2149,"figcaption",28),c.rc(2150,"Creating Todo by curl "),c.Ob(2151,"cite"),c.Ob(2152,"a",54),c.rc(2153,"Source"),c.Nb(),c.Nb(),c.Nb(),c.Ob(2154,"pre"),c.Ob(2155,"code",21),c.Ob(2156,"span",22),c.rc(2157,"curl"),c.Nb(),c.rc(2158," -XPOST localhost:3000/todo -H "),c.Ob(2159,"span",32),c.rc(2160,"'Content-Type: application/json'"),c.Nb(),c.rc(2161," -d "),c.Ob(2162,"span",32),c.rc(2163),c.Nb(),c.rc(2164," "),c.Ob(2165,"span",35),c.rc(2166,"|"),c.Nb(),c.rc(2167," jq"),c.Nb(),c.Nb(),c.Nb(),c.Ob(2168,"figure",20),c.Ob(2169,"figcaption",20),c.rc(2170,"Create Output "),c.Nb(),c.Ob(2171,"pre"),c.Ob(2172,"code",21),c.rc(2173,"$ "),c.Ob(2174,"span",22),c.rc(2175,"sh"),c.Nb(),c.rc(2176," alt/docs/bin/create.sh\n\n"),c.Ob(2177,"span",24),c.rc(2178),c.Nb(),c.rc(2179,"\n  "),c.Ob(2180,"span",32),c.rc(2181,'"text"'),c.Nb(),c.Ob(2182,"span",23),c.rc(2183,":"),c.Nb(),c.rc(2184," "),c.Ob(2185,"span",32),c.rc(2186,'"New Todo"'),c.Nb(),c.rc(2187,",\n  "),c.Ob(2188,"span",32),c.rc(2189,'"created"'),c.Nb(),c.Ob(2190,"span",23),c.rc(2191,":"),c.Nb(),c.rc(2192," "),c.Ob(2193,"span",32),c.rc(2194,'"2020-07-04T19:08:42.806Z"'),c.Nb(),c.rc(2195,",\n  "),c.Ob(2196,"span",32),c.rc(2197,'"id"'),c.Nb(),c.Ob(2198,"span",23),c.rc(2199,":"),c.Nb(),c.rc(2200," "),c.Ob(2201,"span",32),c.rc(2202,'"5f00d3ba0d329bf4725788bc"'),c.Nb(),c.rc(2203,"\n"),c.Ob(2204,"span",24),c.rc(2205),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(2206,"figure",28),c.Ob(2207,"figcaption",28),c.rc(2208,"Listing Todos by curl "),c.Ob(2209,"cite"),c.Ob(2210,"a",55),c.rc(2211,"Source"),c.Nb(),c.Nb(),c.Nb(),c.Ob(2212,"pre"),c.Ob(2213,"code",21),c.Ob(2214,"span",22),c.rc(2215,"curl"),c.Nb(),c.rc(2216," -XGET localhost:3000/todo -H "),c.Ob(2217,"span",32),c.rc(2218,"'Content-Type: application/json'"),c.Nb(),c.rc(2219," "),c.Ob(2220,"span",35),c.rc(2221,"|"),c.Nb(),c.rc(2222," jq"),c.Nb(),c.Nb(),c.Nb(),c.Ob(2223,"figure",20),c.Ob(2224,"figcaption",20),c.rc(2225,"Listing Output "),c.Nb(),c.Ob(2226,"pre"),c.Ob(2227,"code",21),c.rc(2228,"$ "),c.Ob(2229,"span",22),c.rc(2230,"sh"),c.Nb(),c.rc(2231," alt/docs/bin/list.sh\n\n"),c.Ob(2232,"span",24),c.rc(2233,"["),c.Nb(),c.rc(2234,"\n  "),c.Ob(2235,"span",24),c.rc(2236),c.Nb(),c.rc(2237,"\n    "),c.Ob(2238,"span",32),c.rc(2239,'"id"'),c.Nb(),c.Ob(2240,"span",23),c.rc(2241,":"),c.Nb(),c.rc(2242," "),c.Ob(2243,"span",32),c.rc(2244,'"5f00d3ba0d329bf4725788bc"'),c.Nb(),c.rc(2245,",\n    "),c.Ob(2246,"span",32),c.rc(2247,'"text"'),c.Nb(),c.Ob(2248,"span",23),c.rc(2249,":"),c.Nb(),c.rc(2250," "),c.Ob(2251,"span",32),c.rc(2252,'"New Todo"'),c.Nb(),c.rc(2253,",\n    "),c.Ob(2254,"span",32),c.rc(2255,'"created"'),c.Nb(),c.Ob(2256,"span",23),c.rc(2257,":"),c.Nb(),c.rc(2258," "),c.Ob(2259,"span",32),c.rc(2260,'"2020-07-04T19:08:42.806Z"'),c.Nb(),c.rc(2261,"\n  "),c.Ob(2262,"span",24),c.rc(2263),c.Nb(),c.rc(2264,"\n"),c.Ob(2265,"span",24),c.rc(2266,"]"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()}2&r&&(c.zb(86),c.sc("{"),c.zb(3),c.sc("}"),c.zb(36),c.sc("{"),c.zb(3),c.sc("}"),c.zb(14),c.sc("{"),c.zb(3),c.sc("}"),c.zb(27),c.sc("{"),c.zb(69),c.sc("}"),c.zb(19),c.sc("{"),c.zb(23),c.sc("}"),c.zb(35),c.sc("{"),c.zb(3),c.sc("}"),c.zb(14),c.sc("{"),c.zb(6),c.sc("}"),c.zb(14),c.sc("{"),c.zb(6),c.sc("}"),c.zb(27),c.sc("{"),c.zb(34),c.sc("{"),c.zb(56),c.sc("}"),c.zb(19),c.sc("{"),c.zb(26),c.sc("}"),c.zb(18),c.sc("{"),c.zb(26),c.sc("}"),c.zb(28),c.sc("{"),c.zb(27),c.sc("{"),c.zb(6),c.sc("}"),c.zb(10),c.sc("}"),c.zb(20),c.sc("{"),c.zb(26),c.sc("}"),c.zb(3),c.sc("}"),c.zb(58),c.sc("{"),c.zb(12),c.sc("}"),c.zb(14),c.sc("{"),c.zb(3),c.sc("}"),c.zb(14),c.sc("{"),c.zb(3),c.sc("}"),c.zb(14),c.sc("{"),c.zb(3),c.sc("}"),c.zb(11),c.uc("// import ","{"," BaseSQLModelTest ","}"," from '@travetto/model-sql/support/test.model-sql';"),c.zb(6),c.sc("{"),c.zb(3),c.sc("}"),c.zb(14),c.sc("{"),c.zb(3),c.sc("}"),c.zb(27),c.sc("{"),c.zb(20),c.sc("{"),c.zb(17),c.sc("}"),c.zb(20),c.sc("{"),c.zb(38),c.sc("}"),c.zb(22),c.sc("{"),c.zb(36),c.sc("{"),c.zb(9),c.sc("}"),c.zb(43),c.sc("}"),c.zb(22),c.sc("{"),c.zb(36),c.sc("{"),c.zb(9),c.sc("}"),c.zb(133),c.sc("}"),c.zb(22),c.sc("{"),c.zb(36),c.sc("{"),c.zb(9),c.sc("}"),c.zb(84),c.sc("{"),c.zb(23),c.sc("}"),c.zb(12),c.sc("{"),c.zb(16),c.sc("}"),c.zb(3),c.sc("}"),c.zb(3),c.sc("}"),c.zb(18),c.sc("{"),c.zb(21),c.sc("}"),c.zb(14),c.sc("{"),c.zb(3),c.sc("}"),c.zb(14),c.sc("{"),c.zb(6),c.sc("}"),c.zb(14),c.sc("{"),c.zb(3),c.sc("}"),c.zb(14),c.sc("{"),c.zb(6),c.sc("}"),c.zb(29),c.sc("{"),c.zb(53),c.sc("{"),c.zb(23),c.sc("}"),c.zb(39),c.sc("{"),c.zb(23),c.sc("}"),c.zb(37),c.sc("{"),c.zb(26),c.sc("}"),c.zb(60),c.sc("{"),c.zb(29),c.sc("}"),c.zb(39),c.sc("{"),c.zb(23),c.sc("}"),c.zb(3),c.sc("}"),c.zb(29),c.sc("{"),c.zb(3),c.sc("{"),c.zb(51),c.sc("{"),c.zb(3),c.sc("}"),c.zb(3),c.sc("}"),c.zb(3),c.sc("{"),c.zb(3),c.sc("{"),c.zb(3),c.sc("{"),c.zb(6),c.sc("}"),c.zb(3),c.sc("}"),c.zb(3),c.sc("{"),c.zb(3),c.sc("{"),c.zb(6),c.sc("}"),c.zb(3),c.sc("}"),c.zb(3),c.sc("{"),c.zb(3),c.sc("{"),c.zb(12),c.sc("}"),c.zb(3),c.sc("}"),c.zb(3),c.sc("}"),c.zb(3),c.sc("}"),c.zb(32),c.uc("'","{",' "text": "New Todo" ',"}","'"),c.zb(15),c.sc("{"),c.zb(27),c.sc("}"),c.zb(31),c.sc("{"),c.zb(27),c.sc("}"))},directives:[Ir.d],styles:['[_nghost-%COMP%]{display:grid;grid-template-areas:"nav content";grid-template-columns:300px 1fr;grid-column-gap:10px}@media (max-width:700px){[_nghost-%COMP%]{grid-template-columns:1fr;grid-template-areas:"nav" "content";max-width:700px;overflow:auto}}.documentation[_ngcontent-%COMP%]{grid-area:content;padding:1em}.toc[_ngcontent-%COMP%]{grid-area:nav}']}),r}(),hc=n("Q4Jd"),dc=function(r){return{active:r}};function fc(r,e){if(1&r&&(c.Ob(0,"li",8),c.Ob(1,"a",5),c.rc(2),c.Nb(),c.Nb()),2&r){var n=e.$implicit,t=c.Xb(3);c.cc("ngClass",c.ec(3,dc,t.hasFragment(n.path))),c.zb(1),c.cc("routerLink","/docs/"+n.path),c.zb(1),c.sc(n.title)}}function mc(r,e){if(1&r&&(c.Ob(0,"ul"),c.qc(1,fc,3,5,"li",7),c.Nb()),2&r){var n=c.Xb().$implicit;c.zb(1),c.cc("ngForOf",n.subs)}}var vc=function(){return["active"]};function gc(r,e){if(1&r&&(c.Ob(0,"li",4),c.Ob(1,"a",5),c.rc(2),c.Nb(),c.qc(3,mc,2,1,"ul",6),c.Nb()),2&r){var n=e.$implicit;c.Bb(n.path),c.cc("routerLinkActive",c.dc(7,vc)),c.zb(1),c.cc("routerLink","/docs/"+n.path),c.zb(1),c.sc(n.title),c.zb(1),c.cc("ngIf",n.subs)}}var yc=function(){function r(r){var e=this;this.router=r,this.pages=function(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;var t=Array(r),c=0;for(e=0;e<n;e++)for(var a=arguments[e],s=0,b=a.length;s<b;s++,c++)t[c]=a[s];return t}([{path:"overview",title:"Overview"}],hc.PAGES),this.url="",r.events.subscribe((function(r){r instanceof Ir.a&&(e.url=r.url)}))}return r.prototype.hasFragment=function(r){return this.url.endsWith("#"+r)},r.\u0275fac=function(e){return new(e||r)(c.Lb(Ir.b))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-documentation"]],decls:8,vars:1,consts:[[1,"toc"],[1,"inner"],[3,"routerLinkActive","class",4,"ngFor","ngForOf"],[1,"router-outlet"],[3,"routerLinkActive"],[3,"routerLink"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(r,e){1&r&&(c.Ob(0,"div",0),c.Ob(1,"div",1),c.Ob(2,"h3"),c.rc(3,"Pages"),c.Nb(),c.Ob(4,"ul"),c.qc(5,gc,4,8,"li",2),c.Nb(),c.Nb(),c.Nb(),c.Ob(6,"div",3),c.Mb(7,"router-outlet"),c.Nb()),2&r&&(c.zb(5),c.cc("ngForOf",e.pages))},directives:[l.k,Ir.f,Ir.c,Ir.d,l.l,l.j],styles:['[_nghost-%COMP%]{display:grid;grid-template-areas:"nav content";grid-column-gap:10px;grid-template-columns:300px 1fr}[_nghost-%COMP%]   .documentation-links[_ngcontent-%COMP%]{grid-area:nav}[_nghost-%COMP%]   .router-outlet[_ngcontent-%COMP%]{grid-area:content;overflow:hidden}[_nghost-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   li.active[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   li.core[_ngcontent-%COMP%], [_nghost-%COMP%]   li.util[_ngcontent-%COMP%]{border-top:1px dotted #ccc;padding-top:.5em;margin-top:.25em}@media (max-width:700px){[_nghost-%COMP%]{grid-template-columns:1fr;grid-template-areas:"nav" "content";max-width:700px;overflow:auto}.documentation-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:none}}']}),r}();function kc(r,e){if(1&r&&(c.Ob(0,"li",6),c.Mb(1,"a",3),c.Nb()),2&r){var n=e.$implicit;c.zb(1),c.cc("routerLink","/docs/"+n.path)("innerHtml",n.title,c.kc)}}function _c(r,e){if(1&r&&(c.Ob(0,"ul"),c.qc(1,kc,2,2,"li",5),c.Nb()),2&r){var n=c.Xb().$implicit;c.zb(1),c.cc("ngForOf",n.subs)}}function wc(r,e){if(1&r&&(c.Ob(0,"div"),c.Mb(1,"a",3),c.qc(2,_c,2,1,"ul",4),c.Nb()),2&r){var n=e.$implicit;c.Bb(n.path),c.zb(1),c.cc("routerLink","/docs/"+n.path)("innerHtml",n.title,c.kc),c.zb(1),c.cc("ngIf",n.subs&&n.subs.length)}}var Sc=function(){function r(){this.pages=hc.PAGES}return r.prototype.ngOnInit=function(){},r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Fb({type:r,selectors:[["app-module-chart"]],decls:3,vars:1,consts:[[1,"documentation"],[1,"modules"],[3,"class",4,"ngFor","ngForOf"],[3,"routerLink","innerHtml"],[4,"ngIf"],["class","sub",4,"ngFor","ngForOf"],[1,"sub"]],template:function(r,e){1&r&&(c.Ob(0,"div",0),c.Ob(1,"div",1),c.qc(2,wc,3,5,"div",2),c.Nb(),c.Nb()),2&r&&(c.zb(2),c.cc("ngForOf",e.pages))},directives:[l.k,Ir.d,l.l],styles:[".common-lib[_ngcontent-%COMP%]{background-color:#e0ffff}.lib[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .asset[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .utils[_ngcontent-%COMP%]{background-color:#add8e6}.modules[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .base[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .core[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .di[_ngcontent-%COMP%], .system[_ngcontent-%COMP%]{background-color:#eee}.core-comps[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .model[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .schema[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .test[_ngcontent-%COMP%]{background-color:#90ee90}.external-comps[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .cli[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .generator-app[_ngcontent-%COMP%], .modules[_ngcontent-%COMP%]   .vscode-plugin[_ngcontent-%COMP%]{background-color:pink;-ms-writing-mode:tb-lr;writing-mode:vertical-lr;transform:rotate(180deg);min-width:unset}.modules[_ngcontent-%COMP%]{max-width:900px;display:grid;grid-template-columns:auto repeat(6,1fr) auto auto;grid-template-rows:10;margin:1em 0}.modules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-radius:5px;display:block;text-align:center;min-width:80px;opacity:.8;margin:5px;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;transition:opacity .5s;box-shadow:1px 1px .3em -.1em #000}.modules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-size:20pt;line-height:2em;text-decoration:none;display:block}.modules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.modules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{display:inline-block;padding-right:1em}.modules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11pt}.modules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]:last-of-type{padding-right:0}.modules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{opacity:1}.modules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.modules[_ngcontent-%COMP%]   .cli[_ngcontent-%COMP%]{grid-row:3/span 8;grid-column:8}.modules[_ngcontent-%COMP%]   .vscode-plugin[_ngcontent-%COMP%]{grid-row:3/span 8;grid-column:9}.modules[_ngcontent-%COMP%]   .generator-app[_ngcontent-%COMP%]{grid-row:3/span 8;grid-column:1}.modules[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]{grid-row:3;grid-column:2/span 6}.modules[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{grid-row:4;grid-column:6/span 2}.modules[_ngcontent-%COMP%]   .auth[_ngcontent-%COMP%]{grid-row:4;grid-column:4/span 2}.modules[_ngcontent-%COMP%]   .model[_ngcontent-%COMP%]{grid-row:4;grid-column:2/span 2}.modules[_ngcontent-%COMP%]   .asset[_ngcontent-%COMP%]{grid-row:5;grid-column:6/span 2}.modules[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]{grid-row:5;grid-column:4/span 2}.modules[_ngcontent-%COMP%]   .schema[_ngcontent-%COMP%]{grid-row:5;grid-column:2/span 2}.modules[_ngcontent-%COMP%]   .di[_ngcontent-%COMP%]{grid-row:6;grid-column:5/span 3}.modules[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{grid-row:6;grid-column:2/span 3}.modules[_ngcontent-%COMP%]   .test[_ngcontent-%COMP%]{grid-row:7;grid-column:2/span 6}.modules[_ngcontent-%COMP%]   .utils[_ngcontent-%COMP%]{grid-row:8;grid-column:2/span 6}.modules[_ngcontent-%COMP%]   .core[_ngcontent-%COMP%]{grid-row:9;grid-column:2/span 6}"]}),r}(),zc=function(){function r(){}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Fb({type:r,selectors:[["app-overview"]],decls:35,vars:0,consts:[[1,"documentation"]],template:function(r,e){1&r&&(c.Ob(0,"div",0),c.Ob(1,"h1"),c.rc(2," The Travetto Framework\n"),c.Nb(),c.Ob(3,"p"),c.rc(4,"The goal of the framework is to provide a holistic application platform with the a focus on interactive development."),c.Nb(),c.Ob(5,"h2"),c.rc(6,"Philosophy"),c.Nb(),c.Ob(7,"p"),c.rc(8,"The framework relies up five key principles:"),c.Nb(),c.Ob(9,"ul"),c.Ob(10,"li"),c.Ob(11,"strong"),c.rc(12,"Typescript as a development platform."),c.Nb(),c.rc(13," This means the framework is intimately tied to typescript and it's compiler."),c.Nb(),c.Ob(14,"li"),c.Ob(15,"strong"),c.rc(16,"Code over configuration."),c.Nb(),c.rc(17," This means that the framework prefers meta-programming via decorators over configuration. Code is always the best place to define configuration."),c.Nb(),c.Ob(18,"li"),c.Ob(19,"strong"),c.rc(20,"Do not ask the developer to repeat information."),c.Nb(),c.rc(21," Specifically, source code transformation (and analysis) is a key element of providing seamless functionality while requiring as little as possible from the person using the framework."),c.Nb(),c.Ob(22,"li"),c.Ob(23,"strong"),c.rc(24,"Strive for a minimal footprint."),c.Nb(),c.rc(25," When libraries are considered, an overarching goal is to keep the size and quantity of dependencies and functionality to a minimum. The net result should be as little code as possible, and as few dependencies as possible."),c.Nb(),c.Ob(26,"li"),c.Ob(27,"strong"),c.rc(28,"Development responsiveness is paramount."),c.Nb(),c.rc(29," The framework should aim for instant feedback when possible to minimize the time between making a change and seeing it."),c.Nb(),c.Nb(),c.Ob(30,"h2"),c.rc(31,"Modules"),c.Nb(),c.Ob(32,"p"),c.rc(33,"Every module within the framework follows the overarching philosophy. For the most part each module is as isolated as possible. The modules are stacked vertically to generally indicate dependencies. The only exception is for common libraries, which are unrelated."),c.Nb(),c.Nb(),c.Mb(34,"app-module-chart"))},directives:[Sc],styles:['h1[_ngcontent-%COMP%]   sub[_ngcontent-%COMP%], img[alt="Module Layout"][_ngcontent-%COMP%]{display:none}@media (max-width:700px){.documentation[_ngcontent-%COMP%]   app-module-chart[_ngcontent-%COMP%]{max-width:700px;overflow-x:auto}}']}),r}();function Cc(){throw Error("Host already has a portal attached")}var jc=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"attach",value:function(r){return null==r&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),r.hasAttached()&&Cc(),this._attachedHost=r,r.attach(this)}},{key:"detach",value:function(){var r=this._attachedHost;null==r?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,r.detach())}},{key:"setAttachedHost",value:function(r){this._attachedHost=r}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),r}(),xc=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c,a){var s;return Object(b.a)(this,n),(s=e.call(this)).component=r,s.viewContainerRef=t,s.injector=c,s.componentFactoryResolver=a,s}return n}(jc),Tc=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c){var a;return Object(b.a)(this,n),(a=e.call(this)).templateRef=r,a.viewContainerRef=t,a.context=c,a}return Object(i.a)(n,[{key:"attach",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,Object(a.a)(Object(s.a)(n.prototype),"attach",this).call(this,r)}},{key:"detach",value:function(){return this.context=void 0,Object(a.a)(Object(s.a)(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(jc),Ec=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){var t;return Object(b.a)(this,n),(t=e.call(this)).element=r instanceof c.l?r.nativeElement:r,t}return n}(jc),Pc=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t,c,i,o){var p,l;return Object(b.a)(this,n),(l=e.call(this)).outletElement=r,l._componentFactoryResolver=t,l._appRef=c,l._defaultInjector=i,l.attachDomPortal=function(r){if(!l._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=r.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var t=l._document.createComment("dom-portal");e.parentNode.insertBefore(t,e),l.outletElement.appendChild(e),Object(a.a)((p=Object(Rr.a)(l),Object(s.a)(n.prototype)),"setDisposeFn",p).call(p,(function(){t.parentNode&&t.parentNode.replaceChild(e,t)}))},l._document=o,l}return Object(i.a)(n,[{key:"attachComponentPortal",value:function(r){var e,n=this,t=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);return r.viewContainerRef?(e=r.viewContainerRef.createComponent(t,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=t.create(r.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(r){var e=this,n=r.viewContainerRef,t=n.createEmbeddedView(r.templateRef,r.context);return t.detectChanges(),t.rootNodes.forEach((function(r){return e.outletElement.appendChild(r)})),this.setDisposeFn((function(){var r=n.indexOf(t);-1!==r&&n.remove(r)})),t}},{key:"dispose",value:function(){Object(a.a)(Object(s.a)(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(r){return r.hostView.rootNodes[0]}}]),n}(function(){function r(){Object(b.a)(this,r),this._isDisposed=!1,this.attachDomPortal=null}return Object(i.a)(r,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(r){return r||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Cc(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),r instanceof xc?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof Tc?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof Ec?(this._attachedPortal=r,this.attachDomPortal(r)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(r){this._disposeFn=r}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),r}()),Ac=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)}}),r}(),Ic=n("VRyK"),Rc=n("DH7j"),Mc=n("n6bG");function Lc(r,e,n,t){return Object(Mc.a)(n)&&(t=n,n=void 0),t?Lc(r,e,n).pipe(Object(K.a)((function(r){return Object(Rc.a)(r)?t.apply(void 0,Object(H.a)(r)):t(r)}))):new W.a((function(t){!function r(e,n,t,c,a){var s;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(e)){var b=e;e.addEventListener(n,t,a),s=function(){return b.removeEventListener(n,t,a)}}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(e)){var i=e;e.on(n,t),s=function(){return i.off(n,t)}}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(e)){var o=e;e.addListener(n,t),s=function(){return o.removeListener(n,t)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var p=0,l=e.length;p<l;p++)r(e[p],n,t,c,a)}c.add(s)}(r,e,(function(r){t.next(arguments.length>1?Array.prototype.slice.call(arguments):r)}),t,n)}))}function Dc(r){return!Object(Rc.a)(r)&&r-parseFloat(r)+1>=0}var Fc=n("z+Ro");function Uc(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,t=-1;return Dc(e)?t=Number(e)<1?1:Number(e):Object(Fc.a)(e)&&(n=e),Object(Fc.a)(n)||(n=qr),new W.a((function(e){var c=Dc(r)?r:+r-n.now();return n.schedule(qc,c,{index:0,period:t,subscriber:e})}))}function qc(r){var e=r.index,n=r.period,t=r.subscriber;if(t.next(e),!t.closed){if(-1===n)return t.complete();r.index=e+1,this.schedule(r,n)}}var Bc=n("l7GE"),Hc=n("ZUHj"),Vc=function(){function r(e){Object(b.a)(this,r),this.notifier=e}return Object(i.a)(r,[{key:"call",value:function(r,e){var n=new Wc(r),t=Object(Hc.a)(n,this.notifier);return t&&!n.seenValue?(n.add(t),e.subscribe(n)):n}}]),r}(),Wc=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r){var t;return Object(b.a)(this,n),(t=e.call(this,r)).seenValue=!1,t}return Object(i.a)(n,[{key:"notifyNext",value:function(r,e,n,t,c){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Bc.a);function Gc(r){return function(e){return e.lift(new Qc(r))}}var Qc=function(){function r(e){Object(b.a)(this,r),this.durationSelector=e}return Object(i.a)(r,[{key:"call",value:function(r,e){return e.subscribe(new Kc(r,this.durationSelector))}}]),r}(),Kc=function(r){Object(o.a)(n,r);var e=Object(p.a)(n);function n(r,t){var c;return Object(b.a)(this,n),(c=e.call(this,r)).durationSelector=t,c.hasValue=!1,c}return Object(i.a)(n,[{key:"_next",value:function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(r)}catch(t){return this.destination.error(t)}var n=Object(Hc.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var r=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(r))}},{key:"notifyNext",value:function(r,e,n,t){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Bc.a);function $c(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qr;return Gc((function(){return Uc(r,e)}))}n("eIep"),n("EY2u"),n("9ppp"),n("Ylt2");var Jc=function(){var r=function(){function r(e,n,t){Object(b.a)(this,r),this._ngZone=e,this._platform=n,this._scrolled=new Mr.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=t}return Object(i.a)(r,[{key:"register",value:function(r){var e=this;this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe((function(){return e._scrolled.next(r)})))}},{key:"deregister",value:function(r){var e=this.scrollContainers.get(r);e&&(e.unsubscribe(),this.scrollContainers.delete(r))}},{key:"scrolled",value:function(){var r=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new W.a((function(n){r._globalSubscription||r._addGlobalListener();var t=e>0?r._scrolled.pipe($c(e)).subscribe(n):r._scrolled.subscribe(n);return r._scrolledCount++,function(){t.unsubscribe(),r._scrolledCount--,r._scrolledCount||r._removeGlobalListener()}})):Object(V.a)()}},{key:"ngOnDestroy",value:function(){var r=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return r.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(r,e){var n=this.getAncestorScrollContainers(r);return this.scrolled(e).pipe(Object(Q.a)((function(r){return!r||n.indexOf(r)>-1})))}},{key:"getAncestorScrollContainers",value:function(r){var e=this,n=[];return this.scrollContainers.forEach((function(t,c){e._scrollableContainsElement(c,r)&&n.push(c)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(r,e){var n=e.nativeElement,t=r.getElementRef().nativeElement;do{if(n==t)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var r=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Lc(r._getWindow().document,"scroll").subscribe((function(){return r._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(c.z),c.Sb($r),c.Sb(l.d,8))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)(c.z),Object(c.Sb)($r),Object(c.Sb)(l.d,8))},token:r,providedIn:"root"}),r}(),Zc=function(){var r=function(){function r(e,n,t){var c=this;Object(b.a)(this,r),this._platform=e,this._document=t,n.runOutsideAngular((function(){var r=c._getWindow();c._change=e.isBrowser?Object(Ic.a)(Lc(r,"resize"),Lc(r,"orientationchange")):Object(V.a)(),c._invalidateCache=c.change().subscribe((function(){return c._updateViewportSize()}))}))}return Object(i.a)(r,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}},{key:"getViewportRect",value:function(){var r=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,t=e.height;return{top:r.top,left:r.left,bottom:r.top+t,right:r.left+n,height:t,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var r=this._getDocument(),e=this._getWindow(),n=r.documentElement,t=n.getBoundingClientRect();return{top:-t.top||r.body.scrollTop||e.scrollY||n.scrollTop||0,left:-t.left||r.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return r>0?this._change.pipe($c(r)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb($r),c.Sb(c.z),c.Sb(l.d,8))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)($r),Object(c.Sb)(c.z),Object(c.Sb)(l.d,8))},token:r,providedIn:"root"}),r}(),Yc=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)}}),r}(),Xc=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[pe,Jr,Yc],pe,Yc]}),r}(),ra=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[l.c,Dt,Ac,Yt,re,be],Dt]}),r}(),ea=function(){function r(e,n){Object(b.a)(this,r),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return Object(i.a)(r,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Wr(-this._previousScrollPosition.left),r.style.top=Wr(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var r=this._document.documentElement,e=r.style,n=this._document.body.style,t=e.scrollBehavior||"",c=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=t,n.scrollBehavior=c}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var r=this._document.body,e=this._viewportRuler.getViewportSize();return r.scrollHeight>e.height||r.scrollWidth>e.width}}]),r}();function na(){return Error("Scroll strategy has already been attached.")}var ta=function(){function r(e,n,t,c){var a=this;Object(b.a)(this,r),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=t,this._config=c,this._scrollSubscription=null,this._detach=function(){a.disable(),a._overlayRef.hasAttached()&&a._ngZone.run((function(){return a._overlayRef.detach()}))}}return Object(i.a)(r,[{key:"attach",value:function(r){if(this._overlayRef)throw na();this._overlayRef=r}},{key:"enable",value:function(){var r=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=r._viewportRuler.getViewportScrollPosition().top;Math.abs(e-r._initialScrollPosition)>r._config.threshold?r._detach():r._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),r}(),ca=function(){function r(){Object(b.a)(this,r)}return Object(i.a)(r,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),r}();function aa(r,e){return e.some((function(e){return r.bottom<e.top||r.top>e.bottom||r.right<e.left||r.left>e.right}))}function sa(r,e){return e.some((function(e){return r.top<e.top||r.bottom>e.bottom||r.left<e.left||r.right>e.right}))}var ba=function(){function r(e,n,t,c){Object(b.a)(this,r),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=t,this._config=c,this._scrollSubscription=null}return Object(i.a)(r,[{key:"attach",value:function(r){if(this._overlayRef)throw na();this._overlayRef=r}},{key:"enable",value:function(){var r=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(r._overlayRef.updatePosition(),r._config&&r._config.autoClose){var e=r._overlayRef.overlayElement.getBoundingClientRect(),n=r._viewportRuler.getViewportSize(),t=n.width,c=n.height;aa(e,[{width:t,height:c,bottom:c,right:t,top:0,left:0}])&&(r.disable(),r._ngZone.run((function(){return r._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),r}(),ia=function(){var r=function r(e,n,t,c){var a=this;Object(b.a)(this,r),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=t,this.noop=function(){return new ca},this.close=function(r){return new ta(a._scrollDispatcher,a._ngZone,a._viewportRuler,r)},this.block=function(){return new ea(a._viewportRuler,a._document)},this.reposition=function(r){return new ba(a._scrollDispatcher,a._viewportRuler,a._ngZone,r)},this._document=c};return r.\u0275fac=function(e){return new(e||r)(c.Sb(Jc),c.Sb(Zc),c.Sb(c.z),c.Sb(l.d))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)(Jc),Object(c.Sb)(Zc),Object(c.Sb)(c.z),Object(c.Sb)(l.d))},token:r,providedIn:"root"}),r}(),oa=function r(e){if(Object(b.a)(this,r),this.scrollStrategy=new ca,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,t=Object.keys(e);n<t.length;n++){var c=t[n];void 0!==e[c]&&(this[c]=e[c])}},pa=function r(e,n,t,c,a){Object(b.a)(this,r),this.offsetX=t,this.offsetY=c,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},la=function(){return function r(e,n){Object(b.a)(this,r),this.connectionPair=e,this.scrollableViewProperties=n}}();function ua(r,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(r,' "').concat(e,'". ')+'Expected "top", "bottom" or "center".')}function Oa(r,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(r,' "').concat(e,'". ')+'Expected "start", "end" or "center".')}var Na=function(){var r=function(){function r(e){var n=this;Object(b.a)(this,r),this._attachedOverlays=[],this._keydownListener=function(r){for(var e=n._attachedOverlays,t=e.length-1;t>-1;t--)if(e[t]._keydownEvents.observers.length>0){e[t]._keydownEvents.next(r);break}},this._document=e}return Object(i.a)(r,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(r){this.remove(r),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(r)}},{key:"remove",value:function(r){var e=this._attachedOverlays.indexOf(r);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(l.d))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)(l.d))},token:r,providedIn:"root"}),r}(),ha=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),da=function(){var r=function(){function r(e,n){Object(b.a)(this,r),this._platform=n,this._document=e}return Object(i.a)(r,[{key:"ngOnDestroy",value:function(){var r=this._containerElement;r&&r.parentNode&&r.parentNode.removeChild(r)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var r=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(r||ha)for(var e=this._document.querySelectorAll(".".concat("cdk-overlay-container",'[platform="server"], ')+".".concat("cdk-overlay-container",'[platform="test"]')),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),ha?t.setAttribute("platform","test"):r||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(l.d),c.Sb($r))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)(l.d),Object(c.Sb)($r))},token:r,providedIn:"root"}),r}(),fa=function(){function r(e,n,t,c,a,s,i,o){var p=this;Object(b.a)(this,r),this._portalOutlet=e,this._host=n,this._pane=t,this._config=c,this._ngZone=a,this._keyboardDispatcher=s,this._document=i,this._location=o,this._backdropElement=null,this._backdropClick=new Mr.a,this._attachments=new Mr.a,this._detachments=new Mr.a,this._locationChanges=Lr.a.EMPTY,this._backdropClickHandler=function(r){return p._backdropClick.next(r)},this._keydownEvents=new Mr.a,c.scrollStrategy&&(this._scrollStrategy=c.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=c.positionStrategy}return Object(i.a)(r,[{key:"attach",value:function(r){var e=this,n=this._portalOutlet.attach(r);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(Br.a)(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),r}}},{key:"dispose",value:function(){var r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,r&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(r){this._config=Object.assign(Object.assign({},this._config),r),this._updateElementSize()}},{key:"setDirection",value:function(r){this._config=Object.assign(Object.assign({},this._config),{direction:r}),this._updateElementDirection()}},{key:"addPanelClass",value:function(r){this._pane&&this._toggleClasses(this._pane,r,!0)}},{key:"removePanelClass",value:function(r){this._pane&&this._toggleClasses(this._pane,r,!1)}},{key:"getDirection",value:function(){var r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}},{key:"updateScrollStrategy",value:function(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var r=this._pane.style;r.width=Wr(this._config.width),r.height=Wr(this._config.height),r.minWidth=Wr(this._config.minWidth),r.minHeight=Wr(this._config.minHeight),r.maxWidth=Wr(this._config.maxWidth),r.maxHeight=Wr(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(r){this._pane.style.pointerEvents=r?"auto":"none"}},{key:"_attachBackdrop",value:function(){var r=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){r._backdropElement&&r._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var r=this,e=this._backdropElement;if(e){var n,t=function t(){e&&(e.removeEventListener("click",r._backdropClickHandler),e.removeEventListener("transitionend",t),e.parentNode&&e.parentNode.removeChild(e)),r._backdropElement==e&&(r._backdropElement=null),r._config.backdropClass&&r._toggleClasses(e,r._config.backdropClass,!1),clearTimeout(n)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){e.addEventListener("transitionend",t)})),e.style.pointerEvents="none",n=this._ngZone.runOutsideAngular((function(){return setTimeout(t,500)}))}}},{key:"_toggleClasses",value:function(r,e,n){var t=r.classList;Vr(e).forEach((function(r){r&&(n?t.add(r):t.remove(r))}))}},{key:"_detachContentWhenStable",value:function(){var r=this;this._ngZone.runOutsideAngular((function(){var e,n=r._ngZone.onStable.asObservable().pipe((e=Object(Ic.a)(r._attachments,r._detachments),function(r){return r.lift(new Vc(e))})).subscribe((function(){r._pane&&r._host&&0!==r._pane.children.length||(r._pane&&r._config.panelClass&&r._toggleClasses(r._pane,r._config.panelClass,!1),r._host&&r._host.parentElement&&(r._previousHostParent=r._host.parentElement,r._previousHostParent.removeChild(r._host)),n.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),r}(),ma=/([A-Za-z%]+)$/,va=function(){function r(e,n,t,c,a){Object(b.a)(this,r),this._viewportRuler=n,this._document=t,this._platform=c,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mr.a,this._resizeSubscription=Lr.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return Object(i.a)(r,[{key:"attach",value:function(r){var e=this;if(this._overlayRef&&r!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),r.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var r,e,n=this._originRect,t=this._overlayRect,c=this._viewportRect,a=[],s=Object(ve.a)(this._preferredPositions);try{for(s.s();!(e=s.n()).done;){var b=e.value,i=this._getOriginPoint(n,b),o=this._getOverlayPoint(i,t,b),p=this._getOverlayFit(o,t,c,b);if(p.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(b,i);this._canFitWithFlexibleDimensions(p,o,c)?a.push({position:b,origin:i,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(i,b)}):(!r||r.overlayFit.visibleArea<p.visibleArea)&&(r={overlayFit:p,overlayPoint:o,originPoint:i,position:b,overlayRect:t})}}catch(f){s.e(f)}finally{s.f()}if(a.length){var l,u=null,O=-1,N=Object(ve.a)(a);try{for(N.s();!(l=N.n()).done;){var h=l.value,d=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);d>O&&(O=d,u=h)}}catch(f){N.e(f)}finally{N.f()}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&ga(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var r=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,r);this._applyPosition(r,e)}}},{key:"withScrollableContainers",value:function(r){return this._scrollables=r,this}},{key:"withPositions",value:function(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(r){return this._viewportMargin=r,this}},{key:"withFlexibleDimensions",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=r,this}},{key:"withGrowAfterOpen",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=r,this}},{key:"withPush",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=r,this}},{key:"withLockedPosition",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=r,this}},{key:"setOrigin",value:function(r){return this._origin=r,this}},{key:"withDefaultOffsetX",value:function(r){return this._offsetX=r,this}},{key:"withDefaultOffsetY",value:function(r){return this._offsetY=r,this}},{key:"withTransformOriginOn",value:function(r){return this._transformOriginSelector=r,this}},{key:"_getOriginPoint",value:function(r,e){var n;if("center"==e.originX)n=r.left+r.width/2;else{var t=this._isRtl()?r.right:r.left,c=this._isRtl()?r.left:r.right;n="start"==e.originX?t:c}return{x:n,y:"center"==e.originY?r.top+r.height/2:"top"==e.originY?r.top:r.bottom}}},{key:"_getOverlayPoint",value:function(r,e,n){var t;return t="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:r.x+t,y:r.y+("center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}},{key:"_getOverlayFit",value:function(r,e,n,t){var c=r.x,a=r.y,s=this._getOffset(t,"x"),b=this._getOffset(t,"y");s&&(c+=s),b&&(a+=b);var i=0-a,o=a+e.height-n.height,p=this._subtractOverflows(e.width,0-c,c+e.width-n.width),l=this._subtractOverflows(e.height,i,o),u=p*l;return{visibleArea:u,isCompletelyWithinViewport:e.width*e.height===u,fitsInViewportVertically:l===e.height,fitsInViewportHorizontally:p==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(r,e,n){if(this._hasFlexibleDimensions){var t=n.bottom-e.y,c=n.right-e.x,a=ya(this._overlayRef.getConfig().minHeight),s=ya(this._overlayRef.getConfig().minWidth);return(r.fitsInViewportVertically||null!=a&&a<=t)&&(r.fitsInViewportHorizontally||null!=s&&s<=c)}return!1}},{key:"_pushOverlayOnScreen",value:function(r,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};var t,c,a=this._viewportRect,s=Math.max(r.x+e.width-a.right,0),b=Math.max(r.y+e.height-a.bottom,0),i=Math.max(a.top-n.top-r.y,0),o=Math.max(a.left-n.left-r.x,0);return this._previousPushAmount={x:t=e.width<=a.width?o||-s:r.x<this._viewportMargin?a.left-n.left-r.x:0,y:c=e.height<=a.height?i||-b:r.y<this._viewportMargin?a.top-n.top-r.y:0},{x:r.x+t,y:r.y+c}}},{key:"_applyPosition",value:function(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._lastPosition=r,this._positionChanges.observers.length){var n=this._getScrollVisibility(),t=new la(r,n);this._positionChanges.next(t)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(r){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),t=r.overlayY;e="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(var c=0;c<n.length;c++)n[c].style.transformOrigin="".concat(e," ").concat(t)}}},{key:"_calculateBoundingBoxRect",value:function(r,e){var n,t,c,a,s,b,i=this._viewportRect,o=this._isRtl();if("top"===e.overlayY)n=i.height-(t=r.y)+this._viewportMargin;else if("bottom"===e.overlayY)n=i.height-(c=i.height-r.y+2*this._viewportMargin)+this._viewportMargin;else{var p=Math.min(i.bottom-r.y+i.top,r.y),l=this._lastBoundingBoxSize.height;t=r.y-p,(n=2*p)>l&&!this._isInitialRender&&!this._growAfterOpen&&(t=r.y-l/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)b=i.width-r.x+this._viewportMargin,a=r.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)s=r.x,a=i.right-r.x;else{var u=Math.min(i.right-r.x+i.left,r.x),O=this._lastBoundingBoxSize.width;s=r.x-u,(a=2*u)>O&&!this._isInitialRender&&!this._growAfterOpen&&(s=r.x-O/2)}return{top:t,left:s,bottom:c,right:b,width:a,height:n}}},{key:"_setBoundingBoxStyles",value:function(r,e){var n=this._calculateBoundingBoxRect(r,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var t={};if(this._hasExactPosition())t.top=t.left="0",t.bottom=t.right=t.maxHeight=t.maxWidth="",t.width=t.height="100%";else{var c=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;t.height=Wr(n.height),t.top=Wr(n.top),t.bottom=Wr(n.bottom),t.width=Wr(n.width),t.left=Wr(n.left),t.right=Wr(n.right),t.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",t.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(t.maxHeight=Wr(c)),a&&(t.maxWidth=Wr(a))}this._lastBoundingBoxSize=n,ga(this._boundingBox.style,t)}},{key:"_resetBoundingBoxStyles",value:function(){ga(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){ga(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(r,e){var n={},t=this._hasExactPosition(),c=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(t){var s=this._viewportRuler.getViewportScrollPosition();ga(n,this._getExactOverlayY(e,r,s)),ga(n,this._getExactOverlayX(e,r,s))}else n.position="static";var b="",i=this._getOffset(e,"x"),o=this._getOffset(e,"y");i&&(b+="translateX(".concat(i,"px) ")),o&&(b+="translateY(".concat(o,"px)")),n.transform=b.trim(),a.maxHeight&&(t?n.maxHeight=Wr(a.maxHeight):c&&(n.maxHeight="")),a.maxWidth&&(t?n.maxWidth=Wr(a.maxWidth):c&&(n.maxWidth="")),ga(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(r,e,n){var t={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,r);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,n));var a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=a,"bottom"===r.overlayY?t.bottom="".concat(this._document.documentElement.clientHeight-(c.y+this._overlayRect.height),"px"):t.top=Wr(c.y),t}},{key:"_getExactOverlayX",value:function(r,e,n){var t={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,r);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,n)),"right"==(this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left")?t.right="".concat(this._document.documentElement.clientWidth-(c.x+this._overlayRect.width),"px"):t.left=Wr(c.x),t}},{key:"_getScrollVisibility",value:function(){var r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(r){return r.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:sa(r,n),isOriginOutsideView:aa(r,n),isOverlayClipped:sa(e,n),isOverlayOutsideView:aa(e,n)}}},{key:"_subtractOverflows",value:function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return n.reduce((function(r,e){return r-Math.max(e,0)}),r)}},{key:"_getNarrowedViewportRect",value:function(){var r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+r-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:r-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(r,e){return"x"===e?null==r.offsetX?this._offsetX:r.offsetX:null==r.offsetY?this._offsetY:r.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(r){Oa("originX",r.originX),ua("originY",r.originY),Oa("overlayX",r.overlayX),ua("overlayY",r.overlayY)}))}},{key:"_addPanelClasses",value:function(r){var e=this;this._pane&&Vr(r).forEach((function(r){""!==r&&-1===e._appliedPanelClasses.indexOf(r)&&(e._appliedPanelClasses.push(r),e._pane.classList.add(r))}))}},{key:"_clearPanelClasses",value:function(){var r=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){r._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var r=this._origin;if(r instanceof c.l)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();var e=r.width||0,n=r.height||0;return{top:r.y,bottom:r.y+n,left:r.x,right:r.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),r}();function ga(r,e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}function ya(r){if("number"!=typeof r&&null!=r){var e=r.split(ma),n=Object(B.a)(e,2),t=n[1];return t&&"px"!==t?null:parseFloat(n[0])}return r||null}var ka=function(){function r(e,n,t,c,a,s,i){Object(b.a)(this,r),this._preferredPositions=[],this._positionStrategy=new va(t,c,a,s,i).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return Object(i.a)(r,[{key:"attach",value:function(r){this._overlayRef=r,this._positionStrategy.attach(r),this._direction&&(r.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(r){this._positionStrategy.withScrollableContainers(r)}},{key:"withFallbackPosition",value:function(r,e,n,t){var c=new pa(r,e,n,t);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(r){return this._overlayRef?this._overlayRef.setDirection(r):this._direction=r,this}},{key:"withOffsetX",value:function(r){return this._positionStrategy.withDefaultOffsetX(r),this}},{key:"withOffsetY",value:function(r){return this._positionStrategy.withDefaultOffsetY(r),this}},{key:"withLockedPosition",value:function(r){return this._positionStrategy.withLockedPosition(r),this}},{key:"withPositions",value:function(r){return this._preferredPositions=r.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(r){return this._positionStrategy.setOrigin(r),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),r}(),_a=function(){function r(){Object(b.a)(this,r),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return Object(i.a)(r,[{key:"attach",value:function(r){var e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}},{key:"left",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=r,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}},{key:"right",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=r,this._justifyContent="flex-end",this}},{key:"width",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}},{key:"height",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}},{key:"centerHorizontally",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(r),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(r),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),t=n.width,c=n.height,a=n.maxWidth,s=n.maxHeight,b=!("100%"!==t&&"100vw"!==t||a&&"100%"!==a&&"100vw"!==a),i=!("100%"!==c&&"100vh"!==c||s&&"100%"!==s&&"100vh"!==s);r.position=this._cssPosition,r.marginLeft=b?"0":this._leftOffset,r.marginTop=i?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=i?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}}]),r}(),wa=function(){var r=function(){function r(e,n,t,c){Object(b.a)(this,r),this._viewportRuler=e,this._document=n,this._platform=t,this._overlayContainer=c}return Object(i.a)(r,[{key:"global",value:function(){return new _a}},{key:"connectedTo",value:function(r,e,n){return new ka(e,n,r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(r){return new va(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(Zc),c.Sb(l.d),c.Sb($r),c.Sb(da))},r.\u0275prov=Object(c.Hb)({factory:function(){return new r(Object(c.Sb)(Zc),Object(c.Sb)(l.d),Object(c.Sb)($r),Object(c.Sb)(da))},token:r,providedIn:"root"}),r}(),Sa=0,za=function(){var r=function(){function r(e,n,t,c,a,s,i,o,p,l){Object(b.a)(this,r),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=t,this._positionBuilder=c,this._keyboardDispatcher=a,this._injector=s,this._ngZone=i,this._document=o,this._directionality=p,this._location=l}return Object(i.a)(r,[{key:"create",value:function(r){var e=this._createHostElement(),n=this._createPaneElement(e),t=this._createPortalOutlet(n),c=new oa(r);return c.direction=c.direction||this._directionality.value,new fa(t,e,n,c,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(r){var e=this._document.createElement("div");return e.id="cdk-overlay-".concat(Sa++),e.classList.add("cdk-overlay-pane"),r.appendChild(e),e}},{key:"_createHostElement",value:function(){var r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}},{key:"_createPortalOutlet",value:function(r){return this._appRef||(this._appRef=this._injector.get(c.g)),new Pc(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(c.Sb(ia),c.Sb(da),c.Sb(c.j),c.Sb(wa),c.Sb(Na),c.Sb(c.r),c.Sb(c.z),c.Sb(l.d),c.Sb(oe),c.Sb(l.h,8))},r.\u0275prov=c.Hb({token:r,factory:function(e){return r.\u0275fac(e)}}),r}(),Ca={provide:new c.q("cdk-connected-overlay-scroll-strategy"),deps:[za],useFactory:function(r){return function(){return r.scrollStrategies.reposition()}}},ja=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},providers:[za,Ca],imports:[[pe,Ac,Xc],Xc]}),r}();n("itXk"),n("GyhO");var xa={provide:new c.q("mat-tooltip-scroll-strategy"),deps:[za],useFactory:function(r){return function(){return r.scrollStrategies.reposition({scrollThrottle:20})}}},Ta=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},providers:[xa],imports:[[be,l.c,ja,Dt],Dt,Yc]}),r}(),Ea=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[l.c,Dt,Jr,Yc],Yc,Dt]}),r}(),Pa=function(){var r=function r(){Object(b.a)(this,r)};return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[ja,Ac,l.c,lc,Dt],Dt]}),r}(),Aa=function(){function r(){}return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[l.c,lc,ra,Ea,Ta,cc,Pa],lc,ra,Ea,Ta,cc,Pa]}),r}(),Ia=function(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;var t=Array(r),c=0;for(e=0;e<n;e++)for(var a=arguments[e],s=0,b=a.length;s<b;s++,c++)t[c]=a[s];return t},Ra=function(){function r(){}return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},imports:[[l.c,Aa,Ir.e.forChild([{path:"docs",component:yc,children:Ia([{path:"",pathMatch:"full",redirectTo:"overview"},{path:"overview",component:zc}],hc.PAGES.map((function(r){var e;return Ia([r],null!==(e=r.subs)&&void 0!==e?e:[])})).reduce((function(r,e){return r.concat(e)}),[]))}])]]}),r}();function Ma(r,e){if(1&r&&(c.Ob(0,"article"),c.Ob(1,"h2"),c.Ob(2,"small"),c.rc(3),c.Yb(4,"date"),c.Nb(),c.rc(5),c.Nb(),c.Ob(6,"div",2),c.rc(7),c.Nb(),c.Mb(8,"div",3),c.Nb()),2&r){var n=e.$implicit;c.zb(3),c.tc(" ",c.Zb(4,4,n.published)," "),c.zb(2),c.tc(" ",n.title," "),c.zb(2),c.tc(" ",n.author.displayName," "),c.zb(1),c.cc("innerHTML",n.content,c.kc)}}var La=[{path:"",children:[{path:"",redirectTo:"/landing",pathMatch:"full"},{path:"landing",component:Oc},{path:"guide",component:Nc},{path:"blog",component:function(){function r(r){this.client=r,this.blogId="8362979454426216505",this.posts=[]}return r.prototype.ngOnInit=function(){var r=this;this.client.get("https://www.googleapis.com/blogger/v3/blogs/"+this.blogId+"/posts/",{params:{callback:"JSONP_CALLBACK",key:"AIzaSyBfg2W_JaAJU4qQWSKs-Vx_zVbFh4joYos"}}).subscribe((function(e){r.posts=e.items;for(var n=0,t=r.posts;n<t.length;n++)console.log(t[n])}))},r.\u0275fac=function(e){return new(e||r)(c.Lb(ur))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-blog"]],decls:2,vars:1,consts:[[1,"documentation"],[4,"ngFor","ngForOf"],[1,"byline"],[1,"content",3,"innerHTML"]],template:function(r,e){1&r&&(c.Ob(0,"div",0),c.qc(1,Ma,9,6,"article",1),c.Nb()),2&r&&(c.zb(1),c.cc("ngForOf",e.posts))},directives:[l.k],pipes:[l.e],styles:["[_nghost-%COMP%]{margin:0 auto;display:block;max-width:800px!important}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]{max-width:800px;min-width:0}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{display:block;padding:0;margin:0}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     div{color:#333}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     h2, [_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     h3, [_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     h4{color:#000}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     h4{font-size:14pt}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     .content{line-height:1.5em;font-weight:300}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     .content .centered{text-align:center}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{line-height:12pt;display:inline-block;font-size:12pt;font-weight:400}[_nghost-%COMP%]   .documentation[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .byline[_ngcontent-%COMP%]{color:#333;font-size:12pt;margin-bottom:1em}"]}),r}()}]},{path:"",pathMatch:"full",component:uc}],Da=function(){function r(){}return r.\u0275mod=c.Jb({type:r,bootstrap:[uc]}),r.\u0275inj=c.Ib({factory:function(e){return new(e||r)},providers:[],imports:[[q,Pr,Ar,Ra,Ir.e.forRoot(La,{scrollPositionRestoration:"disabled"}),Rt,Aa]]}),r}();Object(c.S)(),F().bootstrapModule(Da).catch((function(r){return console.log(r)}))}},[[0,0]]]);
<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/watch/doc.ts and execute "npx trv doc" to rebuild -->
<div class="documentation">
<h1>Watch
          <small>Support for making files watchable during runtime</small>

        </h1>

      <figure class="install">
      <figcaption class="install">Install @travetto/watch
      
      </figcaption>
      <pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @travetto/watch</code></pre>     
      </figure>

This module is intended to be used during development, and is not during production.  This constraint is tied to the performance hit the functionality could have at run-time.  To that end, this is primarily an utilitiy for other modules, but it's functionality could prove useful to others during development.

<h2 id="file-watching">File Watching</h2>

This module  is the base file system watching support for <a target="_blank" class="external-link" href="https://travetto.dev">Travetto</a> applications.  In addition to file system scanning, the framework offers a simple file watching library.  The goal is to provide a substantially smaller footprint than <a target="_blank" class="external-link" href="https://github.com/shama/gaze">gaze</a> or <a target="_blank" class="external-link" href="https://github.com/paulmillr/chokidar">chokidar</a>.  Utilizing the patterns from the file scanning, you create a <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/main/module/watch/src/watcher.ts#L21">Watcher</a> that either has files added manually, or has patterns added that will recursively look for files. 

      <figure class="code">
      <figcaption class="code">Example of watching for specific files
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/main/module/watch/doc/watch.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> Watcher <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/watch'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
  <span class="token keyword">const</span> watcher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Watcher</span><span class="token punctuation">(</span><span class="token string">'base/path/to/...'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'all'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{{'{'}}</span> event<span class="token punctuation">,</span> entry <span class="token punctuation">{{'}'}}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{{'{'}}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.config'</span><span class="token punctuation">)</span> <span class="token operator">||</span> entry<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.config.json'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File Event'</span><span class="token punctuation">,</span> <span class="token punctuation">{{'{'}}</span> event<span class="token punctuation">,</span> file<span class="token operator">:</span> entry<span class="token punctuation">.</span>file <span class="token punctuation">{{'}'}}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">{{'}'}}</span>
    <span class="token punctuation">{{'}'}}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> watcher<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>
</div>

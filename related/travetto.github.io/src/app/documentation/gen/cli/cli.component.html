<!-- This file was generated by the framweork and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/master/module/cli/doc.ts and execute "npm run docs" to rebuild -->
<div class="documentation">
<h1>Command Line Interface
          <small>CLI infrastructure for travetto framework</small>

        </h1>

      <figure class="install">
      <figcaption class="install">Install @travetto/cli
      
      </figcaption>
      <pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @travetto/cli</code></pre>     
      </figure>

The cli is the primary structure for interacting with the external requirements of the framework.  This can range from running tests, to running applications, to generating email templates. The main executable can be installed globally or locally.  If installed globally and locally, it will defer to the local installation for execution.

As is the custom, modules are able to register their own cli extensions as scripts, whose name starts with <code class="item path">cli-</code>.  These scripts are then picked up at runtime and all available options are provided when viewing the help documentation.  The following are all the supported cli operations and the various settings they allow.

<h2 id="general">General</h2>

      <figure class="terminal">
      <figcaption class="terminal">General Usage
      
      </figcaption>
      <pre><code class="language-bash">$ trv --help

Usage:  <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>

Options:
  -V, --version                          output the version number
  -h, --help                             display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span>

Commands:
  clean <span class="token punctuation">[</span>options<span class="token punctuation">]</span>
  compile <span class="token punctuation">[</span>options<span class="token punctuation">]</span>
  doc <span class="token punctuation">[</span>options<span class="token punctuation">]</span>
  <span class="token builtin class-name">echo</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>args<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
  run <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>application<span class="token punctuation">]</span> <span class="token punctuation">[</span>args<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
  <span class="token builtin class-name">test</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>regexes<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
  test:lerna <span class="token punctuation">[</span>options<span class="token punctuation">]</span>
  <span class="token builtin class-name">help</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>                         display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span></code></pre>     
      </figure>

This will show all the available options/choices that are exposed given the currently installed modules.

<h2 id="extending">Extending</h2>

Extending the <code class="item input">cli</code> is fairly straightforward.  It is built upon <a target="_blank" class="external-link" href="https://www.npmjs.com/package/commander">commander</a>, with a plugin model that is extensible:

      <figure class="code">
      <figcaption class="code">Echo Plugin
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/master/module/cli/doc/bin/cli-echo.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> commander <span class="token keyword">from</span> <span class="token string">'commander'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> BasePlugin <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'../../src/plugin-base'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * `npx trv echo`
 *
 * Allows for cleaning of the cache dire
 */</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CliEchoPlugin</span> <span class="token keyword">extends</span> <span class="token class-name">BasePlugin</span> <span class="token punctuation">{{'{'}}</span>
  name <span class="token operator">=</span> <span class="token string">'echo'</span><span class="token punctuation">;</span>

  <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">cmd<span class="token operator">:</span> commander<span class="token punctuation">.</span>Command</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> cmd<span class="token punctuation">.</span><span class="token function">arguments</span><span class="token punctuation">(</span><span class="token string">'[args...]'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">'-u, --uppercase'</span><span class="token punctuation">,</span> <span class="token string">'Upper case'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>

  <span class="token keyword">async</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token parameter">args<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_cmd<span class="token punctuation">.</span>uppercase<span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
      args <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=></span> x<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">{{'}'}}</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>

  <span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{{'{'}}</span> <span class="token string">''</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'--uppercase'</span><span class="token punctuation">]</span> <span class="token punctuation">{{'}'}}</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>

With the corresponding output:

      <figure class="terminal">
      <figcaption class="terminal">Echo Plugin Help
      
      </figcaption>
      <pre><code class="language-bash">$ trv <span class="token builtin class-name">echo</span> --help

Usage:  <span class="token builtin class-name">echo</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>args<span class="token punctuation">..</span>.<span class="token punctuation">]</span>

Options:
  -u, --uppercase  Upper <span class="token keyword">case</span> <span class="token punctuation">(</span>default: <span class="token boolean">false</span><span class="token punctuation">)</span>
  -h, --help       display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span></code></pre>     
      </figure>

And actually using it:

      <figure class="terminal">
      <figcaption class="terminal">Echo Plugin Run
      
      </figcaption>
      <pre><code class="language-bash">$ trv <span class="token builtin class-name">echo</span> -u bOb rOb DRoP

<span class="token punctuation">[</span> <span class="token string">'BOB'</span>, <span class="token string">'ROB'</span>, <span class="token string">'DROP'</span> <span class="token punctuation">]</span></code></pre>     
      </figure>


</div>
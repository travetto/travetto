<!-- This file was generated by &#64;travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/terminal/DOC.tsx and execute "npx trv doc" to rebuild -->
<h1>Terminal
<small>General terminal support</small>
</h1>

  <figure class="install">
    <figcaption class="install">Install &#64;travetto/terminal
    
    </figcaption>
    <pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> &#64;travetto/terminal

<span class="token comment"># or</span>

<span class="token function">yarn</span> <span class="token function">add</span> &#64;travetto/terminal</code></pre>
  </figure>

This module provides basic support for interacting with the terminal, and provides the basis for output colorization and the basic command line interactions.  The functionality can be broken down into:
<ul> <li>Output Colorization</li>
<li>Terminal Interactions</li>
</ul>

<h2 id="output-colorization">Output Colorization</h2>

Oddly enough, colorizing output in a terminal is a fairly complex process.  The standards are somewhat inconsistent and detection can be a tricky process. For terminals, <a target="_blank" class="external-link" href="https://nodejs.org">Node</a> supports 4 different levels of coloring:
<ul> <li>0 - One color, essentially uncolored output</li>
<li>1 - Basic color support, 16 colors</li>
<li>2 - Enhanced color support, 225 colors, providing a fair representation of most colors</li>
<li>3 - True color, 24bit color with R, G, B each getting 8-bits.  Can represent any color needed</li>
</ul>
This module provides the ability to define color palettes using RGB colors, and additionally provides support for palettes based on a dark or light background for a given terminal.  Support for this is widespread, but when it fails, it will gracefully assume a dark background. <br><br>
These palettes then are usable at runtime, with the module determining light or dark palettes, as well as falling back to the closest color value based on what the existing terminal supports.  This means a color like 'olivegreen', will get the proper output in 24bit color support, a close approximation in enhanced color support, fall back to green in basic color support, and will be color less at level 0.

  <figure class="code">
    <figcaption class="code">CLI Color Palette
<cite><a target="_blank" href="https://github.com/travetto/travetto/tree/main/module/cli/src/color.ts">Source</a></cite>

</figcaption>
    <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> StyleUtil <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'&#64;travetto/terminal'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> cliTpl <span class="token operator">=</span> StyleUtil<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{{'{'}}</span>
  input<span class="token operator">:</span> <span class="token string">'#6b8e23'</span><span class="token punctuation">,</span> <span class="token comment">// Olive drab</span>
  output<span class="token operator">:</span> <span class="token string">'#ffc0cb'</span><span class="token punctuation">,</span> <span class="token comment">// Pink</span>
  path<span class="token operator">:</span> <span class="token string">'#008080'</span><span class="token punctuation">,</span> <span class="token comment">// Teal</span>
  success<span class="token operator">:</span> <span class="token string">'#00ff00'</span><span class="token punctuation">,</span> <span class="token comment">// Green</span>
  failure<span class="token operator">:</span> <span class="token string">'#ff0000'</span><span class="token punctuation">,</span> <span class="token comment">// Red</span>
  param<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#ffff00'</span><span class="token punctuation">,</span> <span class="token string">'#daa520'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Yellow / Goldenrod</span>
  type<span class="token operator">:</span> <span class="token string">'#00ffff'</span><span class="token punctuation">,</span> <span class="token comment">// Teal</span>
  description<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#e5e5e5'</span><span class="token punctuation">,</span> <span class="token string">'#808080'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// White / Gray</span>
  title<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#ffffff'</span><span class="token punctuation">,</span> <span class="token string">'#000000'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Bright white / black</span>
  identifier<span class="token operator">:</span> <span class="token string">'#1e90ff'</span><span class="token punctuation">,</span> <span class="token comment">// Dodger blue</span>
  subtitle<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#d3d3d3'</span><span class="token punctuation">,</span> <span class="token string">'#a9a9a9'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Light gray / Dark Gray</span>
  subsubtitle<span class="token operator">:</span> <span class="token string">'#a9a9a9'</span> <span class="token comment">// Dark gray</span>
<span class="token punctuation">{{'}'}}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
  </figure>

When the color palette is combined with <a class="module-link" routerLink="/docs/runtime" title="Environment config and common utilities for travetto applications.">Base</a>'s Util.makeTemplate, you produce a string template function that will automatically colorize:

  <figure class="code">
    <figcaption class="code">Sample Template Usage

</figcaption>
    <pre><code class="language-typescript">cliTpl<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Build finished: status=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${{'{'}}</span><span class="token punctuation">{{'{'}}</span>success<span class="token operator">:</span> <span class="token string">"complete"</span><span class="token punctuation">{{'}'}}</span><span class="token interpolation-punctuation punctuation">{{'}'}}</span></span><span class="token string">, output=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${{'{'}}</span><span class="token punctuation">{{'{'}}</span>path<span class="token operator">:</span> <span class="token string">"/build.zip"</span><span class="token punctuation">{{'}'}}</span><span class="token interpolation-punctuation punctuation">{{'}'}}</span></span><span class="token template-punctuation string">`</span></span></code></pre>
  </figure>

This would then produce colorized output based on the palette, and the terminal capabilities. <br><br>
This module follows the pattern <a target="_blank" class="external-link" href="https://nodejs.org">Node</a> follows with respect to the environment variables: <code class="item field">NO_COLOR</code>, <code class="item field">FORCE_COLOR</code> and <code class="item field">NODE_DISABLE_COLORS</code>

  <figure class="terminal">
    <figcaption class="terminal">Node help on colors

</figcaption>
    <pre><code class="language-bash">$ <span class="token function">node</span> <span class="token parameter variable">-h</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> color

FORCE_COLOR                 when <span class="token builtin class-name">set</span> to <span class="token string">'true'</span>, <span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, or an
                            empty string causes NO_COLOR and
                            NODE_DISABLE_COLORS to be ignored.
NO_COLOR                    Alias <span class="token keyword">for</span> NODE_DISABLE_COLORS
NODE_DISABLE_COLORS         <span class="token builtin class-name">set</span> to <span class="token number">1</span> to disable colors <span class="token keyword">in</span> the REPL</code></pre>
  </figure>

<h2 id="terminal-interactions">Terminal Interactions</h2>

Within the <a target="_blank" class="external-link" href="https://travetto.dev">Travetto</a> framework, there are plenty of command line interactions that are enhanced with additional interactivity.  This mainly revolves around indicating progress while a program is executing.  The module provides support for:
<ul> <li>Progress Bars</li>
<li>Waiting Indicators</li>
<li>Streaming Content</li>
</ul>
This is generally meant for use within the framework, and so is highly tailored to the specific needs and scenarios.  You can see this pattern play out in the <a class="module-link" routerLink="/docs/compiler" title="The compiler infrastructure for the Travetto framework">Compiler</a> progress output, or in <a class="module-link" routerLink="/docs/pack" title="Code packing utilities">Pack</a>'s output. <br><br>
In these scenarios, the dynamic behaviors are dependent on having an interactive TTY.  When running without access to a proper stdin, the output will default to basic line printing.    This dynamic behavior can also be disabled using the environment variable <code class="item field">TRV_QUIET</code>.  When set to <code class="item input">1</code> will provide a minimal text-based experience.

<!-- This file was generated by the framweork and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/master/module/model/DOCS.js and execute "npm run docs" to rebuild -->
<div class="documentation">
<h1>Data Modeling
          <small>Datastore abstraction for CRUD operations with advanced query support.</small>

        </h1>

      <figure class="install">
      <figcaption class="install">Install @travetto/model
      
      </figcaption>
      <pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @travetto/model</code></pre>     
      </figure>

This module provides a clean interface to data model persistence, modification and retrieval.  This module builds heavily upon the <a class="module-link" href="/docs/schema" title="Data type registry for runtime validation, reflection and binding. ">Schema</a>, which is used for data model validation.

The module can be segmented into three main areas: declaration, access/storage, and querying

<h2 id="declaration">Declaration</h2>
Models are declared via the <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/master/module/model/src/registry/decorator.ts#L12">@Model</a> decorator, which allows the system to know that this is a class that is compatible with the module.

      <figure class="code">
      <figcaption class="code">Extending BaseModel
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/master/module/model/alt/docs/src/user.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> Model <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/model/src/registry/decorator'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> BaseModel <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/model/src/model/base'</span><span class="token punctuation">;</span>

@<span class="token meta">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">BaseModel</span> <span class="token punctuation">{{'{'}}</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  contact<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>

The <code class="item input">User</code> model is now ready to be used with the model services.

<h2 id="access-storage">Access/Storage</h2>
The <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/master/module/model/src/service/model.ts#L21">ModelService</a> is the foundation for all access to the storage layer, and provides a comprehensive set of functionality.  The service includes support for modifying individual records, bulk update/insert/delete, partial updates, finding records, and more.  This should be the expected set of functionality for storage and retrieval.

      <figure class="code">
      <figcaption class="code">Using ModelService with the User model
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/master/module/model/alt/docs/src/user-manager.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> Injectable<span class="token punctuation">,</span> Inject <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/di'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> ModelService <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/model/src/service/model'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> User <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'./user'</span><span class="token punctuation">;</span>

@<span class="token meta">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UserManager</span> <span class="token punctuation">{{'{'}}</span>

  @<span class="token meta">Inject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> service<span class="token operator">:</span> ModelService<span class="token punctuation">;</span>

  <span class="token keyword">async</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token parameter">user<span class="token operator">:</span> User</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">const</span> created <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// send welcome email</span>
    <span class="token keyword">return</span> created<span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>

  <span class="token keyword">async</span> <span class="token function">bulkCreate</span><span class="token punctuation">(</span><span class="token parameter">users<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">bulkProcess</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{{'{'}}</span> insert<span class="token operator">:</span> user <span class="token punctuation">{{'}'}}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// notify administrator of completion</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>

The <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/master/module/model/src/service/model.ts#L21">ModelService</a> itself relies upon a <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/master/module/model/src/service/source.ts#L58">ModelSource</a> which is the driver for the storage layer.

During development, <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/master/module/model/src/service/source.ts#L58">ModelSource</a> supports the ability to respond to model changes in real-time, and to modify the underlying storage mechanism.  An example of this would be <a target="_blank" class="external-link" href="https://elastic.co">elasticsearch</a> schemas being updated as fields are added or removed from the <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/master/module/model/src/registry/decorator.ts#L12">@Model</a> class.

<h2 id="querying">Querying</h2>

One of the complexities of abstracting multiple storage mechanisms, is providing a consistent query language.  The query language the module uses is a derivation of <a target="_blank" class="external-link" href="https://mongodb.com">mongodb</a>'s query language, with some restrictions, additions, and caveats. Additionally, given the nature of typescript, all queries are statically typed, and will catch type errors at compile time.

<h3 id="general-fields">General Fields</h3>
<ul> <li><code class="item input">field: {{'{'}} $eq: T {{'}'}}</code> to determine if a field is equal to a value</li>
 <li><code class="item input">field: {{'{'}} $ne: T {{'}'}}</code> to determine if a field is not equal to a value</li>
 <li><code class="item input">field: {{'{'}} $exists: boolean {{'}'}}</code> to determine if a field exists or not</li>
 <li><code class="item input">field: T</code> to see if the field is equal to whatever value is passed in</li></ul>

<h3 id="general-single-valued-fields">General Single Valued Fields</h3>
<ul> <li><code class="item input">field: {{'{'}} $in: T[] {{'}'}}</code> to see if a record's value appears in the array provided to <code class="item input">$in</code></li>
 <li><code class="item input">field: {{'{'}} $nin: T[] {{'}'}}</code> to see if a record's value does not appear in the array provided to <code class="item input">$in</code></li></ul>

<h3 id="ordered-fields">Ordered Fields</h3>
<ul> <li><code class="item input">field: {{'{'}} $lt: T {{'}'}}</code> checks if value is less than</li>
 <li><code class="item input">field: {{'{'}} $lte: T {{'}'}}</code> checks if value is less than or equal to</li>
 <li><code class="item input">field: {{'{'}} $gt: T {{'}'}}</code> checks if value is greater than</li>
 <li><code class="item input">field: {{'{'}} $gte: T {{'}'}}</code> checks if value is greater than or equal to</li></ul>
<h3 id="array-fields">Array Fields</h3>
<ul> <li><code class="item input">field: {{'{'}} $all: T[]] {{'}'}}</code> checks to see if the records value contains everything within <code class="item input">$all</code></li></ul>

<h3 id="string-fields">String Fields</h3>
<ul> <li><code class="item input">field: {{'{'}} $regex: RegExp | string; {{'}'}}</code> checks the field against the regular expression</li></ul>

<h3 id="geo-point-fields">Geo Point Fields</h3>
<ul> <li><code class="item input">field: {{'{'}} $geoWithin: Point[] {{'}'}}</code> determines if the value is within the bounding region of the points</li>
 <li><code class="item input">field: {{'{'}} $near: Point, $maxDistance: number, $unit: 'km' | 'm' | 'mi' | 'ft' {{'}'}}</code> searches at a point, and looks out radially</li></ul>

<h3 id="groupings">Groupings</h3>
<ul> <li><code class="item input">{{'{'}} $and: [] {{'}'}}</code> provides a grouping in which all sub clauses are required</li>
 <li><code class="item input">{{'{'}} $or: [] {{'}'}}</code> provides a grouping in which at least one of the sub clauses is required</li>
 <li><code class="item input">{{'{'}} $not: {{'{'}} {{'}'}} {{'}'}}</code> negates a clause</li></ul>

A sample query for <code class="item input">User</code>'s might be:

      <figure class="code">
      <figcaption class="code">Using the query structure for specific queries
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/master/module/model/alt/docs/src/user-query.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> ModelService <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/model/src/service/model'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> User <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'./user'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UserSearch</span> <span class="token punctuation">{{'{'}}</span>
  service<span class="token operator">:</span> ModelService<span class="token punctuation">;</span>

  <span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">getAllByQuery</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> <span class="token punctuation">{{'{'}}</span>
      where<span class="token operator">:</span> <span class="token punctuation">{{'{'}}</span>
        $and<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{{'{'}}</span>
            $not<span class="token operator">:</span> <span class="token punctuation">{{'{'}}</span>
              age<span class="token operator">:</span> <span class="token punctuation">{{'{'}}</span>
                $lt<span class="token operator">:</span> <span class="token number">35</span>
              <span class="token punctuation">{{'}'}}</span>
            <span class="token punctuation">{{'}'}}</span>
          <span class="token punctuation">{{'}'}}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{{'{'}}</span>
            contact<span class="token operator">:</span> <span class="token punctuation">{{'{'}}</span>
              $exists<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">{{'}'}}</span>
          <span class="token punctuation">{{'}'}}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">{{'}'}}</span>
    <span class="token punctuation">{{'}'}}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>

This would find all users who are over <code class="item input">35</code> and that have the <code class="item input">contact</code> field specified.

<h2 id="query-language">Query Language</h2>

In addition to the standard query interface, the module also supports querying by query language to facilitate end-user queries.  This is meant to act as an interface that is simpler to write than the default object structure.

The language itself is fairly simple, boolean logic, with parenthetical support.  The operators supported are:
<ul> <li><code class="item input">&lt;</code>, <code class="item input">&lt;=</code> - Less than, and less than or equal to</li>
 <li><code class="item input">&gt;</code>, <code class="item input">&gt;=</code> - Greater than, and greater than or equal to</li>
 <li><code class="item input">!=</code>, <code class="item input">==</code> - Not equal to, and equal to</li>
 <li><code class="item input">~</code> - Matches regular expression, supports the <code class="item input">i</code> flag to trigger case insensitive searches</li>
 <li><code class="item input">!</code>, <code class="item input">not</code> - Negates a clause</li>
 <li><code class="item input">in</code>, <code class="item input">not-in</code> - Supports checking if a field is in a list of literal values</li>
 <li><code class="item input">and</code>, <code class="item input">&&</code> - Intersection of clauses</li>
 <li><code class="item input">or</code>, <code class="item input">||</code> - Union of clauses</li></ul>

All sub fields are dot separated for access, e.g. <code class="item field">user.address.city</code>. A query language version of the previous query could look like:

      <figure class="code">
      <figcaption class="code">Query language with boolean checks and exists check
      
      </figcaption>
      <pre><code class="language-sql"><span class="token operator">not</span> <span class="token punctuation">(</span>age <span class="token operator">&lt;</span> <span class="token number">35</span><span class="token punctuation">)</span> <span class="token operator">and</span> contact <span class="token operator">!=</span> <span class="token boolean">null</span></code></pre>     
      </figure>

A more complex query would look like:

      <figure class="code">
      <figcaption class="code">Query language with more complex needs
      
      </figcaption>
      <pre><code class="language-sql"><span class="token keyword">user</span><span class="token punctuation">.</span>role <span class="token operator">in</span> <span class="token punctuation">[</span><span class="token string">'admin'</span><span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>state <span class="token operator">=</span><span class="token operator">=</span> <span class="token string">'VA'</span> <span class="token operator">||</span> <span class="token keyword">user</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>city <span class="token operator">=</span><span class="token operator">=</span> <span class="token string">'Springfield'</span><span class="token punctuation">)</span></code></pre>     
      </figure>

<h3 id="regular-expression">Regular Expression</h3>

When querying with regular expressions,patterns can be specified as <code class="item input">'strings'</code> or as <code class="item input">/patterns/</code>.  The latter allows for the case insensitive modifier: <code class="item input">/pattern/i</code>.  Supporting the insensitive flag is up to the underlying model implementation.

<!-- SUB -->

<h2 id="extension-rest">Extension - Rest</h2>

To facilitate common RESTful patterns, the module exposes  <a class="module-link" href="/docs/rest" title="Declarative api for RESTful APIs with support for the dependency injection module.">RESTful API</a> support in the form of <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/master/module/model/src/extension/rest.ts#L42">@ModelController</a>.

      <figure class="code">
      <figcaption class="code">ModelController example
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/master/module/model/alt/docs/src/model-controller.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> Inject <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/di'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> ModelController <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/model/src/extension/rest'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> ModelService <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/model/src/service/model'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> User <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'./user'</span><span class="token punctuation">;</span>

@<span class="token meta">ModelController</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">,</span> User<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{{'{'}}</span>
  @<span class="token meta">Inject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  source<span class="token operator">:</span> ModelService<span class="token punctuation">;</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>

is a shorthand that is equal to:

      <figure class="code">
      <figcaption class="code">Comparable UserController, built manually
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/master/module/model/alt/docs/src/controller.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> Path<span class="token punctuation">,</span> Controller<span class="token punctuation">,</span> Get<span class="token punctuation">,</span> Request<span class="token punctuation">,</span> Delete<span class="token punctuation">,</span> Post<span class="token punctuation">,</span> Put<span class="token punctuation">,</span> Query <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/rest'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> Inject <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/di'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> User <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'./user'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> ModelService <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/model/src/service/model'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> SchemaBody <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/schema'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{{'{'}}</span> ValidStringFields <span class="token punctuation">{{'}'}}</span> <span class="token keyword">from</span> <span class="token string">'@travetto/model/src/service/source'</span><span class="token punctuation">;</span>

@<span class="token meta">Controller</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{{'{'}}</span>

  @<span class="token meta">Inject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  source<span class="token operator">:</span> ModelService<span class="token punctuation">;</span>

  @<span class="token meta">Get</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">getAllUser</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token operator">:</span> Request</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">getAllByQuery</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>

  @<span class="token meta">Get</span><span class="token punctuation">(</span><span class="token string">'/suggest/:field'</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">suggest</span><span class="token punctuation">(</span>@<span class="token meta">Query</span><span class="token punctuation">(</span><span class="token string">'q'</span><span class="token punctuation">)</span> q<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> @<span class="token meta">Path</span><span class="token punctuation">(</span><span class="token string">'field'</span><span class="token punctuation">)</span> field<span class="token operator">:</span> ValidStringFields<span class="token operator">&lt;</span>User<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">suggest</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> field<span class="token punctuation">,</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>

  @<span class="token meta">Get</span><span class="token punctuation">(</span><span class="token string">':id'</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token operator">:</span> Request</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>

  @<span class="token meta">Delete</span><span class="token punctuation">(</span><span class="token string">':id'</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token operator">:</span> Request</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>

  @<span class="token meta">Post</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">saveUser</span><span class="token punctuation">(</span><span class="token parameter">@<span class="token meta">SchemaBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> user<span class="token operator">:</span> User</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>

  @<span class="token meta">Put</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token parameter">@<span class="token meta">SchemaBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> user<span class="token operator">:</span> User</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{'}'}}</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>
  
</div>
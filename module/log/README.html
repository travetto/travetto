<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/log/README.ts and execute "npx trv doc" to rebuild -->
<h1>Logging
          <small>Logging framework that integrates at the console.log level.</small>

        </h1>

      <figure class="install">
      <figcaption class="install">Install @travetto/log
      
      </figcaption>
      <pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @travetto/log</code></pre>     
      </figure>

This module provides logging functionality, building upon <a target="_blank" class="source-link" href="https://github.com/travetto/travetto/tree/main/module/base/src/console.ts">ConsoleManager</a> in the <a class="module-link" href="module/base" title="Environment config and common utilities for travetto applications.">Base</a> module.  This is all ultimately built upon <a target="_blank" class="external-link" href="https://nodejs.org/api/console.html">console</a> operations. 

<h2 id="logging-to-external-systems">Logging to External Systems</h2>
By default the logging functionality logs messages directly to the console, relying on the <code class="item method">util.inspect</code> method, as is the standard behavior.  When building distributed systems, with multiple separate logs, it is useful to rely on structured logging for common consumption.  The framework supports logging as <a target="_blank" class="external-link" href="https://www.json.org">JSON</a>, which is easily consumable by services like <a target="_blank" class="external-link" href="https://elastic.co">elasticsearch</a> or <a target="_blank" class="external-link" href="https://aws.amazon.com/cloudwatch/">AWS Cloudwatch</a> if running as a lambda or in a docker container.  

The main caveat that comes with this, is that not all objects can be converted to JSON (specifically circular dependencies, and unsupported types).  That end, the framework recommends logging with the following format, <code class="item input">message: string</code> <code class="item input">context: Record&lt;string, Primitive&gt;</code>.  Here context can be recursive, but the general idea is to only pass in known data structures that will not break the <a target="_blank" class="external-link" href="https://www.json.org">JSON</a> production.

<h2 id="sample-output">Sample Output</h2>

The logging output, as indicated provides context for location of invocation. Given the file <code class="item path">test/simple.ts</code>:

      <figure class="code">
      <figcaption class="code">Various log levels
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/main/module/log/doc/output.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{{'{'}}</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Woah!'</span><span class="token punctuation">,</span> <span class="token punctuation">{{'{'}}</span> a<span class="token operator">:</span> <span class="token punctuation">{{'{'}}</span> b<span class="token operator">:</span> <span class="token punctuation">{{'{'}}</span> c<span class="token operator">:</span> <span class="token punctuation">{{'{'}}</span> d<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">{{'}'}}</span> <span class="token punctuation">{{'}'}}</span> <span class="token punctuation">{{'}'}}</span> <span class="token punctuation">{{'}'}}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Woah!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">'Test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>

The corresponding output would be

      <figure class="terminal">
      <figcaption class="terminal">Logging output
      
      </figcaption>
      <pre><code class="language-bash">$ trv main support/main.output.ts

<span class="token number">2022</span>-03-14T04:00:00.618Z info  <span class="token punctuation">[</span>@travetto/log:doc/output.ts:2<span class="token punctuation">]</span> Hello World
<span class="token number">2022</span>-03-14T04:00:00.837Z info  <span class="token punctuation">[</span>@travetto/log:doc/output.ts:4<span class="token punctuation">]</span> Woah<span class="token operator">!</span> <span class="token punctuation">{{'{'}}</span>
<span class="token number">2022</span>-03-14T04:00:01.510Z info  <span class="token punctuation">[</span>@travetto/log:doc/output.ts:6<span class="token punctuation">]</span> Woah<span class="token operator">!</span>
<span class="token number">2022</span>-03-14T04:00:02.450Z debug <span class="token punctuation">[</span>@travetto/log:doc/output.ts:8<span class="token punctuation">]</span> Test</code></pre>     
      </figure>

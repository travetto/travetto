<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/log/README.ts and execute "npx trv doc" to rebuild -->
# Logging
## Logging framework that integrates at the console.log level.

**Install: @travetto/log**
```bash
npm install @travetto/log
```

This module provides logging functionality, building upon [ConsoleManager](https://github.com/travetto/travetto/tree/main/module/base/src/console.ts) in the [Base](https://github.com/travetto/travetto/tree/main/module/base#readme "Environment config and common utilities for travetto applications.") module.  This is all ultimately built upon [console](https://nodejs.org/api/console.html) operations. 

## Logging to External Systems
By default the logging functionality logs messages directly to the console, relying on the `util.inspect` method, as is the standard behavior.  When building distributed systems, with multiple separate logs, it is useful to rely on structured logging for common consumption.  The framework supports logging as [JSON](https://www.json.org), which is easily consumable by services like [elasticsearch](https://elastic.co) or [AWS Cloudwatch](https://aws.amazon.com/cloudwatch/) if running as a lambda or in a docker container.  

The main caveat that comes with this, is that not all objects can be converted to JSON (specifically circular dependencies, and unsupported types).  That end, the framework recommends logging with the following format, `message: string` `context: Record<string, Primitive>`.  Here context can be recursive, but the general idea is to only pass in known data structures that will not break the [JSON](https://www.json.org) production.

## Sample Output

The logging output, as indicated provides context for location of invocation. Given the file `test/simple.ts`:

**Code: Various log levels**
```typescript
export async function main() {
  console.log('Hello World');

  console.log('Woah!', { a: { b: { c: { d: 10 } } } });

  console.info('Woah!');

  console.debug('Test');
}
```

The corresponding output would be

**Terminal: Logging output**
```bash
$ trv main support/main.output.ts

2022-03-14T04:00:00.618Z info  [@travetto/log:doc/output.ts:2] Hello World
2022-03-14T04:00:00.837Z info  [@travetto/log:doc/output.ts:4] Woah! {
2022-03-14T04:00:01.510Z info  [@travetto/log:doc/output.ts:6] Woah!
2022-03-14T04:00:02.450Z debug [@travetto/log:doc/output.ts:8] Test
```

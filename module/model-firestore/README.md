<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/model-firestore/doc.ts and execute "npx trv doc" to rebuild -->
# Firestore Model Support
## Firestore backing for the travetto model module.

**Install: @travetto/model-firestore**
```bash
npm install @travetto/model-firestore
```

This module provides an [Firestore](https://firebase.google.com/docs/firestore)-based implementation of the [Data Modeling Support](https://github.com/travetto/travetto/tree/main/module/model#readme "Datastore abstraction for core operations.").  This source allows the [Data Modeling Support](https://github.com/travetto/travetto/tree/main/module/model#readme "Datastore abstraction for core operations.") module to read, write and query against [Firestore](https://firebase.google.com/docs/firestore).

Supported featrues:
   
   *  [CRUD](https://github.com/travetto/travetto/tree/main/module/model/src/service/crud.ts#L11)
   *  [Indexed](https://github.com/travetto/travetto/tree/main/module/model/src/service/indexed.ts#L11)

    Out of the box, by installing the module, everything should be wired up by default.If you need to customize any aspect of the source 
    or config, you can override and register it with the [Dependency Injection](https://github.com/travetto/travetto/tree/main/module/di#readme "Dependency registration/management and injection support.") module.

    
**Code: Wiring up a custom Model Source**
```typescript
import { InjectableFactory } from '@travetto/di';
import { FirestoreModelConfig, FirestoreModelService } from '@travetto/model-firestore';

export class Init {
  @InjectableFactory({
    primary: true
  })
  static getModelSource(conf: FirestoreModelConfig) {
    return new FirestoreModelService(conf);
  }
}
```

  where the [FirestoreModelConfig](https://github.com/travetto/travetto/tree/main/module/model-firestore/src/config.ts#L4) is defined by:

  
**Code: Structure of FirestoreModelConfig**
```typescript
import { Config } from '@travetto/config';

@Config('model.firestore')
export class FirestoreModelConfig {
  databaseURL?: string;
  credential?: string;
  emulator?: string;
  projectId: string;
  namespace: string;
  autoCreate?: boolean;

  postConstruct() {
    if (this.emulator) {
      process.env.FIRESTORE_EMULATOR_HOST = this.emulator;
    }
  }
}
```

  Additionally, you can see that the class is registered with the [@Config](https://github.com/travetto/travetto/tree/main/module/config/src/decorator.ts#L10) annotation, and so these values can be overridden using the 
  standard [Configuration](https://github.com/travetto/travetto/tree/main/module/config#readme "Environment-aware config management using yaml files")resolution paths.

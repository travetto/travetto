<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/web-server/DOC.tsx and execute "npx trv doc" to rebuild -->
# Web Server Support

## Web Server Support

**Install: @travetto/web-server**
```bash
npm install @travetto/web-server

# or

yarn add @travetto/web-server
```

This module provides basic for running [http](https://nodejs.org/api/http.html) and [https](https://nodejs.org/api/https.html) servers.  It provides support for ssl key generation during development as well.

## Running a Server
By default, the framework provides a default [@CliCommand](https://github.com/travetto/travetto/tree/main/module/cli/src/decorators.ts#L84) for [WebServer](https://github.com/travetto/travetto/tree/main/module/web-server/src/types.ts#L10) that will follow default behaviors, and spin up the server. Currently, [Node Web Server](https://github.com/travetto/travetto/tree/main/module/web-node#readme "Node provider for the travetto web module.") is the only module that provides a compatible [WebServer](https://github.com/travetto/travetto/tree/main/module/web-server/src/types.ts#L10).

**Terminal: Standard application**
```bash
$ trv run:web
```

### Creating a Custom CLI Entry Point
To customize a Web server, you may need to construct an entry point using the [@CliCommand](https://github.com/travetto/travetto/tree/main/module/cli/src/decorators.ts#L84) decorator. This could look like:

**Code: Application entry point for Web Applications**
```typescript
import { Env, toConcrete } from '@travetto/runtime';
import { CliCommand } from '@travetto/cli';
import { DependencyRegistry } from '@travetto/di';
import { RootRegistry } from '@travetto/registry';
import { WebServer, WebHttpConfig } from '@travetto/web-server';

import '@travetto/web/doc/config-override';

@CliCommand({ runTarget: true })
export class SampleApp {

  preMain(): void {
    Env.TRV_ENV.set('prod');
    Env.NODE_ENV.set('production');
  }

  async main() {
    console.log('CUSTOM STARTUP');
    await RootRegistry.init();
    const ssl = await DependencyRegistry.getInstance(WebHttpConfig);
    ssl.ssl = true;

    // Configure server before running
    return DependencyRegistry.runInstance(toConcrete<WebServer>());
  }
}
```

And using the pattern established in the [Command Line Interface](https://github.com/travetto/travetto/tree/main/module/cli#readme "CLI infrastructure for Travetto framework") module, you would run your program using `npx trv run:web:custom`.

**Terminal: Custom application**
```bash
$ trv run:web:custom
```

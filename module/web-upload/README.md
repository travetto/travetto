<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/web-upload/DOC.tsx and execute "npx trv doc" to rebuild -->
# Web Upload Support

## Provides integration between the travetto asset and web module.

**Install: @travetto/web-upload**
```bash
npm install @travetto/web-upload

# or

yarn add @travetto/web-upload
```

This module provides a clean and direct mechanism for processing uploads, built upon [@fastify/busboy](https://github.com/fastify/busboy). The module also provides some best practices with respect to temporary file management.

Once the files are uploaded, they are exposed via [Endpoint](https://github.com/travetto/travetto/tree/main/module/web/src/decorator/endpoint.ts#L14) parameters using the [@Upload](https://github.com/travetto/travetto/tree/main/module/web-upload/src/decorator.ts#L20) decorator.  This decorator requires the related field type to be a standard [Buffer](https://nodejs.org/api/buffer.html#class-file) object, or a [FileMap](https://github.com/travetto/travetto/tree/main/module/web-upload/src/types.ts#L4).

A simple example:

**Code: Web controller with upload support**
```typescript
import { Controller, Post, Get } from '@travetto/web';
import { FileMap, Upload } from '@travetto/web-upload';

@Controller('/simple')
export class Simple {

  @Get('/age')
  getAge() {
    return { age: 50 };
  }

  @Post('/age')
  getPage() {
    return { age: 20 };
  }

  /**
   * @param file A file to upload
   */
  @Post('/file')
  loadFile(@Upload() upload: File) {
    return upload;
  }

  /**
   * @param uploads A map of files that were uploaded
   */
  @Post('/files')
  async loadFiles(@Upload() uploads: FileMap) {
    for (const [, upload] of Object.entries(uploads)) {
      return upload;
    }
  }
}
```

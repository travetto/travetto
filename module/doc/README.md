<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/doc/doc/index.ts and execute "npx trv doc" to rebuild -->
# Documentation
## Documentation support for the travetto framework

**Install: @travetto/doc**
```bash
npm install @travetto/doc
```

This module provides the ability to generate documentation in [HTML](https://en.wikipedia.org/wiki/HTML) and/or [Markdown](https://en.wikipedia.org/wiki/Markdown).  The module relies on integrating with the source of the project, and providing a fully referenced code-base.  This allows for automatic updates when code is changed and/or refactored. 

**Code: Document Sample**
```typescript
import { d, mod } from '@travetto/doc';

export const text = () => d`
${d.Header()}

Sample documentation for fictional module.  This module fictitiously relies upon ${mod.Cache} functionality.

${d.Ordered(
  'First',
  'Second',
  d.Path('Special')
)}

${d.Section('Content')}

${d.Code('Document Sample', './test.ts')}

${d.SubSection('Output')}

${d.Execute('Run program', 'trv')}
`;
```

**Code: Document Context**
```typescript
export interface DocumentShape<T extends DocNode = DocNode> {
  text: () => (T | Promise<T>);
  wrap?: Wrapper;
}
```

As you can see, you need to export a field named `text` as the body of the help text. The `text` field can be either a direct invocation or an async function that returns the expected document output.  

**Note**: By design all the node types provided are synchronous in nature.  This is intentionally, specifically with respect to invoking commands and ensuring singular operation.

## Node Types

   f

## Libraries

Some of the more common libraries are provided as the `lib` field.  The purpose of this is to have consistent references to common utilities to help keep external linking simple.

## Modules

You can also link to other [Travetto](https://travetto.dev) based modules as needed.  The `mod` object relies on what is already imported into your project, and reference the package.json of the related module. If the module is not installed, doc generation will fail.

## CLI - doc

The run command allows for generating documentation output.

**Terminal: CLI Doc Help**
```bash
$ trv doc --help

Usage:  doc [options]

Options:
  -i, --input <input>    Input File (default: "index.ts")
  -o, --output <output>  Output files (default: [])
  -f, --format <format>  Format (default: "md")
  -w, --watch            Watch
  -h, --help             display help for command
```

By default, running the command will output the [Markdown](https://en.wikipedia.org/wiki/Markdown) content directly to the terminal.

**Terminal: Sample CLI Output**
```bash
$ trv doc -i src/sample.ts -f html

TypeError: Cannot read properties of undefined (reading 'source')
    at Object.Mod (@trv:doc/src/nodes.ts:183:48)
    at Object.get (@trv:doc/src/mod.ts:68:19)
    at Object.text (@trv:doc/doc/src/sample.ts:6:88)
    at Function.render (@trv:doc/src/render/util.ts:43:25)
    at DocCommand.action (@trv:doc/support/cli.doc.ts:69:19)
    at DocCommand.runAction (@trv:cli/src/command.ts:235:12)
    at Command.parseAsync (/home/tim/Code/travetto/node_modules/commander/lib/command.js:916:5)
    at Function.runCommand (@trv:cli/src/execute.ts:44:9)
    at Function.run (@trv:cli/src/execute.ts:72:9)
    at runMain (@trv:boot/support/init.main.ts:14:11)
Cannot read properties of undefined (reading 'source')

Usage: trv doc [options]

Options:
  -i, --input <input>    Input File (default: "index.ts")
  -o, --output <output>  Output files (default: [])
  -f, --format <format>  Format (default: "md")
  -w, --watch            Watch
  -h, --help             display help for command
```

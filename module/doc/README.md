<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/doc/DOC.tsx and execute "npx trv doc" to rebuild -->
# Documentation

## Documentation support for the Travetto framework

**Install: @travetto/doc**
```bash
npm install @travetto/doc

# or

yarn add @travetto/doc
```

This module provides the ability to generate documentation in [HTML](https://en.wikipedia.org/wiki/HTML) and/or [Markdown](https://en.wikipedia.org/wiki/Markdown).  The module relies on integrating with the source of the project, and providing a fully referenced code-base.  This allows for automatic updates when code is changed and/or refactored.

**Code: Document Sample**
```typescript
/** @jsxImportSource @travetto/doc */
import { c } from '@travetto/doc';

export const text = <>
  <c.StdHeader />

  Sample documentation for fictional module.  This module fictitiously relies upon <c.Mod name='Cache' /> functionality.

  <ol>
    <li>First</li>
    <li>Second</li>
    <li><c.Path name='Special' /></li>
  </ol>

  <c.Section title='Content'>
    <c.Code title='Document Sample' src='./src/test.ts' />

    <c.SubSection title='Output'>
      <c.Execution title='Run program' cmd='trv' />
    </c.SubSection>
  </c.Section>
</>;
```

**Code: Document Context**
```typescript
export interface DocumentShape {
  text: JSXElement | JSXElement[] | (() => Promise<JSXElement | JSXElement[]>);
  wrap?: Wrapper;
}
```

As you can see, you need to export a field named `text` as the body of the help text. The `text` field can be either a direct invocation or an async function that returns the expected document output.

**Note**: By design all the node types provided are synchronous in nature.  This is intentionally, specifically with respect to invoking commands and ensuring singular operation.

## Node Types

   *  `Anchor` - In page anchor reference
   *  `Class` - Class reference
   *  `Code` - Code sample
   *  `CodeLink` - Code link with regexp for detecting line
   *  `Command` - Command invocation
   *  `Config` - Configuration block
   *  `Execution` - Run a command, and include the output as part of the document
   *  `Field` - Field reference
   *  `File` - File reference
   *  `Header` - Basic module header
   *  `Image` - Image reference
   *  `Input` - Input text
   *  `Install` - Installing a package or a program
   *  `Library` - Library reference
   *  `Method` - Method declaration
   *  `Mod` - Node Module Reference
   *  `Note` - A note
   *  `Path` - Path reference
   *  `Ref` - File reference
   *  `Section` - Primary section
   *  `StdHeader` - Standard module header
   *  `SubSection` - Sub-section
   *  `SubSubSection` - Sub-sub-section
   *  `Terminal` - Terminal output

## Libraries
Some of the more common libraries are provided as the `d.library` method.  The purpose of this is to have consistent references to common utilities to help keep external linking simple.

## Modules
You can also link to other [Travetto](https://travetto.dev) based modules as needed.  The `d.mod` object relies on what is already imported into your project, and reference the package.json of the related module. If the module is not installed, doc generation will fail.

## CLI - doc
The run command allows for generating documentation output.

**Terminal: CLI Doc Help**
```bash
$ trv doc --help

node:internal/modules/cjs/loader:1248
  const err = new Error(message);
              ^

Error: Cannot find module './src/blob.js'
Require stack:
- ./doc-exec/.trv/output/node_modules/@travetto/runtime/__index__.js
- ./doc-exec/.trv/output/node_modules/@travetto/cli/src/decorators.js
- ./doc-exec/.trv/output/node_modules/@travetto/cli/__index__.js
- ./doc-exec/.trv/output/node_modules/@travetto/cli/support/entry.trv.js
- ./doc-exec/.trv/compiler/node_modules/@travetto/compiler/support/entry.trvc.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1248:15)
    at Module._load (node:internal/modules/cjs/loader:1074:27)
    at TracingChannel.traceSync (node:diagnostics_channel:315:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)
    at Module.require (node:internal/modules/cjs/loader:1339:12)
    at require (node:internal/modules/helpers:125:16)
    at Object.<anonymous> (<workspace-root>/module/runtime/__index__.ts:3:1)
    at Module._compile (node:internal/modules/cjs/loader:1546:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1691:10)
    at Module.load (node:internal/modules/cjs/loader:1317:32) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    './doc-exec/.trv/output/node_modules/@travetto/runtime/__index__.js',
    './doc-exec/.trv/output/node_modules/@travetto/cli/src/decorators.js',
    './doc-exec/.trv/output/node_modules/@travetto/cli/__index__.js',
    './doc-exec/.trv/output/node_modules/@travetto/cli/support/entry.trv.js',
    './doc-exec/.trv/compiler/node_modules/@travetto/compiler/support/entry.trvc.js'
  ]
}

Node.js v22.6.0
```

By default, running the command will output the [Markdown](https://en.wikipedia.org/wiki/Markdown) content directly to the terminal.

**Terminal: Sample CLI Output**
```bash
$ trv doc -o html

node:internal/modules/cjs/loader:1248
  const err = new Error(message);
              ^

Error: Cannot find module './src/blob.js'
Require stack:
- ./doc-exec/.trv/output/node_modules/@travetto/runtime/__index__.js
- ./doc-exec/.trv/output/node_modules/@travetto/cli/src/decorators.js
- ./doc-exec/.trv/output/node_modules/@travetto/cli/__index__.js
- ./doc-exec/.trv/output/node_modules/@travetto/cli/support/entry.trv.js
- ./doc-exec/.trv/compiler/node_modules/@travetto/compiler/support/entry.trvc.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1248:15)
    at Module._load (node:internal/modules/cjs/loader:1074:27)
    at TracingChannel.traceSync (node:diagnostics_channel:315:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)
    at Module.require (node:internal/modules/cjs/loader:1339:12)
    at require (node:internal/modules/helpers:125:16)
    at Object.<anonymous> (<workspace-root>/module/runtime/__index__.ts:3:1)
    at Module._compile (node:internal/modules/cjs/loader:1546:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1691:10)
    at Module.load (node:internal/modules/cjs/loader:1317:32) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    './doc-exec/.trv/output/node_modules/@travetto/runtime/__index__.js',
    './doc-exec/.trv/output/node_modules/@travetto/cli/src/decorators.js',
    './doc-exec/.trv/output/node_modules/@travetto/cli/__index__.js',
    './doc-exec/.trv/output/node_modules/@travetto/cli/support/entry.trv.js',
    './doc-exec/.trv/compiler/node_modules/@travetto/compiler/support/entry.trvc.js'
  ]
}

Node.js v22.6.0
```

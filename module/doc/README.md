<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/doc/README.ts and execute "npx trv doc" to rebuild -->
# Documentation
## Documentation support for the travetto framework

**Install: @travetto/doc**
```bash
npm install @travetto/doc
```

This module provides the ability to generate documentation in [HTML](https://en.wikipedia.org/wiki/HTML) and/or [Markdown](https://en.wikipedia.org/wiki/Markdown).  The module relies on integrating with the source of the project, and providing a fully referenced code-base.  This allows for automatic updates when code is changed and/or refactored. 

**Code: Document Sample**
```typescript
import { d, mod } from '@travetto/doc';

export const text = () => d`
${d.Header()}

Sample documentation for fictional module.  This module fictitiously relies upon ${mod.Cache} functionality.

${d.Ordered(
  'First',
  'Second',
  d.Path('Special')
)}

${d.Section('Content')}

${d.Code('Document Sample', './src/test.ts')}

${d.SubSection('Output')}

${d.Execute('Run program', 'trv')}
`;
```

**Code: Document Context**
```typescript
export interface DocumentShape<T extends DocNode = DocNode> {
  text: () => (T | Promise<T>);
  wrap?: Wrapper;
}
```

As you can see, you need to export a field named `text` as the body of the help text. The `text` field can be either a direct invocation or an async function that returns the expected document output.  

**Note**: By design all the node types provided are synchronous in nature.  This is intentionally, specifically with respect to invoking commands and ensuring singular operation.

## Node Types

   
   *  `Anchor` - In page anchor reference
   *  `Class` - Class reference
   *  `Code` - Code sample
   *  `Command` - Command invocation
   *  `Comment` - Comment
   *  `Config` - Configuration Block
   *  `Execute` - Run a command, and include the output as part of the document
   *  `Field` - Field reference
   *  `Group` - Group of content nodes
   *  `Header` - Standard header
   *  `Image` - Image reference
   *  `Input` - Input text
   *  `Install` - NPM Installation
   *  `Item` - List item
   *  `Library` - Library reference
   *  `List` - Standard List
   *  `Method` - Method declaration
   *  `Mod` - Node Module Reference
   *  `Note` - A note
   *  `Ordered` - Ordered List
   *  `Path` - Path reference
   *  `RawHeader` - Raw Doc Header
   *  `Ref` - File reference
   *  `Section` - Primary Section
   *  `Snippet` - Code Snippet
   *  `SnippetLink` - Link to a snippet of code, including line number
   *  `Strong` - Strong Content
   *  `SubSection` - Sub-section
   *  `Table` - Table
   *  `TableOfContents` - Table Of Contents
   *  `Terminal` - Terminal output
   *  `Text` - Simple Text Contentf

## Libraries

Some of the more common libraries are provided as the `lib` field.  The purpose of this is to have consistent references to common utilities to help keep external linking simple.

## Modules

You can also link to other [Travetto](https://travetto.dev) based modules as needed.  The `mod` object relies on what is already imported into your project, and reference the package.json of the related module. If the module is not installed, doc generation will fail.

## CLI - doc

The run command allows for generating documentation output.

**Terminal: CLI Doc Help**
```bash
$ trv doc --help

Usage:  doc [options]

Options:
  -i, --input <input>              Input File (default: "README.ts")
  -o, --output-base <output-base>  Output Base (default: "")
  -f, --formats <formats>          Formats (default: [])
  -w, --watch                      Watch
  -s, --stdout                     Write to stdout (default: false)
  -h, --help                       display help for command
```

By default, running the command will output the [Markdown](https://en.wikipedia.org/wiki/Markdown) content directly to the terminal.

**Terminal: Sample CLI Output**
```bash
$ trv doc -f html --stdout

<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/main/module/doc/doc-exec/README.ts and execute "npx trv doc" to rebuild -->
<h1>@travetto-doc/doc
          
        </h1>

      <figure class="install">
      <figcaption class="install">Install @travetto-doc/doc
      
      </figcaption>
      <pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @travetto-doc/doc</code></pre>     
      </figure>

Sample documentation for fictional module.  This module fictitiously relies upon <a class="module-link" href="module/cache" title="Caching functionality with decorators for declarative use.">Caching</a> functionality.

<ol> <li>First</li>
 <li>Second</li>
 <li><code class="item path">Special</code></li></ol>

<h2 id="content">Content</h2>

      <figure class="code">
      <figcaption class="code">Document Sample
      <cite><a target="_blank" href="https://github.com/travetto/travetto/tree/main/module/doc/doc-exec/src/test.ts">Source</a></cite>
      </figcaption>
      <pre><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">TestFile</span> <span class="token punctuation">{{'{'}}</span>
  <span class="token keyword">static</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{{'{'}}</span> <span class="token punctuation">{{'}'}}</span>
<span class="token punctuation">{{'}'}}</span></code></pre>     
      </figure>

<h3 id="output">Output</h3>

      <figure class="terminal">
      <figcaption class="terminal">Run program
      
      </figcaption>
      <pre><code class="language-bash">$ trv

Usage:  <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>

Options:
  -V, <span class="token parameter variable">--version</span>                                              output the version number
  -h, <span class="token parameter variable">--help</span>                                                 display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span>

Commands:
  command:service <span class="token punctuation">[</span>start<span class="token operator">|</span>stop<span class="token operator">|</span>restart<span class="token operator">|</span>status<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">..</span>.services<span class="token punctuation">]</span>
  doc <span class="token punctuation">[</span>options<span class="token punctuation">]</span>
  <span class="token builtin class-name">test</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>regexes<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
  <span class="token builtin class-name">help</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>                                             display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span></code></pre>     
      </figure>
```

<!-- This file was generated by @travetto/doc and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/master/module/asset-rest/doc.ts and execute "npx trv doc" to rebuild -->
# Asset Rest Support
## Provides integration between the travetto asset and rest module.

**Install: @travetto/asset-rest**
```bash
npm install @travetto/asset-rest
```

This module provides a clean and direct mechanism for processing uploads, built upon [busboy](https://github.com/mscdex/busboy). The module also provides some best practices with respect to temporary file deletion.

Once the files are uploaded, they are exposed on [RESTful API](https://github.com/travetto/travetto/tree/master/module/rest#readme "Declarative api for RESTful APIs with support for the dependency injection module.")'s request object as `req.files`. The uploaded files are constructed as [Asset](https://github.com/travetto/travetto/tree/master/module/asset/src/types.ts#L9) instances, which allows for  integration with the [Asset](https://github.com/travetto/travetto/tree/master/module/asset#readme "Modular library for storing and retrieving binary assets") module.

A simple example:

**Code: Rest controller with upload support**
```typescript
import { Controller, Post, Get, Request } from '@travetto/rest';
import { Asset } from '@travetto/asset';
import { AssetRestUtil, Upload, UploadAll } from '@travetto/asset-rest';

@Controller('/simple')
export class Simple {

  @Get('/age')
  getAge() {
    return { age: 50 };
  }

  @Post('/age')
  getPage() {
    return { age: 20 };
  }

  /**
   * @param file A file to upload
   */
  @Post('/file')
  loadFile(@Upload() file: Asset) {
    return AssetRestUtil.downloadable(file);
  }

  /**
 * @param file A file to upload
 */
  @Post('/files')
  @UploadAll()
  loadFiles({ files }: Request) {
    for (const [, file] of Object.entries(files)) {
      return AssetRestUtil.downloadable(file); // return the first
    }
  }
}
```

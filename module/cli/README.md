<!-- This file was generated by the framweork and should not be modified directly -->
<!-- Please modify https://github.com/travetto/travetto/tree/master/module/cli/doc.ts and execute "npm run docs" to rebuild -->
# Command Line Interface
## CLI infrastructure for travetto framework

**Install: @travetto/cli**
```bash
npm install @travetto/cli
```

The cli is the primary structure for interacting with the external requirements of the framework.  This can range from running tests, to running applications, to generating email templates. The main executable can be installed globally or locally.  If installed globally and locally, it will defer to the local installation for execution.

As is the custom, modules are able to register their own cli extensions as scripts, whose name starts with `cli-`.  These scripts are then picked up at runtime and all available options are provided when viewing the help documentation.  The following are all the supported cli operations and the various settings they allow.

## General

**Terminal: General Usage**
```bash
$ trv --help

Usage:  [options] [command]

Options:
  -V, --version                          output the version number
  -h, --help                             display help for command

Commands:
  clean [options]
  compile [options]
  doc [options]
  echo [options] [args...]
  run [options] [application] [args...]
  test [options] [regexes...]
  test:lerna [options]
  help [command]                         display help for command
```

This will show all the available options/choices that are exposed given the currently installed modules.

## Extending

Extending the `cli` is fairly straightforward.  It is built upon [commander](https://www.npmjs.com/package/commander), with a plugin model that is extensible:

**Code: Echo Plugin**
```typescript
import * as commander from 'commander';
import { BasePlugin } from '../../src/plugin-base';

/**
 * `npx trv echo`
 *
 * Allows for cleaning of the cache dire
 */
export class CliEchoPlugin extends BasePlugin {
  name = 'echo';

  init(cmd: commander.Command) {
    return cmd.arguments('[args...]')
      .option('-u, --uppercase', 'Upper case', false);
  }

  async action(args: string[]) {
    if (this._cmd.uppercase) {
      args = args.map(x => x.toUpperCase());
    }
    console.log(args);
  }

  complete() {
    return { '': ['--uppercase'] };
  }
}
```

With the corresponding output:

**Terminal: Echo Plugin Help**
```bash
$ trv echo --help

Usage:  echo [options] [args...]

Options:
  -u, --uppercase  Upper case (default: false)
  -h, --help       display help for command
```

And actually using it:

**Terminal: Echo Plugin Run**
```bash
$ trv echo -u bOb rOb DRoP

[ 'BOB', 'ROB', 'DROP' ]
```


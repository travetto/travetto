<div class="documentation"><h2 id="model-mongo" id="model-mongo">Model-Mongo</h2>
<app-section-header headerType="install">Mongo Provider</app-section-header>
<pre><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> @travetto/model-mongo</code></pre><p>This module provides an <a class="external-link" href="https://mongodb.com" target="_blank" null><code class="inline">mongodb</code></a>-based implementation of <code class="inline">ModelSource</code> for the <a class="module-link" routerLink="/docs/model"  null><code class="inline">Model</code></a> module.  This source allows the <code class="inline">Model</code> module to read, write and query against <code class="inline">mongodb</code>. Given the dynamic nature of <code class="inline">mongodb</code>, during development when models are modified, nothing needs to be done to adapt to the latest schema.</p>
<p>Out of the box, by installing the module, everything should be wired up by default.  If you need to customize any aspect of the source or config, you can override and register it with the <a class="module-link" routerLink="/docs/di"  null><code class="inline">Dependency Injection</code></a> module.</p>
<app-section-header headerType="code">Wiring up Mongo Model Source</app-section-header>
<pre><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Init</span> <span class="token punctuation">{{ '{' }}</span>
  @<span class="token meta">InjectableFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function">getModelSource</span><span class="token punctuation">(</span>conf<span class="token punctuation">:</span> <span class="token type">MongoModelConfig</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token type">ModelSource</span> <span class="token punctuation">{{ '{' }}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MongoModelSource</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">{{ '}' }}</span>
<span class="token punctuation">{{ '}' }}</span></code></pre><p>where the <code class="inline">MongoModelConfig</code> is defined by:</p>
<app-section-header headerType="code">Structure of MongoModelConfig</app-section-header>
<pre><code class="language-typescript">@<span class="token meta">Config</span><span class="token punctuation">(</span><span class="token string">'mongo.model'</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MongoModelConfig</span> <span class="token punctuation">{{ '{' }}</span>
  hosts <span class="token operator">=</span> <span class="token string">'localhost'</span><span class="token punctuation">;</span>
  <span class="token keyword">namespace</span> <span class="token operator">=</span> <span class="token string">'app'</span><span class="token punctuation">;</span>
  port <span class="token operator">=</span> <span class="token number">27017</span><span class="token punctuation">;</span>
  clientOptions <span class="token operator">=</span> <span class="token punctuation">{{ '{' }}</span><span class="token punctuation">{{ '}' }}</span><span class="token punctuation">;</span> <span class="token comment">// <span class="token type">Passed</span> to <span class="token type">Client</span> constructor</span>
  connectionOptions <span class="token operator">=</span> <span class="token punctuation">{{ '{' }}</span><span class="token punctuation">{{ '}' }}</span> <span class="token comment">// <span class="token type">Passed</span> as query parameters to connection string</span>
<span class="token punctuation">{{ '}' }}</span></code></pre><p>and can be overridden via environment variables or config files, as defined in <a class="module-link" routerLink="/docs/config"  null><code class="inline">Config</code></a>.  The SSL file options in <code class="inline">clientOptions</code> will automatically be resolved to files when given a path.  This path can be a <code class="inline">ResourceManager</code> path or just a standard file path.</p>
<p><strong>NOTE</strong> During testing, the source will automatically spin up a <code class="inline">mongodb</code> server via a <code class="inline">docker</code> container if you are not already running the service.</p>
</div>